!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=371)}([function(t,e,i){function n(t){if(!t)return NaN;var e=t.split("."),i=e[0].split(":"),n=3600*Number(i[0])+60*Number(i[1])+Number(i[2]);return 2===e.length&&(n=Number(n+"."+e[1])),n}function o(t){void 0===t&&(t=0);var e=t?Math.floor(t/3600):0;t-=3600*e;var i=t?Math.floor(t/60):0;t-=60*i;var n=(t%1).toFixed(3).substr(1);return t=Math.floor(t),_.pad(e)+":"+_.pad(i)+":"+_.pad(t)+n}function r(){return window.AudioContext||window.webkitAudioContext}function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i={},n=0,o=void 0;n<t.length;n++){o=t[n];for(var r in o)O.call(o,r)&&("[object Object]"===T.call(o[r])?i[r]=a(i[r],o[r]):void 0!==o[r]&&(i[r]=o[r]))}return i}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=S.map(t,function(t){var e={};for(var i in t)null!==t[i]&&(e[i]=t[i]);return e});return a.apply(null,i)}function c(t,e,i){var n=!1;return e=e||250,i=i||this,function(){n||(t.apply(i,arguments),window.setTimeout(function(){n=!1},e),n=!0)}}function u(t){var e=document.createElement("a");return e.href=t,window.swInstalled&&/(teads|ebu?z)/.test(e.hostname)?"/"+btoa(t).replace(/=/g,"_"):t}function d(){return location&&location.protocol&&0===location.protocol.indexOf("http:")?location.protocol:"https:"}function l(t){if(!t)return"";var e=t.split("/")[1]||t;switch(e){case"javascript":case"x-javascript":e="js";break;case"x-shockwave-flash":e="swf";break;case"mpeg":e="mpg";break;case"x-flv":e="flv"}return e}function p(t,e){var i=!1;if(!e)return!1;for(var n in t)if(O.call(t,n)){if(void 0===typeof e[n])return!1;i=!0}return i}function h(t){return function(e){var i=!0;for(var n in t)if(t.hasOwnProperty(n)&&(y(e[n])||!t[n](e[n]))){i=!1;break}return i}}function f(t){return"boolean"==typeof t}function g(t){return"number"==typeof t&&!isNaN(t)}function m(t){return"[object Array]"===T.call(t)}function v(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){var e=typeof t;return!!t&&"object"===e}function A(t){var e=typeof t;return!!t&&"function"===e&&"[object Function]"===T.call(t)}function E(){return!!(window.teads&&window.teads.api&&window.teads.api.getStudioData&&b(window.teads.api.getStudioData()))}function w(t){return!!t.match(/px$/)&&g(parseFloat(t))}function C(t){var e=typeof t;return"function"===e?k.test(I.call(t)):!(!t||"object"!==e||!P.test(T.call(t)))}Object.defineProperty(e,"__esModule",{value:!0}),e.seconds=n,e.offset=o,e.getAudioContext=r,e.extend=a,e.extendWithoutNull=s,e.throttle=c,e.safeUrl=u,e.getProtocol=d,e.getExtensionFromMimeType=l,e.containsKeys=p,e.matchesCheckers=h,e.isBoolean=f,e.isNumber=g,e.isArray=m,e.isString=v,e.isUndefined=y,e.isObject=b,e.isFunction=A,e.isStudioCreative=E,e.isSizeInPx=w,e.isNative=C;var _=i(8),S=i(3),T=Object.prototype.toString,I=Function.prototype.toString,O=Object.prototype.hasOwnProperty,P=/^\[object .+?Constructor\]$/,k=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$")},function(t,e,i){function n(){Object(s.get)("teadsDebugLevel").toOption().map(function(t){return t.split(",")}).forEach(function(t){p=Object(a.indexOf)(t,"all")>=0?["debug","info","warn","error"]:t}),Object(s.get)("teadsDebugNamespace").toOption().forEach(function(t){h=t.split(","),f="all"===String(t).toLocaleLowerCase()}),p.length&&!window.teads.Logger&&(u?(l.log("Teads Media Framework > Debug mode"),l.log("Package: web-formats v2.19.0 %>")):(l.log("%cTeads Media Framework %c> Debug mode","color:#7ebde5;font-family:Helvetica,sans-serif;font-size:2em;","color:#aaa;font-family:Helvetica,sans-serif;font-size:2em;"),l.log("%cPackage: web-formats v2.19.0', 'color:#7ebde5;font-style:italic;"))),window.teads.HAS_DEBUG_LOGS=!!p.length}e.b=n,i.d(e,"a",function(){return m});var o=(i(20),i(33)),r=(i.n(o),i(10)),a=i(3),s=i(25),c=i(9),u=!1;try{var d=navigator.userAgent;u=/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i.test(d)||/(?:ms|\()(ie)\s([\w\.]+)/i.test(d)||/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i.test(d)}catch(t){}var l,p=[],h=[],f=!1,g=function(){function t(){}return t.prototype.log=function(){},t}();l=window.console&&console.log?window.console:new g;var m=function(){function t(t){this.namespace=t,this.console=l}return t.clear=function(){t.logs=[],window.teads.FULL_LOGS=[]},t.getFullLogs=function(){return window.teads.FULL_LOGS},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("debug",t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("info",t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("warn",t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("error",t)},t.prototype.table=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.table&&l.table(t,e.length>0?e:null)},t.prototype._log=function(e,i){var n=this;if(i.length){for(var o=Object(r.now)()-window.teads.START_TIME,s=(o/1e3).toFixed(3)+"s",d="",g=0;g<i.length;g++)if(g>0&&(d+=" + "),"object"==typeof i[g])try{d+=c.stringify(i[g])}catch(t){d+=i[g]}else d+=i[g];if(window.teads.FULL_LOGS.push({level:e,message:s+" ["+this.namespace+"] "+d}),!(Object(a.indexOf)(p,e)<0)){if(!f&&h.length){if(!Object(a.some)(h,function(t){return 0===n.namespace.indexOf(t)}))return}t.logs.push({level:e,message:s+" ["+this.namespace+"] "+i.join(" ")}),u?i=["Teads "+s+" ["+this.namespace+"] "+i.join(" ")]:i.unshift("Teads %c"+s+" "+this.namespace,"color:#7ebde5;");var m=l[e]||l.log;try{m.apply(l,i)}catch(t){Function.prototype.apply.apply(m,[l,i])}}}},t.logs=[],t}()},function(t,e,i){function n(){return[h()&&!p()?"mob":p()?"tab":"desk",y()?"android":b()?"ios":w()?"ie":C()?"ch":S()?"ff":"ot"].join(" ")}function o(){return R()?[tt().model,et().name,et().version,Gt,zt,rt()].join("|"):[tt().type,et().name,et().version,it().name,it().version.split(".")[0],rt()].join("|")}function r(t){void 0===t&&(t=!0),window.teads.CONTEXT_IS_INITIALIZED||(t&&ut(),dt(),Pt=new Bt(Ft.mapper.rgx.apply(this,Ft.regexes.os)),kt=new jt(Ft.mapper.rgx.apply(this,Ft.regexes.browser)),Ot=new Wt(Ft.mapper.rgx.apply(this,Ft.regexes.device)),lt(),ht(),ft(),pt(),gt(),mt(),vt(),yt(),bt(),At(),Et(),wt(),_t(),window.teads.CONTEXT_IS_INITIALIZED=!0)}function a(t){Ot.model=t}function s(t){zt=t}function c(t){Gt=t}function u(t){Kt.isSDK=t}function d(){return Kt.isDesktop}function l(){return Kt.isIpad}function p(){return Kt.isTablet}function h(){return Kt.isMobile}function f(){return Kt.isChromeIos}function g(){return Kt.isFacebookWebview}function m(){return Kt.isAndroidNative}function v(){return Kt.isSamsungBrowser}function y(){return Kt.isAndroid}function b(){return Kt.isIos}function A(){return Kt.isIphone}function E(){return Kt.isAndroidMobile}function w(){return Kt.isIE}function C(){return Kt.isChrome}function _(){return Kt.isChromeWebView}function S(){return Kt.isFirefox}function T(){return Kt.isEdge}function I(){return Kt.amp}function O(){return Kt.ampSF}function P(){return Kt.fbia}function k(){return Kt.isAmpObserveIntersection}function x(){return Kt.iabsf}function L(){return Kt.isEdgeTouchScreen}function R(){return Kt.isSDK}function D(){return Kt.ieVersion}function N(){return Kt.androidVersion}function V(){return Kt.chromeVersion}function M(){return Kt.iOsVersion}function F(){return Kt.FacebookWebviewVersion}function U(){return Kt.safariVersion}function j(){return Kt.isUIWebview}function B(){return Kt.isSafari}function W(){return Mt.isGreaterOrEqual(U(),"11")}function H(){return Mt.isGreaterOrEqual(V(),"66")}function G(){return Kt.isGoogleSearchApp}function z(){return Kt.isIos10Safari}function K(){return Kt.isIos10OtherBrowser}function Y(t){return void 0===t&&(t=null),z()&&!Yt.test(t)}function q(){return Mt.isGreaterOrEqual(F(),"87")&&Mt.isGreaterOrEqual(M(),"10.2")}function X(){return Kt.isCanvasUsed}function Z(t){return!!t.createElement("video").canPlayType}function J(){return It}function Q(){return Tt}function $(t){Tt=t}function tt(){return Ot}function et(){return Pt}function it(){return kt}function nt(){return null===Xt&&Vt.now()-xt>100&&St(!0),Xt}function ot(t){return Ct(t?"53":"56")&&!nt()}function rt(){var t;return t=R()?"sdk":I()?"amp":O()?"ampsf":P()?"fia":x()?"sf":g()?"fbwv":_()||j()?"wv":"web",X()?t+"-canvas":t}function at(){return R()?"sdk-inapp":"js-"+rt()}function st(){return Nt.c.of(function(){return window.navigator.connection.downlink}).toOption()}function ct(t){Kt.isCanvasUsed=t}function ut(){try{Tt=navigator.userAgent}catch(t){Ht.error("Could not get `navigator.userAgent`",t),Tt=""}}function dt(){try{It=window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||"en"}catch(t){Ht.error("Could not get navigator language",t),It="en"}}function lt(){try{Kt.amp=!!window._teads_amp}catch(t){Ht.error("Could not check if `!!window._teads_amp`",t),Kt.amp=!1}}function pt(){try{Kt.ampSF=x()&&!!window.AMP_CONTEXT_DATA}catch(t){Ht.error("Could not check if `!!window.AMP_CONTEXT_DATA`",t),Kt.ampSF=!1}}function ht(){try{Kt.fbia=!!window._teads_fbia}catch(t){Ht.error("Could not check if `!!window._teads_fbia`",t),Kt.fbia=!1}}function ft(){try{Kt.iabsf=!!window.$sf&&!!window.$sf.ext}catch(t){Ht.error("Could not check if `!!window.$sf.ext`",t),Kt.iabsf=!1}}function gt(){try{Kt.edgeTouchScreen=navigator.maxTouchPoints&&navigator.maxTouchPoints>0}catch(t){Ht.error("Could not check if `navigator.maxTouchPoints > 0`",t),Kt.edgeTouchScreen=!1}}function mt(){try{Kt.uiWebview=window.navigator.standalone}catch(t){Ht.error("Could not check navigator.standalone",t),Kt.uiWebview=!1}}function vt(){try{Kt.observeIntersection=!(!window.context||!window.context.observeIntersection)}catch(t){Ht.error("Could not check if `!!window.context.observeIntersection`",t),Kt.observeIntersection=!1}}function yt(){Kt.isIE="IE"===kt.name||/MSIE|Trident/.test(Tt),Kt.isFirefox="Firefox"===kt.name||/Firefox/i.test(Tt),Kt.isEdge="Edge"===kt.name||/Edge/i.test(Tt),Kt.isGoogleSearchApp=/GSA\//i.test(Tt),Kt.isSafari=("Safari"===kt.name||"Mobile Safari"===kt.name)&&!G(),Kt.isChromeWebView="Chrome WebView"===kt.name,Kt.isChrome="Chrome"===kt.name||_(),Kt.isEdgeTouchScreen=T()&&Kt.edgeTouchScreen,Kt.isChromeIos=/CriOS/i.test(Tt),Kt.isAndroidNative="Android Browser"===kt.name,Kt.isFacebookWebview="Facebook"===kt.name||/FBAN|FBIOS|FBAV|FBBV|FBDV|FBMD|FBSN|FBSV|FBSS|FBCR|FBID|FBLC|FBOP/i.test(Tt),Kt.isSamsungBrowser=/SamsungBrowser/i.test(Tt)}function bt(){Kt.isIpad="iPad"===Ot.model||/iPad/i.test(Tt),Kt.isIphone="iPhone"===Ot.model||/iPhone/i.test(Tt),Kt.isIos="iOS"===Pt.name||l()||A(),Kt.isAndroid="Android"===Pt.name||/Android/i.test(Tt)}function At(){var t=/(m|M)obile/.test(Tt);Kt.isTablet="tablet"===Ot.type||l()||y()&&!t,Kt.isMobile="mobile"===Ot.type||b()&&!l()||y()&&t,Kt.isDesktop=!h()&&!p()}function Et(){Kt.ieVersion=w()?kt.version:null,Kt.iOsVersion=b()?Pt.version:null,Kt.androidVersion=y()?Pt.version:null,Kt.chromeVersion=C()?kt.version:null,Kt.FacebookWebviewVersion=g()?kt.version:null,Kt.safariVersion=B()?kt.version:null}function wt(){Kt.isAndroidMobile=y()&&h(),Kt.isAmpObserveIntersection=Kt.amp&&Kt.observeIntersection,Kt.isUIWebview=(A()||l())&&!B()&&!C()&&!Kt.uiWebview,Kt.isIos10Safari=Mt.isGreaterOrEqual(M(),"10")&&!j()&&!f(),Kt.isIos10OtherBrowser=Mt.isGreaterOrEqual(M(),"10")&&Mt.isLowerThan(M(),"11")&&j()&&f()}function Ct(t){return void 0===t&&(t="53"),y()&&(v()||Mt.isGreaterOrEqual(V(),t))||Mt.isGreaterOrEqual(M(),"10")}function _t(){null===Xt&&(Ct()?Lt||xt||(Lt=document.createElement("video"),Lt.src=qt,Lt.style.display="none",Lt.setAttribute("webkit-playsinline","true"),Lt.setAttribute("playsinline","true"),Lt.muted=!0,document.body.appendChild(Lt),xt=Vt.now(),Vt.mark("markAutoplayStartTime"),Nt.c.of(function(){return Lt.play().then(function(){return St(!0)}).catch(function(t){St(!1),Ht.error("Could not play autoplayHtmlVideoElement",t)})}).recover(function(t){Ht.error("Could not play autoplayHtmlVideoElement",t),St(!1)})):Xt=!1)}function St(t){null===Xt&&(Vt.mark("markAutoplayEndTime"),Xt=t),null!==Lt&&(Lt.pause(),document.body.removeChild(Lt),Lt=null)}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"UABrowser",function(){return jt}),i.d(e,"UAOs",function(){return Bt}),i.d(e,"UADevice",function(){return Wt}),e.getContextSummary=n,e.getFullContext=o,e.init=r,e.setDeviceModel=a,e.setSDKVersion=s,e.setAppId=c,e.setIsSDK=u,e.isDesktop=d,e.isIpad=l,e.isTablet=p,e.isMobile=h,e.isChromeIos=f,e.isFacebookWebview=g,e.isAndroidNative=m,e.isSamsungBrowser=v,e.isAndroid=y,e.isIos=b,e.isIphone=A,e.isAndroidMobile=E,e.isIE=w,e.isChrome=C,e.isChromeWebView=_,e.isFirefox=S,e.isEdge=T,e.isAmp=I,e.isAmpSF=O,e.isFacebookIA=P,e.isAmpObserveIntersection=k,e.isIABSafeFrame=x,e.isEdgeTouchScreen=L,e.isSDK=R,e.getIEVersion=D,e.getAndroidVersion=N,e.getChromeVersion=V,e.getIosVersion=M,e.getFacebookWebviewVersion=F,e.getSafariVersion=U,e.isUIWebview=j,e.isSafari=B,e.isSafari11Plus=W,e.isChrome66Plus=H,e.isGoogleSearchApp=G,e.isIos10Safari=z,e.isIos10OtherBrowser=K,e.isWhiteListedIos10Safari=Y,e.isFacebookWebviewIOS10=q,e.isCanvasUsed=X,e.videoSupport=Z,e.getLanguage=J,e.getUA=Q,e.setUA=$,e.getDevice=tt,e.getOS=et,e.getBrowser=it,e.canAutoplay=nt,e.isCanvasNeeded=ot,e.getShortContext=rt,e.getEnv=at,e.getNetworkBandwidthInMbps=st,e.cacheCanvasUsed=ct,e.checkUserAgent=ut;var Tt,It,Ot,Pt,kt,xt,Lt,Rt=(i(20),i(1)),Dt=i(0),Nt=i(12),Vt=i(17),Mt=i(19),Ft=i(34),Ut=i(8),jt=function(){function t(t){this.name=t.name||"",this.version=t.version||""}return t.prototype.toString=function(){return Ut.separate("|",this.name,this.version).toLowerCase()},t}(),Bt=function(){function t(t){this.name=t.name||"",this.version=t.version||""}return t.prototype.toString=function(){return Ut.separate("|",this.name,this.version).toLowerCase()},t}(),Wt=function(){function t(e){this.model=e.model||"",this.type=e.type||(t.typeRegExp.test(et().name)?Ft.DESKTOP:""),this.vendor=e.vendor||""}return t.prototype.toString=function(){return Ut.separate("|",this.model,this.type,this.vendor).toLowerCase()},t.typeRegExp=/^windows|mac\s+os|linux|bsd|dragonfly|chromium\s+os|haiku|ubuntu|slackware|gentoo|solaris|debian|fedora|arch|beos|mint|gnu|os|suse\/2$/i,t}(),Ht=new Rt.a("Context"),Gt="",zt="",Kt={},Yt=/^(23027|24539|25695|25696|25697|25698|25699|25700|25701|25702|25703|25704|25705|25706|25707|25708|25709|25710|25711|26170|26231|26561|26566|26567|26568|26569|26570|26572|27446|28204|28206|28207|28210|28211|28212|28541|28827|28831|31814|33366|33704|33705|33706|33707|33708|34907|43985|49718|52375|53276|53824|53837|53838|53840|53842|55491|57698|57699|57702|60178|60578|61059|61123|69299)$/,qt=Object(Dt.getProtocol)()+"//cdn.teads.tv/media/format/v3/assets/default/autoplay.mp4",Xt=null},function(t,e,i){function n(t,e,i){if(null===t)throw new TypeError("array is null or undefined");for(var n,o=Object(t),r=o.length>>>0,a=0;a<r;a++)if(n=o[a],e.call(i,n,a,o))return n}function o(t,e,i){if(null===t)throw new TypeError("array is null or undefined");for(var n,o=Object(t),r=o.length>>>0,a=0;a<r;)a in o&&(n=o[a],e.call(i,n,a,o)),a++}function r(t,e,i){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var n=Object(t),o=n.length>>>0;if(o>n.length)throw new TypeError("negative length");for(var r=[],a=0;a<o;a++)if(a in n){var s=n[a];e.call(i,s,a,n)&&r.push(s)}return r}function a(t,e,i){if(null===t)throw new TypeError("array is null or undefined");var n=Object(t),o=n.length>>>0;if(o>n.length)throw new TypeError("negative length");for(var r=0;r<o;r++)if(r in n&&e.call(i,n[r],r,n))return!0;return!1}function s(t,e,i){if(null===t)throw new TypeError("array is null or undefined");var n=Object(t),o=n.length>>>0;if(0===o)return-1;var r=+i||0;if(Math.abs(r)===1/0&&(r=0),r>=o)return-1;var a=Math.max(r>=0?r:o-Math.abs(r),0);try{for(;a<o;){if(a in n&&n[a]===e)return a;a++}}catch(t){}return-1}function c(t,e){return s(t,e)>-1}function u(t){return d(t)}function d(t){return Array.prototype.slice.call(t)}function l(t,e,i){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var n,o,r=Object(t),a=r.length>>>0,s=new Array(a),c=0;c<a;)c in r&&(n=r[c],o=e.call(i,n,c,r),s[c]=o),c++;return s}function p(t){if(null===t)throw new TypeError("array is null or undefined");for(var e=[],i=0,n=t;i<n.length;i++){var o=n[i];c(e,o)||e.push(o)}return e}function h(t,e,i){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var n=t.length>>>0;if(0===n&&void 0===i)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(void 0!==i)o=i;else for(;;){if(r in t){o=t[r++];break}if(++r>=n)throw new TypeError("reduce of empty array with no initial value")}for(;r<n;r++)r in t&&(o=e(o,t[r],r,t));return o}function f(t){return!t.length}function g(t){return!f(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.find=n,e.forEach=o,e.filter=r,e.some=a,e.indexOf=s,e.includes=c,e.fromNodeList=u,e.fromArrayLike=d,e.map=l,e.unique=p,e.reduce=h,e.isEmpty=f,e.isNotEmpty=g},function(t,e,i){function n(t){return new r(t)}i.d(e,"b",function(){return r}),e.c=n,i.d(e,"a",function(){return a});var o=i(3),r=function(){function t(t){this.value=t,this._isEmpty=null===t||void 0===t}return t.of=function(t){return null===t||void 0===t?a:n(t)},t.ofNested=function(t,e){return this.of(Object(o.reduce)(e.split("."),function(t,e){return null===t||void 0===t?t:t[e]},t))},t.empty=function(){return a},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.nonEmpty=function(){return!this._isEmpty},t.prototype.getOrElse=function(t){return this._isEmpty?t():this.value},t.prototype.orElse=function(t){return this._isEmpty?t():this},t.prototype.orNull=function(){return this._isEmpty?null:this.value},t.prototype.map=function(e){return this._isEmpty?a:t.of(e(this.value))},t.prototype.flatMap=function(t){return this._isEmpty?a:t(this.value)||a},t.prototype.filter=function(e){return this._isEmpty||!e(this.value)?a:t.of(this.value)},t.prototype.existsIf=function(t){return!this._isEmpty&&t(this.value)},t.prototype.forEach=function(t){this._isEmpty||t(this.value)},t.prototype.match=function(t){return this._isEmpty?t.none():t.some(this.value)},t}(),a=new r(null)},function(t,e,i){var n=function(){function t(t,e){void 0===e&&(e=null),this.type=t,this.data=e}return t.AdLoaded="AdLoaded",t.AdStarted="AdStarted",t.AdStopped="AdStopped",t.AdSkipped="AdSkipped",t.AdLinearChange="AdLinearChange",t.AdSizeChange="AdSizeChange",t.AdExpandedChange="AdExpandedChange",t.AdSkippableStateChange="AdSkippableStateChange",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdDurationChange="AdDurationChange",t.AdVolumeChange="AdVolumeChange",t.AdImpression="AdImpression",t.AdVideoStart="AdVideoStart",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdVideoComplete="AdVideoComplete",t.AdClickThru="AdClickThru",t.AdInteraction="AdInteraction",t.AdUserAcceptInvitation="AdUserAcceptInvitation",t.AdUserMinimize="AdUserMinimize",t.AdUserClose="AdUserClose",t.AdPaused="AdPaused",t.AdPlaying="AdPlaying",t.AdLog="AdLog",t.AdError="AdError",t}();e.a=n},function(t,e,i){function n(){var t=document.createElement("iframe");return t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("width","0","important"),t.style.setProperty("height","0","important"),t.style.setProperty("border","0","important"),t.style.setProperty("overflow","hidden","important"),t.style.setProperty("float","none","important"),t.setAttribute("scrolling","no"),t.frameBorder="0",t}function o(t){return t||(t=document),!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}function r(t){if(!t||Object(R.isNodeList)(t))return null;var e=a(t);return e?e.defaultView||e.parentWindow:null}function a(t){return!t||Object(R.isNodeList)(t)?null:t.ownerDocument}function s(t){o()?u(t):c(t)}function c(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function u(t){var e=a(t);e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}function d(t,e){e=N.trim(e),p(t,e)||t.classList.add(e)}function l(t,e){e=N.trim(e),p(t,e)&&t.classList.remove(e)}function p(t,e){return t.classList.contains(N.trim(e))}function h(t,e){t.classList.toggle(N.trim(e))}function f(t,e,i){e=N.trim(e),i=N.trim(i),!p(t,i)&&p(t,e)&&(V.isFunction(t.classList.replace)?t.classList.replace(e,i):(l(t,e),d(t,i)))}function g(t){return m(t).pop()!==window.top}function m(t,e){void 0===e&&(e=!0);var i=[];if(Object(R.isHTMLElement)(t)){var n;n=function(t){if(t.parent!==t&&t.parent.location&&t.parent.window){if(e){t.parent.document}i.push(t.parent),n(t.parent)}};var o=r(t);i.push(o);try{n(o)}catch(t){}}return i}function v(t,e){void 0===e&&(e=!1);var i=[];if(Object(R.isHTMLElement)(t))for(var n=t.getElementsByTagName("iframe"),o=0;o<n.length;o++)try{n[o].contentWindow&&n[o].contentWindow.document&&n[o].contentWindow.document.body&&(i.push(n[o].contentWindow),e&&D.forEach(v(n[o].contentWindow.document.body,!0),function(t){i.concat(t.contentWindow)}))}catch(t){}return i}function y(t){return m(t).concat(v(t))}function b(t){var e=r(t);try{if(e.parent!==e&&void 0!==e.parent.Window&&e.parent instanceof e.parent.Window){var i=e.parent.document.getElementsByTagName("iframe");if(i)for(var n=0;n<i.length;n++)if(i[n].contentWindow===e)return b(i[n])}}catch(t){}return t}function A(t){var e=r(t);try{if(e.parent!==e&&void 0!==e.parent.Window&&e.parent instanceof e.parent.Window){var i=e.parent.document.getElementsByTagName("iframe");if(i)for(var n=0;n<i.length;n++)if(i[n].contentWindow===e&&!E(i[n]))return i[n]}}catch(t){}return t}function E(t){return"context"===t.id&&"http://localhost:5555/context.html"===t.src&&"100%"===t.width&&"100%"===t.height}function w(t){var e=[];if(Object(R.isHTMLElement)(t))for(var i=a(t),n=t,o=n.tagName&&n.tagName.toUpperCase&&"HTML"===n.tagName.toUpperCase();!o&&n!==i.body&&Object(R.isHTMLElement)(n);)(n=n.parentElement)&&e.push(n);return e}function C(t,e,i,n,o){void 0===o&&(o=_),n||(n=t.offsetHeight);var r=o(t,e,n);return(!M.isAmp()&&!M.isIABSafeFrame()||0!==r)&&r>=i}function _(t,e,i,n,o){if(void 0===i&&(i=t.offsetHeight),void 0===n&&(n=!1),void 0===o&&(o=!M.isAndroid()),M.isAmp())return e._teads_amp.change?e._teads_amp.change.intersectionRect.height/e._teads_amp.change.boundingClientRect.height:0;if(M.isIABSafeFrame()){var r=e.$sf.ext.geom();return r&&r.self?r.self.yiv:0}var a=Object(R.getWindowSize)(e),s=Object(R.getBoundingClientRect)(t),c=o?T(e,S(e),a.height):0,u=s.top-c,d=u>0?a.height-s.top:u+i,l=d/i;return n||(l=l>0?l:0,l=l<1?l:1),l}function S(t,e){void 0===t&&(t=window),void 0===e&&(e=[]);for(var i,n,o=[],r=Object(R.getWindowSize)(t),a=r.width/2,s=r.height*F,c=s*F,u=1;u<s;u+=c)i=t.document.elementFromPoint(a,u),n!==i&&(n=i,"fixed"!==t.getComputedStyle(i).position||D.includes(e,i)||i.className.match(/teads/)||o.push(i),D.forEach(w(i),function(i){"fixed"!==t.getComputedStyle(i).position||D.includes(e,i)||i.className.match(/teads/)||o.push(i)}));return D.unique(o)}function T(t,e,i){var n=0;D.forEach(e,function(t){return n=Math.max(n,Object(R.getBoundingClientRect)(t).bottom)});var o=Object(R.getScrollTop)(t),r=o>0?n:o+n;return Math.max(0,Math.min(i,r))}function I(t){var e=!0;Object(R.isHTMLElement)(t)||(e=!1);var i=r(t)||window,n=i.getComputedStyle(t);if(e&&"none"===n.display&&(e=!1),e){var o=Object(R.getBoundingClientRect)(t),a="hidden"===n.overflowX||"hidden"===n.overflowY;o.height<4&&o.width<4&&a&&(e=!1)}var s=L(t);return e&&s&&(e=I(s)),e}function O(t){var e=r(t).document.styleSheets,i=[];if(t.matches=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector,V.isFunction(t.matches))for(var n in e){var o=e[n],a=o.rules||o.cssRules;for(var s in a){var c=a[s];t.matches(c.selectorText)&&i.push(c)}}return i}function P(t,e,i){var n=O(t);D.forEach(n,function(t){D.forEach(i,function(i){var n=t.style.getPropertyValue(i);!n||e.style[i]||e.getAttribute(i)||(e.style[i]=n)})})}function k(t){D.forEach(U,function(e){t.style.removeProperty(e+"transition")})}function x(t,e,i){void 0===i&&(i="linear"),D.forEach(U,function(n){t.style.setProperty(n+"transition",e+"s "+i,"important")})}function L(t){var e=null;return Object(R.isHTMLElement)(t)&&(e=t.parentElement),e}Object.defineProperty(e,"__esModule",{value:!0}),e.createIframe=n,e.isFullscreen=o,e.getWindow=r,e.getDocument=a,e.toggleFullscreen=s,e.openFullscreen=c,e.closeFullscreen=u,e.addClass=d,e.removeClass=l,e.hasClass=p,e.toggleClass=h,e.replaceClass=f,e.isInCrossDomainIframe=g,e.findParentWindows=m,e.findChildWindows=v,e.findAllWindows=y,e.findParentFrameNode=b,e.findFirstParentFrameNode=A,e.isKarmaFrame=E,e.findParentElements=w,e.isInView=C,e.getPercentageInView=_,e.findFloatingHeaders=S,e.getTop=T,e.getRealVisibilityState=I,e.getCSSRules=O,e.copyCSSRules=P,e.removeTransitionProperties=k,e.addTransitionProperties=x;var R=i(7),D=i(3),N=i(8),V=i(0),M=i(2),F=M.isDesktop()?.1:.15,U=["","-webkit-","-moz-","-o-","-ms-"]},function(t,e,i){function n(t){try{var e=t.getBoundingClientRect(),i=o(e);if(!L.isAmp()&&!L.isIABSafeFrame()&&!L.isFacebookIA()&&Object(x.getWindow)(t)!==window.top){var r=Object(x.findFirstParentFrameNode)(t);if(r!==t){var a=n(r);a.top&&(i.top=a.top+e.top,i.bottom=a.top+e.bottom),a.left&&(i.left=a.left+e.left,i.right=a.left+e.right)}}return i}catch(t){return{left:0,top:0,right:0,bottom:0,width:0,height:0}}}function o(t){return{top:t.top||0,right:t.right||0,bottom:t.bottom||0,left:t.left||0,width:t.width||0,height:t.height||0}}function r(t){var e=t.offsetWidth,i=t.offsetHeight,o=L.getUA().indexOf("WebKit")>-1&&!e&&!i;if((!e||o)&&t.getBoundingClientRect){var r=n(t);return{width:r.right-r.left,height:r.bottom-r.top}}return{width:e,height:i}}function a(t,e){if(k.indexOf(M,t.nodeName)>=0);else if(t.nodeType===F.TEXT)e.push(t.nodeValue);else if(t.nodeName in V)e.push(V[t.nodeName]);else for(var i=t.firstChild;i;)a(i,e),i=i.nextSibling}function s(t,e){if(void 0===e&&(e=window),t){var i=t.tagName.toLowerCase(),n=["iframe","object","img"];return!(k.includes(n,i)||c(n.join(","),e,t).length>0||""!==t.textContent.trim())}}function c(t,e,i){return void 0===i&&(i=null),i=i||e.document,i.querySelectorAll(t)}function u(t,e){var i=t[0];if(i){var n=i.querySelector(e);return P.b.of(n).orElse(function(){return u(t.slice(1),e)})}return P.b.empty()}function d(t,e){return P.b.of(t.getAttribute(e)).filter(function(t){return""!==t})}function l(t,e){return d(t,e).map(function(i){return t.removeAttribute(e),i})}function p(t){if(void 0===t&&(t=window),L.isIABSafeFrame()){var e=window.$sf.ext.geom();return{width:e.win.w,height:e.win.h}}return"number"==typeof t.innerWidth?{width:t.innerWidth,height:t.innerHeight}:t.document.documentElement&&(t.document.documentElement.clientWidth||t.document.documentElement.clientHeight)?{width:t.document.documentElement.clientWidth,height:t.document.documentElement.clientHeight}:t.document.body&&(t.document.body.clientWidth||t.document.body.clientHeight)?{width:t.document.body.clientWidth,height:t.document.body.clientHeight}:{width:1e3,height:600}}function h(t,e){void 0===e&&(e=window),(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(t)}function f(t,e,i){e.addEventListener?e.addEventListener(t,i,!0):e.attachEvent?e.attachEvent("on"+t,i):U.warn("Trying to addEventListener on bad object",e)}function g(t,e,i){try{e.removeEventListener?e.removeEventListener(t,i,!0):e.attachEvent?e.detachEvent("on"+t,i):U.warn("Trying to removeEventListener on bad object",e)}catch(t){}}function m(t,e){void 0===e&&(e=window),!e.document||"complete"!==e.document.readyState&&"interactive"!==e.document.readyState?e.addEventListener?e.addEventListener("DOMContentLoaded",t,!1):e.attachEvent&&e===e.top?1===N.push(t)&&O(e):e.attachEvent&&e.attachEvent("onload",t):"interactive"===e.document.readyState&&e.document.attachEvent?e.document.attachEvent("onreadystatechange",function(){"complete"===e.document.readyState&&t()}):t()}function v(t,e,i){void 0===e&&(e=window),void 0===i&&(i=this),"complete"===e.document.readyState?t.call(i):f("load",e,function(){t.call(i)})}function y(t){return t.pageXOffset?t.pageXOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollLeft:t.document.body.scrollLeft}function b(t){return t.pageYOffset?t.pageYOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollTop:t.document.body.scrollTop}function A(t,e,i){if(void 0===i&&(i=window),e=e||i.document,e.getElementsByClassName)return e.getElementsByClassName(t);for(var n=t.split(" "),o="",r=0,a=n.length;r<a;r++)o+="."+n[r];return c(o,i,e)}function E(t,e){return!(!t||"object"!=typeof t||w(t))&&(e||(e=Object(x.getWindow)(t)||window),"object"==typeof e.HTMLElement?t instanceof e.HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName)}function w(t){return!(!t||"object"!=typeof t)&&("[object NodeList]"===String(t)||"[object StaticNodeList]"===String(t))}function C(t){if(E(t))return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(t.nodeName)}function _(t){var e=!1;for(var i in t)if(!(e=i.match(/mobile|tablet|desktop|large/)&&Object(R.isString)(t[i])||w(t[i])||E(t[i])))break;return e}function S(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}function T(t){var e=document.createElement("textarea");return e.innerText=t,e.innerHTML}function I(t){var e;return E(t)&&(e=S(t.outerHTML)),e}function O(t){try{t.document.documentElement.doScroll("left");for(var e=void 0;e=N.shift();)e()}catch(e){setTimeout(O,50,t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundingClientRect=n,e.copyBoundingClientRect=o,e.getSize=r,e.getTextContent=a,e.isEmpty=s,e.querySelectorAll=c,e.findMatchingElement=u,e.getAttributeValue=d,e.getAndRemoveAttributeValue=l,e.getWindowSize=p,e.inject=h,e.addEventListener=f,e.removeEventListener=g,e.onDomReady=m,e.onDomComplete=v,e.getScrollLeft=y,e.getScrollTop=b,e.getElementsByClassName=A,e.isHTMLElement=E,e.isNodeList=w,e.isSelfClosingTag=C,e.isISlotSelector=_,e.htmlDecode=S,e.htmlEncode=T,e.getOuterHTML=I;var P=i(4),k=i(3),x=i(6),L=i(2),R=i(0),D=i(1),N=[],V={IMG:" ",BR:"\n"},M=["SCRIPT","STYLE","HEAD","IFRAME","OBJECT"],F={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},U=new D.a("Dom")},function(t,e,i){function n(t){var e=/^\(?((?:(http|https|ftp):\/\/)|\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#]*))?([\#][^\s\n]*)?\)?$/i;return"string"==typeof t&&e.test(t)}function o(t,e){void 0===e&&(e="00");var i=String(t);return e.substring(0,e.length-i.length)+i}function r(t){return t.charAt(0).toUpperCase()+t.substr(1)}function a(t,e){void 0===e&&(e=!0);for(var i=e?"0123456789":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",o=0;o<t;o++)n+=i.charAt(Math.floor(Math.random()*i.length));return n}function s(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function c(t){void 0===t&&(t="|");for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=!0,o=0;n&&o<e.length;)n=n&&!e[o],o++;return n?"":e.join(t)}function u(t,e){return t.slice(-e.length)===e}function d(t,e){return t.match(e)||[]}function l(t,e){return function(i){return p.reduce(t,function(t,i){return t.replace(i,""+e)},i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.isURL=n,e.pad=o,e.ucfirst=r,e.rand=a,e.trim=s,e.separate=c,e.endsWith=u,e.match=d,e.replaceStringsWithValue=l;var p=i(3)},function(module,__webpack_exports__,__webpack_require__){function stringify(t,e){void 0===e&&(e=!1);var i=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=jsonStringify(e?decycle(t):t);return i&&(Array.prototype.toJSON=i),n}function parse(sJSON){return window.JSON.parse?window.JSON.parse(sJSON):eval("("+sJSON+")")}function decycle(t,e){var i=[],n=[];return function t(o,r){var a,s;return void 0!==e&&(o=e(o)),"object"!=typeof o||null===o||o instanceof Boolean||o instanceof Date||o instanceof Number||o instanceof RegExp||o instanceof String?o:(a=i.indexOf(o))>=0?{$ref:n[a]}:(i.push(o),n.push(r),Array.isArray(o)?(s=[],o.forEach(function(e,i){s[i]=t(e,r+"["+i+"]")})):(s={},Object.keys(o).forEach(function(e){s[e]=t(o[e],r+"["+JSON.stringify(e)+"]")})),s)}(t,"$")}function jsonStringify(t){return window.JSON.stringify?window.JSON.stringify(t):polyfillStringify(t)}function polyfillStringify(t){if(null===t)return"null";if("number"==typeof t)return isFinite(Number(t))?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if("function"==typeof t.toJSON)return polyfillStringify(t.toJSON());if(Array.isArray(t)){for(var e="[",i=0;i<t.length;i++)e+=(i?", ":"")+polyfillStringify(t[i]);return e+"]"}if("[object Object]"===Object.prototype.toString.call(t)){var n=[];for(var o in t)t.hasOwnProperty(o)&&n.push(polyfillStringify(o)+": "+polyfillStringify(t[o]));return"{"+n.join(", ")+"}"}}return'"'+t.toString().replace(escRE,escFunc)+'"'}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.stringify=stringify,__webpack_exports__.parse=parse,__webpack_exports__.decycle=decycle;var escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,escFunc=function(t){return escMap[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"now",function(){return a});var n=i(0),o=window.Date,r=o.prototype.getTime,a=Object(n.isNative)(o.now)?o.now:Object(n.isNative)(r)?function(){return r.call(new o)}:function(){return+new o};o.now||(o.now=a)},function(t,e,i){i.d(e,"a",function(){return n});var n={ABORT:"abort",CAN_PLAY:"canplay",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",LOADED:"loaded",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",RESUME_AFTER_STALLED:"resumeafterstalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",AUDIO_SYNC:"audiosync",BENCH_FPS:"benchFps",RESIZE:"resize"}},function(t,e,i){function n(t){return new a(t,null,!0)}function o(t){return new a(null,t,!1)}i.d(e,"c",function(){return a}),e.b=n,e.a=o;var r=i(4),a=function(){function t(t,e,i){this._isSuccess=i,i?this._successValue=t:this._failureValue=e}return t.of=function(t){try{return n(t())}catch(t){return o(t)}},t.prototype.isSuccess=function(){return this._isSuccess},t.prototype.isFailure=function(){return!this._isSuccess},t.prototype.getOrElse=function(t){return this._isSuccess?this._successValue:t()},t.prototype.orElse=function(t){return this._isSuccess?this:t()},t.prototype.filter=function(t){if(!this._isSuccess)return this;try{return t(this._successValue)?this:o(new Error("Predicate does not hold for "+this._successValue))}catch(t){return o(t)}},t.prototype.flatMap=function(t){if(!this._isSuccess)return this;try{return t(this._successValue)}catch(t){return o(t)}},t.prototype.map=function(e){var i=this;return this._isSuccess?t.of(function(){return e(i._successValue)}):this},t.prototype.forEach=function(t){this._isSuccess&&t(this._successValue)},t.prototype.recover=function(e){var i=this;return this._isSuccess?this:t.of(function(){return e(i._failureValue)})},t.prototype.recoverWith=function(t){try{return this._isSuccess?this:t(this._failureValue)}catch(t){return o(t)}},t.prototype.match=function(t){return this._isSuccess?t.success(this._successValue):t.failure(this._failureValue)},t.prototype.toOption=function(){return this._isSuccess?r.b.of(this._successValue):r.a},t}()},function(t,e,i){var n=i(1),o=i(37),r=function(){function t(t){if(this.logger=new n.a("option."+t),!t)throw new o.a(o.a.OPTION_NAME_REQUIRED)}return t}();e.a=r},function(t,e,i){var n=i(1),o=function(){function t(){this.loggerED=new n.a("canvas.player.components.EventDispatcher"),this.cb={},this.addEventListener=this.listen,this.removeEventListener=this.muteEvent}return t.prototype.listen=function(t,e,i){void 0===i&&(i=!1),this.cb[t]||(this.cb[t]=new Array),this.cb[t].push(e)},t.prototype.muteEvent=function(t,e){this.cb[t]?e&&-1!==this.cb[t].indexOf(e)?this.cb[t].splice(this.cb[t].indexOf(e),1):e?this.loggerED.error("call muteEvent for",t,"but handler ",e," does not exist for this event"):this.cb[t]=new Array:this.loggerED.error("call muteEvent for",t,"but handlers for this event are empty")},t.prototype.dispatch=function(t,e){this.cb[t]&&(e?e.type=t:e={type:t},this.cb[t].forEach(function(t,i){t(e)}))},t}();e.a=o},function(t,e,i){i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(){function t(t,e){this.code=t,this.error=e}return t.get=function(e,i,n){return new t({id:e,message:i},n)},t.prototype.getFullMessage=function(){return"Error #"+this.code.id+": "+this.code.message},t.prototype.getId=function(){return this.code.id},t.prototype.getMessage=function(){return this.code.message},t.prototype.getStackTrace=function(){return this.error&&this.error.stack?this.error.stack:""},t.prototype.toString=function(){return this.getFullMessage()},t}(),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.XML_PARSE={id:100,message:"XML parsing error"},e.XML_INVALID_SCHEMA={id:101,message:'VAST schema validation error: expected "%s" but found "%s"'},e.UNSUPPORTED_VERSION={id:102,message:"VAST version of response not supported. Expected VAST2 or VAST3 but VAST1 found"},e.TRAFFICKING={id:200,message:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display"},e.LINEARITY={id:201,message:"Video player expecting different linearity"},e.DURATION={id:202,message:"Video player expecting different duration"},e.SIZE={id:203,message:"Video player expecting different size"},e.WRAPPER={id:300,message:"General Wrapper error"},e.WRAPPER_TIMEOUT={id:301,message:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element (URI was either unavailable or reached a timeout as defined by the video player)"},e.WRAPPER_LIMIT={id:302,message:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response"},e.NO_ADS={id:303,message:"No Ads VAST response after one or more Wrappers"},e.GENERAL_LINEAR={id:400,message:"General Linear error. Video player is unable to display the Linear Ad."},e.FILE_NOT_FOUND={id:401,message:"File not found. Unable to find Linear/MediaFile from URI."},e.MEDIAFILE_TIMEOUT={id:402,message:"Timeout of MediaFile URI."},e.UNSUPPORTED_MEDIAFILE={id:403,message:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},e.MEDIAFILE_DISPLAY={id:405,message:"Problem displaying MediaFile. Video player found a MediaFile with supported type but could not display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."},e.GENERAL_NONLINEAR={id:500,message:"General NonLinearAds error."},e.CREATIVE_DIMENSIONS={id:501,message:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},e.NONLINEAR_FETCH={id:502,message:"Unable to fetch NonLinearAds/NonLinear resource."},e.SUPPORTED_NONLINEAR_NOT_FOUND={id:503,message:"Could not find NonLinear resource with supported type."},e.GENERAL_COMPANION={id:600,message:"General CompanionAds error."},e.COMPANION_DIMENSIONS={id:601,message:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."},e.COMPANION_DISPLAY={id:602,message:"Unable to display Required Companion."},e.COMPANION_FETCH={id:603,message:"Unable to fetch CompanionAds/Companion resource."},e.SUPPORTED_COMPANION_NOT_FOUND={id:604,message:"Could not find Companion resource with supported type."},e.UNDEFINED={id:900,message:"Undefined Error"},e.GENERAL={id:901,message:"General VPAID error"},e}(o)},function(t,e,i){function n(){if(a)return a();var t=null;if(window.XMLHttpRequest&&(t=new XMLHttpRequest),!t||"withCredentials"in t||(t=window.XDomainRequest?new window.XDomainRequest:null),!t){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(e){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){throw new Error("could not create XMLHttpRequest nor ActiveXObject")}}t.responseType="msxml-document"}return t}function o(t){return s?s(t):t instanceof XMLHttpRequest}function r(t,e){a=t,s=e}Object.defineProperty(e,"__esModule",{value:!0}),e.createXmlHttpRequest=n,e.isXMLHttpRequest=o,e.overrideFunctions=r;var a=null,s=null},function(t,e,i){function n(){try{d=window.top.performance||window.top.webkitPerformance||window.top.msPerformance||window.top.mozPerformance}catch(t){}}function o(t){if(!t||"string"!=typeof t)return null;if(d&&d.mark)d.mark(t);else{var e={name:t,entryType:"mark",startTime:u(),duration:0};f[t]=e}}function r(t,e,i){if(!t||"string"!=typeof t||!e||"string"!=typeof e||!i||"string"!=typeof i)return null;try{if(d&&d.measure)d.measure(t,e,i);else if(f[e]&&f[i]){var n={name:t,entryType:"measure",startTime:f[e].startTime,duration:f[i].startTime-f[e].startTime};f[t]=n}return a(t)}catch(t){return h.warn(t),null}}function a(t){try{if(d&&d.getEntriesByName){var e=d.getEntriesByName(t);return e[e.length-1]}return f[t]?f[t]:null}catch(t){return h.warn(t),null}}function s(t){var e=null;if(d&&d.getEntries){var i=d.getEntriesByType("resource");for(var n in i)if(i.hasOwnProperty(n)&&t.test(i[n].name)){e=i[n];break}}return e}function c(){if(d&&d.getEntries)return d.getEntriesByType("resource").length}function u(){return d&&d.now?d.now():p.now()}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"performance",function(){return d}),e.init=n,e.mark=o,e.measure=r,e.getLastEntryByName=a,e.getTimingByRegex=s,e.getResourceCount=c,e.now=u;var d,l=i(1),p=i(10),h=new l.a("helper.Timing"),f={}},function(t,e,i){var n=i(6),o=i(7),r=i(1),a=i(47),s=i(5),c=i(64),u=i(52),d=function(){function t(t,e,i,n,o){var d=this;if(this.ui=t,this.element=e,this.vpaid=i,this.config=n,this.globalVpaidEventHandler=o,this.eventHandler=new a.a,this.showOnVideoStart=!0,this.isCountdownEnded=!1,n.style){var l=e.getAttribute("style");e.setAttribute("style",(l?l+";":"")+n.style)}var p=new RegExp(c.a+"([a-z]*)"),h=e.className.match(p);if(this.id=h&&h[1]?h[1]:"",this.logger=new r.a("teads.ui.Component"+(this.id?"."+this.id:"")),e.style.zIndex||(e.style.zIndex="2"),this.hide(),this.vpaid.subscribe(function(){d.onVideoStart()},s.a.AdVideoStart),n.startOffset){this.showOnVideoStart=!1;var f;f=function(){u.getCurrentTime(d.vpaid)>=n.startOffset&&(d.vpaid.unsubscribe(f,s.a.AdRemainingTimeChange),d.isCountdownEnded=!0,d.isEnabled()&&d.show())},this.vpaid.subscribe(f,s.a.AdRemainingTimeChange)}else this.isCountdownEnded=!0;this.bindClick()}return t.prototype.init=function(){},t.prototype.setShowOnVideoStart=function(t){this.showOnVideoStart=t},t.prototype.getShowOnVideoStart=function(){return this.showOnVideoStart},t.prototype.getConfig=function(){return this.config},t.prototype.isEnabled=function(){return!this.config.disable},t.prototype.getElement=function(){return this.element},t.prototype.show=function(){this.isCountdownEnded&&(n.removeClass(this.getElement(),"hide"),n.addClass(this.getElement(),"show"))},t.prototype.hide=function(){n.removeClass(this.getElement(),"show"),n.addClass(this.getElement(),"hide")},t.prototype.isVisible=function(){return this.getElement().className.indexOf("show")>-1},t.prototype.getVpaid=function(){return this.vpaid},t.prototype.subscribe=function(t,e,i){this.eventHandler.subscribe(t,e,i)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.getOverridenEvents=function(){return[]},t.prototype.getOverridenMethods=function(){return[]},t.prototype.restoreOnClickAction=function(){},t.prototype.onMethod=function(t,e){void 0===e&&(e=[])},t.prototype.onOverridenMethod=function(t,e){void 0===e&&(e=[])},t.prototype.remove=function(){this.getElement().parentNode&&this.getElement().parentNode.removeChild(this.getElement())},t.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},t.prototype.dispatchVpaidEvent=function(t,e){if(this.globalVpaidEventHandler)try{this.globalVpaidEventHandler({type:t,data:e})}catch(i){this.logger.error("error calling dispatchVpaidEvent "+t,e)}else this.logger.error("no globalVpaidEventHandler given. Dispatch "+t+" failed",e)},t.prototype.bindClick=function(){var t=this;o.addEventListener("click",this.getElement(),function(e){t.onClick(e)})},t.prototype.onClick=function(t){this.dispatchUiEvent(this.eventName)},t.prototype.dispatchUiEvent=function(t){t&&(this.logger.info("dispatch UI event "+t),this.dispatchVpaidEvent(t))},t}();e.a=d},function(t,e,i){function n(t,e){var i=u(t,e);return null!==i&&i>0}function o(t,e){var i=u(t,e);return null!==i&&i<0}function r(t,e){var i=u(t,e);return null!==i&&i>=0}function a(t,e){var i=u(t,e);return null!==i&&i<=0}function s(t,e){return t<e?-1:t>e?1:0}function c(t,e){return s(t.major,e.major)||s(t.minor,e.minor)||s(t.patch,e.patch)}function u(t,e){var i=new d(t),n=new d(e);return i.isValid&&n.isValid?c(i,n):null}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"MAX_LENGTH",function(){return l}),i.d(e,"MAX_SAFE_INTEGER",function(){return p}),i.d(e,"NUMERICIDENTIFIER",function(){return h}),i.d(e,"MAINVERSION",function(){return f}),i.d(e,"FULL",function(){return g}),e.isGreaterThan=n,e.isLowerThan=o,e.isGreaterOrEqual=r,e.isLowerOrEqual=a;var d=function(){function t(e){if(this.isValid=!0,"string"!=typeof e&&(e=""+e),e.length>l)return void(this.isValid=!1);var i=e.trim().match(g);if(!i){return e.split(".").length<3?new t(e+".0"):void(this.isValid=!1)}return this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>p||this.major<0?void(this.isValid=!1):this.minor>p||this.minor<0?void(this.isValid=!1):this.patch>p||this.patch<0?void(this.isValid=!1):void(this.version=this.major+"."+this.minor+"."+this.patch)}return t.prototype.toString=function(){return this.version},t}(),l=256,p=9007199254740991,h="0|[1-9]\\d*",f="("+h+")\\.("+h+")\\.("+h+")",g=new RegExp("^v?"+f+".*?$")},function(t,e,i){var n=i(10),o=window.teads||{};o.START_TIME=o.START_TIME||Object(n.now)(),o.FULL_LOGS=o.FULL_LOGS||[],o.HAS_DEBUG_LOGS=o.HAS_DEBUG_LOGS||!1,o.CONTEXT_IS_INITIALIZED=!1,o.WIGO_DEBUG_KEY=o.WIGO_DEBUG_KEY||null,window.teads=o},function(t,e,i){var n=i(5),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.FullscreenRequest="FullscreenRequest",e.PlayPauseRequest="PlayPauseRequest",e.SkipRequest="SkipRequest",e.UIButtonRequest="UIButtonRequest",e.ClickToPlayRequest="ClickToPlayRequest",e.ClickRequest="ClickRequest",e.CallRequest="CallRequest",e.SoundToggleRequest="SoundToggleRequest",e.ReplayRequest="ReplayRequest",e.EndscreenInit="EndscreenInit",e.CollapseRequest="CollapseRequest",e.AdChoicesClickRequest="AdChoicesClickRequest",e}(n.a);e.a=r},function(t,e,i){i.d(e,"a",function(){return n});var n;!function(t){t[t.INIT=0]="INIT",t[t.INIT_VIDEO=1]="INIT_VIDEO",t[t.INIT_AUDIO=2]="INIT_AUDIO",t[t.CAN_PLAY=3]="CAN_PLAY",t[t.PLAYING=4]="PLAYING",t[t.PAUSED=5]="PAUSED",t[t.LOADED=6]="LOADED",t[t.STALLED=7]="STALLED",t[t.ENDED=8]="ENDED"}(n||(n={}))},function(t,e,i){function n(t){var e=document.createElement("a");return e.href=t,window.swInstalled&&/(teads|ebu?z)/.test(e.hostname)?"/"+btoa(t).replace(/=/g,"_"):t}function o(t){var e=document.createElement("a");return e.href=t,{href:e.href,protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host}}function r(t){var e={};return"string"!=typeof t?e:(t=Object(h.trim)(t).replace(/^(\?|&)/,""))?(p.forEach(t.split("&"),function(t){var i=t.split("="),n=i.shift();e[n]=i.length>0?i.join("="):void 0}),e):e}function a(t){return/teads\.(tv|net|tech)$/.test(o(t).hostname)}function s(t){return/^http(s)*:\/\/t\.teads\.tv/i.test(t)}function c(t){var e=["uk"],i=t.split("."),n=i.length>1?i[i.length-2]:t;return p.includes(e,i[i.length-1])&&(n=i[i.length-3]),n}function u(t,e,i){if(t.indexOf(e)<0)return t;var n=new RegExp("[\\?&]"+e+"=([^&#]*)");return m.b.of(n.exec(t)).map(function(t){return t[0]}).map(function(t){return t.charAt(0)}).match({some:function(o){return t.replace(n,o+e+"="+i)},none:function(){return v.warn('Tried to replace parameter "'+e+'" value with "'+i+'" on URL '+t+" and failed."),t}})}function d(t,e){var i=p.map(Object.keys(e),function(t){return t+"="+e[t]}).join("&"),n=-1===t.indexOf("?")?"?":"&";return t+(""===i?"":n+i)}function l(t){var e={sid:null,gid:null,pid:null},i=p.filter(p.map(t,function(t){return t.url}),s);return p.forEach(i,function(t){var i=r(t);for(var n in e)!function(t){e[t]=m.b.of(i[t]).map(parseInt).filter(g.isNumber).getOrElse(function(){return e[t]})}(n)}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.safeUrl=n,e.parse=o,e.parseQueryString=r,e.isInternalUrl=a,e.isTeadsTrackingUrl=s,e.getMainDomain=c,e.replaceUrlParameter=u,e.buildUrlWithParams=d,e.getBusinessIdsFromTracking=l;var p=i(3),h=i(8),f=i(1),g=i(0),m=i(4),v=new f.a("URIHelper")},function(t,e,i){i.d(e,"a",function(){return u});var n=i(4),o=i(1),r=i(3),a=i(42),s=i(0),c=i(2),u=function(){function t(){this.businessIds={pid:null,gid:null,sid:null},this.logger=new o.a("Sumologic"),this.logStorage=[],this.initialized=!1}return t.prototype.init=function(e,i,n,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=null),this.initialized)return void this.logger.warn("Sumologic instance already initialized, aborting.");this.config=e,t.version=n||t.version,this.businessIds.pid=i,this.sampling=o||t.SAMPLING_RATE,this.logSender=new a.a(this.config.collector,this.config.formattingType),this.logger.debug("Sumologic init with pid="+i+", sampling="+this.sampling),this.initialized=!0,this.unstackLogStorage()},t.prototype.isInitialized=function(){return this.initialized},t.prototype.sendMetadata=function(t,e,i){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.METADATA,t,e,i):this.logStorage.push(["sendMetadata",arguments])},t.prototype.sendError=function(t,e,i){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.ERROR,t,e,i):this.logStorage.push(["sendError",arguments])},t.prototype.sendWarning=function(t,e,i){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.WARNING,t,e,i):this.logStorage.push(["sendWarning",arguments])},t.prototype.sendInfo=function(t,e,i){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.INFO,t,e,i):this.logStorage.push(["sendInfo",arguments])},t.prototype.send=function(t,e,i,n){if(void 0===i&&(i={}),this.initialized){var o=this.getLogPrefix(this.config.prefixPattern,t,i),r=this.logSender.format(e);this.canSend(n)?(this.logger.debug("Sent to collector",o,e),this.logSender.track(r,o)):this.logger.debug("Did not send to collector (sampling)",o,e)}else this.logger.warn("Could not send logs, Sumologic instance not initialized."),this.logStorage.push(["send",arguments])},t.prototype.sendRaw=function(t,e){this.initialized?this.canSend(e)?(this.logger.debug("Sent to collector",t),this.logSender.track(t)):this.logger.debug("Did not send to collector (sampling)",t):(this.logger.warn("Could not send logs, Sumologic instance not initialized."),this.logStorage.push(["sendRaw",arguments]))},t.prototype.canSend=function(e){return void 0===e&&(e=this.sampling),t.RANDOM<=e},t.prototype.fillEmptyBusinessIds=function(t){var e=this,i=this;for(var o in t)!function(o){i.businessIds[o]=i.businessIds[o]||n.b.of(t[o]).map(parseInt).filter(s.isNumber).getOrElse(function(){return e.businessIds[o]})}(o);return this.businessIds},t.prototype.setAdType=function(e){t.adTypeByPid[this.businessIds.pid]=e},t.prototype.getAdType=function(){return t.adTypeByPid[this.businessIds.pid]||""},t.prototype.unstackLogStorage=function(){var t=this;Object(r.forEach)(this.logStorage,function(e){return t[e[0]].apply(t,e[1])}),this.logStorage=[]},t.prototype.getLogPrefix=function(e,i,n){var o={level:i,timestamp:t.version+"|"+Object(c.getFullContext)()+"|"+this.getAdType(),businessIds:"p="+(this.businessIds.pid||"")+";s="+(this.businessIds.sid||"")+";g="+(this.businessIds.gid||"")};n=Object(s.extend)(o,n);var r=e;for(var a in n)n.hasOwnProperty(a)&&(r=r.replace(a,n[a]));return r},t.SAMPLING_RATE=.05,t.RANDOM=Math.random(),t.COLLECTORS={FORMAT:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV3tMuL-jxvu514sKTR1JLPJH0zZLzvxn3qMwWPdO_mBRbSGTyZgi2P4CqAJ4tfCX6IriPgecDkMFRxDm1GAGUben7xo9S92iY-h9z-o4eCwqg==",PLAYER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV2OstA92K8Xbj_kskBs5tjvp3fnz5Kd87xTE6v-AevmCgsG9SX_kqjlNgr2zKEpTQZWkuy61qzMee2njNfpDU2z7EIYjtXb-wRLLbHhGRVIOg==",ROUTER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV0yoMPXbPr1DHlBdbxeDuo3K5k3sGyLYmTOy4VGTwjLazFajGH6fqEKM4WlaPVtnZSCp4oebZS2mDiHAfUyzLxdRx_1JbayoNzbvQ26FTVmqQ==",COMMANDER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV3NNlT87PWOPYa010EVMSHpuQeovx5tDnmwMuXqzCgUX1-6HghrEdYK-kIRMgBtWNwHBcQgJnWWFbpt4fXZxqahQ-B0Sth5_7o0OO28a6Cuog=="},t.PREFIX_PATTERNS={CLASSIC:"[timestamp][businessIds][level] ",LIGHT:"businessIds>type>subtype>level>pid "},t.LOG_LEVELS={CLASSIC:{INFO:"info",METADATA:"metadata",WARNING:"warning",ERROR:"error"},LIGHT:{INFO:"info",METADATA:"meta",WARNING:"warn",ERROR:"err"}},t.CONFIGS={FORMAT:{collector:t.COLLECTORS.FORMAT,prefixPattern:t.PREFIX_PATTERNS.CLASSIC,logLevels:t.LOG_LEVELS.CLASSIC,formattingType:a.a.FORMATTING_TYPES.JSON},PLAYER:{collector:t.COLLECTORS.PLAYER,prefixPattern:t.PREFIX_PATTERNS.CLASSIC,logLevels:t.LOG_LEVELS.CLASSIC,formattingType:a.a.FORMATTING_TYPES.JSON},ROUTER:{collector:t.COLLECTORS.ROUTER,prefixPattern:t.PREFIX_PATTERNS.CLASSIC,logLevels:t.LOG_LEVELS.CLASSIC,formattingType:a.a.FORMATTING_TYPES.JSON},COMMANDER:{collector:t.COLLECTORS.COMMANDER,prefixPattern:t.PREFIX_PATTERNS.CLASSIC,logLevels:t.LOG_LEVELS.CLASSIC,formattingType:a.a.FORMATTING_TYPES.JSON}},t.version="",t.adTypeByPid={},t}()},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"get",function(){return r}),i.d(e,"setAndExpireInOneYear",function(){return a});var n=i(10),o=i(12),r=function(t){return o.c.of(function(){return document.cookie}).map(function(e){return decodeURIComponent(e.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null})},a=function(t,e){return o.c.of(function(){return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; expires="+new Date(Object(n.now)()+31536e6).toUTCString()+"; path=/"})}},function(t,e,i){var n;!function(t){t[t.REMOVED=-6]="REMOVED",t[t.REMOVING=-5]="REMOVING",t[t.ERROR=-4]="ERROR",t[t.STOPPED=-3]="STOPPED",t[t.STOPPING=-2]="STOPPING",t[t.SKIPPED=-1]="SKIPPED",t[t.SKIPPING=0]="SKIPPING",t[t.READY=1]="READY",t[t.LOADING=2]="LOADING",t[t.LOADED=3]="LOADED",t[t.STARTING=5]="STARTING",t[t.STARTED=6]="STARTED",t[t.PAUSING=7]="PAUSING",t[t.PAUSED=8]="PAUSED",t[t.RESUMING=9]="RESUMING",t[t.PLAYING=10]="PLAYING",t[t.COMPLETE=11]="COMPLETE"}(n||(n={})),e.a=n},function(t,e,i){function n(t,e,i){if(void 0===i&&(i=u.Standard),i===u.Worker&&c()){var n=s(t,'self.setTimeout(function(){self.postMessage("tick")}, '+e+")");return{clear:function(){n.terminate()}}}if(i===u.Precise){var o,l=d.now(),h=0,f=function(){var i=d.now()-l;i<e-(0===h?h:i/h)?(h+=1,o=r(f,p)):t()};return f(),{clear:function(){a(o)}}}var g=window.setTimeout(function(){t()},e);return{clear:function(){clearTimeout(g)}}}function o(t,e,i){if(void 0===i&&(i=!1),i&&c()){var n=s(t,'self.setInterval(function(){self.postMessage("tick")}, '+e+")");return{clear:function(){n.terminate()}}}var o=window.setInterval(function(){t()},e);return{clear:function(){clearInterval(o)}}}function r(t,e){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return i?i(t):window.setTimeout(t,e)}function a(t){(window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout)(t)}function s(t,e){var i=l.createBlob(e),n=new Worker(l.getUrl().createObjectURL(i));return n.onmessage=function(e){return t()},n}function c(){var t=l.getUrl();return!!window.Worker&&!!t&&!!t.createObjectURL}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"TIMER_MODE",function(){return u}),e.setTimeout=n,e.setInterval=o,e.requestAnimationFrame=r,e.cancelAnimationFrame=a,e.createWorker=s,e.canUseWorker=c;var u,d=i(17),l=i(30);!function(t){t[t.Standard=0]="Standard",t[t.Worker=1]="Worker",t[t.Precise=2]="Precise"}(u||(u={}));var p=1e3/60},function(t,e,i){i.d(e,"b",function(){return u}),i.d(e,"a",function(){return d});var n=i(3),o=i(7),r=i(4),a=i(1),s=i(0),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(){function t(t){void 0===t&&(t="EventListenerManager"),this.listeners={},this.logger=new a.a(t)}return t.prototype.add=function(t,e,i){var n=this;s.isString(t)||this.logger.warn("First argument of EventListenerManager.add must be a string",t),this.logger.debug("Add listener to event",t),r.b.of(this.listeners[t]).orElse(function(){return r.b.of([])}).map(function(t){return t.concat([{context:e,callback:i}])}).forEach(function(e){n.listeners[t]=e}),this.addEventListener(t,e,i)},t.prototype.addMultiple=function(t,e,i){var o=this;s.isArray(t)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",t),n.forEach(t,function(t){return o.add(t,e,i)})},t.prototype.remove=function(t){var e=this;s.isString(t)||this.logger.warn("First argument of EventListenerManager.add must be a string",t),this.logger.debug("Remove listener from event",t),n.forEach(this.listeners[t],function(i){return e.removeEventListener(t,i.context,i.callback)}),this.listeners[t]=[]},t.prototype.removeMultiple=function(t){var e=this;s.isArray(t)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",t),n.forEach(t,function(t){return e.remove(t)})},t.prototype.removeAll=function(){var t=this;for(var e in this.listeners)!function(e){t.listeners.hasOwnProperty(e)&&n.forEach(t.listeners[e],function(t){return o.removeEventListener(e,t.context,t.callback)})}(e)},t}(),d=function(t){function e(){return t.call(this,"DOMEventListenerManager")||this}return c(e,t),e.prototype.addEventListener=function(t,e,i){o.addEventListener(t,e,i)},e.prototype.removeEventListener=function(t,e,i){o.removeEventListener(t,e,i)},e}(u)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"isBase64RegExp",function(){return o}),i.d(e,"isBase64",function(){return r}),i.d(e,"encode",function(){return a}),i.d(e,"decode",function(){return s});var n=i(4),o=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/,r=function(t){return n.b.of(o.exec(t)).existsIf(function(t){return t.length>0})},a=function(t){return n.b.of(window.btoa).map(function(e){return e(t)}).getOrElse(function(){return t})},s=function(t){return n.b.of(window.atob).map(function(e){return e(t)}).getOrElse(function(){return t})}},function(t,e,i){function n(t,e){if(void 0===e&&(e="application/javascript"),window.Blob)try{return new Blob([t],{type:e})}catch(t){}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;var i=new window.BlobBuilder;return i.append(t),i.getBlob()}function o(){return window.URL||window.webkitURL}Object.defineProperty(e,"__esModule",{value:!0}),e.createBlob=n,e.getUrl=o},function(t,e,i){i.d(e,"a",function(){return l});var n=(i(20),i(2)),o=i(10),r=i(7),a=i(6),s=i(9),c=i(1),u=i(16),d=i(0),l=function(){function t(){var t=this;this.color="blue",this.statusDetails="",this.bottomPxPosition=10,this.position=1,this.buttonHeight=0,window.teads.WIGO_DEBUG_KEY=!window.teads.WIGO_DEBUG_KEY&&window.teads.HAS_DEBUG_LOGS?"debug":window.teads.WIGO_DEBUG_KEY,this.elapsedTime=0,this.logfile={context:(Object(n.getDevice)().toString()+"-"+Object(n.getOS)().toString()+"-"+Object(n.getBrowser)().toString()).replace(/\|/g," "),url:location.href,steps:[],logs:[],timeline:[]};var e=Object(a.findParentWindows)(document.body);if(this.topWindow=e.pop()||window,window.teads.WIGO_DEBUG_KEY)this.createDebugButton(this.color),this.recordUserActions();else{var i=function(e){var i=e.data.wigoLiveDebug;i&&i.length&&i.length>1&&(window.teads.WIGO_DEBUG_KEY=i[1],t.createDebugButton(t.color),t.recordUserActions())};try{this.topWindow.addEventListener("message",i)}catch(t){this.topWindow=window,this.topWindow.addEventListener("message",i)}}}return t.setTotalInstances=function(e){t.totalInstances=e},t.prototype.setPlayerContainer=function(t){this.playerContainer=t},t.prototype.valid=function(e,i,n,o){if(this.addValidEvent(e,i,{store:n,type:o}),o===t.infoType.ERROR){var r="";"string"==typeof n?r=n:n.message?(n.id&&(r=n.id+" - "),r+=n.message):r=n.length?n:JSON.stringify(n),this.setStatus(!1,r)}else 3===e&&2===i?this.setStatus(!0,"AdLoaded"):3===e&&3===i&&this.setStatus(!0,"AdStarted")},t.prototype.vastEvent=function(e,i,n,o){if(this.addValidEvent(0,0,{store:{name:e,time:i,percent:n,pixels:o},type:t.infoType.VAST_EVENT}),"complete"===e)this.setStatus(!0,"AdComplete");else if("pause"===e)this.setStatus(!0,"AdPaused"),this.lastTracking="pause";else if("pause"===this.lastTracking)this.lastTracking=null;else if("progress"===e){var r="undefined"===i?"":i.split(".")[0]+"s";this.setStatus(!0,"AdPlaying: "+r)}},t.prototype.setStatus=function(t,e){void 0===e&&(e="");var i=t?"green":"red";this.button?(this.status.style.backgroundColor=i,this.status.style.display="block",this.loader.style.display="none",this.status.innerHTML=e):(this.color=i,this.statusDetails=e)},t.prototype.moveButton=function(e){this.bottomPxPosition=t.initialBottomPosition+(e-1)*t.bottomPxInterval,this.position=e,this.button&&this.button.style.setProperty("bottom",this.bottomPxPosition+"px")},t.prototype.followPlayer=function(){var e=Object(r.getBoundingClientRect)(this.playerContainer),i=this.topWindow.innerHeight-this.buttonHeight-(t.initialBottomPosition+(t.totalInstances-this.position)*t.bottomPxInterval),n=this.topWindow.innerHeight-e.bottom+e.height/2-this.buttonHeight/2,o=10;n<this.bottomPxPosition?n=this.bottomPxPosition:n>i?n=i:o=50,this.button.style.setProperty("bottom",n+"px"),this.button.style.setProperty("right",o+"px")},t.prototype.forceReportWithKey=function(t){window.teads.WIGO_DEBUG_KEY=t,this.sendLogsToWigo(function(){})},t.prototype.recordUserActions=function(){var e=this;this.elapsedTime<3e5&&setTimeout(function(){var i=e.logfile.timeline[e.logfile.timeline.length-1],n=Object(r.getWindowSize)(e.topWindow),o=Object(r.getScrollLeft)(e.topWindow),a=Object(r.getScrollTop)(e.topWindow);if(!i||e.hasInteracted(i,n,o,a)){var s={time:e.elapsedTime,scrollX:o,scrollY:a,screenWidth:n.width,screenHeight:n.height,player:{top:0,height:0,left:0,width:0}};if(e.playerContainer){var c=Object(r.getBoundingClientRect)(e.playerContainer);s.player={top:c.top,height:c.height,left:c.left,width:c.width}}e.logfile.timeline.push(s)}e.elapsedTime+=t.recordUserActionsTiming,e.recordUserActions()},t.recordUserActionsTiming)},t.prototype.addValidEvent=function(t,e,i){var n={step:t,substep:e,info:i};this.logfile.steps.push(n)},t.prototype.createDebugButton=function(e){var i=this;if(window.teads.WIGO_DEBUG_KEY&&!this.button){var o=this.topWindow.document.createElement("div");o.innerHTML=t.TEMPLATE,this.button=o.firstChild,this.button.onclick=function(t){i.openWigoReport(),t.stopPropagation()},this.button.style.setProperty("bottom",this.bottomPxPosition+"px"),this.topWindow.document.body.appendChild(this.button),this.status=this.button.firstChild,this.status.style.backgroundColor=e,this.status.innerHTML=this.statusDetails,this.loader=this.status.nextSibling,"blue"!==this.color?(this.status.style.display="block",this.loader.style.display="none"):(this.status.style.display="none",this.loader.style.display="block"),this.buttonHeight=Object(r.getBoundingClientRect)(this.button).height,Object(n.isAmp)()&&teads.helper.AmpResize&&("red"===e&&(teads.helper.AmpResize.ratio=4),setTimeout(function(){return i.forceAmpOpen()},1e3)),"QA"===window.teads.WIGO_DEBUG_KEY&&(this.button.style.display="none")}},t.prototype.forceAmpOpen=function(){var t=this;if(!teads.helper.AmpResize.isVisible()){var e=setTimeout(function(){return t.forceAmpOpen()},1e3);teads.helper.AmpResize.open(function(){t.button.style.display="none",setTimeout(function(){return t.button.style.display="block"},100),clearTimeout(e)})}},t.prototype.openWigoReport=function(){var t=this;if(window.teads.WIGO_DEBUG_KEY){this.button.onclick=function(t){t.stopPropagation()};var e=function(e){setTimeout(function(){t.button.onclick=function(e){t.openWigoReport(),e.stopPropagation()}},500)};window.open(this.sendLogsToWigo(e))}},t.prototype.sendLogsToWigo=function(e){this.logfile.logs=c.a.getFullLogs();var i=window.teads.WIGO_DEBUG_KEY+"_"+Object(o.now)()+".json",n=Object(u.createXmlHttpRequest)();return n.open("PUT",t.serviceUrl+"/livedebug/upload/"+i,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.onload=e,n.onerror=e,n.send(s.stringify(this.logfile,!0)),t.serviceUrl+"/livedebug?file="+i},t.prototype.hasInteracted=function(t,e,i,n){return t.scrollY!==n||t.scrollX!==i||t.screenHeight!==e.height||t.screenWidth!==e.width},t.infoType={MODAL:"modal",STRING:"string",VAST_EVENT:"vastEvent",ERROR:"error"},t.bottomPxInterval=80,t.recordUserActionsTiming=1e3,t.serviceUrl=Object(d.getProtocol)()+(location.hostname.match(/(sandbox\.teads\.net|par2\.teads\.tech)$/)?"//"+location.hostname+":18091":"//wigo.teads.tv"),t.totalInstances=0,t.initialBottomPosition=10,t.TEMPLATE=i(55),t}()},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(20),i(41)),o=i(3),r=i(29),a=i(30),s=i(38),c=i(2),u=i(25),d=i(10),l=i(7),p=i(28),h=i(15),f=i(36),g=i(37),m=i(6),v=i(9),y=i(1),b=i(42),A=i(33),E=(i.n(A),i(16)),w=i(19),C=i(51),_=i(53),S=i(8),T=i(24),I=i(27),O=i(17),P=i(34),k=i(23),x=i(43),L=i(54),R=i(0),D=i(49),N=i(31);O.init(),c.init(),Object(y.b)();var V=window.teads||{};V.AdParameterHelper=n,V.ArrayHelper=o,V.Base64=r,V.BlobHelper=a,V.Constant=s,V.Context=c,V.Cookie=u,V.Date=d,V.Dom=l,V.EventListenerManager=p.b,V.DOMEventListenerManager=p.a,V.Exception=h.a,V.VastException=h.b,V.FlashHelper=f,V.FormatException=g.a,V.HTMLHelper=m,V.JSON=v,V.LogSender=b.a,V.Logger=y.a,V.Request=E,V.Semver=w,V.SessionStore=C.a,V.SessionStoreBuilder=C.b,V.Store=_,V.StringHelper=S,V.Sumologic=T.a,V.Timer=I,V.TIMER_MODE=I.TIMER_MODE,V.Timing=O,V.URIHelper=k,V.Ua=P,V.UserDevice=x.a,V.UserStore=L.a,V.Utils=R,V.Visibility=D.a,V.Wigo=N.a,window.teads=V},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"MODEL",function(){return o}),i.d(e,"NAME",function(){return r}),i.d(e,"TYPE",function(){return a}),i.d(e,"VENDOR",function(){return s}),i.d(e,"VERSION",function(){return c}),i.d(e,"CONSOLE",function(){return u}),i.d(e,"MOBILE",function(){return d}),i.d(e,"TABLET",function(){return l}),i.d(e,"SMARTTV",function(){return p}),i.d(e,"WEARABLE",function(){return h}),i.d(e,"DESKTOP",function(){return f}),i.d(e,"util",function(){return g}),i.d(e,"mapper",function(){return m}),i.d(e,"maps",function(){return v}),i.d(e,"regexes",function(){return y});var n=i(2),o="model",r="name",a="type",s="vendor",c="version",u="console",d="mobile",l="tablet",p="smarttv",h="wearable",f="desktop",g={extend:function(t,e){var i={};for(var n in t)e[n]&&e[n].length%2==0?i[n]=e[n].concat(t[n]):i[n]=t[n];return i},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},m={rgx:function(){for(var t,e,i,o,r,a,s,c=0,u=arguments;c<u.length&&!a;){var d=u[c],l=u[c+1];if(void 0===t){t={};for(o in l)r=l[o],"object"==typeof r?t[r[0]]=void 0:t[r]=void 0}for(e=i=0;e<d.length&&!a;)if(a=d[e++].exec(Object(n.getUA)()))for(o=0;o<l.length;o++)s=a[++i],r=l[o],"object"==typeof r&&r.length>0?2===r.length?"function"==typeof r[1]?t[r[0]]=r[1].call(this,s):t[r[0]]=r[1]:3===r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?t[r[0]]=s?s.replace(r[1],r[2]):void 0:t[r[0]]=s?r[1].call(this,s,r[2]):void 0:4===r.length&&(t[r[0]]=s?r[3].call(this,s.replace(r[1],r[2])):void 0):t[r]=s||void 0;c+=2}return t},str:function(t,e){for(var i in e)if("object"==typeof e[i]&&e[i].length>0){for(var n=0;n<e[i].length;n++)if(g.has(e[i][n],t))return"?"===i?void 0:i}else if(g.has(e[i],t))return"?"===i?void 0:i;return t}},v={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[r,c],[/(opios)[\/\s]+([\w\.]+)/i],[[r,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[r,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[r,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[r,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[r,c],[/(yabrowser)\/([\w\.]+)/i],[[r,"Yandex"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[r,"WeChat"],c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[r,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[r,/(.+)/,"$1 WebView"],c],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[c,[r,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[r,c],[/(dolfin)\/([\w\.]+)/i],[[r,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[r,"Chrome"],c],[/;fbav\/([\w\.]+);/i],[c,[r,"Facebook"]],[/fxios\/([\w\.-]+)/i],[c,[r,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[r,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,r],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[r,[c,m.str,v.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[r,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[r,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[r,c]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,s,[a,l]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[s,"Apple"],[a,l]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[s,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,o,[a,l]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[s,"Amazon"],[a,l]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,m.str,v.device.amazon.model],[s,"Amazon"],[a,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,s,[a,d]],[/\((ip[honed|\s\w*]+);/i],[o,[s,"Apple"],[a,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,o,[a,d]],[/\(bb10;\s(\w+)/i],[o,[s,"BlackBerry"],[a,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[s,"Asus"],[a,l]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[o,"Xperia Tablet"],[a,l]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[s,"Sony"],[o,"Xperia Phone"],[a,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,o,[a,u]],[/android.+;\s(shield)\sbuild/i],[o,[s,"Nvidia"],[a,u]],[/(playstation\s[3portablevi]+)/i],[o,[s,"Sony"],[a,u]],[/(sprint\s(\w+))/i],[[s,m.str,v.device.sprint.vendor],[o,m.str,v.device.sprint.model],[a,d]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[s,o,[a,l]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[s,[o,/_/g," "],[a,d]],[/(nexus\s9)/i],[o,[s,"HTC"],[a,l]],[/(nexus\s6p)/i],[o,[s,"Huawei"],[a,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,o,[a,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[s,"Microsoft"],[a,u]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[s,"Microsoft"],[a,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[s,"Motorola"],[a,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[s,"Motorola"],[a,l]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,g.trim],[o,g.trim],[a,p]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[s,"Samsung"],[a,p]],[/\(dtv[\);].+(aquos)/i],[o,[s,"Sharp"],[a,p]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],o,[a,l]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[s,"Samsung"],o,[a,d]],[/smart-tv.+(samsung)/i],[s,o,[a,p]],[/sie-(\w+)*/i],[o,[s,"Siemens"],[a,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[s,"Nokia"],o,[a,d]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[s,"Acer"],[a,l]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],o,[a,l]],[/(lg) netcast\.tv/i],[s,o,[a,p]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[o,[s,"LG"],[a,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[s,"Lenovo"],[a,l]],[/linux;.+((jolla));/i],[s,o,[a,d]],[/((pebble))app\/[\d\.]+\s/i],[s,o,[a,h]],[/android.+;\s(glass)\s\d/i],[o,[s,"Google"],[a,h]],[/android.+;\s(pixel c)\s/i],[o,[s,"Google"],[a,l]],[/android.+;\s(pixel xl|pixel)\s/i],[o,[s,"Google"],[a,d]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[o,/_/g," "],[s,"Xiaomi"],[a,d]],[/android.+a000(1)\s+build/i],[o,[s,"OnePlus"],[a,d]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,g.lowerize],s,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[r,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[r,[c,m.str,v.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[r,"Windows"],[c,m.str,v.os.windows.version]],[/\((bb)(10);/i],[[r,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[r,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[r,"Symbian"],c],[/\((series40);/i],[r],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[r,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[r,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[r,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[r,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[r,c],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[r,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[r,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[r,c]]}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.AdVideoMetadata="AdVideoMetadata",t}();e.default=n},function(t,e,i){function n(){if(a.isMobile()||a.isTablet())return!1;var t=r().map(function(t){return parseInt(t,10)});return t[0]>=s[0]&&t[1]>=s[1]}function o(t){return t>=parseInt(r()[0],10)}function r(){try{var t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return["6","0","0"]}return new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){}}return["0","0","0"]}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"requiredVersion",function(){return s}),e.hasFlash=n,e.hasFlashVersion=o,e.getFlashVersion=r;var a=i(2),s=[10,0]},function(t,e,i){i.d(e,"a",function(){return r});var n=i(15),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.INCOMPLETE_OBJECT={id:1,message:"Ad configuration is missing settings or placement"},e.OPTION_CHECKVALUE_MISSING={id:2,message:"checkValue function is missing"},e.OPTION_THRESHOLD_MISSING={id:3,message:"Option threshold is required"},e.OPTION_PARENTWINDOW_INVALID={id:4,message:"Option parentWindow is required"},e.OPTION_VAST_INVALID={id:5,message:"Option vast has to contain type and content"},e.MULTIPLE_PAGE_PROCESS={id:6,message:"Cannot process more than 1 page"},e.OPTION_PID_INVALID={id:7,message:"Option Pid must be a positive number"},e.OPTION_FORMAT_INVALID={id:8,message:"Option Format must be a known string"},e.LOADING_MEDIAFILE={id:9,message:"Error when loading mediafile"},e.RAS_REQUEST={id:10,message:"RAS request error"},e.RAS_TIMEOUT={id:11,message:"RAS request timeout"},e.RAS_CUSTOM_TIMEOUT={id:12,message:"RAS request custom timeout"},e.RAS_RESPONSE={id:13,message:"RAS response error"},e.RAS_RESPONSE_ADS_NOT_ARRAY={id:14,message:"RAS response ads is not an array"},e.EVENT_CALLBACK={id:15,message:"Callback threw an error"},e.FILTER_FUNCTION={id:16,message:"The filter function threw an error"},e.OPTION_NAME_REQUIRED={id:17,message:"Name must be a valid string"},e}(n.a)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"base64TransparentPixel",function(){return o}),i.d(e,"TrackingMacro",function(){return n});var n,o="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=";!function(t){t.CONTENTPLAYHEAD="[CONTENTPLAYHEAD]",t.CACHEBUSTING="[CACHEBUSTING]",t.ERRORCODE="[ERRORCODE]",t.ASSETURI="[ASSETURI]",t.MEDIAFILETYPE="[MEDIAFILETYPE]",t.VIEWABILITY="[VIEWABILITY]",t.DEVICEID="[DEVICEID]",t.BUNDLEID="[BUNDLEID]",t.LIMIT_TRACKING="[LIMIT_TRACKING]",t.PAGEID="[pageId]",t.PID="[pid]",t.SLOT_TYPE="[slotType]",t.ENV="[env]",t.IMPRESSIONID="[impressionId]",t.HEADER_BIDDING_PROVIDER="[headerBiddingProvider]",t.USERID="[userId]",t.OS="[os]",t.GID="[insertionId]"}(n||(n={}))},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"SLIDER_WHITELIST",function(){return n}),i.d(e,"FORCE_EXPAND_ANIMATION_LIST",function(){return o}),i.d(e,"RESPONSIVE",function(){return r}),i.d(e,"DBM_UNIQUE_ID_PATTERN",function(){return a}),i.d(e,"INREAD_IMPACT_PARALLAX_WIDTH",function(){return s}),i.d(e,"INREAD_IMPACT_BASE_WIDTH",function(){return c}),i.d(e,"INREAD_IMPACT_BASE_HEIGHT",function(){return u}),i.d(e,"FORMAT",function(){return d}),i.d(e,"SLOT_TYPE",function(){return l}),i.d(e,"TRACKING",function(){return p}),i.d(e,"TRACKING_LOG",function(){return h}),i.d(e,"COMSCORE_URL",function(){return f}),i.d(e,"DEFAULT_VIDEO_SIZE_RATIO",function(){return g}),i.d(e,"MIN_Z_INDEX_VALUE",function(){return m}),i.d(e,"MAX_Z_INDEX_VALUE",function(){return v}),i.d(e,"FACEBOOK_IA",function(){return y}),i.d(e,"INTERNAL_PASSBACK_NO_PASSBACK",function(){return b}),i.d(e,"iasConnectionIds",function(){return A}),i.d(e,"doubleVerifyConnectionIds",function(){return E}),i.d(e,"comsScoreConnectionIds",function(){return w}),i.d(e,"HEADER_BIDDING_PROVIDERS",function(){return C}),i.d(e,"HEADER_BIDDING_DEBUG",function(){return _});var n=window.SLIDER_WHITELIST||/^(25030|27511|27935|28418|29824|30767|35627|35655|35781|35782|35878|35883|35892|36851|36886|36909|37252|37270|37431|37432|37440|37450|37513|37648|37652|37655|37656|37664|37666|37676|37678|37703|37704|37790|37791|37811|37812|37814|37921|37925|37926|37928|37932|37955|37958|37959|37967|38033|38037|38038|38039|38043|38044|38049|38050|38051|38052|38053|38054|38055|38056|38057|38059|38219|38221|38297|38299|38309|38310|38328|38329|38331|38343|38424|38686|38908|38983|38984|39456|39457|39955|40236|40237|40239|40249|40250|40427|41206|41207|41259|41391|41660|42628|42712|42811|42812|43215|43260|43323|43701|43702|44019|44020|44223|44328|44329|44330|44333|44334|44495|44496|45036|45037|45040|45041|45058|45119|45125|45572|45573|45575|45681|45872|46012|46053|46056|46058|46066|46274|46374|46407|46426|46435|46514|46819|47135|47136|47160|47161|47165|47443|47535|47575|47576|47577|47578|47579|47580|47587|47588|47589|47590|47591|47592|47593|47594|47595|47596|47597|47598|47600|47924|47925|47926|47930|47931|47932|47956|48034|48408|48409|48431|48820|48822|48824|48826|48830|48967|49069|49677|49678|50244|50245|50487|50797|50800|51583|51936|52085|52186|52288|52289|52290|52432|52433|52437|52866|52867|52894|52897|53252|53325|53892|53948|54108|54125|54561|55060|55061|55062|55097|55160|55229|55231|55233|55235|55819|55973|55975|55992|56493|56664|56665|58062|59565|60075|60294|60298|60612|61013|61018|61180|61334|61335|61409|61502|61503|61522|61524|61525|61561|61570|61762|61797|62102|62143|62242|62245|62267|62341|62385|62391|62586|62587|62619|62622|62650|62730|62749|62909|62910|62948|62963|63068|63069|63080|63081|63083|63093|63201|63203|63204|63205|63206|63207|63208|63209|63210|63280|63289|63572|63574|63757|63784|63786|63788|63790|63792|63794|63796|63798|63800|63802|63804|63859|64010|64018|64224|64339|64469|64481|64482|64534|64650|64836|64837|64999|65000|65034|65043|65046|65257|65464|65599|65765|65840|65853|65865|65978|65988|66226|66337|66338|66339|66371|66537|66538|66706|67325|67335|67713)$/,o=/^(19503|19593|19742|20405|20406|20993|21076|21077|21918|22041|22268|22313|22560|23278|23388|23861|23862|24283|24642|24666|24857|24858|24991|24992|24993|24997|24998|24999|25000|25001|25058|25088|25129|25897|26007|26071|26072|26073|26074|26075|26076|26077|26078|26079|26248|26318|26403|26512|26547|26631|26632|26942|27348|27593|27696|28019|28222|28320|28321|28361|28419|28588|28589|28626|28627|28647|28687|28854|29017|29018|29019|29020|29399|29401|29402|29404|29715|29757|29758|29929|29930|29931|30964|30967|31752|31753|31760|31761|31762|31777|31778|31779|32105|32106|32107|32281|32282|32283|32284|32329|32330|32557|32601|32674|32675|32676|32677|33032|33033|33110|33366|33508|33521|33522|33523|33524|33525|33526|33538|33703|33704|33705|33706|33707|33708|33870|33896|33897|33898|33899|34364|34441|34574|34575|34709|34710|34711|34712|34713|34714|34804|34805|34806|34807|34894|34895|35173|35326|35327|35365|35636|35637|35982|35983|35985|35986|36125|36136|36184|36185|36186|36187|36188|36189|36190|36191|36192|36461|36462|36463|36464|36465|36466|36467|36468|36469|36470|36471|36472|36473|36476|36477|36478|36479|36480|36481|36482|36483|36484|36742|36743|36744|36745|36746|37071|37072|37073|37280|37950|37951|38197|38198|38199|38388|38762|38763|38764|38765|38766|39893|39969|40075|41033|41034|41035|41036|41043|41044|41045|41303|41493|41494|41910|41911|41912|41913|41914|41915|42084|42270|42271|42272|42273|42274|42275|42510|42511|42512|42513|42710|42711|42780|42781|42838|42839|42931|43102|43103|43104|43105|43106|43107|43112|43113|43356|43654|43658|43763|43765|43862|43863|43993|43994|43995|44005|44006|44322|44323|44404|44405|44588|45253|45254|45255|45256|45257|45258|45259|45260|45261|45262|45263|45264|45265|45266|45267|45268|45269|45270|45271|45272|45273|45274|45275|45277|45278|45279|45280|45281|45282|45283|45284|45285|45286|45287|45288|45289|45290|45291|45292|45293|45294|45295|45296|45297|45298|45299|45300|45351|45352|45353|45354|45355|45356|45357|45358|45359|45360|45361|45362|45363|45364|45365|45366|45367|45368|45369|45370|45371|45372|45373|45374|45375|45376|45377|45378|45379|45380|45381|45382|45383|45384|45385|45386|45387|45388|45389|45424|45425|45426|45427|45428|45429|45430|45431|45432|45481|45482|45483|45519|45520|45521|45522|45641|45642|45643|45735|45879|45892|45897|45949|45950|45951|45952|45954|45955|45961|45963|45964|46136|46137|46138|46244|46245|46246|46351|46379|46380|46383|46384|46385|46386|46447|46609|46610|46611|46612|46613|46614|46615|46616|46617|46618|46619|46620|46621|46622|46623|46624|46625|46626|46627|46628|46629|46630|46631|46632|46633|46634|46635|46636|46637|46638|46639|46640|46641|46642|46643|46644|46695|46696|46697|46698|46699|46700|46701|46703|46704|46705|46722|46723|46724|46726|46727|46728|46729|46730|46731|46732|46733|46734|46736|46737|46738|46739|46740|46741|46765|46766|46767|46768|46769|46770|46999|47000|47001|47002|47003|47004|47027|47028|47029|47074|47075|47076|47077|47078|47166|47167|47168|47169|47170|47171|47172|47173|47226|47261|47262|47263|47264|47440|47525|47526|47527|47620|47621|47677|47678|47679|47680|47681|47682|47683|47684|47685|47697|47698|47737|47738|47739|47740|47741|47742|47743|47744|47745|47746|47747|47748|47751|47752|47753|47754|47755|47756|47814|47815|47831|47841|47842|47946|47947|47948|47949|47950|47951|47952|47953|47979|47988|48088|48089|48091|48134|48135|48136|48137|48138|48139|48140|48141|48142|48143|48144|48145|48234|48235|48368|48379|48403|48404|48405|48466|48467|48468|48470|48510|48511|48512|48525|48552|48555|48558|48559|48596|48597|48598|48599|48600|48601|48602|48612|48667|48671|48673|48674|48675|48676|48677|48678|48679|48680|48681|48682|48683|48684|48685|48686|48687|48688|48689|48690|48691|48692|48693|48694|48695|48696|48895|48896|48897|48898|48906|48965|49101|49195|49247|49257|49260|49262|49264|49302|49303|49316|49317|49318|49319|49333|49334|49335|49359|49405|49431|49792|49798|49799|50062|50081|50167|50286|50287|50382|50392|50395|50396|50397|50467|50468|50469|50560|50561|50563|50564|50752|50753|51020|51073|51074|51123|51124|51286|51295|51296|51300|51308|51388|51651|51978|52057|52058|52059|52060|52061|52067|52098|52165|52169|52211|52240|52245|52248|52253|52538|52676|52677|52679|52680|52691|52708|52709|52711|52797|52801|52802|52829|52928|52979|53055|53056|53057|53058|53059|53060|53061|53062|53063|53064|53065|53066|53067|53257|53323|53324|53456|53457|53458|53814|53815|53816|53817|53818|53819|53820|53821|53906|53911|53939|53941|53942|54004|54005|54029|54034|54042|54147|54148|54149|54150|54151|54303|54304|54305|54310|54311|54422|54425|54426|54428|54429|54433|54548|54580|54581|54594|54639|54653|54654|54655|54656|54657|54658|54659|54660|54661|54728|54729|54834|54908|54970|54971|55034|55109|55165|55180|55184|55338|55339|55340|55414|55415|55416|55417|55419|55505|55506|55507|55508|55513|55514|55652|55653|55654|55655|55656|55657|55956|56182|56183|56184|56241|56242|56244|56444|56532|56536|56537|56538|56560|56561|56562|56563|56564|56565|56568|56570|56571|56572|56573|56574|56576|56579|56587|56593|56594|56596|56675|56676|56677|56678|56679|56680|56681|56682|56683|56684|56685|56688|56689|56690|56691|56692|56693|56694|56695|56696|56697|56698|56699|56700|56701|56702|56703|56704|56705|56781|56782|56783|56927|56928|56940|57247|57248|57249|57370|57461|57463|57611|58148|58149|58150|58151|58153|58154|58211|58305|58321|58322|58371|58389|58440|58473|58483|58933|58982|59013|59014|59019|59241|59284|59290|59378|59379|59579|59580|59956|59957|59958|59959|59961|59962|59965|59967|59999|60139|60140|60141|60142|60143|60144|60145|60146|60147|61067|61068|61069|61070|61199|61200|61205|61206|61363|61364|61381|61508|61779|61780|61781|61782|61783|61784|61785|61786|61787|61788|61789|61790|61819|61855|61856|61857|62302|62303|62354|62355|62356|62357|62358|62359|62362|62363|62364|62654|62656|62658|62659|62881|63215|63299|63300|63303|63304|63306|63307|63366|63367|63381|63382|63385|63386|63538|63539|63554|63829|63830|63831|63835|63969|63970|63972|64061|64062|64063|64064|64065|64066|64068|64069|64155|64156|64157|64158|64159|64247|64248|64249|64250|64251|64349|64350|64351|64352|64353|64354|64355|64356|64427|64433|64434|64548|64549|64550|64551|64552|64561|64562|64563|64564|64737|64738|64825|64826|64828|64829|64830|64971|64972|65222|65223|65226|65227|65228|65229|65230|65369|65370|65373|65374|65375|65376|65611|65612|65613|65614|65663|65808|65875|65876|65877|65878|65879|65880|65881|65882|65884|65885|65886|65887|65888|65889|65890|65891|65893|65895|65896|65897|65898|65900|65901|65902|65903|65904|65905|65906|65907|66078|66079|66080|66081|66082|66083|66084|66085|66086|66087|66088|66089|66382|66383|66384|66385|66386|66387|66662|66663|66666|66667|66668|66719|66975|66976|67222|67223|67224|67225|67281|67282|67404|67405|67406|67407|67410|67411|67412|67413|67543|67544|67545|67546|67547|67548|67549|67550|67551|67635|67636|67649|67650|67744|67745|67746|67747|67748|67749|68000|68001|68004|68005|68029|68031|68032|68033|68211|68214|68254|68255|68256|68257|68258|68259|68260|68261|68262|68263|68264|68265|68266|68267|68268|68269|68270|68271|68272|68414|68415|68416|68417|68419|68436|68437|68438|68440|68592|68593|68594|68595|68596|68597|68598|68599|68601|68602)$/,r={xs:{className:"xs-screen",size:480},sm:{className:"sm-screen",size:640}},a=new RegExp("/videoplayback/id/(\\w+)/itag/"),s=224,c=640,u=234,d={inread:"inread",inboard:"inboard"},l={native:"native",corner:"corner",top:"top"},p={placementCall:"placementCall",fallback:{integration:"passback-integration",noAd:"passback-noAd"},noSlot:{selector:"noSlot-selector",hbSelector:"hbNoSlot-selector",filter:"noSlot-filter",avoid:"noSlot-avoid",size:"noSlot-size",btf:"noSlot-BTF",minimum:"noSlot-minimum",minimumBelow:"noSlot-minimumBelow",content:"noSlot-content",position:"noSlot-position",videoArticle:"noSlot-videoArticle",videoSlot:"noSlot-videoSlot",imageSlot:"noSlot-imageSlot",safeFrame:"noSlot-safeFrame"},incompatibility:{browser:"incompatibility-browser",context:"incompatibility-context",format:"incompatibility-format",video:"incompatibility-video"},placementCapping:"placementCapping",slotAvailable:"slotAvailable",hbSlotAvailable:"hbSlotAvailable",adNotAvailable:{networkError:"adNotAvailable-networkError",serverError:"adNotAvailable-serverError"},adAvailable:{error:{parseTimeout:"adAvailable-error-parseTimeout",badResponse:"adAvailable-error-badResponse",vast:"adAvailable-error-vast-{code}",settings:"adAvailable-error-settings",sameAd:"adAvailable-error-sameAd"},success:"adAvailable-success"},adCall:"adCall",noAd:{serverError:"noAd-serverError",networkError:"noAd-networkError",notFilled:"noAd-notFilled",vastError:"noAd-vastError-{code}",parseTimeout:"noAd-parseTimeout",settingsError:"noAd-settingsError",badResponse:"noAd-badResponse",sameAd:"noAd-sameAd",ivt:{doubleVerify:"noAd-ivt-doubleVerify",tag:"noAd-ivt-tag"},blockedSite:{doubleVerify:"noAd-blockedSite-doubleVerify"}},ad:"ad",impression:"impression",openExpand:"open-expand",open:"open",visible:"visible",click:"click",ivt:{doubleVerify:"IVT DoubleVerify",tag:"IVT Tag"},blockedSite:{doubleVerify:"BlockedSite DoubleVerify"}},h={placementCall:"f11",noSlot:"f21",incompatibility:"f22",slotAvailable:"f24",adNotAvailable:"f31","adAvailable-error":"f32","adAvailable-success":"f33",adCall:"f41",noAd:"f51",ad:"f52"},f={V1:{"http:":"http://b.scorecardresearch.com/p?C1=1&C2=17198971&C5=01&cs_ucfr=1","https:":"https://sb.scorecardresearch.com/p?C1=1&C2=17198971&C5=01&cs_ucfr=1"},V2:{"http:":"http://b.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr=1","https:":"https://sb.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr=1"},V2SDK:"https://sb.scorecardresearch.com/p?c1=19&c2=17198971&c12=[userId]&ns_ap_pn=[os]&ns_ap_device=[device]&ns_ap_sv=2.1602.11&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]&cs_ucfr=1"},g=16/9,m=0,v=2147483647,y={exitsViewport:"exits_viewport",entersViewport:"enters_viewport",centerExitsViewport:"center_exits_viewport",centerEntersViewport:"center_enters_viewport"},b="teads_internal_passback_no_passback",A=[44476,47237,53517],E=[44477,47236,53518],w=[44481,47234,53519],C=["prebid","debugFormat"],_="debugFormat"},function(t,e,i){function n(t,e,i){t.style[e]=i,e=o(e),t.style["Moz"+e]=i,t.style["webkit"+e]=i,t.style["O"+e]=i,t.style["ms"+e]=i}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function r(){return window.performance?window.performance.now():Date.now()}function a(t,e){for(var i=0,n=t.length;i<n;i++)t[i]=e}function s(t){return t<1?parseFloat(t.toString().substr(0,4)):Math.round(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.applyVendorProperties=n,e.capitalize=o,e.now=r,e.fillArray=a,e.formatBenchTime=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"decode",function(){return c}),i.d(e,"decodeAdParameters",function(){return p}),i.d(e,"jsonParse",function(){return h});var n=i(4),o=i(12),r=i(0),a=i(29),s=i(9),c=function(t){return n.b.of(t).filter(r.isObject).match({some:u,none:d(t)})},u=function(t){return r.isString(t.AdParameters)?l(t.AdParameters):Object(o.b)(t)},d=function(t){return function(){return n.b.of(t).filter(r.isString).match({some:l,none:function(){return Object(o.a)(new Error("adParameters is neither an object or string: "+t))}})}},l=function(t){return h(p(t,a.isBase64,a.decode,decodeURIComponent),s.parse)},p=function(t,e,i,n){return e(t)?i(t):0===t.indexOf("%7B")?n(t):t},h=function(t,e){return o.c.of(function(){return e(t)}).recover(function(){throw new Error("Unable to JSON.parse adParameters string: "+t)})}},function(t,e,i){i.d(e,"a",function(){return o});var n=i(0),o=function(){function t(e,i){this.collectorUrl=e,this.collectorUrl+=this.collectorUrl.indexOf("?")<0?"?":"&",i===t.FORMATTING_TYPES.PIPE_SEPARATE?this.format=t.pipeSeparateData:this.format=t.stringifyData}return t.stringify=function(t){var e;try{e=window.JSON.stringify(t)}catch(i){t.toString&&(e=t.toString())}return e},t.stringifyData=function(e){if(n.isNumber(e)||n.isBoolean(e)||n.isString(e))return String(e);if(e.length)for(var i in e)n.isFunction(e[i])?e.hasOwnProperty(i)&&(e[i]=e[i].toString()):n.isObject(e[i])&&e.hasOwnProperty(i)&&(e[i]=t.stringify(e[i]));else e=t.stringify(e);return e.toString?e.toString():e},t.pipeSeparateData=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i].toString());return e.join("|")},t.prototype.track=function(t,e){void 0===e&&(e="");try{var i=this.collectorUrl+encodeURIComponent(e)+encodeURIComponent(t);(new Image).src=i}catch(t){}},t.FORMATTING_TYPES={JSON:"JSON",PIPE_SEPARATE:"PIPE_SEPARATE"},t}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(){}return t.prototype.fill=function(t){for(var e in t)void 0!==this[e]&&null!==this[e]||(this[e]=t[e])},t.prototype.isSDKBrowser=function(){return"SDK"===this.browser},t}()},function(t,e,i){i.d(e,"a",function(){return g}),i.d(e,"b",function(){return m});var n=i(14),o=i(24),r=i(2),a=i(6),s=i(4),c=i(19),u=i(11),d=i(77),l=i(78),p=i(79),h=i(80),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),g=g||{},m=function(t){function e(e,i,n,f){var g=t.call(this)||this;g.meta=i,g.player=f,g.sumologic=new o.a;var m=Object(a.findParentWindows)(document.body).pop(),v=m===window.top,y=(Object(r.isSafari)()||Object(r.isFacebookWebview)())&&c.isGreaterOrEqual(Object(r.getIosVersion)(),"10");return g.sumologic.init(o.a.CONFIGS.PLAYER,s.b.of(g.player.parameters.pid).orNull()),v&&g.meta.mp4&&("HTML5"===g.player.parameters.type||Object(r.isIpad)()&&c.isGreaterOrEqual(Object(r.getIosVersion)(),"9.2")&&"CANVAS"!==g.player.parameters.type)?(g.api=new h.a(e,i,f,m),g.sumologic.sendInfo("canvas video mp4")):v&&g.meta.mp4&&"CANVAS"!==g.player.parameters.type&&(c.isGreaterThan(Object(r.getIosVersion)(),"9.1")&&c.isLowerThan(Object(r.getIosVersion)(),"10")||y)?(g.api=new d.a(e,i,f,m),g.sumologic.sendInfo("canvas video mp4CT")):g.meta.tv?(g.api=new l.a(e,i,n,f),g.sumologic.sendInfo("canvas video tv")):(g.api=new p.a(e,i,n,f),g.sumologic.sendInfo("canvas video mpeg")),g.api.listen(u.a.CAN_PLAY,function(){return g.dispatch(u.a.CAN_PLAY)}),g.api.listen(u.a.LOADED,function(){return g.dispatch(u.a.LOADED)}),g.api.listen(u.a.STALLED,function(){return g.dispatch(u.a.STALLED)}),g.api.listen(u.a.RESUME_AFTER_STALLED,function(){return g.dispatch(u.a.RESUME_AFTER_STALLED)}),g.api.listen(u.a.TIME_UPDATE,function(){return g.dispatch(u.a.TIME_UPDATE)}),g.api.listen(u.a.ENDED,function(){return g.dispatch(u.a.ENDED)}),g.api.listen(u.a.BENCH_FPS,function(t){return g.dispatch(u.a.BENCH_FPS,t)}),g}return f(e,t),e.prototype.canplay=function(){return this.api.canplay()},e.prototype.play=function(){this.api.play()},e.prototype.pause=function(){this.api.pause()},e.prototype.getCurrentTime=function(){return this.api.getCurrentTime()},e.prototype.setCurrentTime=function(t){return this.api.setCurrentTime(t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this.api.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.api.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoFrames",{get:function(){return this.api.videoFrames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return this.api.averageDecodingTime},enumerable:!0,configurable:!0}),e.prototype.cleanStallTimeout=function(){this.api.cleanStallTimeout()},e}(n.a)},function(t,e,i){var n;!function(t){t[t.SWF=1]="SWF",t[t.JS=2]="JS",t[t.POSTMESSAGE=3]="POSTMESSAGE"}(n||(n={})),e.a=n},function(t,e,i){function n(t){return Number(t.handshakeVersion("2.0"))>=2}function o(t,e){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var o=i[0];switch(e){case a.a.AdClickThru:o={url:i[0],id:i[1],playerHandles:i[2]};break;case a.a.AdError:o={message:i[0],id:i[1]}}t({type:e,data:o})}}function r(t,e){switch(t){case"initAd":if(e>=s.a.LOADING)throw"VPAID already initalized, cannot call initAd twice";break;case"startAd":if(e<s.a.LOADED)throw"VPAID not started, use initAd, and wait for AdLoaded event before call startAd method";if(e>=s.a.STARTING)throw"Ad already started, cannot call startAd twice"}}Object.defineProperty(e,"__esModule",{value:!0}),e.isVPAID2=n,e.createVPAIDEventCallback=o,e.checkVpaidStatus=r;var a=i(5),s=i(26)},function(t,e,i){var n=i(3),o=i(5),r=i(35),a=function(){function t(){this.listeners={},this.listenersScope={}}return t.prototype.subscribe=function(t,e,i){this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this.listenersScope[e]=this.listenersScope[e]||[],this.listenersScope[e].push(i||null)},t.prototype.unsubscribe=function(t,e){if(this.listeners[e]){var i=Object(n.indexOf)(this.listeners[e],t);i>=0&&(this.listeners[e][i]=function(){})}},t.prototype.clearListeners=function(){this.listeners={},this.listenersScope={}},t.prototype.handleEvent=function(t,e){for(var i=this.listeners[t.type]||[],n=0,a=i.length;n<a;n++)try{var s=[];if(t.data)switch(t.type){case o.a.AdClickThru:s=[t.data.url,t.data.id,!!t.data.playerHandles];break;case o.a.AdLog:case o.a.AdError:s="string"==typeof t.data?[t.data,null]:"object"==typeof t.data&&t.data.message?[t.data.message,t.data.id]:[String(t.data),null];break;case o.a.AdInteraction:s=[t.data.id];break;case r.default.AdVideoMetadata:s=[t.data]}i[n].apply(this.listenersScope[t.type][n],s)}catch(i){if(e)throw"failed to log error on callback: "+t.data;this.handleEvent({type:o.a.AdLog,data:"Callback #"+n+" on event "+t.type+" throws an exception: "+i},!0)}},t}();e.a=a},function(t,e,i){function n(t){r=t}function o(t){u=t}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"initAd",function(){return r}),e.setInitAd=n,i.d(e,"startAd",function(){return a}),i.d(e,"stopAd",function(){return s}),i.d(e,"skipAd",function(){return c}),i.d(e,"loadVpaid",function(){return u}),e.setLoadVpaid=o,i.d(e,"postMessageAPI",function(){return d}),i.d(e,"destroy",function(){return l});var r=8e3,a=8e3,s=1e3,c=1e3,u=1e4,d=5e3,l=500},function(t,e,i){i.d(e,"a",function(){return u});var n=i(4),o=i(3),r=i(6),a=i(2),s=i(28),c=i(1),u=function(){function t(e,i,n){var o=this;if(this.win=e,this.onVisible=i,this.onHidden=n,this.prefixes=["","webkit","ms","moz"],this.props=["VisibilityState","visibilitychange","Hidden"],this.isInitialState=!0,this.enabled=!0,this.isAmpVisible=!0,this.eventTimeout=null,this.intervalIABSafeFrame=null,this.intervalFocus=null,this.windows=[],t.logger.debug("init"),this.eventListenerManager=new s.a,a.isAmp()){t.logger.debug("Init AMP visibility plugin");var r=function(e){window.context.hidden&&o.isAmpVisible?(t.logger.debug("AMP visibility, window is hidden, call hidden callback"),o.isAmpVisible=!1,o.onHiddenCallback()):window.context.hidden||o.isAmpVisible||(t.logger.debug("AMP visibility, window is visible, call visibile callback"),o.isAmpVisible=!0,o.onVisibleCallback())};return void this.eventListenerManager.add("amp:visibilitychange",window,r)}if(a.isIABSafeFrame()){var c,u=!0;return void(this.intervalIABSafeFrame=setInterval(function(){c=o.isVisible(),c&&!u?(u=!0,o.onVisibleCallback()):!c&&u&&(u=!1,o.onHiddenCallback())},500))}this.prefix=this.getPrefix(),this.addWindow(this.win),this.visibleWindow=this.win}return t.listenWindow=function(e,i,n){return new t(e,i,n)},t.prototype.destroy=function(){var e=this;try{if(a.isAmp())return void this.eventListenerManager.remove("amp:visibilitychange");a.isIABSafeFrame()&&clearInterval(this.intervalIABSafeFrame),clearInterval(this.intervalFocus),this.eventListenerManager.removeAll(),o.forEach(this.windows,function(t){t.focus(),e.removeWindow(t,!1)}),t.logger.debug("destroy")}catch(e){t.logger.error("Visibility could not be fully destroyed.",e)}finally{this.disable(),this.windows=[]}},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isVisible=function(){return a.isAmp()?this.isAmpVisible:a.isIABSafeFrame()?window.$sf.ext.winHasFocus?window.$sf.ext.winHasFocus():!document.hidden:!!this.visibleWindow},t.prototype.addWindow=function(t){var e=this;-1===o.indexOf(this.windows,t)&&(this.windows.push(t),this.addListener(t,function(){return e.setWindowVisible(t)},function(){return e.setWindowHidden(t)}))},t.prototype.removeWindow=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!0),o.indexOf(this.windows,t)>-1){var n=this.isVisible();i&&this.windows.splice(o.indexOf(this.windows,t),1),e&&n&&!this.isVisible()&&this.onHiddenCallback()}},t.prototype.getWindows=function(){return this.windows},t.prototype.addListener=function(e,i,n){var a=this;try{var s=e.document;if(this.prefixesSupported(s)){var c=function(){s[a.getPrefixedMethodName(a.props[2])]?n():i()};this.eventListenerManager.add(this.getPrefixedMethodName(this.props[1]),s,c)}else if(s.hasFocus)t.logger.debug("Add listener on hasFocus method with an interval of 100ms"),clearInterval(this.intervalFocus),this.intervalFocus=setInterval(function(){s.hasFocus()?i():n()},100);else{var u=r.findParentWindows(this.win.document.body).concat(r.findChildWindows(this.win.document.body,!0));o.forEach(u,function(t){a.addWindow(t)}),t.logger.debug("Add listener on focus and blur events");var d=function(e){t.logger.debug("Exec callback visible"),i()},l=function(i){t.logger.debug("Exec callback hidden"),e===i.target&&n()};e.tt_visibility_visible=d,e.tt_visibility_hidden=l,e.hasOwnProperty("onpageshow")&&(this.eventListenerManager.add("pageshow",e,function(e){t.logger.debug("pageshow event received"),d()}),this.eventListenerManager.add("pagehide",e,function(e){t.logger.debug("pagehide event received"),l(e)})),this.eventListenerManager.add("focus",e,function(e){t.logger.debug("focus event received"),clearTimeout(a.eventTimeout),d()}),this.eventListenerManager.add("blur",e,function(e){t.logger.debug("blur event received"),a.eventTimeout=setTimeout(function(){l(e)},10)})}}catch(t){}},t.prototype.setWindowVisible=function(e){this.isInitialState||this.isVisible()||(this.visibleWindow=e,t.logger.debug("onVisible callback exec"),this.onVisibleCallback())},t.prototype.setWindowHidden=function(e){this.isInitialState=!1,a.isIABSafeFrame()&&this.isVisible()||this.isVisible()&&(this.visibleWindow=null,t.logger.debug("onHidden callback exec"),this.onHiddenCallback())},t.prototype.onVisibleCallback=function(){this.enabled&&this.onVisible()},t.prototype.onHiddenCallback=function(){this.enabled&&this.onHidden()},t.prototype.getPrefixedMethodName=function(t,e){var i=this;return n.b.of(e).orElse(function(){return n.b.of(i.prefix)}).match({some:function(e){return e+t},none:function(){return t.toLowerCase()}})},t.prototype.getPrefix=function(t){t||(t=window.document);for(var e=0,i=this.prefixes.length;e<i;e++){var n=this.getPrefixedMethodName(this.props[2],this.prefixes[e]);if(null!==t[n]&&void 0!==t[n])return this.prefixes[e]}},t.prototype.prefixesSupported=function(t){var e=this;if(a.isDesktop())return!1;var i=!1;return o.forEach(this.props,function(n){i=i||e.getPrefixedMethodName(n,e.prefix)in t}),i},t.logger=new c.a("Visibility"),t}()},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"SUCCESS_CALLBACK_ERROR",function(){return n}),i.d(e,"BUNDLE_ASSET_NOT_EXISTING",function(){return o}),i.d(e,"POSTMESSAGE_SERVER_TIMEOUT",function(){return r}),i.d(e,"POSTMESSAGE_API_NOT_READY",function(){return a}),i.d(e,"POSTMESSAGE_LOAD_VPAID_TIMEOUT",function(){return s}),i.d(e,"GETVPAIDAD_EXCEPTION",function(){return c}),i.d(e,"LOAD_VPAID_FILE_NOT_FOUND",function(){return u}),i.d(e,"LOAD_VPAID_TIMEOUT",function(){return d}),i.d(e,"FLASH_PLUGIN_MISSING",function(){return l}),i.d(e,"FLASH_IO_ERROR",function(){return p}),i.d(e,"FLASH_SECURITY_ERROR",function(){return h}),i.d(e,"FLASH_INIT_ERROR",function(){return f}),i.d(e,"FLASH_UNKNOWN_ERROR",function(){return g});var n={id:100,message:"callback success function throw an exception "},o={id:200,message:"You must specify the bundle asset you want to use with teads.vpaid.BundledContainer.(CANVAS|VIDEO)"},r={id:300,message:"Postmessage server iframe timeout"},a={id:301,message:"API is not ready, before use loadVpaid, you must init the API with the method initAPI"},s={id:302,message:"Timeout Error : Unable to load vpaid , server timeout"},c={id:400,message:"VPAIDJS getVPAIDAd throw an exception"},u={id:500,message:"Unable to load VPAID ad, file doesn't exists"},d={id:501,message:"Unable to load VPAID ad, timeout error"},l={id:600,message:"unable to load swf mediafile, Flash plugin is missing"},p={id:601,message:"flash throw an IOError when loading swf"},h={id:602,message:"flash throw SecurityError, possibly due to crossdomain policy configuration"},f={id:603,message:"flash throw an exception while wrapping the vpaid file"},g={id:604,message:"flash throw an error"}},function(t,e,i){i.d(e,"a",function(){return o}),i.d(e,"b",function(){return r});var n=i(4),o=function(){function t(t){this.businessIds={pid:null,gid:null,sid:null},this.pageId=t.PageId,this.businessIds.pid=t.PlacementId,this.wigo=t.Wigo}return t}(),r=function(){function t(t,e){this.pageId=t,this.placementId=e,this.wigoOption=n.b.empty()}return Object.defineProperty(t.prototype,"PageId",{get:function(){return this.pageId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PlacementId",{get:function(){return this.placementId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Wigo",{get:function(){return this.wigoOption},enumerable:!0,configurable:!0}),t.prototype.setWigo=function(t){return this.wigoOption=n.b.of(t),this},t.prototype.build=function(){return new o(this)},t}()},function(t,e,i){function n(t){return Number(t.getAdDuration())>0?t.getAdDuration()-t.getAdRemainingTime():0}function o(t){return!(t.getAdVolume()>0)}Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentTime=n,e.isMuted=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"get",function(){return c}),i.d(e,"set",function(){return u});var n=i(25),o=i(1),r=i(12),a=i(9),s=new o.a("Store"),c=function(t){return r.c.of(function(){return localStorage.getItem(t)}).recover(function(t){throw s.debug("An error occured while trying to access localStorage: "+t.toString()),t}).toOption().orElse(function(){return n.get(t).recover(function(t){throw s.debug("An error occured while trying to get a cookie: "+t.toString()),t}).toOption()}).flatMap(function(t){return r.c.of(function(){return a.parse(t)}).recover(function(t){throw s.warn("An error occured while trying to deserialize value to JSON: "+t.toString()),t}).toOption()})},u=function(t,e){var i=a.stringify(e);return r.c.of(function(){return localStorage.setItem(t,i)}).recover(function(t){throw s.debug("An error occured while trying to write in localStorage: "+t.toString()),t}).orElse(function(){return n.setAndExpireInOneYear(t,e).recover(function(t){throw s.debug("An error occured while trying to set a cookie: "+t.toString()),t})}).map(function(){})}},function(t,e,i){i.d(e,"a",function(){return o});var n=i(43),o=function(){function t(){this.userDevice=new n.a}return t}()},function(t,e){t.exports='<div class="teads-wigo-btn"><div style="position: absolute; left:0;top:0;padding: 0 4%; border: 1px solid white; color: white; font-size: 10px; text-align: center; font-family: Arial; line-height:16px;"></div><div style="border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; position: absolute; left: 60%; width: 32%; height: 32%; -webkit-animation: wigospin 2s linear infinite; animation: wigospin 2s linear infinite"></div> <style type="text/css"> .teads-wigo-btn { position: fixed; bottom: 10px; right: 10px; z-index: 2147483647; width: 75px; height: 75px; cursor: pointer; background-image: url(\'https://cdn.teads.tv/media/format/v3/assets/default/img/wigo.png?v2\'); transition: right ease 0.2s; } @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { /* Retina */ .teads-wigo-btn { background-size: 75px 75px; background-image: url(\'https://cdn.teads.tv/media/format/v3/assets/default/img/wigo-2x.png\'); } } @-webkit-keyframes wigospin { 0% { -webkit-transform: rotate(0deg);} 100% { -webkit-transform: rotate(360deg);} } @keyframes wigospin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } </style> </div> '},function(t,e,i){function n(t,e){if(e)for(var i in e)t=t.replace(new RegExp(a+i+s,"g"),e[i]);return t}function o(t){var e=/\{\{([^\}]*)\}\}/g,i=/\{\{|\}\}/g,n=t.match(e);if(n){var o=r.map(n,function(t){return t.replace(i,"")});return r.unique(o)}return[]}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"placeholderStartSymbol",function(){return a}),i.d(e,"placeholderEndSymbol",function(){return s}),e.replacePlaceholders=n,e.getPlaceholders=o;var r=i(3),a="{{",s="}}"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"abort",function(){return n}),i.d(e,"canplay",function(){return o}),i.d(e,"canplaythrough",function(){return r}),i.d(e,"durationchange",function(){return a}),i.d(e,"emptied",function(){return s}),i.d(e,"encrypted",function(){return c}),i.d(e,"ended",function(){return u}),i.d(e,"error",function(){return d}),i.d(e,"interruptbegin",function(){return l}),i.d(e,"interruptend",function(){return p}),i.d(e,"loadeddata",function(){return h}),i.d(e,"loadedmetadata",function(){return f}),i.d(e,"loadstart",function(){return g}),i.d(e,"pause",function(){return m}),i.d(e,"play",function(){return v}),i.d(e,"playing",function(){return y}),i.d(e,"progress",function(){return b}),i.d(e,"ratechange",function(){return A}),i.d(e,"seeked",function(){return E}),i.d(e,"seeking",function(){return w}),i.d(e,"stalled",function(){return C}),i.d(e,"suspend",function(){return _}),i.d(e,"timeupdate",function(){return S}),i.d(e,"volumechange",function(){return T}),i.d(e,"waiting",function(){return I});var n="abort",o="canplay",r="canplaythrough",a="durationchange",s="emptied",c="encrypted",u="ended",d="error",l="interruptbegin",p="interruptend",h="loadeddata",f="loadedmetadata",g="loadstart",m="pause",v="play",y="playing",b="progress",A="ratechange",E="seeked",w="seeking",C="stalled",_="suspend",S="timeupdate",T="volumechange",I="waiting"},function(t,e,i){i.d(e,"a",function(){return o});var n=i(24),o=new n.a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(70),o=i(72),r=i(76),a=i(44),s=i(1),c=i(11),u=i(2),d=i(16),l=i(81),p=i(22),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),f=function(t){function e(e,i,n,o){void 0===o&&(o={});var r=t.call(this,e,i,n)||this;return r.parameters=o,r.defaultVolume=0,r.logger=new s.a("canvas.player.CanvasPlayer"),r.audioSyncDiff=.5,r.waitForPlay=!1,r.logger.debug("constructor()",e,i,n,o.assetsPath),r.parameters.assetsPath&&r.parameters.assetsPath.match(/http:|https:/)||(r.logger.warn("assetsPath replace with default (relative path not allow)"),r.parameters.assetsPath=window.location.protocol+"//cdn.teads.tv/media/player"),r}return h(e,t),e.prototype.load=function(t,e,i){var n=this;void 0===e&&(e=!1),void 0===i&&(i=l.a.NO_STREAM),this.logger.debug("load()",t,e,i),this.url=t.replace(/http:|https:/,""),this.dispatch(c.a.LOAD_START),this.getMeta(this.url,function(t){var s=n.url.split("/");s.pop(),n.video=new a.b(s.join("/"),t,i,n),n.audio=new o.a(s.join("/"),t,i,n),n.buffer=new r.a(n),e&&n.listen(c.a.CAN_PLAY,function(){return n.play()}),n.buffer.show(),n.listen(c.a.CAN_PLAY,function(){return n.buffer.hide()}),n.listen(c.a.ENDED,function(){return n.audio.release()}),n.video.listen(c.a.STALLED,function(){return n.dispatch(c.a.STALLED)}),n.video.listen(c.a.STALLED,function(){return n.pause(!0)}),n.video.listen(c.a.RESUME_AFTER_STALLED,function(){return n.dispatch(c.a.RESUME_AFTER_STALLED)}),n.video.listen(c.a.RESUME_AFTER_STALLED,function(){return n.play()}),n.video.listen(c.a.TIME_UPDATE,function(){return n.onVideoProgress()}),n.video.listen(c.a.CAN_PLAY,function(){return n.canPlayAll()}),n.audio.listen(c.a.CAN_PLAY,function(){return n.canPlayAll()}),n.video.listen(c.a.ENDED,function(){return n.dispatch(c.a.ENDED)}),n.video.listen(c.a.LOADED,function(){return n.dispatch(c.a.LOADED)}),n.video.listen(c.a.ERROR,function(){return n.dispatch(c.a.ERROR,{error:"An error occured with the video."})})})},e.prototype.play=function(){var t=this;this.logger.info("play()"),this.canplay()?(this.waitForPlay=!1,this.video.play(),this.audio.play(),this.dispatch(c.a.PLAY),this.dispatch(c.a.PLAYING)):this.waitForPlay||(this.waitForPlay=!0,this.dispatch(c.a.STALLED),this.dispatch(c.a.PAUSE),this.listen(c.a.CAN_PLAY,function(){t.dispatch(c.a.RESUME_AFTER_STALLED),t.play()}))},e.prototype.pause=function(t){void 0===t&&(t=!1),this.video&&this.audio?(this.video.pause(),this.audio.pause(),this.dispatch(c.a.PAUSE),this.logger.info("pause()"),t||this.video.state!==p.a.STALLED||(this.video.cleanStallTimeout(),this.buffer.hide())):(this.muteEvent(c.a.CAN_PLAY),this.waitForPlay=!1)},e.prototype.canplay=function(){return!(!this.video||!this.audio)&&(this.video.canplay()&&this.audio.canplay())},Object.defineProperty(e.prototype,"src",{get:function(){return this.url},set:function(t){this.load(t,!1,l.a.FULL)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.video?this.video.getCurrentTime():0},set:function(t){this.video&&(this.logger.info("set currentTime",t),this.dispatch(c.a.SEEKING),this.video.setCurrentTime(t)&&(this.audio.currentTime=t),this.dispatch(c.a.SEEKED))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.video&&this.audio?this.video.duration||this.audio.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.audio?this.audio.volume:0},set:function(t){var e=this;if(this.logger.debug("set volume",t),this.audio){this.audio.volume=t;this.audio.canplay()&&this.video.state===p.a.PLAYING&&function(){e.audio.play(e.currentTime)}(),this.dispatch(c.a.VOLUME_CHANGE,{value:t})}else this.defaultVolume=t},enumerable:!0,configurable:!0}),e.prototype.onVideoProgress=function(){if(this.audio.api&&this.audio.playing()){var t=this.audio.currentTime-this.currentTime,e=Math.abs(t);e>=this.audioSyncDiff&&(t>0||this.video.meta.tv?this.video.setCurrentTime(this.audio.currentTime)||this.video.setCurrentTime(this.currentTime+this.audioSyncDiff):this.audio.currentTime=this.currentTime,this.logger.debug("sync audio (diff/audioTime)",e,this.audio.currentTime),this.dispatch(c.a.AUDIO_SYNC,{value:e}))}this.dispatch(c.a.TIME_UPDATE)},e.prototype.canPlayAll=function(){this.canplay()&&(this.dispatch(c.a.CAN_PLAY),this.dispatch(c.a.LOADED_METADATA))},e.prototype.getMeta=function(t,e){var i=this,n=Object(d.createXmlHttpRequest)();n.open("GET",t.replace(/(\.mpg|\.mpeg|\.tv)(?!\/)/gi,".meta?v2"),!0),n.responseType="json",n.addEventListener("load",function(t){if(n.response){var o="string"==typeof n.response?JSON.parse(n.response):n.response;!o.tv&&(Object(u.isChromeIos)()||Object(u.isUIWebview)()||Object(u.isFacebookWebview)()||Object(u.isIpad)())?i.dispatch(c.a.ERROR,{error:"The metadata are missing."}):e(o)}else i.dispatch(c.a.ERROR,{error:"No response from the HTTPRequest, did the file exist?"})}),n.addEventListener("error",function(t){i.dispatch(c.a.ERROR,{error:"An error occured with the HTTPRequest."}),i.logger.error.bind(i.logger)}),n.send()},e}(n.a);e.default=f},function(t,e,i){var n=function(){function t(){}return t.READY="ready",t.ERROR="error",t.WAITING="waiting",t}();e.a=n},function(t,e,i){function n(t){return g.filter(t.extensions,function(t){return t.type===C})[0]}function o(t){var e=n(t);if(e){var i=void 0;try{i=JSON.parse(e.content)}catch(t){P.error('"Couldn\'t parse IAS config: "'+t+'"')}if(i.type===E&&i.data.partner&&i.data.advEntityId&&i.data.pubEntityId||i.type===w&&i.data.partner&&i.data.anId)return i}}function r(t){return c(t)||u(t)}function a(t){P.debug("bypass from vast url: "+t);var e=d(t);return e&&e.originalVast&&(e.newVast='<?xml version="1.0" encoding="UTF-8"?>\n        <VAST version="3.0">\n          <Ad id="teads-ias-custom-wrapper">\n          <Wrapper>\n            <AdSystem>Teads - IAS</AdSystem>\n            <VASTAdTagURI><![CDATA['+e.originalVast+']]></VASTAdTagURI>\n            <Extensions>\n              <Extension type="teads-IAS"><![CDATA['+JSON.stringify(e.config)+"]]></Extension>\n            </Extensions>\n          </Wrapper>\n          </Ad>\n        </VAST>",v.b.sendInfo("ias-bypass in vast url done")),e}function s(t){P.debug("bypass from AdParameters");var e=Object(b.htmlDecode)(t.adParameters);Object(m.parse)(e,function(e){var i=d(e.adTagUri);i&&i.originalVast&&(t.extensions.push({type:y.a.TEADS_IAS,content:JSON.stringify(i.config),definition:t,xml:null}),t.adParameters=t.adParameters.replace(Object(b.htmlEncode)(i.iasUrl),Object(b.htmlEncode)(i.originalVast)),v.b.sendInfo("ias-bypass in adParams done"))},function(t,e){P.error("AdParamaters parsing failed: "+t),v.b.sendError("ias-bypass adParams parsing failed")})}function c(t){return I.test(t)}function u(t){return O.test(t)}function d(t){return c(t)?l(t):u(t)?p(t):void 0}function l(t){var e,i=I.exec(t);return i&&(e={config:{type:E,data:{partner:_,advEntityId:i[1],pubEntityId:i[2]}},originalVast:/^((http|https)\:){0,1}\/\//.test(i[3])?i[3]:decodeURIComponent(i[3]),iasUrl:i[0],newVast:null},v.b.sendInfo("ias-bypass fw"+e.config.data.advEntityId+"|"+e.config.data.pubEntityId+"|"+e.originalVast)),e.originalVast=h(e.originalVast),e}function p(t){var e,i=O.exec(t);if(i){var n=A.match(i[0],/anId=(.*?)&/),o=n[1],r=void 0===o?null:o,a=A.match(i[0],/advId=(.*?)&/),s=a[1],c=void 0===s?null:s,u=A.match(i[0],/campId=(.*?)&/),d=u[1],l=void 0===d?null:d,p=A.match(i[0],/pubId=(.*?)&/),f=p[1],g=void 0===f?null:f,m=A.match(i[0],/placementId=(.*?)&/),y=m[1],b=void 0===y?null:y,E=A.match(i[0],/chanId=(.*?)&/),C=E[1],S=void 0===C?null:C,T=A.match(i[0],/planId=(.*?)&/),I=T[1];e={config:{type:w,data:{partner:_,anId:r,advId:c,campId:l,pubId:g,placementId:b,chanId:S,planId:void 0===I?null:I}},originalVast:/^((http|https)\:){0,1}\/\//.test(i[1])?i[1]:decodeURIComponent(i[1]),iasUrl:i[0],newVast:null},v.b.sendInfo("ias-bypass cm"+e.config.data.anId+"|"+e.originalVast)}return e.originalVast=h(e.originalVast),e}function h(t){return T.test(t)?t.split("&")[0]:t}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"IAS_FIREWALL",function(){return E}),i.d(e,"IAS_CAMPAIGN_MONITORING",function(){return w}),i.d(e,"extensionType",function(){return C}),i.d(e,"partnerCode",function(){return _}),i.d(e,"iasRegexp",function(){return S}),e.getExtension=n,e.getIASConfig=o,e.isIASVASTUrl=r,e.bypassVastUrl=a,e.bypassAdParameters=s;var f=i(1),g=i(3),m=i(68),v=i(66),y=i(87),b=i(7),A=i(8),E="fw",w="cm",C="teads-IAS",_="teads",S=/((http|https)\:)?\/\/([^\/]+)\.adsafeprotected\.com\/.*/,T=/(?:(?:http|https)\:)?\/\/adserver\.adtech\.de\/(.*)/,I=/(?:(?:http|https)\:)?\/\/fw\.adsafeprotected\.com\/vast\/fwjsvid\/st\/(\d+)\/(\d+)\/skeleton\.js.*originalVast=(.*)/,O=/(?:(?:http|https)\:)?\/\/pixel\.adsafeprotected\.com\/vast.*anId=\d+.*originalVast=(.*)/,P=new f.a("vast.IAS")},function(t,e,i){i.d(e,"b",function(){return O});var n=i(150),o=i(163),r=i(88),a=i(122),s=i(84),c=i(61),u=i(66),d=i(5),l=i(108),p=i(48),h=i(50),f=i(111),g=i(24),m=i(4),v=i(15),y=i(1),b=i(31),A=i(9),E=i(2),w=i(3),C=i(36),_=i(155),S=i(56),T=i(156),I=i(195),O=new g.a,P=function(){function t(t,e,i){var n=this;this.container=t,this.config=e,this.sessionStore=i,this.logger=new y.a("player.VASTPlayer"),this.plugins={},this.logger.info("new VASTPlayer",this.container,this.config),this.vastLib=new u.a({assetsUrl:this.config.path,replaceIASVPAID:this.config.replaceIASVPAID}),e.disableSumologic||(O.init(g.a.CONFIGS.PLAYER,this.sessionStore.businessIds.pid),O.sendMetadata("2.19.0;"+E.getContextSummary())),this.sessionStore.wigo.forEach(function(t){t.valid(2,0),t.setPlayerContainer(n.container)})}return t.prototype.loadVast=function(t,e,i){this.vastLib.load(t,this.getOnVastLoadedCallback(e),this.getOnVastErrorCallback(i))},t.prototype.parseVast=function(t,e,i){this.vastLib.parse(t,this.getOnVastLoadedCallback(e),this.getOnVastErrorCallback(i))},t.prototype.setLinearAd=function(t){this.linearAd=t,this.vastTracker=new n.a(t,this.sessionStore,O),this.logger.info("setLinearAd",t),this.sessionStore.wigo.forEach(function(e){return e.valid(2,1,t,b.a.infoType.MODAL)})},t.prototype.getLinearAd=function(){return this.linearAd},t.prototype.getMediafile=function(){return this.mediafile},t.prototype.getConfig=function(){return this.config},t.prototype.showCloseButton=function(){this.ui.showComponent("closebutton")},t.prototype.setConfigUI=function(t){this.config.ui=t},t.prototype.getOptimalMediaFile=function(t,e,i){var n=this;return void 0===i&&(i=function(t){return!0}),s.c.getOptimalMediaFile(this.linearAd.mediaFiles,function(o,r){var a=m.b.of(o);a.match({some:function(o){a.filter(i).match({some:function(e){t(e),n.sessionStore.wigo.forEach(function(t){return t.valid(2,2,e.url+r,b.a.infoType.STRING)})},none:function(){n.onVastError(e,v.a.get(v.b.MEDIAFILE_DISPLAY.id,"Mediafile filtered by the custom filter"),n.linearAd),n.sessionStore.wigo.forEach(function(t){return t.valid(2,2,"405 - Mediafile filtered by the custom filter",b.a.infoType.ERROR)})}})},none:function(){var t=v.a.get(v.b.UNSUPPORTED_MEDIAFILE.id,"VASTPlayer.getOptimalMediaFile didn't find mediafile");n.sessionStore.wigo.forEach(function(t){return t.valid(2,2,r,b.a.infoType.ERROR)}),n.onVastError(e,t,n.linearAd)}}),s.c.sendMediasToSumologic(n.linearAd,o?1:0)},this.config)},t.prototype.playOptimalMediaFile=function(t,e,i){var n=this;this.getOptimalMediaFile(function(i){n.playMediaFile(i,t,e)},e,i)},t.prototype.loadOptimalMediaFile=function(t,e,i){var n=this;this.getOptimalMediaFile(function(i){n.loadMediaFile(i,t,e)},e,i)},t.prototype.playMediaFile=function(t,e,i){if(!t){var n=v.a.get(v.b.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.playMediaFile");return this.onVastError(i,n,this.linearAd)}var o=function(t,i){e(t,i),t.subscribe(function(){t.startAd()},d.a.AdLoaded),t.initAd(i.width,i.height,i.mode,i.bitrate,i.parameters)};this.loadMediaFile(t,o,i)},t.prototype.loadMediaFile=function(e,i,n){var u=this,d=function(t){u.onVastError(n,t,u.linearAd)};if(!e)return d(v.a.get(v.b.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.loadMediaFile"));this.mediafile=e;var g=s.c.getMediaProvider(e),m=e.url,y=this.config.width?this.config.width:this.container.offsetWidth,w={width:y,height:this.config.height?this.config.height:s.c.getOptimalHeight(e,y),mode:"normal",bitrate:e.bitrate||512,parameters:this.linearAd.adParameters},O=this.linearAd.clickThrough.length?this.linearAd.clickThrough[0]:null,P=function(t){d(v.a.get(v.b.UNSUPPORTED_MEDIAFILE.id,t))},k=this.config.useCustomVideo||!1,x=!1,L=!!c.getExtension(this.linearAd);switch(g){case a.a.VPAID:if(O=null,"display"===this.config.adType||"native"===this.config.adType)break;"vpaid"===e.api&&e.type.indexOf("javascript")>-1&&(E.isIos()&&!E.isWhiteListedIos10Safari()?k=!0:this.config.type===r.b.CANVAS&&(k=!0),E.cacheCanvasUsed(k));break;case a.a.FLASH:case a.a.JS:case a.a.CANVAS:m=this.config.path+"/"+s.c.getAssetFromMediaProvider(g),g===a.a.JS?m=l.a.VIDEO:g===a.a.CANVAS&&(m=l.a.CANVAS,L&&(m=l.a.VIDEO,k=!0));var R=this.config.path.match("/dist")||0===this.config.path.indexOf("http")?this.config.path.match("/dist")&&0!==this.config.path.indexOf("http")?window.location.protocol+window.location.host+this.config.path:this.config.path:window.location.protocol+this.config.path;x=function(){try{return!u.config.ui.config.components.endscreen.disable}catch(t){return u.logger.error("Couldn't autostop: \""+t+'"'),!1}}(),w.parameters={url:e.url,debug:this.config.debug,clickThrough:O,skippable:this.linearAd.skippable,skipoffset:this.linearAd.skipDelay,assetsPath:R,type:r.b[this.config.type],pid:this.sessionStore.businessIds.pid,noAutoStop:x,timeout:t.MEDIAFILE_TIMEOUT_DELAY},g===a.a.FLASH?w.parameters=A.stringify(w.parameters):w.parameters={AdParameters:A.stringify(w.parameters)},p.setInitAd(t.MEDIAFILE_TIMEOUT_DELAY+2e3);break;case a.a.UNSUPPORTED:default:return P("media not supported "+e.type)}if(g===a.a.FLASH&&!C.hasFlash()||g===a.a.VPAID&&!C.hasFlash()&&e.url.indexOf(".swf")>-1)return P("Flash plugin is required");var D={path:this.config.path,useCustomVideo:k,api:this.config.vpaidApi};p.setLoadVpaid(t.MEDIAFILE_TIMEOUT_DELAY),this.config.background&&(D.background=this.config.background);var N=this.container;if(this.config.ui){var V;if(this.config.ui.template)V=this.config.ui.template;else{if(!_[this.config.ui.name]){var M=v.a.get(v.b.UNDEFINED.id,"VASTPlayer: cannot find template for VPAID-UI");return d(M)}V=S.replacePlaceholders(_[this.config.ui.name],{assetsPath:this.config.path+"/assets"})}this.config.ui.config.showAdChoicesIcon=this.config.adChoicesIconLocation===r.a.IN,this.config.ui.config=this.config.ui.config||{},this.config.ui.config.clickthrough=O,g===a.a.VPAID&&(this.config.ui.config.vpaidUrl=e.url),this.config.ui.config.noAutoStop=x,this.ui&&this.ui.getContainer()&&(this.config.ui.config.container=this.ui.getContainer()),this.ui=new T.a(this.container,V,this.config.ui.config),N=this.ui.getVPAIDContainer(),this.smartPosition=new I.a(this.ui)}var F=new f.a(N,D);this.sessionStore.wigo.forEach(function(t){return F.setWigoi(t)});var U=function(t){u.sessionStore.wigo.forEach(function(t){return t.valid(3,0)}),u.config.ui?(u.ui.setVPAID(t),u.vpaidAd=u.ui):u.vpaidAd=t,u.sessionStore.wigo.forEach(function(t){return u.vpaidAd.setWigoi(t)});for(var n in o)try{var r=o[n];u.plugins[n]&&u.plugins[n].deinit(),u.plugins[n]=new r(u.container,u.config,u.vpaidAd,e,u.linearAd,u.vastTracker),u.plugins[n].init()}catch(t){u.logger.error("Could not initialize plugin "+n,t)}try{i(u.vpaidAd,w)}catch(t){var s=v.a.get(v.b.UNDEFINED.id,"loadMediaFile success callback failled "+t,t);d(s)}u.logger.info("loadMediaFile",a.a[g]),u.sessionStore.wigo.forEach(function(t){return t.valid(2,3,a.a[g],b.a.infoType.STRING)})};F.load(m,U,function(t){var e=v.b.UNDEFINED.id;switch(t.id){case h.GETVPAIDAD_EXCEPTION.id:case h.FLASH_SECURITY_ERROR.id:case h.FLASH_UNKNOWN_ERROR.id:case h.FLASH_INIT_ERROR.id:e=v.b.GENERAL.id;break;case h.LOAD_VPAID_FILE_NOT_FOUND.id:case h.FLASH_IO_ERROR.id:e=v.b.FILE_NOT_FOUND.id;break;case h.LOAD_VPAID_TIMEOUT.id:e=v.b.MEDIAFILE_TIMEOUT.id;break;case h.FLASH_PLUGIN_MISSING.id:e=v.b.UNSUPPORTED_MEDIAFILE.id}var i=t.message||"vpaidloader error";d(v.a.get(e,i))})},t.prototype.getPlugin=function(t){return this.plugins[t]},t.prototype.getPlugins=function(){return this.plugins},t.prototype.hasMoatExtension=function(t){return void 0===t&&(t=this.linearAd),!!t&&w.filter(t.extensions||[],function(t){return"MoatJs"===t.type}).length>0},t.prototype.updateSumologicBusinessIds=function(t){O.fillEmptyBusinessIds(t)},t.prototype.getOnVastLoadedCallback=function(t){var e=this;return function(i){e.setLinearAd(i),t(e.linearAd)}},t.prototype.getOnVastErrorCallback=function(t){var e=this;return function(i,n){e.setLinearAd(n),e.onVastError(t,i,n)}},t.prototype.onVastError=function(t,e,i){this.vastTracker.trackError(m.b.of(this.mediafile),e),t(e,i)},t.MEDIAFILE_TIMEOUT_DELAY=15e3,t}();e.a=P},function(t,e,i){function n(t,e,i,n){Object.defineProperty(t,e,function(){var t={enumerable:!0,configurable:!0,get:function(){return i.call(this)},set:function(t){}};return n&&(t.set=function(t){n.call(this,t)}),t}())}Object.defineProperty(e,"__esModule",{value:!0}),e.defineProperty=n},function(t,e,i){i.d(e,"b",function(){return w}),i.d(e,"a",function(){return C}),i.d(e,"e",function(){return _}),i.d(e,"c",function(){return S}),i.d(e,"d",function(){return T});var n=i(133),o=i(103),r=i(134),a=i(135),s=i(136),c=i(137),u=i(104),d=i(138),l=i(105),p=i(140),h=i(141),f=i(114),g=i(142),m=i(143),v=i(144),y=i(145),b=i(83),A=i(146),E=i(167),w={fullscreenbutton:n.a,mutebutton:o.a,progressbar:r.a,playpausebutton:a.a,progresstext:s.a,skipbutton:c.a,closebutton:u.b,uibutton:d.a,textfield:l.a,clicktoplay:p.a,clickbutton:h.a,soundbutton:f.b,label:g.a,credits:m.a,endscreen:v.a,brandlogo:y.a,countdown:b.a,startscreen:A.a,adchoices:E.a},C="teads-ui-component-",_="vpaid-container",S="main-container",T="layout-video-component"},function(t,e,i){i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var n=i(0),o=i(4),r=function(){function t(t){void 0===t&&(t={}),this.protocol=Object(n.getProtocol)(),this.basePathUrl=this.protocol+"//cdn.teads.tv/media/format/v3",this.assetsUrl=this.basePathUrl+"/assets",this.richAdServerUrl=this.protocol+"//a.teads.tv/page/{id}/ad",this.buyingEngineUrl=this.protocol+"//be-ss.teads.tv/get",this.trackingUrl=this.protocol+"//t.teads.tv/track",this.userSyncUrl=this.protocol+"//sync.teads.tv/iframe",this.isSumologicLogsEnabled=!0,this.isRichAdServerRequestEnabled=!0,this.isIasBypassEnabled=!0,this.richAdServerRequestTimeout=5e3,this.timestampMacroNames=["[RANDOM]","[RANDOMNUM]","[TIMESTAMP]","[CACHE_BREAKER]","[CACHEBREAKER]","[CACHEBUSTING]","[CACHE_BUSTING]","[CACHEBUSTER]","[CACHE_BUSTER]"],this.refresh(t)}return t.prototype.refresh=function(t){var e=this;void 0===t&&(t={}),o.b.of(t.ASSETS_URL).forEach(function(t){e.basePathUrl=t,e.assetsUrl=t+"/assets"}),o.b.of(t.RAS_URL).forEach(function(t){return e.richAdServerUrl=t}),o.b.of(t.BE_URL).forEach(function(t){return e.buyingEngineUrl=t}),o.b.of(t.TRACKING_URL).forEach(function(t){return e.trackingUrl=t}),o.b.of(t.USER_SYNC_URL).forEach(function(t){return e.userSyncUrl=t}),o.b.of(t.SUMOLOGIC_ENABLED).forEach(function(t){return e.isSumologicLogsEnabled=t}),o.b.of(t.WITH_RAS_REQUEST).forEach(function(t){return e.isRichAdServerRequestEnabled=t}),o.b.of(t.WITH_IAS_BYPASS).forEach(function(t){return e.isIasBypassEnabled=t})},t}(),a=new r(window.teads)},function(t,e,i){i.d(e,"b",function(){return d}),i.d(e,"a",function(){return l});var n=i(1),o=i(24),r=i(67),a=i(15),s=i(113),c=i(68),u=i(61),d=new o.a,l=function(){function t(e){this.config=e,this.logger=new n.a("vast.VASTLib"),this.logger.debug("new",this),this.wrappersLimit=this.config.wrappersLimit||t.WRAPPERS_LIMIT}return t.prototype.load=function(t,e,i){this.processVast(!0,t,e,i)},t.prototype.parse=function(t,e,i){this.processVast(!1,t,e,i)},t.prototype.processVast=function(t,e,i,n){var o=Date.now(),a=function(t){var e=Date.now()-o;try{window.teads.player.playerSumologic.sendInfo("parse "+t.wrappers.length+" "+e)}catch(t){}i(t)},s=function(t,e){n(t,e)};t?this.loadXml(new r.a,e,a,s):this.parseXml(new r.a,e,a,s)},t.prototype.loadXml=function(t,e,i,n){var o=this;if(t.url||(t.url=e),this.config.replaceIASVPAID&&u.iasRegexp.test(e)&&Object(u.isIASVASTUrl)(e)){var r=Object(u.bypassVastUrl)(e);if(r)return t.mediaFiles=[],t.adParameters=null,this.parseXml(t,r.newVast,i,n)}Object(s.load)(e,this.config,function(e){o.parseXml(t,e,i,n)},n)},t.prototype.parseXml=function(t,e,i,n){var o=this;Object(c.parse)(e,function(e){if(t.merge(e),e.adTagUri)t.wrappers.length>o.wrappersLimit?n(new a.b(a.b.WRAPPER_LIMIT),t):(o.logger.info("load wrapper",e.adTagUri),o.loadXml(t,e.adTagUri,i,function(e,i){n(e,t)}));else if(o.config.replaceIASVPAID&&u.iasRegexp.test(t.adParameters)&&Object(u.isIASVASTUrl)(t.adParameters)&&Object(u.bypassAdParameters)(t),0===t.mediaFiles.length){var r=a.a.get(a.b.WRAPPER.id,"empty mediafiles in VAST definition");o.logger.error(r.getFullMessage()),n(r,t)}else i(t)},function(e,i){t.merge(i),n(e,t)})},t.TIMEOUT=7e3,t.WRAPPERS_LIMIT=10,t}()},function(t,e,i){i.d(e,"a",function(){return r});var n=i(4),o=i(90),r=function(){function t(){this.version=2,this.tracking=new o.a,this.clickThrough=[],this.adChoicesIconClickThrough=n.a,this.mediaFiles=[],this.title="",this.wrappers=[],this.skippable=!1,this.skipDelay=0,this.extensions=[]}return t.prototype.merge=function(t){t.version&&this.version<t.version&&(this.version=t.version),!this.url&&t.url&&(this.url=t.url),!this.title&&t.title&&(this.title=t.title),!this.adSystem&&t.adSystem&&(this.adSystem=t.adSystem),!this.id&&t.id&&(this.id=t.id),!this.creativeId&&t.creativeId&&(this.creativeId=t.creativeId),!this.duration&&t.duration&&(this.duration=t.duration),!this.adParameters&&t.adParameters&&(this.adParameters=t.adParameters),t.adTagUri&&this.wrappers.push(t.adTagUri);var e,i;for(var n in t.tracking)for(e=0,i=t.tracking[n].length;e<i;e++)"adChoices"!==n&&this.tracking[n].push(t.tracking[n][e]);for(this.adChoicesIconClickThrough.isEmpty()&&!t.adChoicesIconClickThrough.isEmpty()&&(this.adChoicesIconClickThrough=t.adChoicesIconClickThrough,this.tracking.adChoices=t.tracking.adChoices),e=0,i=t.mediaFiles.length;e<i;e++)this.mediaFiles.push(t.mediaFiles[e]);for(e=0,i=t.clickThrough.length;e<i;e++)this.clickThrough.push(t.clickThrough[e]);for(e=0,i=t.extensions.length;e<i;e++)this.extensions.push(t.extensions[e]);!this.skippable&&t.skippable&&(this.skippable=!0,this.skipDelay=t.skipDelay)},t}()},function(t,e,i){function n(t,e,i){var n=new D.a;O.c.of(function(){var w=N.getXMLDoc(t).documentElement;if("VAST"!==w.tagName)return i(new L.b(L.b.XML_PARSE),n);n.tracking.error=n.tracking.error.concat(o(w)),r(w).match({none:function(){i(new L.b(L.b.NO_ADS),n)},some:function(t){if(n.version=a(w),n.version<2)return i(new L.b(L.b.UNSUPPORTED_VERSION),n);n.creativeId=s(t).getOrElse(function(){return""});var o=u(t);if(!c(t)&&o.isEmpty())return i(new L.b(L.b.LINEARITY),n);n.id=d(t),n.adTagUri=l(t),n.title=p(t),n.adSystem=h(t);var r=x.map(f("ClickThrough",t),function(t){return t.url});n.clickThrough=n.clickThrough.concat(r),n.tracking.impression=n.tracking.impression.concat(f("Impression",t)),n.tracking.click=n.tracking.click.concat(f("ClickTracking",t)),o.forEach(function(t){var e=g(t);n.adChoicesIconClickThrough=e.clickThrough,n.tracking.adChoices=n.tracking.adChoices.concat(e.trackings);var i=m(t);n.skippable=v(i),n.skipDelay=y(i),n.duration=b(t),n.adParameters=A(t);var o=_(t,n.duration);for(var r in o)o.hasOwnProperty(r)&&(E(r)&&n.tracking.hasOwnProperty(r)?n.tracking[r]=n.tracking[r].concat(o[r]):V.warn('Could not add tracking resource as the VAST event "'+r+'" is not supported.'));n.mediaFiles=S(t,n.adParameters)}),n.extensions=T(t,n),e(n)}})}).recover(function(t){var e=L.a.get(L.b.UNDEFINED.id,"VASTParser.parse error",t);i(e,n)})}function o(t){var e=x.map(x.fromArrayLike(t.getElementsByTagName("Error")),function(t){return{url:N.getNodeContent(t),data:null}});return x.filter(e,function(t){return!!t.url})}function r(t){return I.b.of(t.getElementsByTagName("Ad")[0])}function a(t){return parseInt(N.getAttributeValue(t,"version"),10)}function s(t){return I.b.of(t.getElementsByTagName("Creative")[0]).map(function(t){return N.getAttributeValue(t,"id")||N.getAttributeValue(t,"adID")})}function c(t){return!!t.getElementsByTagName("Wrapper").length}function u(t){return I.b.of(t.getElementsByTagName("Linear")[0])}function d(t){return N.getAttributeValue(t,"id")}function l(t){return N.getNodeContent(t.getElementsByTagName("VASTAdTagURI")[0])}function p(t){return N.getNodeContent(t.getElementsByTagName("AdTitle")[0])}function h(t){return N.getNodeContent(t.getElementsByTagName("AdSystem")[0])}function f(t,e){var i=x.fromArrayLike(e.getElementsByTagName(t));return x.map(i,function(t){return{url:N.getNodeContent(t),data:null}})}function g(t){return I.b.of(t.getElementsByTagName("Icon")[0]).map(function(t){return t.getElementsByTagName("IconClicks")[0]}).map(function(t){return{iconClick:t,iconClickThrough:t.getElementsByTagName("IconClickThrough")[0]}}).map(function(t){var e=t.iconClick,i=t.iconClickThrough;return{clickThrough:I.b.of(N.getNodeContent(i)),trackings:x.map(x.fromArrayLike(e.getElementsByTagName("IconClickTracking")),function(t){return{url:N.getNodeContent(t),data:null}})}}).getOrElse(function(){return{clickThrough:I.a,trackings:[]}})}function m(t){return k.seconds(N.getAttributeValue(t,"skipoffset"))}function v(t){return!isNaN(t)}function y(t){return t||0}function b(t){return k.seconds(N.getNodeContent(t.getElementsByTagName("Duration")[0]))}function A(t){return N.getNodeContent(t.getElementsByTagName("AdParameters")[0])}function E(t){return x.includes(M,t)}function w(t,e){return Object(k.isString)(t)?t.indexOf(":")>0?I.b.of(k.seconds(t)):I.b.of(R.trim(t).match(/^([0-9\.]+)%$/)).map(function(t){return e*parseInt(t[1],10)/100}):I.a}function C(t,e){var i=N.getAttributeValue(t,"offset");return w(i,e).map(function(e){return{event:"progress",tracking:{url:N.getNodeContent(t),data:e}}}).orElse(function(){return V.error("Wrong offset for progress tracking: "+i),I.a})}function _(t,e){var i=x.fromArrayLike(t.getElementsByTagName("Tracking")),n=function(t){var i=N.getAttributeValue(t,"event");return"progress"===i?C(t,e):Object(I.c)({event:i,tracking:{url:N.getNodeContent(t),data:null}})},o=function(t,e){return e.forEach(function(e){t[e.event]||(t[e.event]=[]),t[e.event].push(e.tracking)}),t},r=x.filter(x.map(i,n),function(t){return t.nonEmpty()});return x.reduce(r,o,{})}function S(t,e){var i=x.fromArrayLike(t.getElementsByTagName("MediaFile"));return x.map(i,function(t){var i=N.getAttributeValue(t,"type");return{type:i,url:N.getNodeContent(t),width:parseInt(N.getAttributeValue(t,"width"),10),height:parseInt(N.getAttributeValue(t,"height"),10),delivery:N.getAttributeValue(t,"delivery"),bitrate:parseInt(N.getAttributeValue(t,"bitrate"),10),api:N.getAttributeValue(t,"apiFramework"),scalable:!!N.getAttributeValue(t,"scalable"),minBitrate:parseInt(N.getAttributeValue(t,"minBitrate"),10),maxBitrate:parseInt(N.getAttributeValue(t,"maxBitrate"),10),maintainAspectRatio:!!N.getAttributeValue(t,"maintainAspectRatio"),codec:N.getAttributeValue(t,"codec"),adParameters:/(javascript|flash)/g.test(i)?e:null}})}function T(t,e){var i=JSON.parse(JSON.stringify(e)),n=x.fromArrayLike(t.getElementsByTagName("Extension"));return x.map(n,function(t){return{type:N.getAttributeValue(t,"type"),content:N.getNodeContent(t),xml:t,definition:i}})}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"logger",function(){return V}),i.d(e,"SUPPORTED_EVENTS",function(){return M}),e.parse=n,e.getErrorTrackings=o,e.extractAd=r,e.getVastVersion=a,e.extractCreativeId=s,e.isWrapper=c,e.extractFirstLinearNode=u,e.getAdId=d,e.getVastAdTagUri=l,e.getAdTitle=p,e.getAdSystem=h,e.getTrackingsFor=f,e.getAdChoicesIconTrackings=g,e.getSkipOffset=m,e.isSkippable=v,e.getSkipDelay=y,e.getDuration=b,e.getAdParameters=A,e.isVastEventSupported=E,e.transformProgressOffset=w,e.handleProgressTracking=C,e.getTrackingsByEvent=_,e.getMediaFiles=S,e.getExtensions=T;var I=i(4),O=i(12),P=i(1),k=i(0),x=i(3),L=i(15),R=i(8),D=i(67),N=i(112),V=new P.a("vast.VASTParser"),M=["acceptInvitation","acceptInvitationLinear","adChoices","billable","click","close","closeLinear","collapse","complete","creativeView","customClicks","error","exitFullscreen","expand","firstQuartile","fullscreen","impression","midpoint","mute","noAd","noLinearAd","otherAdInteraction","pause","progress","resume","rewind","skip","start","thirdQuartile","unmute"]},function(t,e,i){var n=(i(151),i(15)),o=i(6),r=i(4),a=i(2),s=i(38),c=i(0),u=i(57),d=i(82),l=i(50),p=i(97),h=i(48),f=i(45),g=i(5),m=i(46),v=i(35),y=i(164),b=(i.n(y),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.loadVpaid=function(t,e,i){var n=this;this.url=t,this.mainContainer=document.createElement("div"),this.mainContainer.style.position="relative",this.container.appendChild(this.mainContainer),this.creativeContainer=o.createIframe(),this.creativeContainer.id="vpaid-"+this.id,this.mainContainer.appendChild(this.creativeContainer);var r=o.getWindow(this.mainContainer),a=!1,s=function(t){r[n.callbackName]=function(){},i(t),n.destroy()};this.callbackName="vpaidjsload_"+this.id,r[this.callbackName]=function(t){if(a=!0,clearTimeout(n.loadTimeoutId),r[n.callbackName]=function(){},t){try{n.vpaid=n.creativeContainer.contentWindow.getVPAIDAd()}catch(t){var i=l.GETVPAIDAD_EXCEPTION;return i.message+=" "+t,s(i)}n.logger.info("getVPAIDAd - Retrieve ad from creative"),n.creativeContainer.contentWindow.teads=n.creativeContainer.contentWindow.teads||{},n.creativeContainer.contentWindow.teads.api=n.config.api,e(n.vpaid)}else s(l.LOAD_VPAID_FILE_NOT_FOUND)};var c='\n      <!DOCTYPE html>\n      <html>\n        <body style="margin:0px;padding:0px;overflow:hidden">\n          <script type="text/javascript">\n            var target = window.parent;\n            var script = document.createElement("script");\n            script.onload = function() {\n              target["'+this.callbackName+'"](true)\n            };\n            script.onerror = function() {\n              target["'+this.callbackName+'"](false)\n            };\n            script.async = true;\n            script.src = "'+t+'";\n            document.body.appendChild(script);\n          <\/script>\n          <div id="video-container"\n            style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+this.backgroundColor+'">\n          </div>\n          <div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div>\n        </body>\n      </html>\n    ';this.creativeContainer.contentWindow.document.write(c),this.creativeContainer.contentWindow.document.close(),this.vpaidContainer=this.creativeContainer.contentWindow.document.getElementById("vpaid-container"),this.videoContainer=this.creativeContainer.contentWindow.document.getElementById("video-container"),this.loadTimeoutId=setTimeout(function(){a||s(l.LOAD_VPAID_TIMEOUT)},h.loadVpaid)},e.prototype.getEnvironmentVars=function(t){var e=this;return void 0===t&&(t={}),r.b.of(this.environmentVars).getOrElse(function(){return e.environmentVars=Object(c.extendWithoutNull)({slot:e.vpaidContainer,videoSlot:e.initVideo(e.creativeContainer.contentWindow,e.config.useCustomVideo&&window.teads.video.HTMLVideoCanvas),videoSlotCanAutoPlay:!0},t)})},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.mainContainer&&this.mainContainer.parentNode&&(this.mainContainer.parentNode.removeChild(this.mainContainer),this.mainContainer=null,this.videoContainer=null)},e.prototype.resize=function(t,e){if(this.currentWidth=t,this.currentHeight=e,this.mainContainer&&(this.mainContainer.style.width=t+"px",this.mainContainer.style.height=e+"px"),this.creativeContainer&&(this.creativeContainer.style.setProperty("width",t+"px","important"),this.creativeContainer.style.setProperty("height",e+"px","important")),this.videoContainer){this.videoContainer.style.width=t+"px",this.videoContainer.style.height=e+"px";var i=this.videoContainer.getElementsByTagName("video")[0];i&&(i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px")}this.vpaidContainer&&(this.vpaidContainer.style.width=t+"px",this.vpaidContainer.style.height=e+"px")},e.prototype.setBackground=function(e){t.prototype.setBackground.call(this,e),this.videoContainer&&(this.videoContainer.style.backgroundColor=this.backgroundColor)},e.prototype.getType=function(){return f.a.JS},e.prototype.registerVPAIDEventHandler=function(t){this.callback=t;for(var e in g.a)this.vpaid.subscribe(Object(m.createVPAIDEventCallback)(t,e),e,this);for(var e in v.default)this.vpaid.subscribe(Object(m.createVPAIDEventCallback)(t,e),e,this)},e.prototype.overrideCreateElement=function(t){window.originalCreateElement=this.creativeContainer.contentDocument.createElement;var e=this;this.creativeContainer.contentDocument.createElement=function(i){return"video"===i.toLowerCase()?(e.logger.debug("createElement overriden for",i),t):window.originalCreateElement.call(e.creativeContainer.contentDocument,i)}},e.prototype.initVideo=function(t,e){var i=e?this.initCustomVideo(t):this.initClassicVideo(t);return(e||a.isWhiteListedIos10Safari())&&this.overrideCreateElement(i),this.videoContainer.appendChild(i),this.resize(this.currentWidth,this.currentHeight),i},e.prototype.initCustomVideo=function(t){var e=this;t.document.registerElement=t.document.registerElement||document.registerElement,t.teads=t.teads||window.teads,t.teads.video=window.teads.video;var i=new t.teads.video.HTMLVideoCanvas;return i.addEventListener(u.error,function(t){if(e.logger.error("receive video error event",t,i.error),e.callback){e.logger.debug("callback ready to handle video error");var o=i.error&&i.error.code===d.a.MEDIA_ERR_NETWORK?"MediaProxy not ready":"unknow video error";e.logger.error(o),e.callback(new g.a(g.a.AdError,{message:o,id:n.b.UNSUPPORTED_MEDIAFILE.id}))}else e.logger.error("callback not ready to handle video error")},!1),i},e.prototype.initClassicVideo=function(t){var e=t.document.createElement("video");return e.setAttribute("webkit-playsinline","true"),e.setAttribute("playsinline","true"),e.setAttribute("muted","true"),a.isAndroid()&&a.isChromeWebView()&&e.setAttribute("poster",s.base64TransparentPixel),e},e}(p.a);e.a=A},function(t,e,i){var n=i(71),o=i(14),r=i(11),a=i(40),s=i(1),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=new s.a("Canvas"),d=function(t){function e(e,i,n){var o=t.call(this)||this;return o.container=e,o.cWidth=i,o.cHeight=n,o.totalPrintingTime=0,o.totalPrintedFrame=0,o.canvas=document.createElement("canvas"),o.canvas.width=i,o.canvas.height=n,o.canvas.style.background="#000",o.canvasContext=o.canvas.getContext("2d"),e.appendChild(o.canvas),o.initWebGL(),o}return c(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this.cWidth},set:function(t){this.cWidth=t,this.resize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.cHeight},set:function(t){this.cHeight=t,this.resize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoHeight",{get:function(){return this._videoHeight},set:function(t){this._videoHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"videoWidth",{get:function(){return this._videoWidth},set:function(t){this._videoWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.html5video?this.html5video.parentNode:this.canvas.parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.html5video?this.html5video.style:this.canvas.style},enumerable:!0,configurable:!0}),e.prototype.useCustomDisplay=function(t){this.html5video=t,this.canvas.parentNode.replaceChild(t,this.canvas),this.resize()},e.prototype.resize=function(t,e){this.html5video?this.resizeHtml5(t,e):this.resizeCanvas(t,e),this.dispatch(r.a.RESIZE,{width:this.width,height:this.height})},e.prototype.resizeCanvas=function(t,e){t&&(this.canvas.width=this.decoderWidth=t),e&&(this.canvas.height=this.decoderHeight=e);var i=this.cWidth/this.canvas.width,n=this.cHeight/this.canvas.height,o=parseInt(Math.max((this.cHeight-this.canvas.height*i)/2,0).toFixed(2),10),r=parseInt(Math.max((this.cWidth-this.canvas.width*n)/2,0).toFixed(2),10),s=Math.min(i,n);Object(a.applyVendorProperties)(this.canvas,"transformOrigin","0 0"),Object(a.applyVendorProperties)(this.canvas,"transform","translateX("+r+"px) translateY("+o+"px) scale("+s+")"),t&&e&&(this.gl?(this.gl.useProgram(this.program),this.gl.viewport(0,0,t,e)):(this.currentRGBA=this.canvasContext.getImageData(0,0,t,e),Object(a.fillArray)(this.currentRGBA.data,255)))},e.prototype.resizeHtml5=function(t,e){this.html5video.style.width=this.width+"px",this.html5video.style.height=this.height+"px"},e.prototype.renderFrame=function(t){var e=Object(a.now)();this.gl?this.renderFrameGL(t):this.renderFrame2D(t),this.totalPrintingTime+=Object(a.now)()-e,this.totalPrintedFrame++},e.prototype.renderHtmlImageElement=function(t){var e=Object(a.now)();this.canvasContext.drawImage(t,0,0),this.totalPrintingTime+=Object(a.now)()-e,this.totalPrintedFrame++},e.prototype.averagePrintingTime=function(){return this.totalPrintingTime/this.totalPrintedFrame},e.prototype.initWebGL=function(){try{this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")}catch(t){return u.error('Unable to get a WebGL context: "'+t+'"'),!1}if(!this.gl)return!1;var t=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),this.gl.STATIC_DRAW),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.compileShader(this.gl.VERTEX_SHADER,n.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.program,this.compileShader(this.gl.FRAGMENT_SHADER,n.SHADER_FRAGMENT_YCBCRTORGBA)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error(this.gl.getProgramInfoLog(this.program));this.gl.useProgram(this.program),this.YTexture=this.createTexture(0,"YTexture"),this.CBTexture=this.createTexture(1,"CBTexture"),this.CRTexture=this.createTexture(2,"CRTexture");var e=this.gl.getAttribLocation(this.program,"vertex");return this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0),this.loadingProgram=this.gl.createProgram(),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.VERTEX_SHADER,n.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.FRAGMENT_SHADER,n.SHADER_FRAGMENT_LOADING)),this.gl.linkProgram(this.loadingProgram),this.gl.useProgram(this.loadingProgram),e=this.gl.getAttribLocation(this.loadingProgram,"vertex"),this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0),!0},e.prototype.renderFrameGL=function(t){this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.YTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.codedWidth,this.canvas.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentY),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CBTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCr),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CRTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCb),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},e.prototype.compileShader=function(t,e){var i=this.gl.createShader(t);if(this.gl.shaderSource(i,e),this.gl.compileShader(i),!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS))throw new Error(this.gl.getShaderInfoLog(i));return i},e.prototype.createTexture=function(t,e){var i=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.uniform1i(this.gl.getUniformLocation(this.program,e),t),i},e.prototype.YCbCrToRGBA=function(t){for(var e,i,n,o,r,a=t.currentY,s=t.currentCb,c=t.currentCr,u=this.currentRGBA.data,d=0,l=t.codedWidth,p=t.codedWidth+(t.codedWidth-this.decoderWidth),h=0,f=t.halfWidth-(this.decoderWidth>>1),g=0,m=4*this.decoderWidth,v=4*this.decoderWidth,y=this.decoderWidth>>1,b=this.decoderHeight>>1,A=0;A<b;A++){for(var E=0;E<y;E++){e=s[h],i=c[h],h++,n=i+(103*i>>8)-179,o=(88*e>>8)-44+(183*i>>8)-91,r=e+(198*e>>8)-227;var w=a[d++],C=a[d++];u[g]=w+n,u[g+1]=w-o,u[g+2]=w+r,u[g+4]=C+n,u[g+5]=C-o,u[g+6]=C+r,g+=8;var _=a[l++],S=a[l++];u[m]=_+n,u[m+1]=_-o,u[m+2]=_+r,u[m+4]=S+n,u[m+5]=S-o,u[m+6]=S+r,m+=8}d+=p,l+=p,g+=v,m+=v,h+=f}},e.prototype.renderFrame2D=function(t){this.YCbCrToRGBA(t),this.canvasContext.putImageData(this.currentRGBA,0,0)},e}(o.a);e.a=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"SHADER_FRAGMENT_YCBCRTORGBA",function(){return n}),i.d(e,"SHADER_FRAGMENT_LOADING",function(){return o}),i.d(e,"SHADER_VERTEX_IDENTITY",function(){return r});var n=["precision mediump float;","uniform sampler2D YTexture;","uniform sampler2D CBTexture;","uniform sampler2D CRTexture;","varying vec2 texCoord;","void main() {","float y = texture2D(YTexture, texCoord).r;","float cr = texture2D(CBTexture, texCoord).r - 0.5;","float cb = texture2D(CRTexture, texCoord).r - 0.5;","gl_FragColor = vec4(","y + 1.4 * cr,","y + -0.343 * cb - 0.711 * cr,","y + 1.765 * cb,","1.0",");","}"].join("\n"),o=["precision mediump float;","uniform float loaded;","varying vec2 texCoord;","void main() {","float c = ceil(loaded-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),r=["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},function(t,e,i){var n=i(14),o=i(73),r=i(75),a=i(11),s=i(2),c=i(0),u=i(19),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.baseUrl=e,r.meta=i,r.stream=n,r.player=o,i.audio.length&&r.init(),r}return d(e,t),e.prototype.authorizeAudio=function(t){this.api?this.api.authorizeAudio(t):t()},e.prototype.play=function(t){void 0===t&&(t=0),this.api&&this.api.play(t)},e.prototype.pause=function(){this.api&&this.api.pause()},Object.defineProperty(e.prototype,"duration",{get:function(){return this.api?this.api.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.api?this.api.currentTime:0},set:function(t){this.api&&(this.api.currentTime=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.api?this.api.volume:0},set:function(t){this.api&&(this.api.volume=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return!this.api||this.api.authorized},enumerable:!0,configurable:!0}),e.prototype.canplay=function(){return!this.api||this.api.canplay()},e.prototype.playing=function(){return!!this.api&&this.api.playing()},e.prototype.release=function(){this.api&&this.api.release()},e.prototype.init=function(){var t=this;(Object(s.isAndroid)()||Object(u.isGreaterOrEqual)(Object(s.getIosVersion)(),"9.1")&&this.meta.infos.audio_size<4e5)&&Object(c.getAudioContext)()?this.api=new o.a(this.baseUrl,this.meta,this.stream,this.player.defaultVolume):this.api=new r.a(this.baseUrl,this.meta,this.player.defaultVolume),this.api.listen(a.a.CAN_PLAY,function(){return t.dispatch(a.a.CAN_PLAY)})},e}(n.a);e.a=l},function(t,e,i){var n=i(2),o=i(1),r=i(0),a=i(14),s=i(11),c=i(74),u=i(22),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e,i,a,d){void 0===d&&(d=0);var l=t.call(this)||this;l.baseUrl=e,l.meta=i,l.stream=a,l.aVolume=d,l.estimatedDuration=0,l.iosReady=!1,l.logger=new o.a("canvas.player.components.Audio"),l.file=new c.a(l.baseUrl,l.meta.audio,l.stream);var p=Object(r.getAudioContext)();return l.context=new p,l.file.listen(s.a.LOADED_DATA,l.oninit.bind(l)),l.file.listen(s.a.PROGRESS,l.onloadprogress.bind(l)),l.file.listen(s.a.LOADED,l.onload.bind(l)),l.file.listen(s.a.CAN_PLAY,l.oncanplay.bind(l)),l.file.state=u.a.INIT,Object(n.isIos)()&&(l.aVolume=0),l.iosReady=!Object(n.getIosVersion)(),l}return d(e,t),e.decodeAudioData=function(t,e,i,n){t.decodeAudioData(e.slice(0,e.byteLength),i,n)},e.prototype.authorizeAudio=function(t){if(void 0===t&&(t=function(){}),!this.iosReady){var e=Object(r.getAudioContext)(),i=this.context.createBuffer(1,1,44100),n=this.context.createBufferSource();n.buffer=i,n.connect(this.context.destination),n.start(0),n.disconnect(),this.context.close&&this.context.close(),this.context=new e,this.iosReady=!0,t()}},e.prototype.play=function(t){var e=this;if(void 0===t&&(t=0),this.file.state!==u.a.PLAYING&&this.volume&&this.iosReady){if(!this.buffer)return void setTimeout(function(){return e.play(t+.05)},50);this.resetAudio(),this.noteOnAt&&!t?(this.source.start(0,this.noteOnAt/1e3),this.noteOnAt=Date.now()-this.noteOnAt):(this.noteOnAt=Date.now()-1e3*t,this.source.start(0,t)),this.file.state=u.a.PLAYING}},e.prototype.pause=function(){this.file.state!==u.a.PAUSED&&this.source&&(this.noteOnAt=Date.now()-this.noteOnAt,this.source.stop(0),this.file.state!==u.a.STALLED&&(this.file.state=u.a.PAUSED))},e.prototype.canplay=function(){return this.file.canplay()},e.prototype.playing=function(){return this.file.state===u.a.PLAYING},e.prototype.release=function(){var t=this;this.context.close&&this.context.close().then(function(){t.buffer=null,t.gainNode&&t.gainNode.disconnect&&(t.gainNode.disconnect(),t.gainNode=null),t.source&&t.source.disconnect&&(t.source.disconnect(),t.source=null)}),this.file.state=u.a.ENDED},Object.defineProperty(e.prototype,"duration",{get:function(){return this.estimatedDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return(this.file.state===u.a.PLAYING?Date.now()-this.noteOnAt:this.noteOnAt)/1e3},set:function(t){this.file.state===u.a.PLAYING&&(this.pause(),this.noteOnAt=1e3*t,this.play())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.aVolume},set:function(t){this.aVolume=t,this.gainNode&&(this.gainNode.gain.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return this.iosReady},enumerable:!0,configurable:!0}),e.prototype.oninit=function(t){var i=this;this.data=t,e.decodeAudioData(this.context,t,function(t){var e=Math.ceil(i.meta.infos.audio_size/i.meta.infos.chunk_size)*t.length;i.estimatedDuration=e/t.sampleRate,i.buffer=i.context.createBuffer(t.numberOfChannels,e,t.sampleRate),i.setToMainBuffer(t)},this.logger.error.bind(this.logger))},e.prototype.onloadprogress=function(t){t&&(this.appendFileToData(t),this.decodeData())},e.prototype.onload=function(){var t=this;this.source?this.estimatedDuration=this.source.buffer.duration:setTimeout(function(){return t.onload()},50)},e.prototype.appendFileToData=function(t){var e=new Uint8Array(this.data.byteLength+t.byteLength);e.set(new Uint8Array(this.data),0),e.set(new Uint8Array(t),this.data.byteLength),this.data=e.buffer.slice(0,e.buffer.byteLength)},e.prototype.decodeData=function(){var t=this;e.decodeAudioData(this.context,this.data,function(e){t.setToMainBuffer(e)},this.logger.error.bind(this.logger))},e.prototype.setToMainBuffer=function(t){for(var e=0;e<t.numberOfChannels;e++){this.buffer.getChannelData(e).set(t.getChannelData(e),0)}},e.prototype.oncanplay=function(){this.file.state=u.a.CAN_PLAY,this.dispatch(s.a.CAN_PLAY)},e.prototype.resetAudio=function(){if(this.source)try{this.source.stop(0)}catch(t){this.logger.debug("Error when resetting audio",t)}this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.volume=this.aVolume},e}(a.a);e.a=l},function(t,e,i){var n=i(14),o=i(22),r=i(1),a=i(11),s=i(16),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(e,i,n){var o=t.call(this)||this;return o.baseUrl=e,o.chunkUrls=i,o.streamType=n,o.chunkLoaded=0,o.chunkLength=0,o.loggerF=new r.a("canvas.player.components.File"),o.chunkNumStart=1,o.chunkNumCanPlay=3,o.chunkLength=o.chunkUrls.length,o.streamLoad(),o}return c(e,t),e.prototype.canplay=function(){return this.state===o.a.CAN_PLAY||this.state===o.a.PLAYING||this.state===o.a.PAUSED||this.state===o.a.LOADED||this.state===o.a.ENDED},e.prototype.streamLoad=function(){var t=this,e=window.location.protocol.match(/http|https/gi)?"":"http:",i=e+this.baseUrl+"/"+this.chunkUrls.shift(),n=Object(s.createXmlHttpRequest)();n.open("GET",i,!0),n.responseType="arraybuffer",n.addEventListener("load",function(e){t.chunkLoaded++,t.chunkLoaded===t.chunkNumStart?t.dispatch(a.a.LOADED_DATA,n.response):t.dispatch(a.a.PROGRESS,n.response),(t.chunkLoaded===t.chunkNumCanPlay||t.chunkLength<t.chunkNumCanPlay)&&t.dispatch(a.a.CAN_PLAY),t.chunkLoaded===t.chunkLength&&t.dispatch(a.a.LOADED),t.chunkUrls.length&&t.streamLoad()}),n.addEventListener("error",this.loggerF.error.bind(this.loggerF)),n.send()},e}(n.a);e.a=u},function(t,e,i){var n=i(2),o=i(14),r=i(22),a=i(11),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e,i,o){void 0===o&&(o=0);var r=t.call(this)||this;return r.baseUrl=e,r.meta=i,r.fakeVolume=o,r.touchOk=!1,r.node=document.createElement("audio"),r.node.src=r.baseUrl+"/"+r.meta.audio[0].replace(/\.mp3\.\w\w\w/gi,".mp3"),r.node.preload="auto",r.dispatch(a.a.CAN_PLAY),n.isIos()&&(r.fakeVolume=0),r}return s(e,t),e.prototype.authorizeAudio=function(t){void 0===t&&(t=function(){}),(!this.touchOk||this.node.readyState<=2)&&(this.touchOk=!0,this.node.play(),this.node.pause(),t())},e.prototype.play=function(t){var e=this;0!==this.fakeVolume&&this.state!==r.a.PLAYING&&(this.node.readyState<=2?setTimeout(function(){return e.play(t+.1)},100):(t&&(this.currentTime=t),this.node.play(),this.state=r.a.PLAYING))},e.prototype.pause=function(){this.node.pause(),this.state=r.a.PAUSED},Object.defineProperty(e.prototype,"duration",{get:function(){return this.node.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.node.currentTime},set:function(t){this.node.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.fakeVolume},set:function(t){0===t&&this.pause(),this.fakeVolume=t,this.node.volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorized",{get:function(){return this.touchOk&&this.node.readyState>=3},enumerable:!0,configurable:!0}),e.prototype.canplay=function(){return!0},e.prototype.playing=function(){return this.state===r.a.PLAYING},e.prototype.release=function(){},e}(o.a);e.a=c},function(t,e,i){var n=i(11),o=function(){function t(t){var e=this;this.player=t,this.initBufferDiv(),this.player.video.listen(n.a.STALLED,function(){return e.show()}),this.player.video.listen(n.a.RESUME_AFTER_STALLED,function(){return e.hide()}),this.player.video.listen(n.a.TIME_UPDATE,function(){return e.hide()}),this.player.listen(n.a.RESIZE,function(t){return e.resize(t)})}return t.prototype.show=function(){this.player.container.insertBefore(this.container,this.player.html5video||this.player.canvas||null)},t.prototype.hide=function(){this.container.parentNode&&this.player.container.removeChild(this.container)},t.prototype.resize=function(t){this.container.style.top=t.height/2-this.container.offsetHeight+"px",this.container.style.left=t.width/2-this.container.offsetWidth/2+"px"},t.prototype.initBufferDiv=function(){var e=document.createElement("div");e.innerHTML=t.TEMPLATE,this.container=e.firstChild},t.TEMPLATE=i(109),t}();e.a=o},function(t,e,i){var n=i(14),o=i(22),r=i(11),a=i(2),s=i(40),c=i(7),u=i(44),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(i,n,r,s){var d=t.call(this)||this;d.meta=n,d.player=r,d.targetTime=0,d.frameWait=1e3/24,d.frameWaitS=1/24;var l=i+"/"+n.mp4;d.authorized=!!u.a[l]||!Object(a.isMobile)()&&!Object(a.isTablet)(),d.state=o.a.INIT_VIDEO,d.load(l),d.authorized||Object(c.addEventListener)("touchstart",s,d.authorize.bind(d));var p=document.createElement("div");return p.innerHTML=e.TEMPLATE,d.player.container.appendChild(p.firstChild),d}return d(e,t),e.prototype.canplay=function(){return!0},e.prototype.play=function(){var t=this;this.state!==o.a.PLAYING&&this.authorized?(this.state=o.a.PLAYING,this.loopPlay()):this.authorized||this.listen(r.a.CAN_PLAY,function(){return t.play()})},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED,this.timer&&(clearTimeout(this.timer),this.timer=null))},e.prototype.getCurrentTime=function(){return this.video.currentTime},e.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.authorize=function(){this.authorized||(this.video.play(),this.video.pause(),this.authorized=!0,this.oncanplay())},e.prototype.load=function(t){var e=this,i=!!u.a[t];this.video=u.a[t]=u.a[t]||document.createElement("video"),this.video.muted=!0,i||(this.video.src=t),this.player.useCustomDisplay(this.video),this.video.onload=function(){return e.onload()},this.video.ontimeupdate=function(){return e.ondecodeframe()},this.video.onloadedmetadata=function(){e.player.videoWidth=e.video.videoWidth,e.player.videoHeight=e.video.videoHeight,e.player.dispatch(r.a.LOADED_METADATA),e.player.dispatch(r.a.DURATION_CHANGE),e.player.dispatch(r.a.LOADED_DATA),e.oncanplay()}},e.prototype.onload=function(){this.dispatch(r.a.LOADED)},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&this.authorized&&(this.state=o.a.CAN_PLAY,this.dispatch(r.a.CAN_PLAY))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(r.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.pause(),this.video.currentTime=0,this.state=o.a.ENDED,this.dispatch(r.a.ENDED)},e.prototype.loopPlay=function(){var t=this;if(this.video.currentTime+this.frameWaitS>this.video.duration)return this.video.currentTime=this.video.duration,this.onfinish();this.video.currentTime+=this.frameWaitS;var e=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-Object(s.now)()):0;this.state===o.a.PLAYING&&(this.targetTime=Object(s.now)()+this.frameWait+e,this.timer=window.setTimeout(function(){return t.loopPlay()},this.frameWait+e))},e.TEMPLATE=i(110),e}(n.a);e.a=l},function(t,e,i){var n=i(14),o=i(22),r=i(16),a=i(40),s=i(11),c=i(2),u=i(27),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e,i,n,o){var r=t.call(this)||this;return r.meta=i,r.player=o,r.videoFrames=[],r.headBuffer=0,r.head=0,r.benchFps=0,r.frameWait=1e3/24,r.frameRate=24,r.frameCachedLimit=24,r.reading=!1,r.decodingTime=0,r.extractTime=0,r.extractCount=0,r.load(e+"/"+i.tv),r}return d(e,t),e.prototype.canplay=function(){return this.head+this.frameCachedLimit<=this.videoFrames.length},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.loopPlay())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED)},e.prototype.getCurrentTime=function(){return this.state===o.a.INIT?0:this.head/this.frameRate},e.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.head=e,this.player.renderHtmlImageElement(this.videoFrames[this.head]),!0)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return this.decodingTime/this.videoFrames.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return this.extractTime/this.extractCount},enumerable:!0,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.load=function(t){this.xhr=Object(r.createXmlHttpRequest)(),this.xhr.open("GET",t,!0),this.xhr.responseType="text",this.xhr.onreadystatechange=this.onStateChange.bind(this),this.xhr.onload=this.onload.bind(this),this.xhr.send()},e.prototype.onStateChange=function(){this.xhr.responseText&&this.xhr.readyState>=3&&!this.reading&&this.readResponseRecursive()},e.prototype.readResponseRecursive=function(){if(this.reading){var t=Object(a.now)(),e=this.xhr.responseText.substr(this.headBuffer,4*this.meta.infos.averageFrameSize),i=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)frame\\["+(this.videoFrames.length+1)+"\\]"),n=i.exec(e);if(this.extractTime+=Object(a.now)()-t,this.extractCount++,n)this.headBuffer+=7+this.videoFrames.length.toString().length+n[2].length,this.extractFrame(n);else if(this.loaded){var o=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)"),r=o.exec(e);r&&(this.headBuffer+=7+this.videoFrames.length.toString().length+r[2].length,this.extractFrame(r))}this.headBuffer>=this.xhr.responseText.length&&(this.reading=!1)}else this.reading=!0,this.initTickTimer()},e.prototype.initTickTimer=function(){var t=this,e=function(){t.reading&&t.readResponseRecursive(),t.state===o.a.PLAYING&&t.loopPlay()};try{this.timer=u.setInterval(function(){return e()},1,Object(c.isAmp)()||Object(c.isFacebookWebview)())}catch(t){this.tickInterval=setInterval(function(){return e()},1)}},e.prototype.stopTickTimer=function(){this.timer?this.timer.clear():this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null)},e.prototype.onload=function(){this.loaded=!0,this.dispatch(s.a.LOADED)},e.prototype.oninit=function(){this.benchFps=Object(a.now)(),this.state=o.a.INIT_VIDEO,this.player.resize(this.videoFrames[0].width,this.videoFrames[0].height),this.player.videoWidth=this.videoFrames[0].width,this.player.videoHeight=this.videoFrames[0].height,this.player.dispatch(s.a.LOADED_METADATA),this.player.dispatch(s.a.DURATION_CHANGE),this.player.dispatch(s.a.LOADED_DATA),this.player.renderHtmlImageElement(this.videoFrames[0])},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&(this.state=o.a.CAN_PLAY,this.dispatch(s.a.CAN_PLAY))},e.prototype.onstalled=function(){var t=this;this.state=o.a.STALLED,this.dispatch(s.a.STALLED),this.listen(s.a.LOADED,function(){return t.onresumestalled()})},e.prototype.onresumestalled=function(){this.state===o.a.STALLED&&this.dispatch(s.a.RESUME_AFTER_STALLED)},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(s.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(s.a.ENDED)},e.prototype.extractFrame=function(t){var e=this,i=Object(a.now)(),n=this.videoFrames[t[1]]=new Image;n.src="data:image/jpeg;base64,"+t[2],n.onload=function(){return e.decodingTime+=Object(a.now)()-i},1===this.videoFrames.length?n.onload=function(){return e.oninit()}:this.videoFrames.length>=this.frameCachedLimit&&this.oncanplay(),this.head+this.frameCachedLimit<=this.videoFrames.length&&this.onresumestalled()},e.prototype.loopPlay=function(){if(!(Object(a.now)()<this.targetTime)){this.head++;var t=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-Object(a.now)()):0;this.head>=this.videoFrames.length-1?(this.loaded&&!this.reading?(this.stopTickTimer(),this.onfinish()):this.onstalled(),this.targetTime=0):this.state===o.a.PLAYING&&(this.targetTime=Object(a.now)()+this.frameWait+t),this.head&&this.videoFrames&&this.videoFrames[this.head]&&this.player.renderHtmlImageElement(this.videoFrames[this.head]),this.head%this.frameRate==0&&this.ondecodeframe()}},e}(n.a);e.a=l},function(t,e,i){var n=i(14),o=i(22),r=i(1),a=i(11),s=i(40),c=i(30),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(t){function e(e,i,n,a){var s=t.call(this)||this;s.meta=i,s.player=a,s.logger=new r.a("canvas.player.components.Video"),s.head=0,s.targetTime=0,s.decodeFinish=!1,s.benchFps=0,s.benchFpsRetained=0,s.benchFpsCount=0,s.fpsLimit=0,s.frameRate=24,s.frameStart=1,s.frameCachedLimit=24,s.videoFrames=[],s.frameWait=Math.floor(1e3/s.frameRate);var u=Object(c.createBlob)('importScripts("'+s.player.parameters.assetsPath+'/teads-mpeg-decoder.min.js")');return s.worker=new Worker(Object(c.getUrl)().createObjectURL(u)),s.worker.onmessage=s.onmessage.bind(s),s.worker.postMessage(["init",e,i]),s.state=o.a.INIT,s}return u(e,t),e.prototype.canplay=function(){return this.state===o.a.CAN_PLAY||this.state===o.a.PLAYING||this.state===o.a.PAUSED||this.state===o.a.LOADED||this.state===o.a.ENDED},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.loopPlay())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED)},e.prototype.getCurrentTime=function(){return this.state===o.a.INIT?0:this.head/this.frameRate},e.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.cleanFrame(this.head,e),this.head=e,!0)},Object.defineProperty(e.prototype,"duration",{get:function(){return this.decodeFinish?this.videoFrames.length/this.frameRate:parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),e.prototype.cleanStallTimeout=function(){clearTimeout(this.timeoutStalled),this.timeoutStalled=null,this.state=o.a.PAUSED},e.prototype.onload=function(){this.dispatch(a.a.LOADED),this.decodeFinish=!0},e.prototype.oninit=function(){this.benchFps=Object(s.now)(),this.state=o.a.INIT_VIDEO,this.renderFrame()},e.prototype.oncanplay=function(){this.state=o.a.CAN_PLAY,this.dispatch(a.a.CAN_PLAY)},e.prototype.onstalled=function(){var t=this;this.state=o.a.STALLED,this.dispatch(a.a.STALLED),this.listen(a.a.LOADED,function(){return t.onresumestalled()})},e.prototype.onresumestalled=function(){this.state===o.a.STALLED&&(this.cleanStallTimeout(),this.dispatch(a.a.RESUME_AFTER_STALLED))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(a.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(a.a.ENDED)},e.prototype.onmessage=function(t){switch(t.data[0]){case"frame":this.appendFrames(t.data),this.videoFrames.length===this.frameStart?this.oninit():this.videoFrames.length===this.frameCachedLimit&&this.oncanplay();break;case"initCanvas":this.player.resize(t.data[1],t.data[2]);break;case"finish":this.averageDecodingTime=t.data[1],this.onload();break;default:this.logger.debug(t.data)}},e.prototype.appendFrames=function(t){var e=this;if(this.videoFrames.push({codedWidth:t[1],halfWidth:t[2],currentY:new Uint8Array(t[3]),currentCr:new Uint8Array(t[4]),currentCb:new Uint8Array(t[5])}),this.averageDecodingTime=t[6],++this.benchFpsCount===this.frameCachedLimit){this.benchFpsRetained=Object(s.now)()-this.benchFps;var i=Math.ceil(this.frameRate*this.benchFpsRetained/1e3);this.fpsLimit=Math.max(3,Math.min(this.frameCachedLimit,i+1))}this.state===o.a.STALLED&&this.head+this.frameCachedLimit<=this.videoFrames.length&&(this.averageDecodingTime<=1e3/this.frameRate?this.timeoutStalled||(this.logger.warn("We are stalled and have",this.frameCachedLimit,"in memory, but stalled for download, so wait",2*this.benchFpsRetained,"ms"),this.timeoutStalled=setTimeout(function(){return e.onresumestalled()},2*this.benchFpsRetained),this.dispatch(a.a.BENCH_FPS,2*this.benchFpsRetained)):this.onresumestalled())},e.prototype.loopPlay=function(){var t=this;this.head++;var e=this.targetTime?Math.max(-this.frameWait/2,Math.min(0,this.targetTime-Object(s.now)())):0;this.head>=this.videoFrames.length-1?(this.decodeFinish?this.onfinish():this.onstalled(),this.targetTime=0):this.state===o.a.PLAYING&&(this.targetTime=Object(s.now)()+this.frameWait,window.setTimeout(function(){return t.loopPlay()},this.frameWait+e)),this.renderFrame(),this.head%this.frameRate==0&&this.ondecodeframe()},e.prototype.renderFrame=function(){this.videoFrames[this.head]&&(this.player.renderFrame(this.videoFrames[this.head]),this.videoFrames[this.head]=null,this.videoFrames.length<this.head+this.fpsLimit&&(this.benchFps=Object(s.now)(),this.benchFpsCount=0,this.worker.postMessage(["resume"])))},e.prototype.cleanFrame=function(t,e){for(var i=t;i<e;i++)this.videoFrames[i]=null},e}(n.a);e.a=d},function(t,e,i){var n=i(14),o=i(22),r=i(11),a=i(7),s=i(44),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(e,i,n,r){var c=t.call(this)||this;c.meta=i,c.player=n;var u=e+"/"+i.mp4;return c.authorized=!!s.a[u],c.state=o.a.INIT_VIDEO,c.load(u),c.authorized||Object(a.addEventListener)("touchstart",r,c.authorize.bind(c)),c}return c(e,t),e.prototype.canplay=function(){return!0},e.prototype.play=function(){this.state!==o.a.PLAYING&&(this.state=o.a.PLAYING,this.video.play())},e.prototype.pause=function(){this.state!==o.a.STALLED&&(this.state=o.a.PAUSED,this.video.pause())},e.prototype.getCurrentTime=function(){return this.video.currentTime},e.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(e.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!0,configurable:!0}),e.prototype.cleanStallTimeout=function(){},e.prototype.authorize=function(){this.authorized||(this.authorized=!0,this.video.play(),this.state!==o.a.PLAYING&&this.video.pause(),this.oncanplay())},e.prototype.load=function(t){var e=this;this.video=s.a[t]=s.a[t]||document.createElement("video"),this.video.setAttribute("webkit-playsinline","true"),this.video.src=t,this.video.onload=function(){return e.onload()},this.video.onended=function(){return e.onfinish()},this.video.ontimeupdate=function(){return e.ondecodeframe()},this.video.onloadedmetadata=function(){e.player.videoWidth=e.video.videoWidth,e.player.videoHeight=e.video.videoHeight,e.player.dispatch(r.a.LOADED_METADATA),e.player.dispatch(r.a.DURATION_CHANGE),e.player.dispatch(r.a.LOADED_DATA),e.oncanplay()},this.player.useCustomDisplay(this.video)},e.prototype.onload=function(){this.dispatch(r.a.LOADED)},e.prototype.oncanplay=function(){this.state===o.a.INIT_VIDEO&&this.authorized&&(this.state=o.a.CAN_PLAY,this.dispatch(r.a.CAN_PLAY))},e.prototype.ondecodeframe=function(){this.state!==o.a.ENDED&&this.dispatch(r.a.TIME_UPDATE)},e.prototype.onfinish=function(){this.state=o.a.ENDED,this.dispatch(r.a.ENDED)},e}(n.a);e.a=u},function(t,e,i){i.d(e,"a",function(){return n});var n;!function(t){t[t.FULL=0]="FULL",t[t.SMART=1]="SMART",t[t.NO_STREAM=2]="NO_STREAM"}(n||(n={}))},function(t,e,i){var n;!function(t){t[t.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",t[t.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",t[t.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",t[t.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"}(n||(n={})),e.a=n},function(t,e,i){var n=i(8),o=i(56),r=i(18),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timerClass="countdown-timer",e}return a(e,t),e.prototype.init=function(){if(this.countdown=Number(this.config.countdown),this.countdown<=0||isNaN(this.countdown))return void this.onEnded();var t=o.replacePlaceholders(e.TEMPLATE,{"countdown-duration":this.countdown,"countdown-id":"countdown-"+n.rand(10)});this.getElement().innerHTML=t,this.countdownTextElement=this.getElement().querySelector("."+this.timerClass)},e.prototype.initTimer=function(){var t=this,e=function(){t.isPaused()||t.countdown--,t.countdown<=0?(t.hide(),t.onEnded()):t.updateDisplay()};this.timerInterval=setInterval(e,1e3),this.updateDisplay()},e.prototype.stopTimer=function(){clearInterval(this.timerInterval)},e.prototype.setCountdown=function(t){this.countdown=t,this.updateDisplay()},e.prototype.resume=function(){this.paused=!1},e.prototype.pause=function(){this.paused=!0},e.prototype.isPaused=function(){return this.paused},e.prototype.isEnded=function(){return this.ended},e.prototype.setEndedCallback=function(t){this.callback=t},e.prototype.removeEndedCallback=function(){this.callback=null},e.prototype.onEnded=function(){if(clearInterval(this.timerInterval),this.ended=!0,this.hide(),this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("countdown ended callback failled",t)}},e.prototype.updateDisplay=function(){this.countdownTextElement&&this.countdownTextElement.setAttribute&&this.countdownTextElement.setAttribute("data-countdown",String(this.countdown))},e.TEMPLATE=i(165),e}(r.a);e.a=s},function(t,e,i){i.d(e,"a",function(){return n}),i.d(e,"b",function(){return A});var n,o=i(88),r=i(122),a=i(62),s=i(172),c=i(173),u=i(124),d=i(1),l=i(0),p=i(19),h=i(36),f=i(2),g=i(16),m=i(3),v=i(27),y=i(17),b=i(23);!function(t){t[t.VIDEO=0]="VIDEO",t[t.MPEG=1]="MPEG",t[t.TV=2]="TV",t[t.FLASH=3]="FLASH",t[t.VPAIDJS=4]="VPAIDJS",t[t.VPAIDFLASH=5]="VPAIDFLASH"}(n||(n={}));var A;!function(t){t.landscape="l",t.square="s",t.vertical="v"}(A||(A={}));var E=function(){function t(){}return t.getPreferredMediafileTypes=function(t){var e=[n.VIDEO,n.VPAIDJS,n.TV,n.MPEG,n.VPAIDFLASH,n.FLASH];return f.isDesktop()||(e=m.filter(e,function(t){return t!==n.VPAIDJS}).concat([n.VPAIDJS])),f.isIE()?e=m.filter(e,function(t){return t!==n.TV&&t!==n.MPEG}):f.isSDK()?e=[n.VIDEO,n.VPAIDJS]:f.isIos()&&p.isLowerThan(f.getIosVersion(),"8")?e=t===o.b.HTML5?[n.VIDEO]:f.isIpad()?[n.MPEG,n.TV]:[]:(t===o.b.CANVAS||f.isIos()&&(p.isLowerThan(f.getIosVersion(),"10")||!f.isWhiteListedIos10Safari()&&!f.isFacebookWebviewIOS10())&&t!==o.b.HTML5)&&(e=m.filter(e,function(t){return t!==n.VIDEO})),Object(h.hasFlash)()||(e=m.filter(e,function(t){return t!==n.FLASH&&t!==n.VPAIDFLASH})),e},t.getElectedMediafiles=function(e,i){var o=t.getPreferredMediafileTypes(i),r=[];m.map(e,function(t){t.api&&t.api.toLowerCase&&(t.api=t.api.toLowerCase()),t.type&&t.type.toLowerCase&&(t.type=t.type.toLowerCase())});for(var a=0,c=o.length;a<c&&0===r.length;){switch(o[a]){case n.VIDEO:r=m.filter(e,t.isPlayableVideo);break;case n.TV:r=m.filter(e,t.isTv);break;case n.MPEG:r=m.filter(e,t.isMpeg);break;case n.VPAIDJS:r=m.filter(e,function(e){return p.isGreaterOrEqual(f.getIosVersion(),"8")?t.isVpaidJS(e)&&s.isAuthorized(e.url):t.isVpaidJS(e)});break;case n.VPAIDFLASH:r=m.filter(e,t.isVpaidFlash);break;case n.FLASH:r=m.filter(e,t.isFlash)}a++}return r},t.extractMediafileFromPing=function(e,i){var n=t.sortMediafilesByBitrate(e,t.getMaxBitrateForContext()),o=Math.max(i/t.pingDuration.max,0);return n[Math.max(0,Math.min(n.length,Math.ceil(n.length*o))-1)]},t.sortMediafilesByBitrate=function(t,e){var i=t.map(function(t){return t.bitrate=t.bitrate||2*e.max,t}),n=i.filter(function(t){return t.bitrate<=e.max&&t.bitrate>=e.min});return n=n.length?n:i,n.sort(function(t,e){return e.bitrate-t.bitrate})},t.getMaxBitrateForContext=function(){return f.isMobile()?t.bitrates.mobile:t.bitrates.default},t.getMediaProvider=function(e){switch(e.type){case"video/x-flv":return Object(h.hasFlash)()?r.a.FLASH:r.a.UNSUPPORTED;case"application/x-shockwave-flash":case"application/x-javascript":case"application/javascript":case"text/javascript":return r.a.VPAID;case"video/mpg":case"video/mpeg":case"video/tv":return f.cacheCanvasUsed(!0),r.a.CANVAS;default:return t.isPlayableVideo(e)?r.a.JS:r.a.UNSUPPORTED}},t.getOptimalMediaFiles=function(e,i,n){if(0===e.length)return null;var r=t.getEncodingCandidate(e.slice()),a=t.getElectedMediafiles(e,n);if(n!==o.b.CANVAS&&!p.isGreaterOrEqual(f.getIosVersion(),"8")||0!==a.length&&!t.isVpaidJS(a[0])||!r)if(a.length>1)t.ping(a[0].url,function(e){var n=t.extractMediafileFromPing(a,e);i(n,e)});else if(1===a.length)i(a[0],null);else{var s="No Mediafile for this context";i(null,null,s),t.logger.info("getOptimalMediaFiles",s)}else t.ping(r.url,function(e,n){t.waitForProxy(r.url,n,function(t,n){r.url=t,r.type="video/tv",i(t?r:null,e,n)})})},t.ping=function(e,i,n){void 0===n&&(n=!0);var o,r,s,c=g.createXmlHttpRequest(),u=y.now(),d=!1,l=function(c){s.clear(),d||(d=!0,n?t.ping(e,i,!1):o||(o=y.now()-u,r=o<=100?1e3:o<200?700:o<400?500:300,i(o,r),a.b.sendInfo("ping "+[o,c].join(";"))))};s=v.setTimeout(function(){return l("timeout")},t.pingDuration.max),c.open("HEAD",e+(e.indexOf("?")>-1?"&":"?")+u,!0),c.addEventListener("load",function(){return l("load")}),c.addEventListener("error",function(){return l("error")}),c.send()},t.waitForProxy=function(e,i,n){var o=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),r=Object(l.getProtocol)()+"//[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,o?o[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(e)).replace(/\[BITRATE\]/,i.toString()),s=g.createXmlHttpRequest(),c=!1;s.open("GET",r,!0),s.onreadystatechange=function(){var e;if(4===s.readyState&&!c){switch(c=!0,s.status){case 200:n(s.responseText);break;case 202:e="Mediaproxy - encoding ongoing - need wait",n(null,e);break;case 201:e="Mediaproxy - encoding init - need one more call to encode",n(null,e);break;case 410:e="Mediaproxy - encoding failed",n(null,e);break;case 400:e="Mediaproxy - bad request",n(null,e);break;default:e="Mediaproxy - other error - "+s.status,n(null,e)}t.logger.debug("proxy resp",s.status),a.b.sendInfo(["proxy","resp",s.status].join(" "))}},s.send(),a.b.sendInfo("proxy call")},t.getOptimalMediaFile=function(e,i,n){n.formatConfig&&n.formatConfig.allowedPlayer?(f.isCanvasNeeded(n.formatConfig.allowedPlayer.isCustomContext())&&n.formatConfig.allowedPlayer.setValue(o.b.CANVAS),n.type=n.formatConfig.allowedPlayer.getValue()):f.isCanvasNeeded()&&(n.type=o.b.CANVAS);var r=y.measure("measureAutoplay","markAutoplayStartTime","markAutoplayEndTime");if(r){var s=n.type===o.b.CANVAS?"dis":"en";a.b.sendInfo("autoplay "+s+"-"+Math.round(r.duration))}t.getOptimalMediaFiles(e,function(t,e,n){t?(a.b.sendInfo("media "+t.type),i(t,e?" -> ping: "+e+"ms":"")):i(null,n)},n.type)},t.getOptimalHeight=function(e,i,n){return i?Math.ceil(i/t.getRatio(e,n)):0},t.getRatio=function(e,i){var n=!t.isInternalMediafile(e.url);return!e.height||!e.width||!i&&n&&e.api&&"vpaid"===e.api.toLowerCase()&&e.width>e.height?16/9:e.width/e.height},t.getAssetFromMediaProvider=function(t){var e;switch(t){case r.a.JS:e=u.a.vpaidvideojs;break;case r.a.FLASH:e=u.a.vpaidvideoswf;break;case r.a.CANVAS:e=u.a.vpaidcanvas;break;default:e=""}return e},t.getEncodingCandidate=function(t){var e;return t.forEach(function(t){var i=t.type||"";switch(t.weight=0,i.split("/").pop()){case"mov":t.weight=150;break;case"mp4":t.weight=100;break;case"flv":case"x-flv":t.weight=75;break;case"webm":case"ogg":case"ogv":t.weight=50}(!e||e.weight<=t.weight)&&(e=e||t,(e.weight<t.weight||e.bitrate<t.bitrate)&&(e=t))}),e.weight?e:null},t.isInternalMediafile=function(t){return/(ebu?z|teads)/gi.test(Object(b.parse)(t).host)},t.sendMediasToSumologic=function(e,i){try{var n={},o=m.map(m.filter(e.mediaFiles,function(t){return!n[t.type]&&(n[t.type]=!0,!0)}),function(t){return t.type}),r=m.map(e.wrappers,function(t){return Object(b.parse)(t).hostname});a.b.sendInfo("[mf-"+i+"-"+f.getContextSummary()+"] "+o.join(" | ")+"||"+r.join(" > "))}catch(e){t.logger.error("sendMediasToSumologic error",e)}},t.getRatioCategory=function(t){return t.width>t.height?A.landscape:t.width===t.height?A.square:A.vertical},t.getMediaFileRatioLog=function(e,i,n){return"mediafile-ratio "+[t.getRatioCategory(e),""+i,n.map(String).getOrElse(function(){return"n"})].join("|")},t.isMpeg=function(t){return/^video\/mpe?g$/.test(t.type)},t.isTv=function(t){return"video/tv"===t.type},t.isFlash=function(t){return"video/x-flv"===t.type},t.isVideo=function(e){return!t.isMpeg(e)&&!t.isTv(e)&&!t.isFlash(e)&&/^video\/*/.test(e.type)},t.isPlayableVideo=function(e){return t.isVideo(e)&&c.canPlay(e.type)},t.isVpaidFlash=function(t){return"vpaid"===t.api&&t.type.indexOf("application/x-shockwave-flash")>-1},t.isVpaidJS=function(t){return"vpaid"===t.api&&t.type.indexOf("javascript")>-1},t.logger=new d.a("player.MediaFileHelper"),t.bitrates={mobile:{min:200,max:5e3},default:{min:200,max:1e4}},t.pingDuration={max:600},t}();e.c=E},function(t,e,i){i.d(e,"a",function(){return r});var n=i(1),o=new n.a("VPAIDJSGuard"),r=function(){function t(){}return t.prototype.getVPAID=function(){return this.vpaid},t.prototype.initAd=function(t,e,i,n,o,r){this.vpaidguard("initAd",[t,e,i,n,o,r])},t.prototype.skipAd=function(){this.vpaidguard("skipAd")},t.prototype.resizeAd=function(t,e,i){void 0===i&&(i="normal"),this.vpaidguard("resizeAd",[t,e,i])},t.prototype.handshakeVersion=function(t){return this.vpaidguard("handshakeVersion",[t])},t.prototype.startAd=function(){this.vpaidguard("startAd",[])},t.prototype.stopAd=function(){this.vpaidguard("stopAd",[])},t.prototype.pauseAd=function(){this.vpaidguard("pauseAd",[])},t.prototype.resumeAd=function(){this.vpaidguard("resumeAd",[])},t.prototype.expandAd=function(){this.vpaidguard("expandAd",[])},t.prototype.collapseAd=function(){this.vpaidguard("collapseAd",[])},t.prototype.getAdLinear=function(){return this.vpaidguard("getAdLinear",[])},t.prototype.getAdWidth=function(){return this.vpaidguard("getAdWidth",[])},t.prototype.getAdHeight=function(){return this.vpaidguard("getAdHeight",[])},t.prototype.getAdExpanded=function(){return this.vpaidguard("getAdExpanded",[])},t.prototype.getAdSkippableState=function(){return this.vpaidguard("getAdSkippableState",[])},t.prototype.getAdRemainingTime=function(){return this.vpaidguard("getAdRemainingTime",[])},t.prototype.getAdDuration=function(){return this.vpaidguard("getAdDuration",[])},t.prototype.getAdVolume=function(){return this.vpaidguard("getAdVolume",[])},t.prototype.getAdCompanions=function(){return this.vpaidguard("getAdCompanions",[])},t.prototype.getAdIcons=function(){return this.vpaidguard("getAdIcons",[])},t.prototype.setAdVolume=function(t){return this.vpaidguard("setAdVolume",[t])},t.prototype.subscribe=function(t,e,i){this.vpaidguard("subscribe",[t,e,i])},t.prototype.unsubscribe=function(t,e){this.vpaidguard("unsubscribe",[t,e])},t.prototype.setVPAID=function(t){this.vpaid=t},t.prototype.vpaidguard=function(t,e){void 0===e&&(e=[]);try{return this.callVPAIDMethod(t,e)}catch(t){o.error('VPAID method guard error: "'+t+'"')}},t.prototype.callVPAIDMethod=function(t,e){return void 0===e&&(e=[]),this.vpaid[t].apply(this.vpaid,e)},t}()},function(t,e,i){var n=i(1),o=i(15),r=i(31),a=i(3),s=i(4),c=i(85),u=i(26),d=i(45),l=i(5),p=i(46),h=i(48),f=i(47),g=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=u.a.READY,e.type=d.a.JS,e.timeoutId={},e.dispatchedEvents={},e.wigoi=null,e.eventHandler=new f.a,e}return g(e,t),e.log=function(t){a.indexOf(e.hasLogged,t)<0&&(e.logger.info(t),e.hasLogged.push(t))},e.prototype.initAd=function(e,i,n,o,r,a){void 0===r&&(r="");try{Object(p.checkVpaidStatus)("initAd",this.status)}catch(t){return this.dispatchEvent(l.a.AdLog,t)}this.status=u.a.LOADING,this.environmentVars=a,t.prototype.initAd.call(this,e,i,n,o,r,a)},e.prototype.handleAdCallTimeout=function(t){var e=this,i=h.initAd-t,n=function(){e.dispatchedEvents[l.a.AdLoaded]||e.dispatchEvent(l.a.AdError,{message:"Creative did not initiated after "+h.initAd+"ms (current status "+e.status+")",id:o.b.GENERAL.id})};if(!this.timeoutId.initAd&&i>0){try{window.teads.player.playerSumologic.sendInfo("timeout adloaded "+i)}catch(t){}this.timeoutId.initAd=setTimeout(n,i)}else i<0&&n()},e.prototype.startAd=function(){var e=this;try{Object(p.checkVpaidStatus)("startAd",this.status)}catch(t){return this.dispatchEvent(l.a.AdLog,t)}this.status=u.a.STARTING,this.timeoutId.startAd=setTimeout(function(){e.dispatchedEvents[l.a.AdStarted]||e.dispatchEvent(l.a.AdError,{message:"Creative did not start after "+h.startAd+"ms",id:o.b.GENERAL.id})},h.startAd),t.prototype.startAd.call(this)},e.prototype.stopAd=function(){var e=this;this.status>u.a.STOPPING&&(this.status=u.a.STOPPING,this.clearAllTimeout(),this.timeoutId.stopAd=setTimeout(function(){e.dispatchedEvents[l.a.AdStopped]||(e.dispatchEvent(l.a.AdLog,"Creative did not stop after "+h.stopAd+"ms, force stop !"),e.dispatchEvent(l.a.AdStopped))},h.stopAd),this.environmentVars&&this.environmentVars.videoSlot&&(this.environmentVars.videoSlot.volume=0),t.prototype.stopAd.call(this))},e.prototype.skipAd=function(){var e=this;if(this.status>u.a.SKIPPING){this.status=u.a.SKIPPING,this.timeoutId.skipAd=setTimeout(function(){e.status>=u.a.SKIPPING&&(e.dispatchEvent(l.a.AdLog,"Creative did not skip after "+h.skipAd+"ms, force skip !"),e.dispatchEvent(l.a.AdSkipped),e.stopAd())},h.skipAd);try{t.prototype.skipAd.call(this)}catch(t){this.dispatchEvent(l.a.AdLog,"SkipAd throw an exception "+t)}}},e.prototype.subscribe=function(t,e,i){this.eventHandler.subscribe(t,e,i)},e.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},e.prototype.getAdWidth=function(){var t=this.vpaid.getAdWidth();return String(t).indexOf("%")>-1&&!s.b.ofNested(this.environmentVars,"slot.offsetWidth").isEmpty()?t=this.environmentVars.slot.offsetWidth:String(t).indexOf("px")&&(t=parseInt(String(t).replace("px",""),10)),t},e.prototype.getAdHeight=function(){var t=this.vpaid.getAdHeight();return(String(t).indexOf("%")>-1||parseInt(String(t),10)<=0)&&!s.b.ofNested(this.environmentVars,"slot.offsetHeight").isEmpty()?t=this.environmentVars.slot.offsetHeight:String(t).indexOf("px")&&(t=parseInt(String(t).replace("px",""),10)),t},e.prototype.setWigoi=function(t){this.wigoi=t},e.prototype.getTeadsEnvironmentVars=function(){return this.vpaid.getTeadsEnvironmentVars?this.vpaid.getTeadsEnvironmentVars():this.environmentVars},e.prototype.vpaidguard=function(t,i){void 0===i&&(i=[]);try{if(this.status!==u.a.REMOVED)return this.callVPAIDMethod(t,i)}catch(i){switch(t){case"initAd":case"startAd":this.dispatchEvent(l.a.AdError,{message:"error call "+t+": "+i,id:o.b.GENERAL.id});break;default:this.dispatchEvent(l.a.AdLog,"error call "+t+": "+i)}e.logger.error("vpaidguard -> vpaid creative threw an error for "+t,i)}},e.prototype.dispatchEvent=function(t,e){return this.handleVpaidEvent(new l.a(t,e))},e.prototype.handleVpaidEvent=function(t){if(this.status!==u.a.REMOVED){var i=[l.a.AdLoaded,l.a.AdStarted,l.a.AdVideoStart,l.a.AdVideoComplete,l.a.AdSkipped,l.a.AdStopped,l.a.AdError];if(!(a.indexOf(i,t.type)>-1&&this.dispatchedEvents[t.type])){if(this.status>u.a.STOPPED)switch(t.type){case l.a.AdLoaded:this.status=u.a.LOADED,this.clearTimeout("initAd"),e.log("AdLoaded - Response from initAd"),this.wigoi&&this.wigoi.valid(3,2);break;case l.a.AdStarted:this.status=this.status<u.a.STARTED?u.a.STARTED:this.status,this.clearTimeout("startAd"),e.log("AdStarted - Response from startAd"),this.wigoi&&this.wigoi.valid(3,3);break;case l.a.AdVideoStart:case l.a.AdPlaying:this.status=u.a.PLAYING;break;case l.a.AdPaused:this.status=u.a.PAUSED;break;case l.a.AdVideoComplete:this.status=u.a.COMPLETE;break;case l.a.AdSkipped:this.status=u.a.SKIPPED,this.clearAllTimeout();break;case l.a.AdStopped:this.status=u.a.STOPPED,this.clearAllTimeout();break;case l.a.AdError:e.logger.info("AdError - ",t.data),this.wigoi&&this.wigoi.valid(3,4,t.data,r.a.infoType.ERROR)}this.dispatchedEvents[t.type]||(this.dispatchedEvents[t.type]=0),this.dispatchedEvents[t.type]++,this.eventHandler.handleEvent(t),t.type===l.a.AdError&&this.stopAd()}}},e.prototype.clearTimeout=function(t){this.timeoutId[t]&&clearTimeout(this.timeoutId[t])},e.prototype.clearAllTimeout=function(){for(var t in this.timeoutId)this.timeoutId.hasOwnProperty(this.timeoutId[t])&&this.clearTimeout(this.timeoutId[t])},e.logger=new n.a("vpaid.BaseVPAIDJSWrapper"),e.hasLogged=[],e}(c.a);e.a=m},function(t,e,i){i.d(e,"a",function(){return n});var n;!function(t){t.AD_VERIFICATIONS="AdVerifications",t.MOAT_JS="MoatJs",t.VISIBILITY="Visibility",t.HTML="Html",t.IFRAME="Iframe",t.SCRIPT="Script",t.ALENTY="Alenty",t.TEADS_IAS="teads-IAS"}(n||(n={}))},function(t,e,i){i.d(e,"b",function(){return n}),i.d(e,"a",function(){return o});var n;!function(t){t[t.CANVAS=0]="CANVAS",t[t.HTML5=1]="HTML5",t[t.ANY=2]="ANY"}(n||(n={}));var o;!function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"}(o||(o={}))},function(t,e,i){var n;!function(t){t[t.ERROR=-1]="ERROR",t[t.UNSTARTED=0]="UNSTARTED",t[t.WAITING=1]="WAITING",t[t.READY=2]="READY"}(n||(n={})),e.a=n},function(t,e,i){i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n=function(){function t(){this.error=[],this.click=[],this.pause=[],this.resume=[],this.skip=[],this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.impression=[],this.close=[],this.progress=[],this.mute=[],this.unmute=[],this.rewind=[],this.fullscreen=[],this.exitFullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitationLinear=[],this.acceptInvitation=[],this.closeLinear=[],this.noAd=[],this.noLinearAd=[],this.customClicks=[],this.billable=[],this.otherAdInteraction=[],this.adChoices=[]}return t}(),o=function(){function t(){}return t.error="error",t.click="click",t.pause="pause",t.resume="resume",t.skip="skip",t.creativeView="creativeView",t.start="start",t.firstQuartile="firstQuartile",t.midpoint="midpoint",t.thirdQuartile="thirdQuartile",t.complete="complete",t.impression="impression",t.close="close",t.progress="progress",t.mute="mute",t.unmute="unmute",t.rewind="rewind",t.fullscreen="fullscreen",t.exitFullscreen="exitFullscreen",t.expand="expand",t.collapse="collapse",t.acceptInvitationLinear="acceptInvitationLinear",t.acceptInvitation="acceptInvitation",t.closeLinear="closeLinear",t.noAd="noAd",t.noLinearAd="noLinearAd",t.customClicks="customClicks",t.billable="billable",t.otherAdInteraction="otherAdInteraction",t.adChoices="adChoices",t}()},function(t,e,i){var n=i(24),o=i(3),r=i(0),a=i(23),s=i(16),c=i(60),u=i(89),d=i(14),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.status=u.a.UNSTARTED,e.sumologic=new n.a,e}return l(e,t),e.getFileExtension=function(t){return a.parse(t).pathname.split(".").pop()},e.prototype.getStatus=function(){return this.status},e.prototype.getVideoUrl=function(){return this.videoUrl},e.prototype.load=function(t,i){var a=this;if(this.sumologic.isInitialized()||this.sumologic.init(n.a.CONFIGS.PLAYER),o.indexOf(e.alreadyEncoded,e.getFileExtension(t))>-1)return this.videoUrl=t,this.status=u.a.READY,void this.dispatch(c.a.READY,{errorCode:200});this.status=u.a.WAITING,this.dispatch(c.a.WAITING);var d=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),l=r.getProtocol()+"//[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,d?d[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(t)).replace(/\[BITRATE\]/,i.toString()),p=s.createXmlHttpRequest(),h=!1;p.open("GET",l,!0),p.onreadystatechange=function(){if(4===p.readyState&&!h){switch(p.status){case 200:a.videoUrl=p.responseText,a.status=u.a.READY,a.dispatch(c.a.READY,{errorCode:p.status}),h=!0;break;case 416:case 202:case 201:default:a.status=u.a.ERROR,a.dispatch(c.a.ERROR,{errorCode:p.status}),h=!0}a.sumologic.sendInfo(["proxy","resp",p.status].join(" "))}},p.send(),this.sumologic.sendInfo("proxy call")},e.alreadyEncoded=["tv","mpg","mpeg"],e}(d.a);e.a=p},function(t,e,i){function n(t){return String(t).indexOf("%")>-1}function o(t){return parseInt(t.replace("%",""),10)/100}function r(t){return String(t).indexOf("px")>-1}function a(t){return parseInt(t.replace("px",""),10)}function s(t){return"true"===t||"false"!==t&&!!t}function c(t){["width","height","src","preload","autoplay","loop"].forEach(function(e){t.hasAttribute(e)&&u(t,e)})}function u(t,e){var i=t.getAttribute(e);switch(e){case"width":case"height":t.style[e]=i+(n(i)||r(i)?"":"px");break;case"src":case"preload":t[e]=i;break;case"autoplay":case"loop":t[e]=s(i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.isPercentValue=n,e.getPercentValue=o,e.isPixelValue=r,e.getPixelValue=a,e.getBooleanValue=s,e.parseAttributes=c,e.updateAttribute=u},function(t,e,i){function n(t,e){var i,n,a,s=o.createXmlHttpRequest(),c=Date.now(),u=function(t){i||(clearTimeout(a),i=Date.now()-c,n=i<=100?1e3:i<200?700:i<400?500:300,e(i,n),(new r.a).sendInfo("ping "+[i,t].join(";")))};a=setTimeout(function(){return u("timeout")},500),s.open("HEAD",t+(t.indexOf("?")>-1?"&":"?")+c,!0),s.addEventListener("load",function(){return u("load")}),s.addEventListener("error",function(){return u("error")}),s.send()}Object.defineProperty(e,"__esModule",{value:!0}),e.ping=n;var o=i(16),r=i(24)},function(t,e,i){i.d(e,"a",function(){return r});var n=i(63),o=i(95),r=function(t){this._wrappedVideo=t};r.prototype=Object.create(HTMLElement.prototype);for(var a in o.HTMLVideoProperties)o.HTMLVideoProperties.hasOwnProperty(a)&&function(t,e){n.defineProperty(r.prototype,t,function(){return this._wrappedVideo[t]},function(i){e&&(this._wrappedVideo[t]=i)})}(a,o.HTMLVideoProperties[a]);r.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this._wrappedVideo.addEventListener(t,e,i)},r.prototype.canPlayType=function(t){return this._wrappedVideo.canPlayType()},r.prototype.load=function(){this._wrappedVideo.load()},r.prototype.pause=function(){this._wrappedVideo.pause()},r.prototype.play=function(){this._wrappedVideo.play()},r.prototype.getVideoPlaybackQuality=function(){return this._wrappedVideo.getVideoPlaybackQuality()},r.prototype.webkitEnterFullscreen=function(){return this._wrappedVideo.webkitEnterFullscreen()},r.prototype.webkitExitFullscreen=function(){this._wrappedVideo.webkitExitFullscreen()},r.prototype.webkitEnterFullScreen=function(){this.webkitEnterFullscreen()},r.prototype.webkitExitFullScreen=function(){this.webkitExitFullscreen()}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"HTMLVideoProperties",function(){return n});var n={poster:!0,width:!0,height:!0,videoHeight:!1,videoWidth:!1,buffered:!1,duration:!1,ended:!1,error:!1,networkState:!1,paused:!1,played:!1,readyState:!1,seekable:!1,seeking:!1,currentSrc:!1,autoplay:!0,controls:!0,currentTime:!0,loop:!0,muted:!1,defaultMuted:!0,playbackRate:!1,defaultPlaybackRate:!1,preload:!1,src:!0,volume:!0,audioTracks:!1,textTracks:!1,videoTracks:!1}},function(t,e,i){var n=function(){function t(){this.ranges=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.ranges.length},enumerable:!0,configurable:!0}),t.prototype.addRange=function(t,e){this.ranges.push({start:t,end:e})},t.prototype.start=function(t){return this.ranges[t].start},t.prototype.end=function(t){return this.ranges[t].end},t}();e.a=n},function(t,e,i){var n=i(8),o=i(1),r=function(){function t(t,e){this.container=t,this.config=e,this.logger=new o.a("vpaid.BaseVPAIDContainer"),this.backgroundColor="#000000",this.id=e.id||Object(n.rand)(20,!1)}return t.prototype.setBackground=function(t){this.backgroundColor=t},t.prototype.destroy=function(){try{!this.isDetroyed&&this.creativeContainer?(this.isDetroyed=!0,this.creativeContainer.parentNode.removeChild(this.creativeContainer),this.creativeContainer=null,this.vpaid=null):this.isDetroyed&&this.logger.error("Cannot call destroy twice !")}catch(t){this.logger.error("unable to remove VPAID creative container: "+t)}},t.prototype.getVPAID=function(){return this.logger.info("getVPAIDAd - Retrieve ad from creative"),this.vpaid},t.prototype.getCreativeContainer=function(){return this.creativeContainer},t}();e.a=r},function(t,e,i){var n=i(1),o=i(6),r=i(129),a=i(99),s=i(48),c=i(50),u=i(130),d=i(47),l=function(){function t(t,e){this.config=e,this.vpaidAttribute={},this.logger=new n.a("vpaid.PostMessageClient"),this.eventHandler=new d.a,this.mainContainer=document.createElement("div"),this.mainContainer.style.position="relative",t.appendChild(this.mainContainer),this.iframeContainer=Object(o.createIframe)(),this.mainContainer.appendChild(this.iframeContainer),this.postMessage=new a.a(window,this.iframeContainer.contentWindow)}return t.prototype.initAPI=function(e,i,n){var o=this;this.logger.debug("init iframe API on url "+e);var r,a=function(e){e.type===u.a.READY_EVENT?(o.logger.debug("Got ready event from server !"),o.postMessage.callMethod(t.SETCONFIG_METHOD,[o.config])):e.type===u.a.CONFIGREADY_EVENT&&(o.logger.debug("Received configuration ready form server"),o.postMessage.removeCallback(),o.apiReady=!0,clearTimeout(r),i())};this.postMessage.setClientCallback(a),this.iframeContainer.src=e,r=setTimeout(function(){o.apiReady||(o.postMessage.removeCallback(),n(c.POSTMESSAGE_SERVER_TIMEOUT),o.logger.error("server "+e+" didn't reply after "+s.postMessageAPI+"ms"))},s.postMessageAPI)},t.prototype.loadVpaid=function(e,i,n){var o=this;this.logger.debug("Request load VPAID "+e);var r;if(!this.apiReady)return this.logger.error("API is not ready, before use loadVpaid, you must init the API with the method initAPI"),n(c.POSTMESSAGE_API_NOT_READY);var a=function(t){return t.type===u.a.VPAIDLOADED_EVENT?(o.logger.debug("received VPAID loaded from server!"),o.postMessage.removeCallback(),clearTimeout(r),o.onVpaidLoaded(i)):t.type===u.a.VPAIDLOADEDERROR_EVENT?(clearTimeout(r),n(t.data)):void 0};this.postMessage.setClientCallback(a),r=setTimeout(function(){o.postMessage.removeCallback(),n(c.POSTMESSAGE_LOAD_VPAID_TIMEOUT),o.logger.error("Timeout Error : Unable to load vpaid "+e+", server did not reply after "+s.postMessageAPI+"ms")},s.postMessageAPI),this.postMessage.callMethod(t.LOADVPAID_METHOD,[e])},t.prototype.getVPAID=function(){return this.vpaid},t.prototype.callVPAIDMethod=function(e,i){return void 0===i&&(i=[]),t.getters.indexOf(e)>=0?this.vpaidAttribute[e]:this.postMessage.callMethod(e,i)},t.prototype.getIframeContainer=function(){return this.iframeContainer},t.prototype.subscribe=function(t,e,i){this.eventHandler.subscribe(t,e,i)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.onVpaidLoaded=function(t){var e=this;this.vpaid=new r.a(this),this.postMessage.setClientCallback(function(t){if(t.type===u.a.ATTRIBUTE_EVENT)return void(e.vpaidAttribute=t.data);e.eventHandler.handleEvent(t)}),t(this.vpaid)},t.GETATTRIBUTESVALUES_METHOD="getAttributesValues",t.LOADVPAID_METHOD="loadVpaid",t.SETCONFIG_METHOD="setConfig",t.getters=["getAdWidth","getAdHeight","getAdDuration","getAdRemainingTime","getAdSkippableState","getAdLinear","getAdExpanded","getAdVolume"],t}();e.a=l},function(t,e,i){i.d(e,"a",function(){return a});var n=i(9),o=i(29),r=i(5),a=function(){function t(t,e,i){void 0===i&&(i="*"),this.currentWindow=t,this.targetWindow=e,this.domain=i}return t.prototype.setClientCallback=function(t){var e=this;this.setCallback(function(i){var n=e.parseEvent(i);t(n)})},t.prototype.setServerCallback=function(t){var e=this;this.setCallback(function(i){t(e.parse(i))})},t.prototype.removeCallback=function(){this.currentWindow.removeEventListener("message",this.callback,!1)},t.prototype.dispatchEvent=function(t,e){this.post(this.targetWindow,this.stringify(t,e))},t.prototype.callMethod=function(t,e){this.post(this.targetWindow,this.stringify(t,e))},t.prototype.parseEvent=function(t){var e=this.parse(t);return new r.a(e.name,e.data)},t.prototype.post=function(t,e){t.postMessage(e,this.domain)},t.prototype.stringify=function(e,i){return e+t.splitChar+(void 0!==i?Object(o.encode)(Object(n.stringify)(i)):"")},t.prototype.parse=function(e){var i,r=e.data.split(t.splitChar),a=r[0];return r[1]&&(i=Object(n.parse)(Object(o.decode)(r[1]))),{name:a,data:i}},t.prototype.setCallback=function(t){var e=this;this.callback=function(i){i.source===e.targetWindow&&"string"==typeof i.data&&t(i)},this.currentWindow.addEventListener("message",this.callback,!1)},t.splitChar="_",t}()},function(t,e,i){var n={vpaidswfwrapper:"vpaidwrapper.swf",sandbox:"vpaid-sandbox.html"};e.a=n},function(t,e,i){var n=i(5),o=i(46),r=i(102),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e){var i=t.call(this,e)||this;return i.adDuration=-2,i.isVpaid2=Object(o.isVPAID2)(i.vpaid),i}return a(e,t),e.prototype.handshakeVersion=function(t){return"2.0"},e.prototype.initAd=function(e,i,r,a,s,c){this.adWidth=e,this.adHeight=i,this.dispatchEvent(n.a.AdLog,"VPAID 1.0 creative"),t.prototype.initAd.call(this,e,i,r,a,s,c),this.isVpaid2=Object(o.isVPAID2)(this.vpaid)},e.prototype.resizeAd=function(e,i,o){if(this.adWidth=e,this.adHeight=i,this.isVpaid2)return t.prototype.resizeAd.call(this,e,i,o);t.prototype.resizeAd.call(this,e,i),this.dispatchEvent(n.a.AdSizeChange)},e.prototype.getAdWidth=function(){return this.adWidth},e.prototype.getAdHeight=function(){return this.adHeight},e.prototype.skipAd=function(){this.isVpaid2?t.prototype.skipAd.call(this):(this.dispatchEvent(n.a.AdSkipped),this.stopAd())},e.prototype.getAdSkippableState=function(){return!!this.isVpaid2&&t.prototype.getAdSkippableState.call(this)},e.prototype.getAdIcons=function(){return!!this.isVpaid2&&t.prototype.getAdIcons.call(this)},e.prototype.getAdCompanions=function(){return this.isVpaid2?t.prototype.getAdCompanions.call(this):""},e.prototype.getAdDuration=function(){return this.isVpaid2?t.prototype.getAdDuration.call(this):this.adDuration},e.prototype.handleVpaidEvent=function(e){if(!this.isVpaid2)switch(e.type){case n.a.AdRemainingTimeChange:this.getAdRemainingTime()>0&&(this.adDuration<=0||this.getAdRemainingTime()>this.adDuration)&&(this.adDuration=this.getAdRemainingTime())}t.prototype.handleVpaidEvent.call(this,e)},e}(r.a);e.a=s},function(t,e,i){var n=i(7),o=i(57),r=i(5),a=i(45),s=i(86),c=i(26),u=i(48),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e){var i=t.call(this)||this;return i.lastAdRemainingTime=-1,i.setVPAID(e.getVPAID()),i.type=e.getType(),i.container=e,i.container.registerVPAIDEventHandler(function(t){switch(t.type){case r.a.AdRemainingTimeChange:case r.a.AdDurationChange:return}i.handleVpaidEvent(t)}),i}return d(e,t),e.prototype.initAd=function(e,i,n,o,r,s){this.container.resize(e,i),this.type===a.a.JS&&"string"==typeof r&&(r={AdParameters:r}),t.prototype.initAd.call(this,e,i,n,o,r,this.type===a.a.JS?this.getEnvironmentVars(s):null)},e.prototype.setAdVolume=function(e){var i=this;if(this.environmentVars&&this.environmentVars.videoSlot){var a=function(t){t.type===o.volumechange&&i.dispatchEvent(r.a.AdVolumeChange),n.removeEventListener(o.volumechange,i.environmentVars.videoSlot,a)};n.addEventListener(o.volumechange,this.environmentVars.videoSlot,a),this.environmentVars.videoSlot.volume=e,this.environmentVars.videoSlot.muted=!e}return t.prototype.setAdVolume.call(this,e),this.dispatchEvent(r.a.AdVolumeChange),e},e.prototype.getAdVolume=function(){return this.environmentVars&&this.environmentVars.videoSlot&&void 0!==this.environmentVars.videoSlot.volume?this.environmentVars.videoSlot.muted?0:this.environmentVars.videoSlot.volume:t.prototype.getAdVolume.call(this)},e.prototype.resizeAd=function(e,i,n){this.isResizing=!0,this.container.resize(e,i),t.prototype.resizeAd.call(this,e,i,n)},e.prototype.getEnvironmentVars=function(t){return this.container.getEnvironmentVars(t)},e.prototype.handleVpaidEvent=function(e){var i=this;switch(e.type){case r.a.AdSizeChange:this.isResizing||this.container.resize(this.getAdWidth(),this.getAdHeight()),this.isResizing=!1;break;case r.a.AdStarted:this.startTimer();break;case r.a.AdStopped:this.stopTimer()}t.prototype.handleVpaidEvent.call(this,e),this.status===c.a.STOPPED&&(this.status=c.a.REMOVING,setTimeout(function(){i.status=c.a.REMOVED,i.container.destroy()},u.destroy))},e.prototype.startTimer=function(){var t=this;this.timerId||(this.timerId=setInterval(function(){var e=t.getAdRemainingTime();t.status<c.a.COMPLETE&&e>=0&&t.lastAdRemainingTime!==e&&(t.lastAdRemainingTime=e,t.dispatchEvent(r.a.AdRemainingTimeChange),t.dispatchEvent(r.a.AdDurationChange))},250))},e.prototype.stopTimer=function(){this.timerId&&clearInterval(this.timerId)},e}(s.a);e.a=l},function(t,e,i){var n=i(6),o=i(5),r=i(21),a=i(52),s=i(18),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastVolume=1,e}return c(e,t),e.prototype.init=function(){var e=this;this.isMuted=a.isMuted(this.vpaid),this.eventName=r.a.SoundToggleRequest,this.vpaid.subscribe(function(){e.isMuted=a.isMuted(e.vpaid),e.onMuteChange()},o.a.AdStarted),this.vpaid.subscribe(function(){e.isMuted=a.isMuted(e.vpaid)},o.a.AdVideoStart),this.vpaid.subscribe(function(){e.hide()},o.a.AdStopped),this.ui.subscribe(function(){e.hide()},r.a.EndscreenInit),this.vpaid.subscribe(function(){(!e.isMuted&&a.isMuted(e.vpaid)||e.isMuted&&!a.isMuted(e.vpaid))&&(e.lastVolume=a.isMuted(e.vpaid)?e.lastVolume:e.vpaid.getAdVolume(),e.isMuted=a.isMuted(e.vpaid),e.onMuteChange())},o.a.AdVolumeChange),this.onMuteChange(),t.prototype.init.call(this)},e.prototype.onMuteChange=function(){n[a.isMuted(this.vpaid)?"addClass":"removeClass"](this.getElement(),"muted")},e.prototype.setAdVolume=function(){this.vpaid.setAdVolume(this.isMuted?this.lastVolume:0)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.setAdVolume(),this.isMuted=!this.isMuted,this.onMuteChange()},e}(s.a);e.a=u},function(t,e,i){i.d(e,"a",function(){return n});var n,o=i(6),r=i(4),a=i(5),s=i(21),c=i(18),u=i(83),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.CLASSIC=1]="CLASSIC",t[t.COUNTDOWN=2]="COUNTDOWN",t[t.SKIPPABLE=3]="SKIPPABLE"}(n||(n={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClickAction=r.a,e}return d(e,t),e.prototype.init=function(){var t=this,e=this.config.countdown>=0?this.config.countdown:this.ui.getConfig().skipoffset;if(this.eventName=s.a.CollapseRequest,this.vpaid.subscribe(function(){t.videoEnded=!0},a.a.AdVideoComplete),this.config.listenSkippableState)this.mode=n.CLASSIC,this.vpaid.subscribe(function(){t.vpaid.getAdSkippableState()?t.show():t.hide()},a.a.AdSkippableStateChange);else if(e>0){this.mode=n.COUNTDOWN;var i=this.insertCountDownElement();this.countdown=new u.a(this.ui,i,this.vpaid,{countdown:e}),this.countdown.setEndedCallback(function(){return t.onCountdownEnded()})}else 0===e&&(this.mode=n.SKIPPABLE,this.countdownEnded=!0,this.show())},e.prototype.onMethod=function(t,e){var i=this;this.countdown&&this.countdownInitiated&&!this.countdownEnded&&r.b.of({pauseAd:function(){return i.countdown.pause()},resumeAd:function(){return i.countdown.resume()}}[t]).forEach(function(t){return t()})},e.prototype.show=function(){t.prototype.show.call(this);var e=this.getElement().getElementsByClassName("close-button icon-close")[0];this.countdown&&!this.countdownEnded||o.removeClass(e,"hide")},e.prototype.restoreOnClickAction=function(){this.onClickAction=r.a},e.prototype.changeOnCountdownEnded=function(t){var e=this;this.countdown.setEndedCallback(function(){e.countdown.hide(),e.countdownEnded=!0,t()})},e.prototype.onVideoStart=function(){this.countdownInitiated||this.config.listenSkippableState||(t.prototype.onVideoStart.call(this),this.countdown.init(),this.countdown.show(),this.countdownInitiated=!0,this.countdown.initTimer())},e.prototype.onClick=function(e){var i=this;this.onClickAction.match({some:function(t){t()},none:function(){i.countdownEnded&&(i.videoEnded?t.prototype.onClick.call(i,e):(i.dispatchUiEvent(s.a.CollapseRequest),i.vpaid.skipAd()))}})},e.prototype.insertCountDownElement=function(){var t=document.createElement("div");return t.className="countdown",this.getElement().appendChild(t),t},e.prototype.onCountdownEnded=function(){this.countdown.hide(),this.countdownEnded=!0,this.show()},e}(c.a);e.b=l},function(t,e,i){var n=i(5),o=i(139),r=i(56),a=i(52),s=i(18),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.placeholders=["currentTime","totalTime","remainingTime","countdown"],e}return c(e,t),e.prototype.init=function(){this.setText(this.config.text)},e.prototype.setText=function(t){var e=this;this.renderText(t),this.havePlaceholder(t)&&!this.haveProgressCallback&&(this.haveProgressCallback=!0,this.vpaid.subscribe(function(){e.renderText(t)},n.a.AdRemainingTimeChange))},e.prototype.renderText=function(t){this.textNode&&this.getElement().removeChild(this.textNode),this.textNode=document.createElement("span"),this.textNode.innerHTML=this.havePlaceholder(t)?this.replacePlaceholders(t):t,this.getElement().appendChild(this.textNode)},e.prototype.replacePlaceholders=function(t){var e=this,i={};return this.placeholders.forEach(function(t){i[t]=e.getPlaceholderValue(t)}),r.replacePlaceholders(t,i)},e.prototype.havePlaceholder=function(t){var e=new RegExp("({{"+this.placeholders.join("}}|{{")+"}})","g");return!!t.match(e)},e.prototype.getPlaceholderValue=function(t){var e=a.getCurrentTime(this.vpaid);e=e<0||isNaN(e)?0:Math.floor(e);var i=Math.floor(this.vpaid.getAdRemainingTime());switch(t){case"currentTime":return o.secondToTimecode(e);case"totalTime":return o.secondToTimecode(Math.floor(this.vpaid.getAdDuration()));case"remainingTime":return o.secondToTimecode(i);case"countdown":return String(this.config.countdown-e)}},e}(s.a);e.a=u},function(t,e,i){i.d(e,"a",function(){return p});var n=i(3),o=i(8),r=i(23),a=i(1),s=i(24),c=i(120),u=i(121),d=i(107),l=i(39),p=function(){function t(t,e){var i=this;this.logger=new a.a("tracker.Tracker"),this.trackings={},this.metadatas=[],this.errors=[],this.errorUrls=[],this.sumoTracker=new s.a,this.trackedEvents={},this.alreadyBilledAdvertiser={whenAnalyticsOnlyEqualsFalse:!1,whenAnalyticsOnlyEqualsTrue:!1},this.wigoi=null,this.sumoTracker.init(s.a.CONFIGS.PLAYER,e),t.match({some:function(t){return i.setTrackings(t)},none:function(){return i.setTrackings(d.a.vast)}}),this.logger.debug("new",this)}return t.prototype.setTrackings=function(t){if(!(t instanceof Array))return void this.logger.error("setTrackings param error, expected array.",t);n.forEach(t,function(t){this.setTracking(t)},this)},t.prototype.setTracking=function(t){if(!t.name)return void this.logger.error("Name of tracking is needed",t);this.trackings[t.name]=new c.a(t.name,t.before,t.after,t.multiple,t.metadata,t.resources)},t.prototype.getTracking=function(t){return this.trackings[t]},t.prototype.addResource=function(t,e,i){if(e&&!Object(o.isURL)(e)&&this.sumoTracker.sendInfo(["invalid-tracking",e].join(";")),"progress"===t&&!i)return this.logger.error('Adding a "progress" tracking requires an associated offset',e),!1;if(!e||e.trim&&!e.trim())return this.logger.error("Adding a tracking requires an url not empty",e),!1;var r=this.getTracking(t);if(r){var a=r.getAllResources();if(a.length){var s=!1;if(n.forEach(a,function(t){s||(s=e===t.url)}),s)return this.logger.warn("URL already exists"),!1}return r.addResource(e,i),!0}return this.logger.error("This event ("+t+") does not exist in config"),!1},t.prototype.isTrackable=function(t){var e=this.getTracking(t);if(!e)return this.trackError(t,"This event ("+t+") does not exist in config"),!1;if(!e.isTrackable())return!1;if(!e.hasResources())return!0;if(e){var i=!0,o=!0,r=e.getBefore(),a=e.getAfter();return r.length&&((i=n.some(r,function(t){var e=this.getTracking(t),i=e&&!e.isTrackable();return e&&e.isTracked()||i||!e},this))||this.trackError(t,"Previous event ["+e.getBefore().join(",")+"] was not tracked")),a.length&&((o=n.some(a,function(t){var e=this.getTracking(t),i=e&&e.isTrackable();return e&&!e.isTracked()||i||!e},this))||this.trackError(t,"Next event ["+e.getAfter().join(",")+"] are already tracked")),i&&o}},t.prototype.track=function(t,e,i,o,r){var a=this;void 0===e&&(e={});var s=this.getTracking(t);if(!this.isTrackable(t))return this.logger.warn("This event ("+t+") is not trackable"),!1;if("progress"===t&&(null===i||isNaN(i)))return this.trackError(t,"This event ("+t+") needs the current progress time (in seconds)"),!1;var c=s.getResources(i);return n.forEach(c,function(n){var c=null;t===l.TRACKING.hbSlotAvailable&&r?c=r:(c=n.url,s&&s.isMetadata()&&(c=a.processMetadata(c)));for(var u in e)e.hasOwnProperty(u)&&(c=c.replace(u,e[u]));c=a.appendDuplicatedRevenueWhenAlreadyBilledAdvertiser(c,e,i,o),a.triggerUrl(c),n.fired=!0,a.logger.debug("track ["+t+(i?"@"+i.toFixed(2)+"s":"")+"]: ",c),s.addTracked(c,i),a.callback(t,!0)},this),s.setTracked(),this.trackedEvents[t]=this.trackedEvents[t]||0,this.trackedEvents[t]++,this.wigoi&&this.wigoi.vastEvent(t,i?i.toFixed(2)||i.toString():"undefined",o?100*Math.floor(i)/Math.floor(o):0,c),!0},t.prototype.triggerUrl=function(t){(new Image).src=t},t.prototype.getTrackedCount=function(t){return this.trackedEvents[t]||0},t.prototype.setMetadata=function(t,e,i){if(void 0===i&&(i=!0),"string"!=typeof t||!t)return this.logger.warn("setMetadata: key is mandatory (string).",t),!1;if("string"!=typeof e&&"function"!=typeof e)return this.logger.warn("setMetadata: value: String or Function expected.",e),!1;if("boolean"!=typeof i)return this.logger.warn("setMetadata: multiple: Boolean expected.",i),!1;var n=new u.a(t,e,i);return!!n&&(this.metadatas.push(n),!0)},t.prototype.processMetadata=function(t){for(var e,i,n=this.metadatas.length-1;n>=0;n--)e=this.metadatas[n],i=e.getKey(),"[STUDIO_CID]"===i&&(t=this.updateUrlForStudio(t,e)),0===i.indexOf("[")?t=t.replace(i,e.getValue()):t+=(t.indexOf("?")>=0?"&":"?")+e.getUrlPiece(),e.isMultiple()||this.metadatas.splice(n,1);return t},t.prototype.getTrackingsInfo=function(){var t,e={};for(var i in this.trackings)if(this.trackings.hasOwnProperty(i)){t=this.trackings[i];var o=t.getTracked();n.forEach(o,function(i,n){var o=new Date(i.time);e[t.getName()+"-"+n]={event:t.getName(),url:i.url,time:o.toTimeString().substr(0,8)+"."+o.getMilliseconds()}})}this.logger.table(e),this.logger.table(this.errors)},t.prototype.trackError=function(t,e){this.logger.warn("Track errors:",t,e),this.callback(t,"false");var i=new Date;this.errors.push({event:t,message:e,time:i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds()}),n.forEach(this.errorUrls,function(i){i+="&event="+encodeURIComponent(t),i+="&message="+encodeURIComponent(e),(new Image).src=i})},t.prototype.callback=function(t,e){if("function"==typeof this.handler)try{this.handler(t,e)}catch(e){this.logger.error("Callback error ("+t+"):",e)}},t.prototype.setCallback=function(t){"function"==typeof t&&(this.handler=t)},t.prototype.setWigoi=function(t){this.wigoi=t},t.prototype.updateUrlForStudio=function(t,e){return-1===t.indexOf("studio_cid")&&-1!==t.indexOf("t.teads.tv")&&(t+=(t.indexOf("?")>=0?"&":"?")+"studio_cid="+e.getKey()),t},t.prototype.appendDuplicatedRevenueWhenAlreadyBilledAdvertiser=function(t,e,i,n){void 0===e&&(e={});r.parse(t);return r.isInternalUrl(t)&&(t.indexOf("?revenue=")>-1||t.indexOf("&revenue=")>-1)&&(t.indexOf("?gid=")>-1||t.indexOf("&gid=")>-1)&&(t.indexOf("analyticsOnly=false")>-1&&this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsFalse||t.indexOf("analyticsOnly=true")>-1&&this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsTrue?t+="&dr=1":(t.indexOf("analyticsOnly=false")>-1?this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsFalse=!0:t.indexOf("analyticsOnly=true")>-1&&(this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsTrue=!0),this.track("billable",e,i,n))),t},t}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(){}return t.format=[{name:"placementCall"},{name:"passback-integration"},{name:"passback-noAd"},{name:"noSlot-dom"},{name:"noSlot-selector"},{name:"hbNoSlot-selector"},{name:"noSlot-filter"},{name:"noSlot-avoid"},{name:"noSlot-size"},{name:"noSlot-BTF"},{name:"noSlot-minimum"},{name:"noSlot-minimumBelow"},{name:"noSlot-content"},{name:"noSlot-position"},{name:"incompatibility-browser"},{name:"incompatibility-context"},{name:"incompatibility-format"},{name:"incompatibility-video"},{name:"placementCapping"},{name:"slotAvailable"},{name:"hbSlotAvailable"},{name:"adNotAvailable-networkError"},{name:"adNotAvailable-serverError"},{name:"adAvailable-error-parseTimeout"},{name:"adAvailable-error-badResponse"},{name:"adAvailable-error-vast-100"},{name:"adAvailable-error-vast-101"},{name:"adAvailable-error-vast-102"},{name:"adAvailable-error-vast-200"},{name:"adAvailable-error-vast-201"},{name:"adAvailable-error-vast-202"},{name:"adAvailable-error-vast-203"},{name:"adAvailable-error-vast-300"},{name:"adAvailable-error-vast-301"},{name:"adAvailable-error-vast-302"},{name:"adAvailable-error-vast-303"},{name:"adAvailable-error-vast-304"},{name:"adAvailable-error-vast-400"},{name:"adAvailable-error-vast-401"},{name:"adAvailable-error-vast-402"},{name:"adAvailable-error-vast-403"},{name:"adAvailable-error-vast-405"},{name:"adAvailable-error-vast-500"},{name:"adAvailable-error-vast-501"},{name:"adAvailable-error-vast-502"},{name:"adAvailable-error-vast-503"},{name:"adAvailable-error-vast-600"},{name:"adAvailable-error-vast-601"},{name:"adAvailable-error-vast-602"},{name:"adAvailable-error-vast-603"},{name:"adAvailable-error-vast-604"},{name:"adAvailable-error-vast-900"},{name:"adAvailable-error-vast-901"},{name:"adAvailable-error-settings"},{name:"adAvailable-error-emptyArray"},{name:"adAvailable-error-sameAd"},{name:"adAvailable-success"},{name:"adCall"},{name:"noAd-serverError"},{name:"noAd-networkError"},{name:"noAd-notFilled"},{name:"noAd-vastError-100"},{name:"noAd-vastError-101"},{name:"noAd-vastError-102"},{name:"noAd-vastError-200"},{name:"noAd-vastError-201"},{name:"noAd-vastError-202"},{name:"noAd-vastError-203"},{name:"noAd-vastError-300"},{name:"noAd-vastError-301"},{name:"noAd-vastError-302"},{name:"noAd-vastError-303"},{name:"noAd-vastError-304"},{name:"noAd-vastError-400"},{name:"noAd-vastError-401"},{name:"noAd-vastError-402"},{name:"noAd-vastError-403"},{name:"noAd-vastError-405"},{name:"noAd-vastError-500"},{name:"noAd-vastError-501"},{name:"noAd-vastError-502"},{name:"noAd-vastError-503"},{name:"noAd-vastError-600"},{name:"noAd-vastError-601"},{name:"noAd-vastError-602"},{name:"noAd-vastError-603"},{name:"noAd-vastError-604"},{name:"noAd-vastError-900"},{name:"noAd-vastError-901"},{name:"noAd-parseTimeout"},{name:"noAd-settingsError"},{name:"noAd-badResponse"},{name:"noAd-sameAd"},{name:"noAd-ivt-doubleVerify"},{name:"noAd-ivt-tag"},{name:"noAd-blockedSite-doubleVerify"},{name:"ad"},{name:"click-replay"}],t.vast=[{name:"error"},{name:"fullscreen",multiple:!0},{name:"exitFullscreen",multiple:!0},{name:"click",multiple:!0},{name:"creativeView"},{name:"impression"},{name:"start"},{name:"firstQuartile"},{name:"midpoint"},{name:"thirdQuartile"},{name:"complete"},{name:"pause",before:["start"],multiple:!0},{name:"resume",before:["pause"],multiple:!0},{name:"mute",multiple:!0},{name:"unmute",multiple:!0},{name:"expand",multiple:!0},{name:"collapse",multiple:!0},{name:"rewind",multiple:!0},{name:"skip"},{name:"close"},{name:"progress",multiple:!0},{name:"acceptInvitationLinear"},{name:"acceptInvitation"},{name:"closeLinear"},{name:"noAd"},{name:"noLinearAd"},{name:"customClicks",multiple:!0},{name:"adChoices",multiple:!0},{name:"billable"},{name:"otherAdInteraction",multiple:!0}],t}()},function(t,e,i){var n=i(6),o=i(50),r=i(69),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.loadVpaid=function(i,n,o){i===e.CANVAS?this.loadBundled(e.CANVAS,n,o):i===e.VIDEO?this.loadBundled(e.VIDEO,n,o):t.prototype.loadVpaid.call(this,i,n,o)},e.prototype.loadBundled=function(t,i,r){this.mainContainer=document.createElement("div"),this.mainContainer.style.setProperty("position","relative"),this.container.appendChild(this.mainContainer),this.creativeContainer=Object(n.createIframe)(),this.creativeContainer.setAttribute("id","vpaid-"+this.id),this.creativeContainer.setAttribute("class","creative-container"),this.mainContainer.appendChild(this.creativeContainer);var a='<!DOCTYPE html><html><body style="margin:0px;padding:0px;overflow:hidden"><div id="video-container" style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+this.backgroundColor+'"></div><div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div></body></html>';switch(this.creativeContainer.contentWindow.document.write(a),this.creativeContainer.contentWindow.document.close(),this.vpaidContainer=this.creativeContainer.contentWindow.document.getElementById("vpaid-container"),this.videoContainer=this.creativeContainer.contentWindow.document.getElementById("video-container"),this.creativeContainer.contentWindow.teads=window.teads,this.creativeContainer.contentWindow.teads.api=this.config.api,t){case e.VIDEO:this.vpaid=new this.creativeContainer.contentWindow.teads.video.VPAIDVideo;break;case e.CANVAS:this.vpaid=new this.creativeContainer.contentWindow.teads.video.VPAIDCanvas;break;default:return r(o.BUNDLE_ASSET_NOT_EXISTING)}i(this.vpaid)},e.CANVAS="canvas",e.VIDEO="video",e}(r.a);e.a=s},function(t,e){t.exports="<div class=\"loader\"> <style> .loader:before, .loader:after, .loader { border-radius: 50%; width: 1.5em; height: 1.5em; -webkit-animation-fill-mode: both; animation-fill-mode: both; -webkit-animation: load7 1.8s infinite ease-in-out; animation: load7 1.8s infinite ease-in-out; } .loader { font-size: 8px; margin-left: -8px; position: absolute; left: 50%; top: 30%; z-index: 10; text-indent: -9999em; -webkit-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); -webkit-animation-delay: -0.16s; animation-delay: -0.16s; } .loader:before { left: -2em; -webkit-animation-delay: -0.32s; animation-delay: -0.32s; } .loader:after { left: 2em; } .loader:before, .loader:after { content: ''; position: absolute; top: 0; } @-webkit-keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } @keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } </style> loading...</div> "},function(t,e){t.exports="<style> /* This used to work for parent element of button divs */ /* But it is not enough now, below dont hide play button parent div */ *::-webkit-media-controls-panel { display: none!important; -webkit-appearance: none; } /* Old shadow dom for play button */ *::--webkit-media-controls-play-button { display: none!important; -webkit-appearance: none; } /* New shadow dom for play button */ /* This one works */ *::-webkit-media-controls-start-playback-button { display: none!important; -webkit-appearance: none } </style> "},function(t,e,i){var n=i(1),o=i(31),r=i(23),a=i(125),s=i(45),c=i(50),u=i(46),d=i(26),l=i(126),p=i(128),h=i(131),f=i(102),g=i(101),m=i(132),v=i(108),y=i(69),b=function(){function t(t,e){this.container=t,this.config=e,this.status=a.a.READY,this.wigoi=null}return t.prototype.load=function(e,i,n){var r=this;if(!(this.status>a.a.READY)){var v,y;this.config.sandbox?(this.creativeType=s.a.POSTMESSAGE,y=p.a):(y=this.findContainerConstructor(e),this.creativeType=y===m.a?s.a.SWF:s.a.JS),this.container.innerHTML="",this.status=a.a.LOADING;var b=function(a){r.status=d.a.LOADED,r.wrapperClass||(r.wrapperClass=r.creativeType!==s.a.SWF||Object(u.isVPAID2)(a)?f.a:g.a,Object(l.default)(e)&&(r.wrapperClass=h.a));var p=new r.wrapperClass(v);try{i(p)}catch(t){var m=c.SUCCESS_CALLBACK_ERROR;m.message+=t,n(m)}var y=Object(u.isVPAID2)(a)?"2.0":"1.0";t.logger.info("handshakeVersion - Creative vpaid version "+y),r.wigoi&&r.wigoi.valid(3,1,y,o.a.infoType.STRING)};v=new y(this.container,this.config),this.config.background&&v.setBackground(this.config.background),v.loadVpaid(e,b,n)}},t.prototype.findContainerConstructor=function(t){return t===v.a.VIDEO||t===v.a.CANVAS?v.a:".swf"===Object(r.parse)(t).pathname.substr(-4)?m.a:y.a},t.prototype.setWigoi=function(t){this.wigoi=t},t.logger=new n.a("vpaid.VPAIDLoader"),t}();e.a=b},function(t,e,i){function n(t){var e;if(l){try{e=new ActiveXObject("Msxml2.DOMDocument.6.0"),d.logger.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.6.0")}catch(t){try{e=new ActiveXObject("Msxml2.DOMDocument.3.0"),d.logger.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.3.0")}catch(t){e=new ActiveXObject("Microsoft.XMLDOM"),d.logger.debug("XML Parser - ActiveXObject - Microsoft.XMLDOM")}}e.async=!1,e.loadXML(t)}else if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else try{window.teads.player.playerSumologic.sendError("VAST PARSER - NO XML PARSER FOUND")}catch(t){}return e}function o(t){if(t)try{var e=c(t);return e?u(e):""}catch(e){d.logger.error("Couldn't get content for node "+t.nodeName+': "'+e+'"')}}function r(t,e){try{if(t.attributes[e])return String(t.attributes[e].value);for(var i=0;i<t.attributes.length;i++)if(t.attributes[i].name===e)return String(t.attributes[i].value)}catch(t){d.logger.error("Couldn't get attribute value: \""+t+'"')}}function a(t){return!/[^\t\n\r ]/.test(t.textContent?t.textContent:t.text)}function s(t){return 8===t.nodeType||3===t.nodeType&&a(t)}function c(t){for(var e=t.firstChild;e;){if(!s(e))return e;e=e.nextSibling}return null}function u(t){var e=t.textContent?t.textContent:t.text,i=e.replace(/[\t\n\r ]+/g," ");return" "===i.charAt(0)&&(i=i.substring(1,i.length))," "===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"supportActiveX",function(){return l}),e.getXMLDoc=n,e.getNodeContent=o,e.getAttributeValue=r,e.isAllWhitespace=a,e.isIgnorable=s,e.getFirstChild=c,e.getNodeTextContent=u;var d=i(68),l=Object&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window||!!window.ActiveXObject},function(t,e,i){function n(t){try{window.teads.player.playerSumologic.sendInfo("xhr "+Number(t))}catch(t){}}function o(t,e,i,s,f){void 0===f&&(f=!0),t=a(t),n(Number(f));var v=t.match(/\/\/.*/);t=v?u.getProtocol()+v[0]:t,m.debug("Loading VAST file URL:",t," - credentials:",f);var y,b=!1,A=function(a){if(clearTimeout(y),!b&&f)return m.warn("load file with credentials failed, try without credentials before flash proxy"),void o(t,e,i,s,!1);m.warn("load file with javascript failed"),!b&&c.hasFlash()?r(t,e,i,s):(n(3),m.warn("Error loading URL",t),s(a,new l.a))};try{var E=h.createXmlHttpRequest();E.open("GET",t,!0),E.withCredentials=f;var w=function(){if(clearTimeout(y),!b){w=function(){};var t;if("string"==typeof E.responseXML)t=E.responseXML;else if("string"==typeof E.responseText)t=E.responseText;else{if("string"!=typeof E.response)return void A(d.a.get(d.b.WRAPPER_TIMEOUT.id,"empty xhr response"));t=E.response}n(Number(f)),i(p.trim(t))}};h.isXMLHttpRequest(E)?E.onreadystatechange=function(){if(4===E.readyState){if(E.status<200||E.status>=400){var t=d.a.get(d.b.WRAPPER_TIMEOUT.id,"invalid XHR status code "+E.status);return m.warn("server return an invalid status code : "+t.toString()),404===E.status&&(b=!0),A(t)}w()}}:(E.onerror=function(){return A(d.a.get(d.b.WRAPPER_TIMEOUT.id,"XHR onerror"))},E.onprogress=function(){},E.onload=function(){return w()}),E.send();var C=e.timeout||g.a.TIMEOUT;y=setTimeout(function(){b=!0,A(d.a.get(d.b.WRAPPER_TIMEOUT.id,"no response after "+C+"ms"))},C)}catch(t){m.warn("Could not load XML file directly",t),b=!0,A(d.a.get(d.b.UNDEFINED.id,"VASTLoader.load error "+t,t))}}function r(t,e,i,o){var r="vastloader_"+Date.now()+"_"+Math.round(1e3*Math.random());m.debug("try loading file with flash cors proxy",r);var a,s=e.timeout||g.a.TIMEOUT,c=!1;window[r]=function(e,s){if(!c){if(clearTimeout(a),e)n(2),m.debug("Flash CORS proxy successfully load VAST file",t),i(p.trim(decodeURIComponent(s)));else{m.error("Unable to load VAST file with flash CORS proxy"),n(3);var u=d.a.get(d.b.WRAPPER_TIMEOUT.id,"flash CORS proxy fail to load XML");o(u,new l.a)}window[r]=void 0}};var u=e.assetsUrl+"/"+f.a.corsswf,h=document.createElement("div");h.innerHTML='<object id="'+r+'" name="'+r+'" data="'+u+'" type="application/x-shockwave-flash" width="0" height="0"><param name="allowScriptAccess" value="always"/><param name="movie" value="'+u+'"/><param name="flashvars" value="url='+encodeURIComponent(t)+"&handler="+r+'"/></object>',document.body.appendChild(h),a=setTimeout(function(){c=!0;var t=d.a.get(d.b.WRAPPER_TIMEOUT.id,"flash cors have no response after "+s+"ms");o(t,new l.a)},s)}function a(t){try{var e=p.rand(8);return t.replace(/\[timestamp\]/gi,String(Date.now())).replace(/\[(random|cachebusting|random_number|TTD_CACHEBUSTER)\]/gi,e).replace(/ord=(%n|\{RANDOMNUM\}|%25%25TTD_CACHEBUSTER%25%25)/gi,"ord="+e)}catch(t){m.warn("updateUrlPlaceholder threw an exception: "+t)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.logXhr=n,e.load=o,e.loadWithFlash=r,e.updateUrlPlaceholder=a;var s=i(1),c=i(36),u=i(0),d=i(15),l=i(67),p=i(8),h=i(16),f=i(162),g=i(66),m=new s.a("vast.VASTLoader")},function(t,e,i){i.d(e,"a",function(){return d});var n=i(7),o=i(6),r=i(5),a=i(21),s=i(103),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(){function t(){}return t.EQUALIZER="equalizer",t.MUTE="mute",t}(),d=function(){function t(){}return t.OFF="icon-muteoff",t.ON="icon-muteon",t}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.paused=!1,e}return c(e,t),e.prototype.init=function(){var e=this;if(t.prototype.init.call(this),this.eventName=a.a.SoundToggleRequest,this.config.type===u.EQUALIZER)this.initEqualizer();else{var i=document.createElement("div");i.className=d.OFF,this.getElement().appendChild(i);var n=function(){o.replaceClass(i,e.vpaid.getAdVolume()>0?d.ON:d.OFF,e.vpaid.getAdVolume()>0?d.OFF:d.ON)};this.vpaid.subscribe(n,r.a.AdVolumeChange),this.vpaid.subscribe(n,r.a.AdStarted)}},e.prototype.setAdVolume=function(){},e.prototype.onClick=function(e){this.config.type!==u.EQUALIZER&&t.prototype.onClick.call(this,e)},e.prototype.initEqualizer=function(){var t=this,e=document.createElement("div");e.className="equalizer",this.getElement().appendChild(e);for(var i=0;i<4;i++){var o=document.createElement("div");o.className="equalizer-bar equalizer-bar-"+i,o.style.left=String(3*i+i),e.appendChild(o)}var a=function(){if(!t.isPaused()){var i=n.getElementsByClassName("equalizer-bar",e,t.ui.getContentWindow());for(var o in i){var r=i[o];r&&r.style&&"none"!==r.style.display&&Math.random()>.5&&(r.style.height=Math.max(3,Math.floor(15*Math.random()+1))+"px")}}};a(),setInterval(a,200),this.vpaid.subscribe(function(){t.pause()},r.a.AdPaused),this.vpaid.subscribe(function(){t.resume()},r.a.AdPlaying)},e.prototype.resume=function(){this.paused=!1},e.prototype.pause=function(){this.paused=!0},e.prototype.isPaused=function(){return this.paused},e}(s.a);e.b=l},function(t,e,i){var n,o=i(2),r=i(41),a=i(38),s=i(6),c=i(26),u=i(47),d=i(5),l=function(){function t(){this.status=c.a.READY,this.eventHandler=new u.a,this.trackingRaised={AdVideoFirstQuartile:!1,AdVideoMidpoint:!1,AdVideoThirdQuartile:!1},this.parameters={},this.skippable=!1,this.expanded=!1}return t.prototype.getVPAID=function(){return this},t.prototype.handshakeVersion=function(t){return"2.0"},t.prototype.subscribe=function(t,e,i){this.eventHandler.subscribe(t,e,i)},t.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},t.prototype.initAd=function(t,e,i,s,u,l){var p=this;this.status=c.a.LOADING,this.width=t,this.height=e,this.viewMode=i,r.decode(u).match({success:function(t){for(var e in t)t.hasOwnProperty(e)&&(p.parameters[e]=t[e]);if(p.environmentVars=l,p.environmentVars.videoSlot||(p.environmentVars.videoSlot=n=n||document.createElement("video")),p.environmentVars.videoSlot.setAttribute&&(p.environmentVars.videoSlot.setAttribute("webkit-playsinline","true"),p.environmentVars.videoSlot.setAttribute("playsinline","true"),o.isAndroid()&&o.isChromeWebView()&&null===p.environmentVars.videoSlot.getAttribute("poster")&&p.environmentVars.videoSlot.setAttribute("poster",a.base64TransparentPixel),null===p.environmentVars.videoSlot.getAttribute("muted")&&p.environmentVars.videoSlot.setAttribute("muted","true")),!p.environmentVars.slot)return void p.dispatchVpaidEvent(d.a.AdError,"no slot provided in environmentVars");p.video=p.environmentVars.videoSlot,p.createContainer(p.environmentVars.slot)},failure:function(t){p.dispatchVpaidEvent(d.a.AdError,"invalid creative data: "+u)}})},t.prototype.startAd=function(){this.status=c.a.STARTING},t.prototype.skipAd=function(){this.status=c.a.SKIPPING},t.prototype.stopAd=function(){this.status=c.a.STOPPING},t.prototype.resizeAd=function(t,e,i){this.width=t,this.height=e,this.viewMode=i},t.prototype.expandAd=function(){return!1},t.prototype.collapseAd=function(){return!1},t.prototype.getAdLinear=function(){return!0},t.prototype.getAdWidth=function(){return this.width},t.prototype.getAdHeight=function(){return this.height},t.prototype.getAdExpanded=function(){return s.isFullscreen()||this.expanded},t.prototype.getAdSkippableState=function(){return this.skippable},t.prototype.getAdCompanions=function(){return""},t.prototype.getAdIcons=function(){return!1},t.prototype.getAdDuration=function(){throw"not implemented"},t.prototype.getAdRemainingTime=function(){throw"not implemented"},t.prototype.getStatus=function(){return this.status},t.prototype.createContainer=function(t){this.container||(this.container=document.createElement("div"),this.container.style.position="relative",t.appendChild(this.container))},t.prototype.onAdVideoCompleteDispatched=function(){var t=this;this.parameters.noAutoStop?(this.video.addEventListener("seeked",function(){t.video.pause()},!1),this.video.currentTime=1):this.stopAd()},t.prototype.dispatchVpaidEvent=function(t,e){this.handleVPAIDEvent(new d.a(t,e))},t.prototype.handleVPAIDEvent=function(t){if(!(this.status===c.a.SKIPPING&&t.type!==d.a.AdSkipped||this.status===c.a.STOPPING&&t.type!==d.a.AdStopped||this.status<=c.a.STOPPED||this.status===c.a.STOPPING&&t.type!==d.a.AdStopped)){switch(t.type){case d.a.AdLoaded:this.status=c.a.LOADED;break;case d.a.AdStarted:this.status=c.a.STARTED;break;case d.a.AdVideoStart:case d.a.AdPlaying:this.status=c.a.PLAYING;break;case d.a.AdPaused:this.status=c.a.PAUSED;break;case d.a.AdVideoComplete:this.status=c.a.COMPLETE;break;case d.a.AdSkipped:this.status=c.a.SKIPPED;break;case d.a.AdStopped:this.status=c.a.STOPPED;break;case d.a.AdDurationChange:case d.a.AdRemainingTimeChange:var e=this.getAdDuration(),i=e-this.getAdRemainingTime();e>0&&i>=.25*e&&!this.trackingRaised.AdVideoFirstQuartile?this.dispatchVpaidEvent(d.a.AdVideoFirstQuartile):e>0&&i>=.5*e&&!this.trackingRaised.AdVideoMidpoint?this.dispatchVpaidEvent(d.a.AdVideoMidpoint):e>0&&i>=.75*e&&!this.trackingRaised.AdVideoThirdQuartile&&this.dispatchVpaidEvent(d.a.AdVideoThirdQuartile);break;case d.a.AdVideoFirstQuartile:case d.a.AdVideoMidpoint:case d.a.AdVideoThirdQuartile:if(this.trackingRaised[t.type])return;this.trackingRaised[t.type]=!0;break;case d.a.AdVideoComplete:this.status=c.a.COMPLETE;break;case d.a.AdError:if(this.trackingRaised[t.type])return;this.trackingRaised[t.type]=!0}this.eventHandler.handleEvent(t),this.status===c.a.SKIPPED&&this.stopAd(),t.type===d.a.AdVideoComplete&&this.onAdVideoCompleteDispatched()}},t.prototype.handleException=function(t,e){var i='method "'+e+'" threw an exception: '+t.toString();this.dispatchVpaidEvent(d.a.AdLog,i),this.dispatchVpaidEvent(d.a.AdError,i)},t}();e.a=l},function(t,e,i){i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o});var n;!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(n||(n={}));var o;!function(t){t[t.NETWORK_EMPTY=0]="NETWORK_EMPTY",t[t.NETWORK_IDLE=1]="NETWORK_IDLE",t[t.NETWORK_LOADING=2]="NETWORK_LOADING",t[t.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(o||(o={}))},function(t,e,i){var n=i(7),o=i(3),r=i(15),a=i(26),s=i(5),c=i(35),u=i(116),d=i(115),l=i(118),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.config={url:"",skippable:!0,skipoffset:0,gradients:!0},e.eventMap={durationchange:"AdDurationChange",resize:"AdSizeChange",volumechange:"AdVolumeChange",ended:"AdVideoComplete",play:"AdPlaying",playing:"AdPlaying",pause:"AdPaused",timeupdate:"AdRemainingTimeChange",error:"AdError"},e}return p(e,t),e.prototype.initAd=function(e,i,o,r,u,d){var l=this;if(this.status!==a.a.READY)return void this.dispatchVpaidEvent(s.a.AdLog,"creative is not in ready state, cannot call initAd");try{this.parameters=this.config,t.prototype.initAd.call(this,e,i,o,r,u,d),n.addEventListener("error",this.video,function(t){l.handleVideoError(t)}),n.addEventListener("loadedmetadata",this.video,function(t){return l.dispatchVpaidEvent(c.default.AdVideoMetadata,{width:l.video.videoWidth,height:l.video.videoHeight})}),this.beginingTimestamp=Date.now(),this.video.preload="metadata",this.video.src=this.parameters.url,this.appendVideo(),this.dispatchVpaidEvent(s.a.AdLoaded)}catch(t){this.handleException(t,"initAd")}},e.prototype.startAd=function(){var e=this;if(this.status>a.a.LOADED)return void this.dispatchVpaidEvent(s.a.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<a.a.LOADED)return void this.dispatchVpaidEvent(s.a.AdLog,"Ad is not loaded, use initAd first");try{t.prototype.startAd.call(this),this.parameters.gradients&&this.appendGradients(),this.clickThrough=new l.a(function(t,i,n){e.dispatchVpaidEvent(s.a.AdClickThru,{url:t,id:i,playerHandles:n})},this.parameters.clickThrough),this.clickThrough.append(this.container),this.clickThrough.resize(this.width,this.height),this.setSize(this.width,this.height),this.initListeners(),this.video.play(),this.dispatchVpaidEvent(s.a.AdStarted),this.dispatchVpaidEvent(s.a.AdImpression)}catch(t){this.handleException(t,"startAd")}},e.prototype.skipAd=function(){if(this.status<=a.a.SKIPPING)return void this.dispatchVpaidEvent(s.a.AdLog,"Ad is already stopped or is skipping");try{this.skippable?(t.prototype.skipAd.call(this),this.video.pause(),this.video.style.display="none",this.dispatchVpaidEvent(s.a.AdSkipped)):this.dispatchVpaidEvent(s.a.AdLog,"skipAd() called, but creative is not skippable")}catch(t){this.handleException(t,"skipAd")}},e.prototype.resizeAd=function(t,e,i){try{this.setSize(t,e),this.dispatchVpaidEvent(s.a.AdSizeChange)}catch(t){this.handleException(t,"resizeAd")}},e.prototype.stopAd=function(){if(this.status<=a.a.STOPPING)return void this.dispatchVpaidEvent(s.a.AdLog,"Ad is already stopped");try{t.prototype.stopAd.call(this),this.removeVideo(),this.clickThrough.remove(),this.dispatchVpaidEvent(s.a.AdStopped),this.eventHandler.clearListeners()}catch(t){this.handleException(t,"stopAd")}},e.prototype.pauseAd=function(){try{this.video.pause()}catch(t){this.handleException(t,"pauseAd")}},e.prototype.resumeAd=function(){try{this.video.play()}catch(t){this.handleException(t,"resumeAd")}},e.prototype.getAdRemainingTime=function(){return this.video?this.video.duration-this.video.currentTime:0},e.prototype.getAdDuration=function(){return this.video?this.video.duration:0},e.prototype.getAdVolume=function(){return this.video?this.video.muted?0:this.video.volume:0},e.prototype.setAdVolume=function(t){return this.video?(this.video.muted=0===t,this.video.volume=t,this.video.muted?0:this.video.volume):0},e.prototype.appendGradients=function(){var t=this;o.forEach(["top","bottom"],function(i){var n=document.createElement("div");n.style.background="transparent url(data:image/png;base64,"+e["GRADIENT_"+i.toUpperCase()]+")",n.style.position="absolute",n.style.left="0",n.style[i]="0",n.style.zIndex="2",n.style.height="30px",n.style.width="100%",t.container.appendChild(n)})},e.prototype.appendVideo=function(){this.video.parentNode||(this.dispatchVpaidEvent(s.a.AdLog,"Video slot got no parent node, appending to container"),this.container.appendChild(this.video))},e.prototype.removeVideo=function(){try{this.video.parentNode.removeChild(this.video)}catch(t){this.dispatchVpaidEvent(s.a.AdLog,"teads-vpaid-video, cannot remove video from DOM")}},e.prototype.sendAdVideoStartEvent=function(){this.videoHasStarted||(this.videoHasStarted=!0,this.dispatchVpaidEvent(s.a.AdVideoStart))},e.prototype.setSize=function(t,e){this.width=t,this.height=e,this.video&&(this.video.width=this.width,this.video.height=this.height),this.clickThrough&&this.clickThrough.resize(t,e),this.container.style.width=t+"px",this.container.style.height=e+"px"},e.prototype.initListeners=function(){var t=this;for(var e in this.eventMap)this.video.addEventListener(e,function(e){t.handleVideoEvent(e)},!1)},e.prototype.handleVideoError=function(t){if("error"===t.type){var e=this.video.error;if(e)switch(e.code){case 1:break;case 2:this.dispatchVpaidEvent(s.a.AdError,{message:"video error : A network error caused the ressource to stop being fetched",id:r.b.MEDIAFILE_TIMEOUT.id});break;case 3:this.dispatchVpaidEvent(s.a.AdError,{message:"video error : A decoding error caused the ressource to stop being fetched",id:r.b.MEDIAFILE_DISPLAY.id});break;case 4:var i={message:"video error : The associated ressource has been detected to be not suitable",id:r.b.GENERAL_LINEAR.id};this.video.readyState===u.a.HAVE_NOTHING&&(i.id=r.b.FILE_NOT_FOUND.id),this.dispatchVpaidEvent(s.a.AdError,i)}else this.dispatchVpaidEvent(s.a.AdError,{message:"video error : unkown error",id:r.b.GENERAL.id})}},e.prototype.handleVideoEvent=function(t){try{var e=this.eventMap[t.type];switch(t.type){case"pause":if(this.video.currentTime===this.video.duration||this.status<=a.a.SKIPPING||this.status===a.a.COMPLETE)return;break;case"play":case"playing":if(this.status===a.a.STARTED)return this.sendAdVideoStartEvent();if(this.status!==a.a.PAUSED)return;break;case"timeupdate":this.parameters.skippable&&!this.skippable&&this.video.currentTime>=Number(this.parameters.skipoffset)&&(this.skippable=!0,this.dispatchVpaidEvent(s.a.AdSkippableStateChange)),(this.status===a.a.STARTED||this.video.currentTime>0)&&this.sendAdVideoStartEvent()}this.dispatchVpaidEvent(e)}catch(e){var i='Creative threw an exception when handling "'+t.type+'" HTML5 video event: '+e.toString();this.dispatchVpaidEvent(s.a.AdLog,i),this.dispatchVpaidEvent(s.a.AdError,{message:i,id:r.b.GENERAL.id})}},e.GRADIENT="iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM0ODU0RjM1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM0ODU0RjQ1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzQ4NTRGMTVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzQ4NTRGMjVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/",e.GRADIENT_TOP=e.GRADIENT+"Psk0S98AAAAgSURBVHjaYmBgYJBiAhIMIOI/nEDj0oNgYGaAAYAAAwAH4xg8FtOkrgAAAABJRU5ErkJggg==",e.GRADIENT_BOTTOM=e.GRADIENT+"PkIta+gAAAAaSURBVHjaYmBABoxMMIKBCYVLDwLJSoAAAwAWTwBRQ43+sgAAAABJRU5ErkJggg==",e}(d.a);e.a=h},function(t,e,i){var n=function(){function t(t,e,i){this.id=i,this.layer=document.createElement("div"),this.layer.className+="vpaid-clickthrough",this.layer.style.cursor="pointer",this.layer.style.opacity="0",this.layer.style.backgroundColor="#FFFFFF",this.layer.style.position="absolute",this.layer.style.zIndex="65000",this.layer.addEventListener("click",function(n){t(e,i,!0)},!1)}return t.prototype.resize=function(t,e){this.layer.style.width=t+"px",this.layer.style.height=e+"px"},t.prototype.remove=function(){this.layer.parentNode&&this.layer.parentNode.removeChild(this.layer)},t.prototype.append=function(t){t.firstChild?t.insertBefore(this.layer,t.firstChild):t.appendChild(this.layer)},t}();e.a=n},,function(t,e,i){i.d(e,"a",function(){return o});var n=i(3),o=function(){function t(t,e,i,n,o,r){void 0===e&&(e=[]),void 0===i&&(i=[]),void 0===n&&(n=!1),void 0===o&&(o=!0),void 0===r&&(r=[]),this.name=t,this.before=e,this.after=i,this.multiple=n,this.metadata=o,this.resources=r,this.tracked=[],this.eventIsTracked=!1,"progress"===t&&(this.multiple=!0)}return t.prototype.getName=function(){return this.name},t.prototype.getBefore=function(){return this.before},t.prototype.getAfter=function(){return this.after},t.prototype.isMultiple=function(){return this.multiple},t.prototype.isMetadata=function(){return this.metadata},t.prototype.getResources=function(t){return n.filter(this.resources,function(e){return!(e.offset>0)||t>=0&&e.offset>=0&&t>=e.offset&&!e.fired})},t.prototype.getAllResources=function(){return this.resources},t.prototype.removeResources=function(){this.resources=[]},t.prototype.hasResources=function(){return this.resources.length>0},t.prototype.addResource=function(t,e){this.resources.push({url:t,offset:e})},t.prototype.setTracked=function(){this.eventIsTracked=!0},t.prototype.isTracked=function(){return this.eventIsTracked},t.prototype.addTracked=function(t,e){this.tracked.push({time:e,url:t})},t.prototype.getTracked=function(){return this.tracked},t.prototype.isTrackable=function(){return!this.eventIsTracked||this.isMultiple()},t}()},function(t,e,i){i.d(e,"a",function(){return o});var n=i(1),o=function(){function t(t,e,i){if(void 0===i&&(i=!0),this.key=t,this.value=e,this.multiple=i,this.logger=new n.a("tracker.Metadata"),!t)throw new Error("Metadata key is mandatory")}return t.prototype.isMultiple=function(){return this.multiple},t.prototype.getKey=function(){return this.key},t.prototype.getValue=function(){var t=this.value;if("function"==typeof t)try{return String(t()||"")}catch(t){return this.logger.warn("getValue: error while trying to execute value function:",t),""}return String(t||"")},t.prototype.getUrlPiece=function(){return encodeURIComponent(this.getKey())+"="+encodeURIComponent(this.getValue())},t}()},function(t,e,i){i.d(e,"a",function(){return n});var n;!function(t){t[t.UNSUPPORTED=0]="UNSUPPORTED",t[t.FLASH=1]="FLASH",t[t.JS=2]="JS",t[t.VPAID=3]="VPAID",t[t.CANVAS=4]="CANVAS"}(n||(n={}))},function(t,e,i){function n(t){var e;return t&&t.extensions&&t.extensions.length>0&&s.forEach(t.extensions,function(t){t.type===c&&(e=r(t.content))}),e}function o(t){return!!n(t)}function r(t){try{return JSON.parse(t)}catch(t){new a.a("TeadsStudioExtension").error(c+" extension throw an exception",t)}}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"EXTENSION_TYPE",function(){return c}),e.get=n,e.isStudioLinearAd=o,e.parse=r;var a=i(1),s=i(3),c="teads-studio"},function(t,e,i){e.a={vpaidvideojs:"teads-vpaid-video.min.js",vpaidcanvas:"teads-vpaid-canvas.min.js",vpaidvideoswf:"teads-vpaid-video.swf",vastcorsloader:"cors.swf",vpaidswfwrapper:"vpaidwrapper.swf",iasvans:"__IASVANS_3.3.0.js"}},function(t,e,i){var n;!function(t){t[t.UNLOADED=-1]="UNLOADED",t[t.READY=0]="READY",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(n||(n={})),e.a=n},function(t,e,i){function n(t){for(var e=0;e<o.a.length;e++)if(t.indexOf(o.a[e])>-1)return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var o=i(127)},function(t,e,i){var n=["vpaid-empty.swf","liverail.com/swf/v4/admanager.swf","teads.tv/swf/vpaid/vpaid-ad"];e.a=n},function(t,e,i){var n=i(69),o=i(98),r=i(45),a=i(100),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.loadVpaid=function(t,e,i){var n=this,r=new o.a(this.container,this.config);this.creativeContainer=r.getIframeContainer();var s=this.config.sandboxUrl||this.config.path+"/"+a.a.sandbox;r.initAPI(s,function(){r.loadVpaid(t,function(t){n.vpaid=t,e(t)},i)},i)},e.prototype.getType=function(){return r.a.POSTMESSAGE},e}(n.a);e.a=c},function(t,e,i){var n=i(9),o=i(85),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){var i=t.call(this)||this;return i.postMessage=e,i}return r(e,t),e.prototype.handshakeVersion=function(t){return"2.0"},e.prototype.initAd=function(t,e,i,o,r,a){void 0===r&&(r="");var s="object"==typeof r?Object(n.stringify)(r):r;this.callVPAIDMethod("initAd",[t,e,i,o,s])},e.prototype.subscribe=function(t,e,i){this.postMessage.subscribe(t,e,i)},e.prototype.unsubscribe=function(t,e){this.postMessage.unsubscribe(t,e)},e.prototype.callVPAIDMethod=function(t,e){void 0===e&&(e=[]),this.postMessage.callVPAIDMethod(t,e)},e}(o.a);e.a=a},function(t,e,i){i.d(e,"a",function(){return c});var n=i(1),o=i(99),r=i(98),a=i(5),s=i(111),c=function(){function t(e,i){var r=this;this.container=e,this.assetPath=i,this.logger=new n.a("vpaid.PostMessageServer"),this.timerDelay=250,this.logger.debug("Init postMessageAPI",e),this.window=window,this.postMessage=new o.a(window,window.parent),this.postMessage.setServerCallback(function(t){r.callMethod(t.name,t.data)}),this.postMessage.dispatchEvent(t.READY_EVENT),this.logger.debug("End Init postMessageAPI",e,window,window.parent)}return t.prototype.callMethod=function(e,i){switch(this.logger.debug("call method "+e,i),e){case r.a.LOADVPAID_METHOD:return this.loadVpaid(i[0]);case r.a.SETCONFIG_METHOD:this.config=i[0],this.logger.debug("Received configuration Object",this.config),this.config.sandbox=!1,this.config.path=this.assetPath,this.postMessage.dispatchEvent(t.CONFIGREADY_EVENT);break;default:this.callVPAIDMethod(e,i)}},t.prototype.callVPAIDMethod=function(t,e){try{return this.vpaid[t].apply(this.vpaid,e)}catch(n){var i="Error calling methog "+t+"("+e+")";this.postMessage.dispatchEvent(a.a.AdLog,i),this.logger.error(i)}},t.prototype.loadVpaid=function(e){var i=this;new s.a(this.container,this.config).load(e,function(e){i.logger.debug("VPAID Loaded !",e),i.vpaid=e;for(var n in a.a)i.vpaid.subscribe(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t===a.a.AdStopped&&clearInterval(i.timerId),i.postMessage.dispatchEvent(t,e)}}(n),n);i.postMessage.dispatchEvent(t.VPAIDLOADED_EVENT),i.sendGettersValues(),i.timerId=setInterval(function(){i.sendGettersValues()},i.timerDelay)},function(e){i.postMessage.dispatchEvent(t.VPAIDLOADEDERROR_EVENT,[e]),i.logger.error("PostMessageServer : Unable to load VPAID "+e.message)})},t.prototype.sendGettersValues=function(){var e=this,i={};r.a.getters.forEach(function(t){i[t]=e.callVPAIDMethod(t,[])}),this.postMessage.dispatchEvent(t.ATTRIBUTE_EVENT,i)},t.READY_EVENT="ready",t.CONFIGREADY_EVENT="configReady",t.VPAIDLOADED_EVENT="vpaidLoaded",t.VPAIDLOADEDERROR_EVENT="vpaidLoadedError",t.ATTRIBUTE_EVENT="attributes",t}()},function(t,e,i){i.d(e,"a",function(){return c});var n=i(101),o=i(46),r=i(5),a=i(26),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.startAd=function(){try{Object(o.checkVpaidStatus)("startAd",this.status)}catch(t){return this.dispatchEvent(r.a.AdLog,t)}this.status=a.a.STARTING,this.adStarted=!0,this.dispatchEvent(r.a.AdStarted),this.dispatchEvent(r.a.AdImpression),this.vpaid.resumeAd()},e.prototype.handleVpaidEvent=function(e){if(!this.adStarted)switch(e.type){case r.a.AdSkippableStateChange:case r.a.AdLog:case r.a.AdVolumeChange:break;case r.a.AdError:this.adError=!0;break;case r.a.AdStopped:this.adError||this.dispatchEvent(r.a.AdError,"AdManagerWrapper : this VPAID creative got no Ads");break;case r.a.AdLoaded:return this.vpaidguard("startAd");case r.a.AdImpression:e=new r.a(r.a.AdLoaded);break;case r.a.AdStarted:return this.vpaidguard("pauseAd");default:return}t.prototype.handleVpaidEvent.call(this,e)},e}(n.a)},function(t,e,i){i.d(e,"a",function(){return l});var n=i(6),o=i(36),r=i(45),a=i(97),s=i(100),c=i(50),u=i(48),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.loadVpaid=function(t,e,i){var r=this;if(!Object(o.hasFlash)())return i(c.FLASH_PLUGIN_MISSING);var a=!1,d=!1,l=function(t){if(!d)try{window.teads.player.playerSumologic.sendInfo("wrapper ko",{},!0)}catch(t){}i(t),r.destroy()};this.callbackName="handleVPAIDEvent"+this.id,this.window=Object(n.getWindow)(this.container),this.window[this.callbackName]=function(t){return"wrapper"===t.type?void(d=!0):(a=!0,clearTimeout(r.loadTimeoutId),r.window[r.callbackName]=function(){},"ready"===t.type?(r.vpaid=r.creativeContainer,e(r.vpaid),void r.logger.info("getVPAIDAd - Retrieve ad from creative")):void("error"===t.type&&l(t.data)))};var p="vpaid-"+this.id,h=this.config.path+"/"+s.a.vpaidswfwrapper;this.container.innerHTML='<object data="'+h+'" type="application/x-shockwave-flash" name="'+p+'" id="'+p+'" style="border:0px;width:100%;height:1px;margin:0px;padding:0px" width="100%" height="100%"><param name="id" value="'+p+'" /><param name="name" value="'+p+'" /><param name="movie" value="'+h+'" /><param name="bgcolor" value="#000000" /><param name="quality" value="high" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="debug='+this.config.debug+"&eventHandler="+this.callbackName+"&url="+encodeURIComponent(t)+'" /></object>',this.creativeContainer=this.window.document.getElementById(p),this.loadTimeoutId=setTimeout(function(){a||l(c.LOAD_VPAID_TIMEOUT)},u.loadVpaid)},e.prototype.setBackground=function(e){if(t.prototype.setBackground.call(this,e),this.creativeContainer)for(var i=this.creativeContainer.getElementsByTagName("param"),n=0;n<i.length;n++)"bgcolor"===i[n].name&&(i[n].value=this.backgroundColor)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.window[this.callbackName]=function(){}},e.prototype.registerVPAIDEventHandler=function(t){this.window[this.callbackName]=t},e.prototype.resize=function(){},e.prototype.getEnvironmentVars=function(t){return{slot:this.creativeContainer,videoSlot:null,videoSlotCanAutoPlay:!0}},e.prototype.getType=function(){return r.a.SWF},e}(a.a)},function(t,e,i){var n=i(7),o=i(21),r=i(18),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){this.eventName=o.a.FullscreenRequest,this.showOnVideoStart=!1,t.prototype.init.call(this),this.show()},e.prototype.bindClick=function(){var t=this;n.addEventListener("mousedown",this.getElement(),function(e){t.onClick(e)})},e}(r.a);e.a=s},function(t,e,i){var n=i(7),o=i(5),r=i(52),a=i(18),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showOnVideoProgress=!0,e}return s(e,t),e.prototype.init=function(){var e=this;if(this.progressbar=n.getElementsByClassName("progress",this.getElement(),this.ui.getContentWindow())[0],!this.progressbar)return this.hide();this.vpaid.subscribe(function(){e.onProgress()},o.a.AdRemainingTimeChange),this.vpaid.subscribe(function(){e.hide()},o.a.AdVideoComplete),t.prototype.init.call(this)},e.prototype.setShowOnVideoProgress=function(t){this.showOnVideoProgress=t},e.prototype.getShowOnVideoProgress=function(){return this.showOnVideoProgress},e.prototype.onProgress=function(){var t=r.getCurrentTime(this.vpaid);this.vpaid.getAdDuration()>0&&t>0?(!this.isVisible()&&this.showOnVideoProgress&&this.show(),this.progressbar.style.width=t/this.vpaid.getAdDuration()*100+"%"):this.hide()},e}(a.a);e.a=c},function(t,e,i){var n=i(6),o=i(5),r=i(21),a=i(18),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.init=function(){var e=this;this.eventName=r.a.PlayPauseRequest,this.vpaid.subscribe(function(){e.onPause()},o.a.AdPaused),this.vpaid.subscribe(function(){e.onPause()},o.a.AdVideoComplete),this.vpaid.subscribe(function(){e.onPlay()},o.a.AdPlaying),this.vpaid.subscribe(function(){e.onPlay()},o.a.AdVideoStart),t.prototype.init.call(this)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.isPlaying?this.vpaid.pauseAd():this.vpaid.resumeAd()},e.prototype.onPlay=function(){this.isPlaying=!0,n.addClass(this.getElement(),"playing")},e.prototype.onPause=function(){this.isPlaying=!1,n.removeClass(this.getElement(),"playing")},e}(a.a);e.a=c},function(t,e,i){var n=i(5),o=i(18),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){var t=this;this.vpaid.subscribe(function(){var e=t.vpaid.getAdRemainingTime();isNaN(e)&&(e=t.vpaid.getAdDuration()),t.getElement().innerHTML="Your video in "+Math.ceil(e)+" sec"},n.a.AdRemainingTimeChange)},e}(o.a);e.a=a},function(t,e,i){var n=i(21),o=i(52),r=i(18),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var e=this,i=this.ui.getConfig();if(this.eventName=n.a.SkipRequest,this.config.listenSkippableState)return void this.hide();var r=setInterval(function(){if(!e.vpaid.getAdSkippableState()&&i.skipoffset>0){var t=Math.floor(i.skipoffset-o.getCurrentTime(e.vpaid));e.getElement().innerHTML="Skip in "+(isNaN(t)?i.skipoffset:t<0?0:t)+" sec",e.show()}else e.vpaid.getAdSkippableState()&&(clearInterval(r),e.getElement().style.cursor="pointer",e.getElement().innerHTML="Skip Ad >>",e.show())},1e3);t.prototype.init.call(this)},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.vpaid.getAdSkippableState()&&this.vpaid.skipAd()},e}(r.a);e.a=s},function(t,e,i){var n=i(6),o=i(7),r=i(21),a=i(18),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.init=function(){var t=this,e=!0;this.eventName=r.a.UIButtonRequest,o.addEventListener("click",this.getElement(),function(i){t.onClick(i),e?t.ui.hideAllComponents():t.ui.showAllComponents(),t.ui.showComponent("uibutton"),e=!e,n.toggleClass(t.getElement(),"ui-invisible")})},e}(a.a);e.a=c},function(t,e,i){function n(t){var e="00";if(t>60){e=Math.floor(t/60)<10?"0":""}return e+=":"+(t<10?"0":"")+t}Object.defineProperty(e,"__esModule",{value:!0}),e.secondToTimecode=n},function(t,e,i){var n=i(6),o=i(5),r=i(21),a=i(18),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.init=function(){this.showOnVideoStart=!1,this.eventName=r.a.ClickToPlayRequest},e.prototype.onMethod=function(t,e){void 0===e&&(e=[]),"startAd"===t&&(this.show(),this.dispatchVpaidEvent(o.a.AdStarted))},e.prototype.getOverridenEvents=function(){return[o.a.AdStarted]},e.prototype.getOverridenMethods=function(){return["startAd"]},e.prototype.onClick=function(e){var i=this;t.prototype.onClick.call(this,e),n.addClass(this.getElement(),"loading"),this.vpaid.subscribe(function(){i.remove()},o.a.AdStarted),this.remove(),this.vpaid.startAd()},e}(a.a);e.a=c},function(t,e,i){var n=i(5),o=i(21),r=i(105),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this;if(this.clickthrough=this.ui.getConfig().clickthrough,this.eventName=o.a.ClickRequest,this.config.text&&this.clickthrough){var e=document.createElement("div");e.className="text",e.innerHTML=this.config.text,this.getElement().appendChild(e)}else this.hide();this.vpaid.subscribe(function(){t.hide()},n.a.AdVideoComplete)},e.prototype.onVideoStart=function(){this.showOnVideoStart&&this.config.text&&this.clickthrough&&this.show()},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.dispatchVpaidEvent(n.a.AdClickThru,{url:this.clickthrough,id:this.config.id,playerHandles:!0})},e}(r.a);e.a=s},function(t,e,i){var n=i(18),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultText="Advertising",e}return o(e,t),e.prototype.init=function(){var t=this.config.html&&""!==this.config.html?this.config.html:this.config.text||this.defaultText;this.getElement().innerHTML=t,this.getElement().setAttribute("style",this.config.style||""),this.show()},e}(n.a);e.a=r},function(t,e,i){var n=i(18),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLink={inRead:"http://inread-experience.teads.tv",inBoard:"http://teads.tv/en/teads-media/"},e}return o(e,t),e.prototype.init=function(){var t=/\[([^\]]*)\]/g;if(!this.config.text){var e="inRead";"inboard"===this.config.formatName&&(e="inBoard"),this.config.text="["+e+"] invented by Teads"}var i=this.config.text.replace(t,'<span class="teads-ui-component-credits-blue">$1</span>'),n=this.config.url||this.defaultLink[e]||"http://teads.tv/en";this.getElement().innerHTML='<a href="'+n+'" target="_blank">'+i+"</a>",this.show()},e}(n.a);e.a=r},function(t,e,i){var n=i(7),o=i(6),r=i(2),a=i(5),s=i(21),c=i(18),u=i(83),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.init=function(){var t=this;this.logger.debug("init endscreen"),this.showOnVideoStart=!1;var i=this.element.getAttribute("style");this.element.setAttribute("style",(i?i+";":"")+" opacity: 0.8!important; background-color: #ffffff;"),this.getElement().innerHTML=e.TEMPLATE,this.vpaid.subscribe(function(){if(t.logger.debug("video complete"),t.videoComplete=!0,t.dispatchVpaidEvent(a.a.AdVideoComplete),t.ui.getConfig().noAutoStop){t.show(),t.initLayout();var e=t.ui.getVPAIDContainer();e.style.filter="blur(3px)",e.style.webkitFilter="blur(3px)",t.dispatchVpaidEvent(s.a.EndscreenInit)}},a.a.AdVideoComplete),this.vpaid.subscribe(function(){t.videoComplete&&!t.ui.getConfig().noAutoStop&&(t.show(),t.initLayout(),t.dispatchVpaidEvent(s.a.EndscreenInit))},a.a.AdStopped),this.hide()},e.prototype.getOverridenEvents=function(){return this.videoComplete?[a.a.AdStopped]:[a.a.AdVideoComplete]},e.prototype.getOverridenMethods=function(){return this.isVisible()?["pauseAd","resumeAd"]:[]},e.prototype.onOverridenMethod=function(t,e){this.countdown&&("pauseAd"===t?this.countdown.pause():"resumeAd"===t&&this.countdown.resume())},e.prototype.onMethod=function(t,e){void 0===e&&(e=[]),"resizeAd"===t&&this.videoComplete&&(this.logger.debug("resizeAd from endscreen",e),this.resize(e[0],e[1]),this.dispatchVpaidEvent(a.a.AdSizeChange))},e.prototype.initLayout=function(){var t=this;if(this.replayButton=n.getElementsByClassName("replay-button",this.getElement(),this.ui.getContentWindow())[0],this.replayButton){n.addEventListener("click",this.replayButton,function(){t.onReplayClick()});try{n.getElementsByClassName("text",this.replayButton,this.ui.getContentWindow())[0].innerHTML=this.config.replayButton.text}catch(t){this.logger.error("No text on replay button")}r.isEdgeTouchScreen()&&(this.replayButton.className="button edge-touch-screen replay-button")}else this.logger.debug("No replayButton on endscreen !");if(this.callButton=n.getElementsByClassName("call-button",this.getElement(),this.ui.getContentWindow())[0],this.callButton&&this.config.callButton&&this.ui.getConfig().clickthrough){if(n.addEventListener("click",this.callButton,function(){t.dispatchUiEvent(s.a.ClickRequest),t.onActionClick()}),this.config.callButton.text){var i=this.callButton.querySelector(".icon span");if(i){var c=e.CSSClassMapping[this.config.callButton.type]||function(){for(var t in e.CSSClassMapping)return e.CSSClassMapping[t]}();o.addClass(i,c)}try{n.getElementsByClassName("text",this.callButton,this.ui.getContentWindow())[0].innerHTML=this.config.callButton.text}catch(t){this.logger.error("No text on callButton")}r.isEdgeTouchScreen()&&(this.callButton.className="button edge-touch-screen call-button")}}else this.callButton&&this.callButton.parentNode&&this.callButton.parentNode.removeChild(this.callButton),this.logger.debug("No callButton on endscreen !");this.adChoicesButton=n.getElementsByClassName("adchoices",this.getElement(),this.ui.getContentWindow())[0],this.adChoicesButton?this.ui.getConfig().showAdChoicesIcon?(r.isMobile()||(n.addEventListener("mouseover",this.adChoicesButton,function(){o.addClass(t.adChoicesButton,"expanded")}),n.addEventListener("mouseout",this.adChoicesButton,function(){o.removeClass(t.adChoicesButton,"expanded")})),n.addEventListener("click",this.adChoicesButton,function(){t.dispatchUiEvent(s.a.AdChoicesClickRequest)})):(o.removeClass(this.adChoicesButton,"show"),o.addClass(this.adChoicesButton,"hide")):this.logger.debug("No adChoicesButton on endscreen !"),this.closeButton=n.getElementsByClassName("close-button",this.getElement(),this.ui.getContentWindow())[0],this.closeButton?this.config.closeButton.disable||this.config.closeButton.listenSkippableState&&!this.vpaid.getAdSkippableState()?(o.removeClass(this.closeButton,"show"),o.addClass(this.closeButton,"hide")):n.addEventListener("click",this.closeButton,function(){t.dispatchVpaidEvent(a.a.AdUserClose),t.closeAd()}):this.logger.debug("No closeButton on endscreen !");var d=n.getElementsByClassName("countdown",this.getElement(),this.ui.getContentWindow())[0];d?(this.countdown=new u.a(this.ui,d,this.vpaid,{countdown:this.config.countdown}),this.config.autoClose&&this.countdown.setEndedCallback(function(){t.logger.debug("Countdown ended and autoClose on, close ad"),t.closeAd()}),this.countdown.init(),this.countdown.initTimer(),this.countdown.show()):this.logger.debug("No countdown on endscreen"),this.resize(this.ui.getAdWidth(),this.ui.getAdHeight())},e.prototype.resize=function(t,e){if(!(t<=0||e<=0)){var i=n.getElementsByClassName("button-container",this.getElement())[0];if(i){i.style.top="0px",i.style.left="0px";var o=n.getBoundingClientRect(i),r=(e-o.height)/2,a=(t-o.width)/2;i.style.top=r+"px",i.style.left=a+"px"}}},e.prototype.onClick=function(t){},e.prototype.onReplayClick=function(){this.clearCloseInterval(),this.ui.getConfig().noAutoStop&&this.vpaid.stopAd(),this.videoComplete=!1,this.dispatchUiEvent(s.a.ReplayRequest)},e.prototype.onActionClick=function(){var t=this.ui.getConfig().clickthrough||null;this.dispatchVpaidEvent(a.a.AdClickThru,{url:t,id:null,playerHandles:!0})},e.prototype.clearCloseInterval=function(){this.countdown&&(this.countdown.removeEndedCallback(),this.countdown.stopTimer())},e.prototype.closeAd=function(){this.clearCloseInterval(),this.ui.stopAd()},e.CSSClassMapping={learnMore:"icon-learnmore",shopNow:"icon-shop",contactUs:"icon-contact",signUp:"icon-signup"},e.TEMPLATE=i(166),e}(c.a);e.a=l},function(t,e,i){var n=i(5),o=i(21),r=i(18),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.init=function(){var t=this;this.clickthrough=this.ui.getConfig().clickthrough,this.eventName=o.a.ClickRequest;var e=function(){t.getElement().style.setProperty("background-image","url("+t.config.url+")")};this.load(e)},e.prototype.load=function(t){var e=this,i=new Image;i.onload=function(){return t()},i.onerror=function(t){return e.hide()},i.src=this.config.url},e.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},e.prototype.onClick=function(e){t.prototype.onClick.call(this,e),this.clickthrough&&this.dispatchVpaidEvent(n.a.AdClickThru,{url:this.clickthrough,id:this.config.id,playerHandles:!0})},e}(r.a);e.a=s},function(t,e,i){var n=i(5),o=i(18),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.init=function(){var t=this;this.showOnVideoStart=!1,this.element.style.zIndex="2",this.show(),this.vpaid.subscribe(function(){return t.hide()},n.a.AdStarted)},e}(o.a);e.a=a},function(t,e,i){function n(t){var e=[];return c.map(t,function(t){c.map(t.getOverridenEvents(),function(i){t.isEnabled()&&-1===c.indexOf(e,i)&&e.push(i)})}),e}function o(t,e){return c.filter(t,function(t){return t.isEnabled()&&-1!==c.indexOf(t.getOverridenEvents(),e)})}function r(t,e){return c.filter(t,function(t){return t.isEnabled()&&-1!==c.indexOf(t.getOverridenMethods(),e)})}function a(t,e,i){void 0===i&&(i=!0);var n=t[e];n&&n.isEnabled()&&(i?n.show():n.hide())}function s(t,e){void 0===e&&(e=!0),c.forEach(t,function(t){t.isEnabled()&&(e?t.show():t.hide())})}Object.defineProperty(e,"__esModule",{value:!0}),e.getOverridenEvents=n,e.getOverridenEventComponents=o,e.getOverridenMethodComponents=r,e.showHideComponent=a,e.showHideAllComponents=s;var c=i(3)},function(t,e,i){var n=i(65),o=i(56),r=function(){function t(t,e){this.className=t,this.css=e}return t.prototype.initElement=function(){this.element=document.createElement("div"),this.element.className=this.className,this.element.innerHTML=this.getInnerHtml()},t.prototype.getElement=function(){return this.element},t.prototype.getHTML=function(){var t=this.getInnerHtml();if(t)return'<div class="'+this.className+'">'+t+"</div>"},t.prototype.getCSS=function(){return o.replacePlaceholders(this.css,{assetsPath:n.b.assetsUrl})},t.prototype.getInnerHtml=function(){return this.isEnabled()?this.innerHTML:""},t.prototype.hide=function(){this.element&&(this.element.style.display="none")},t.prototype.show=function(){this.element&&(this.element.style.display="block")},t}();e.a=r},function(t,e,i){i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var n=i(5),o=i(21),r={error:n.a.AdError,click:n.a.AdClickThru,pause:n.a.AdPaused,resume:n.a.AdPlaying,skip:n.a.AdSkipped,creativeView:n.a.AdStarted,start:n.a.AdVideoStart,firstQuartile:n.a.AdVideoFirstQuartile,midpoint:n.a.AdVideoMidpoint,thirdQuartile:n.a.AdVideoThirdQuartile,complete:n.a.AdVideoComplete,impression:n.a.AdImpression,close:n.a.AdUserClose,closeLinear:n.a.AdUserClose,progress:n.a.AdRemainingTimeChange,otherAdInteraction:n.a.AdInteraction},a={adChoices:o.a.AdChoicesClickRequest}},function(t,e,i){var n=i(1),o=i(4),r=i(12),a=i(23),s=i(3),c=i(8),u=i(0),d=i(106),l=i(38),p=function(){function t(t,e,i){var r=this;this.linearAd=t,this.sessionStore=e,this.sumologic=i,this.logger=new n.a("VASTEventTracker"),this.tracker=new d.a(o.b.empty(),e.businessIds.pid),e.wigo.forEach(function(t){return r.tracker.setWigoi(t)});var a=this;for(var c in this.linearAd.tracking)!function(t){s.forEach(a.linearAd.tracking[t]||[],function(e,i,n){r.tracker.addResource(t,e.url,e.data)})}(c)}return t.getVastDomain=function(t){return t.wrappers.length>0?a.getMainDomain(a.parse(t.wrappers[t.wrappers.length-1]).hostname):t.url?a.getMainDomain(a.parse(t.url).hostname):"teads"},t.getTrackingMacros=function(t,e,i,n,o,r){var a={};return a[l.TrackingMacro.CONTENTPLAYHEAD]=t.filter(function(t){return t>=0}).match({some:u.offset,none:function(){return"0"}}),a[l.TrackingMacro.CACHEBUSTING]=Object(c.rand)(8),a[l.TrackingMacro.ERRORCODE]=e.map(String).getOrElse(function(){return""}),a[l.TrackingMacro.ASSETURI]=i.getOrElse(function(){return""}),a[l.TrackingMacro.MEDIAFILETYPE]=n.getOrElse(function(){return"unknown"}),a[l.TrackingMacro.VIEWABILITY]=o.map(String).getOrElse(function(){return"0"}),r.forEach(function(t){a[l.TrackingMacro.BUNDLEID]=t.userDevice.appId,a[l.TrackingMacro.DEVICEID]=t.userDevice.device,a[l.TrackingMacro.LIMIT_TRACKING]=String(t.userOptOut)}),a},t.prototype.getTracker=function(){return this.tracker},t.prototype.track=function(e,i,n,s,c,d,l){var p=this;void 0===l&&(l=o.b.empty());var h=t.getTrackingMacros(n,c.map(function(t){return t.getId()}),i.map(function(t){return t.url.toString()}),i.map(function(t){return u.getExtensionFromMimeType(t.type)}),d,l);if(this.tracker.track(e,h,n.orNull(),s.orNull()),"error"===e){var f=c.map(function(t){return t.getId()}).getOrElse(function(){return 0}),g=c.map(function(t){return t.getMessage()}).getOrElse(function(){return""});this.logger.error({id:f,msg:g,ua:navigator.userAgent,mediafile:i}),this.sumologic.canSend()&&r.c.of(function(){i.map(function(t){return{type:o.b.of(t.type),url:o.b.of(t.url)}}).match({some:function(t){var e=t.type,i=t.url,n=u.getExtensionFromMimeType(e.getOrElse(function(){return"-"}));i.match({some:function(t){var e=a.parse(t),i=e.pathname.split(";")[0],o=i.split("/").pop(),r=a.getMainDomain(e.hostname);p.trackErrorOnSumo(p.sumologic,f,g,n,o,r)},none:function(){p.trackErrorOnSumo(p.sumologic,f,g,n,"-","-")}})},none:function(){p.trackErrorOnSumo(p.sumologic,f,g,"-","-","-")}})}).recover(function(t){p.sumologic.sendError("VASTEventTracker "+t),p.logger.error("VASTEventTracker sumologic error tracker throw an exception",t)})}},t.prototype.trackError=function(t,e){this.track("error",t,o.b.empty(),o.b.empty(),o.b.of(e),o.b.empty())},t.prototype.trackErrorOnSumo=function(e,i,n,o,r,c){var d=a.parse(this.linearAd.url),l=0===d.protocol.indexOf("https:")?1:0,p=t.getVastDomain(this.linearAd),h=this.linearAd.wrappers.length,f=function(t){return a.getMainDomain(a.parse(t).hostname)},g=function(t,e){return e<h-1},m=s.filter(s.map(this.linearAd.wrappers,f),g).join(",")||"-",v=function(t){return u.getExtensionFromMimeType(t.type)},y=function(t,e,i){return s.indexOf(i,t)===e},b=s.filter(s.map(this.linearAd.mediaFiles,v),y).join(",")||"-",A="-";s.forEach(this.linearAd.extensions,function(t){"MoatJs"===t.type&&t.definition&&t.definition.id&&(A=t.definition.id)});var E=[i,n,p,l,c,r,o,b,m,this.sessionStore.pageId?this.sessionStore.pageId:"-",this.sessionStore.businessIds.pid?this.sessionStore.businessIds.pid:"-",A].join("|");e.sendError(E)},t}();e.a=p},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(152),i(32),i(91)),o=i(63),r=i(92),a=i(93),s=i(60),c=i(82),u=i(89),d=i(57),l=i(94),p=i(96),h=i(95),f=window.teads||{};f.video=f.video||{},f.video.MediaProxy=n.a,f.video.helper={ObjectHelper:o,CustomElementHelper:r,NetworkHelper:a},f.video.constant={MediaProxyEvent:s.a,MediaError:c.a,MediaProxyStatus:u.a},f.video.dom={MediaEvent:d,VideoWrapper:l.a,TimeRanges:p.a,HTMLVideoProperties:h},window.teads=f},function(t,e,i){var n=i(2),o=i(153),r=i(154),a=(i.n(r),window.teads||{}),s=window.teads.video||{};s.HTMLVideoCanvas=function(){if(!Object(n.isDesktop)())try{var t=s.HTMLVideoCanvas;return new t,t}catch(t){return document.registerElement("video-canvas",{prototype:o.a.prototype})}}(),s.HTMLVideoCanvas&&s.HTMLVideoCanvas.prototype&&(s.HTMLVideoCanvas.prototype.addEventListener=o.a.prototype.addEventListener),a.video=s,window.teads=a},function(t,e,i){function n(){var t=this;this.logger=new o.a("HTMLVideoCanvas"),this._mainContainer=document.createElement("div"),this._mainContainer.style.backgroundColor="black",this._mainContainer.style.position="relative",this._mainContainer.style.width="100%",this._mainContainer.style.height="100%",this._mainContainer.style.zIndex=1,this.appendChild(this._mainContainer),this._videoContainer=document.createElement("div"),this._videoContainer.style.position="absolute",this._videoContainer.style.top=0,this._videoContainer.style.left=0,this._videoContainer.style.zIndex=2,this._videoContainer.style.width="100%",this._videoContainer.style.height="100%",this._mainContainer.appendChild(this._videoContainer),this.canvasPlayer=new a.default(this._videoContainer,1,1,{type:"CANVAS"}),this.mediaProxy=new r.a,this.mediaProxy.listen(s.a.READY,function(){t.logger.debug("MediaProxy return video url",t.mediaProxy.getVideoUrl()),t.canvasPlayer.src=t.mediaProxy.getVideoUrl(),t.autoplay&&t.canvasPlayer.play(),t.volume=t._volume}),this.mediaProxy.listen(s.a.ERROR,function(){t.logger.debug("MediaProxy didn't return video url"),t._error={code:c.a.MEDIA_ERR_NETWORK},t.canvasPlayer.dispatch(g.error)}),this.canvasPlayer.canvas.style.position="absolute",this.canvasPlayer.canvas.style.maxHeight="none",this.canvasPlayer.canvas.style.maxWidth="none",this.canvasPlayer.canvas.style.top="0",this.canvasPlayer.canvas.style.left="0",m.a.call(this,this.canvasPlayer),this.listeners={};var e=function(i){if(t.listeners[i.type]&&t.listeners[i.type].length){for(var n=0,o=t.listeners[i.type].length;n<o;n++)try{t.listeners[i.type][n].call(t,i)}catch(e){t.logger.error('Error in Canvas event handler: "'+e+'"')}"loadedmetadata"===i.type&&e(new CustomEvent("durationchange")),"playing"!==i.type||t.attachedCallbackCalled||t.attachedCallback()}};for(var i in g){var n=g[i];this.canvasPlayer.addEventListener(n,function(t){return function(t){e(t)}}())}this.canvasPlayer.addEventListener(g.loadedmetadata,function(e){t._handleResize()}),this.canvasPlayer.addEventListener(g.durationchange,function(e){void 0!==t._volume&&(t.canvasPlayer.volume=t._volume)}),this.canvasPlayer.addEventListener(g.playing,function(i){var n=function(){t._width&&t._height||(t.logger.debug("component got no width/height, try to adapt to container"),t._width=t._mainContainer.offsetWidth,t._height=t._mainContainer.offsetHeight),t._width&&t._height?(t.logger.debug("component have dimensions, force resize",t._width,t._height),t._handleResize()):setTimeout(n,100)};n(),e(new CustomEvent("timeupdate"))}),this._ended=!1,this.canvasPlayer.addEventListener(g.ended,function(i){t._ended=!0,t._paused=!0,e(new CustomEvent("timeupdate")),e(new CustomEvent("ended")),t.loop&&(t.currentTime=0,t.play())}),this._paused=!0,this.canvasPlayer.addEventListener(g.pause,function(e){t._paused=!0}),this.canvasPlayer.addEventListener(g.timeupdate,function(e){t._paused=!1}),this._seeking=!1,this.canvasPlayer.addEventListener(g.seeking,function(e){t._seeking=!0}),this.canvasPlayer.addEventListener(g.seeked,function(e){t._seeking=!1}),this.canvasPlayer.addEventListener(g.error,function(e){t._error=e.error})}e.a=n;var o=i(1),r=i(91),a=i(59),s=i(60),c=i(82),u=i(3),d=i(0),l=i(6),p=i(63),h=i(92),f=i(93),g=i(57),m=i(94),v=i(96);n.prototype=Object.create(m.a.prototype),p.defineProperty(n.prototype,"src",function(){return this._src},function(t){var e=this;if(this.logger.debug("set src",t),(this.src||t)&&t!==this.src&&""!==t){var i=u.indexOf(r.a.alreadyEncoded,r.a.getFileExtension(t))>-1;if("mp4"!==r.a.getFileExtension(t)&&!i&&(this.error=4,this.logger.error("only mp4,"+r.a.alreadyEncoded.join(",")+" files are supported, try to set "+t+" as src"),this.listeners.error))return void u.forEach(this.listeners.error,function(t){return t()});this._src=t,this.setAttribute("src",t),i?this.mediaProxy.load(t,512):f.ping(t,function(i,n){e.mediaProxy.load(t,n)})}}),u.forEach(["width","height"],function(t){p.defineProperty(n.prototype,t,function(){return this["_"+t]||0},function(e){if(this.logger.debug("set property "+t,e),isNaN(e)||this["_"+t]===e)return void this._handleResize();this["_"+t]=e,"width"===t&&!this.height&&this.videoWidth&&this.videoHeight?this._height=e*(this.videoHeight/this.videoWidth):"height"===t&&!this.width&&this.videoWidth&&this.videoHeight&&(this._width=e*(this.videoWidth/this.videoHeight)),this._handleResize()})}),p.defineProperty(n.prototype,"volume",function(){return void 0!==this._volume?this._volume:0},function(t){var e=this;this._volume=t,this.canvasPlayer.audio&&this.canvasPlayer.audio.authorizeAudio(function(){e.canvasPlayer.volume=e._volume}),this.canvasPlayer.volume=this._volume}),p.defineProperty(n.prototype,"currentTime",function(){return this._ended?this.canvasPlayer.duration:isNaN(this.canvasPlayer.currentTime)?0:this.canvasPlayer.currentTime},function(t){this.canvasPlayer.currentTime=t}),p.defineProperty(n.prototype,"seekable",function(){return!0}),p.defineProperty(n.prototype,"readyState",function(){return 4}),p.defineProperty(n.prototype,"networkState",function(){return 1}),p.defineProperty(n.prototype,"autoplay",function(){return void 0!==this._autoplay&&this._autoplay},function(t){this._autoplay=t}),p.defineProperty(n.prototype,"videoWidth",function(){return this.canvasPlayer.videoWidth||0}),p.defineProperty(n.prototype,"videoHeight",function(){return this.canvasPlayer.videoHeight||0}),p.defineProperty(n.prototype,"preload",function(){return!0},function(t){}),p.defineProperty(n.prototype,"seeking",function(){return this._seeking}),p.defineProperty(n.prototype,"muted",function(){return 0===this._volume}),p.defineProperty(n.prototype,"ended",function(){return this._ended}),p.defineProperty(n.prototype,"error",function(){return this._error}),p.defineProperty(n.prototype,"paused",function(){return this._paused}),p.defineProperty(n.prototype,"currentSrc",function(){return this._src}),p.defineProperty(n.prototype,"played",function(){var t=new v.a;return t.addRange(0,this.currentTime),t}),p.defineProperty(n.prototype,"buffered",function(){var t=new v.a;return t.addRange(0,this.currentTime),t}),p.defineProperty(n.prototype,"loop",function(){return void 0!==this._loop&&this._loop},function(t){this._loop=t,this.setAttribute("loop",String(t))}),p.defineProperty(n.prototype,"controls",function(){return!1},function(t){}),n.prototype.load=function(){},n.prototype.canPlayType=function(t){return"video/mp4"===t?"probably":""},n.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),g[t]&&d.isObject(this.listeners)?(this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)):HTMLElement.prototype.addEventListener.call(this,t,e,i)},n.prototype.removeEventListener=function(t,e,i){if(g[t]){var n=this.listeners[t].indexOf(e);n>=0&&(this.listeners[t][n]=function(){})}else HTMLElement.prototype.removeEventListener.call(this,t,e,i)},n.prototype._handleResize=function(){this.canvasPlayer.width=this.width,this.canvasPlayer.height=this.height,this.style.backgroundColor="black"},n.prototype.createdCallback=function(){n.call(this)},n.prototype.attributeChangedCallback=function(t,e,i){this.logger.debug("attributeChangedCallback",t,e,i),h.updateAttribute(this,t)},n.prototype.detachedCallback=function(){this.logger.debug("detached callback called"),this.canvasPlayer.pause()},n.prototype.attachedCallback=function(){var t=this;this.logger.debug("attachedCallback called"),this.attachedCallbackCalled=!0;try{this.style.display="block",this.style.overflow="hidden",this.style.objectFit="contain";var e=["width","height","position","top","left"],i=window.originalCreateElement?window.originalCreateElement.call(this.ownerDocument,"video"):this.ownerDocument.createElement("video");this.parentNode.appendChild(i),l.copyCSSRules(i,this,e),i.parentNode.removeChild(i),this.style.width&&"auto"!==this.style.width||(this.style.width="100%"),this.style.height&&"auto"!==this.style.height||(this.style.height="100%"),this._handleResize(),this._iframeResizer=document.createElement("iframe"),this._iframeResizer.style.zIndex=0,this._iframeResizer.style.width="100%",this._iframeResizer.style.height="100%",this._iframeResizer.style.border="none",this._iframeResizer.style.margin="0",this._iframeResizer.style.padding="0",this._mainContainer.appendChild(this._iframeResizer),this._iframeResizer.contentWindow.document.write("<html><body></body></html>"),this._iframeResizer.contentWindow.document.close();var n=function(){t._width=t._iframeResizer.contentWindow.innerWidth,t._height=t._iframeResizer.contentWindow.innerHeight,t.logger.debug("component resized",t.width,t.height),t._handleResize()};this._iframeResizer.contentWindow.addEventListener("resize",n,!1),this._handleResize(),this.style.backgroundColor="black"}catch(t){this.logger.debug("attachedCallback throw an exception",t)}}},function(t,e){/*! (C) WebReflection Mit Style License */
!function(t,e,i,n){function o(t,e){for(var i=0,n=t.length;i<n;i++)m(t[i],e)}function r(t){for(var e,i=0,n=t.length;i<n;i++)e=t[i],C(e,U[s(e)])}function a(t){return function(e){nt(e)&&(m(e,t),o(e.querySelectorAll(j),t))}}function s(t){var e=t.getAttribute("is"),i=t.nodeName.toUpperCase(),n=W.call(F,e?N+e.toUpperCase():D+i);return e&&-1<n&&!c(i,e)?-1:n}function c(t,e){return-1<j.indexOf(t+'[is="'+e+'"]')}function u(t){var e=t.currentTarget,i=t.attrChange,n=t.attrName,o=t.target;gt&&(!o||o===e)&&e.attributeChangedCallback&&"style"!==n&&t.prevValue!==t.newValue&&e.attributeChangedCallback(n,i===t[O]?null:t.prevValue,i===t[k]?null:t.newValue)}function d(t){var e=a(t);return function(t){v.push(e,t.target)}}function l(t){ft&&(ft=!1,t.currentTarget.removeEventListener(L,l)),o((t.target||e).querySelectorAll(j),t.detail===T?T:S),it&&f()}function p(t,e){var i=this;at.call(i,t,e),y.call(i,{target:i})}function h(t,e){$(t,e),E?E.observe(t,ut):(ht&&(t.setAttribute=p,t[_]=A(t),t.addEventListener(R,y)),t.addEventListener(x,u)),t.createdCallback&&gt&&(t.created=!0,t.createdCallback(),t.created=!1)}function f(){for(var t,e=0,i=ot.length;e<i;e++)t=ot[e],B.contains(t)||(i--,ot.splice(e--,1),m(t,T))}function g(t){throw new Error("A "+t+" type is already registered")}function m(t,e){var i,n=s(t);-1<n&&(w(t,U[n]),n=0,e!==S||t[S]?e===T&&!t[T]&&(t[S]=!1,t[T]=!0,n=1):(t[T]=!1,t[S]=!0,n=1,it&&W.call(ot,t)<0&&ot.push(t)),n&&(i=t[e+"Callback"])&&i.call(t))}if(!(n in e)){var v,y,b,A,E,w,C,_="__"+n+(1e5*Math.random()>>0),S="attached",T="detached",I="extends",O="ADDITION",P="MODIFICATION",k="REMOVAL",x="DOMAttrModified",L="DOMContentLoaded",R="DOMSubtreeModified",D="<",N="=",V=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,M=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],U=[],j="",B=e.documentElement,W=F.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},H=i.prototype,G=H.hasOwnProperty,z=H.isPrototypeOf,K=i.defineProperty,Y=i.getOwnPropertyDescriptor,q=i.getOwnPropertyNames,X=i.getPrototypeOf,Z=i.setPrototypeOf,J=!!i.__proto__,Q=i.create||function t(e){return e?(t.prototype=e,new t):this},$=Z||(J?function(t,e){return t.__proto__=e,t}:q&&Y?function(){function t(t,e){for(var i,n=q(e),o=0,r=n.length;o<r;o++)i=n[o],G.call(t,i)||K(t,i,Y(e,i))}return function(e,i){do{t(e,i)}while((i=X(i))&&!z.call(i,e));return e}}():function(t,e){for(var i in e)t[i]=e[i];return t}),tt=t.MutationObserver||t.WebKitMutationObserver,et=(t.HTMLElement||t.Element||t.Node).prototype,it=!z.call(et,B),nt=it?function(t){return 1===t.nodeType}:function(t){return z.call(et,t)},ot=it&&[],rt=et.cloneNode,at=et.setAttribute,st=et.removeAttribute,ct=e.createElement,ut=tt&&{attributes:!0,characterData:!0,attributeOldValue:!0},dt=tt||function(t){ht=!1,B.removeEventListener(x,dt)},lt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},pt=!1,ht=!0,ft=!0,gt=!0;Z||J?(w=function(t,e){z.call(e,t)||h(t,e)},C=h):(w=function(t,e){t[_]||(t[_]=i(!0),h(t,e))},C=w),it?(ht=!1,function(){var t=Y(et,"addEventListener"),e=t.value,i=function(t){var e=new CustomEvent(x,{bubbles:!0});e.attrName=t,e.prevValue=this.getAttribute(t),e.newValue=null,e[k]=e.attrChange=2,st.call(this,t),this.dispatchEvent(e)},n=function(t,e){var i=this.hasAttribute(t),n=i&&this.getAttribute(t),o=new CustomEvent(x,{bubbles:!0});at.call(this,t,e),o.attrName=t,o.prevValue=i?n:null,o.newValue=e,i?o[P]=o.attrChange=1:o[O]=o.attrChange=0,this.dispatchEvent(o)},o=function(t){var e,i=t.currentTarget,n=i[_],o=t.propertyName;n.hasOwnProperty(o)&&(n=n[o],e=new CustomEvent(x,{bubbles:!0}),e.attrName=n.name,e.prevValue=n.value||null,e.newValue=n.value=i[o]||null,null==e.prevValue?e[O]=e.attrChange=0:e[P]=e.attrChange=1,i.dispatchEvent(e))};t.value=function(t,r,a){t===x&&this.attributeChangedCallback&&this.setAttribute!==n&&(this[_]={className:{name:"class",value:this.className}},this.setAttribute=n,this.removeAttribute=i,e.call(this,"propertychange",o)),e.call(this,t,r,a)},K(et,"addEventListener",t)}()):tt||(B.addEventListener(x,dt),B.setAttribute(_,1),B.removeAttribute(_),ht&&(y=function(t){var e,i,n,o=this;if(o===t.target){e=o[_],o[_]=i=A(o);for(n in i){if(!(n in e))return b(0,o,n,e[n],i[n],O);if(i[n]!==e[n])return b(1,o,n,e[n],i[n],P)}for(n in e)if(!(n in i))return b(2,o,n,e[n],i[n],k)}},b=function(t,e,i,n,o,r){var a={attrChange:t,currentTarget:e,attrName:i,prevValue:n,newValue:o};a[r]=t,u(a)},A=function(t){for(var e,i,n={},o=t.attributes,r=0,a=o.length;r<a;r++)e=o[r],"setAttribute"!==(i=e.name)&&(n[i]=e.value);return n})),e[n]=function(t,i){if(n=t.toUpperCase(),pt||(pt=!0,tt?(E=function(t,e){function i(t,e){for(var i=0,n=t.length;i<n;e(t[i++]));}return new tt(function(n){for(var o,r,a,s=0,c=n.length;s<c;s++)o=n[s],"childList"===o.type?(i(o.addedNodes,t),i(o.removedNodes,e)):(r=o.target,gt&&r.attributeChangedCallback&&"style"!==o.attributeName&&(a=r.getAttribute(o.attributeName))!==o.oldValue&&r.attributeChangedCallback(o.attributeName,o.oldValue,a))})}(a(S),a(T)),E.observe(e,{childList:!0,subtree:!0})):(v=[],lt(function t(){for(;v.length;)v.shift().call(null,v.shift());lt(t)}),e.addEventListener("DOMNodeInserted",d(S)),e.addEventListener("DOMNodeRemoved",d(T))),e.addEventListener(L,l),e.addEventListener("readystatechange",l),e.createElement=function(t,i){var n=ct.apply(e,arguments),o=""+t,r=W.call(F,(i?N:D)+(i||o).toUpperCase()),a=-1<r;return i&&(n.setAttribute("is",i=i.toLowerCase()),a&&(a=c(o.toUpperCase(),i))),gt=!e.createElement.innerHTMLHelper,a&&C(n,U[r]),n},et.cloneNode=function(t){var e=rt.call(this,!!t),i=s(e);return-1<i&&C(e,U[i]),t&&r(e.querySelectorAll(j)),e}),-2<W.call(F,N+n)+W.call(F,D+n)&&g(t),!V.test(n)||-1<W.call(M,n))throw new Error("The type "+t+" is invalid");var n,u,p=function(){return f?e.createElement(m,n):e.createElement(m)},h=i||H,f=G.call(h,I),m=f?i[I].toUpperCase():n;return f&&-1<W.call(F,D+m)&&g(m),u=F.push((f?N:D)+n)-1,j=j.concat(j.length?",":"",f?m+'[is="'+t.toLowerCase()+'"]':m),p.prototype=U[u]=G.call(h,"prototype")?h.prototype:Q(et),o(e.querySelectorAll(j),S),p}}}(window,document,Object,"registerElement")},function(t,e,i){function n(t){var e=[];return e.length>0&&(t=t.replace('id="'+o.c+'"','id="'+o.c+'" class="'+e.join(" ")+'"')),t}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"TEMPLATE",function(){return r}),e.expandTemplate=n,i.d(e,"inread",function(){return a});var o=i(64),r=i(168),a=n(r)},function(t,e,i){var n=i(6),o=i(23),r=i(3),a=i(7),s=i(2),c=i(27),u=i(17),d=i(9),l=i(1),p=i(86),h=i(26),f=i(5),g=i(35),m=i(46),v=i(147),y=i(64),b=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),A=function(t){function e(e,i,o){var r=t.call(this)||this;if(r.mainContainer=e,r.config=o,r.isFullscreen=!1,r.components=[],r.componentsByName={},r.logger=new l.a("ui.VPAIDUI"),r.initAdStartTime=0,r.logger.debug("Init Layout",e,o),r.config.container){r.container=r.config.container;var a=r.mainContainer.firstElementChild;a&&a.id===y.c&&r.mainContainer.removeChild(a)}else r.container=n.createIframe(),r.container.style.width="1px",r.container.style.height="1px";return r.container.parentNode||r.mainContainer.appendChild(r.container),r.container.contentWindow.document.write(i),r.container.contentWindow.document.close(),r.mainComponentsContainer=r.container.contentWindow.document.getElementById(y.c),(s.isAmp()||s.isIABSafeFrame())&&(r.mainContainer.appendChild(r.mainComponentsContainer),r.mainContainer.removeChild(r.container)),r.videoComponentsContainer=r.mainComponentsContainer.ownerDocument.getElementById(y.d),r}return b(e,t),e.prototype.initAd=function(e,i,n,o,r,a){return void 0===r&&(r=""),void 0===a&&(a={}),this.vpaid?(this.resize(e,i,n),this.initAdStartTime=Date.now(),this.logger.debug("initAd"),t.prototype.initAd.call(this,e,i,n,o,r,a)):void this.logger.error("You must register vpaid creative to be wrapped using setVPAID() method")},e.prototype.startAd=function(){return this.status<h.a.LOADED?void this.dispatchEvent(f.a.AdLog,"VPAID not started, use initAd(), and wait for AdLoaded event before call startAd() method"):this.status>=h.a.STARTING?void this.dispatchEvent(f.a.AdLog,"cannot call startAd() twice, already started"):(this.render(this.getVPAID()),this.logger.debug("startAd"),void t.prototype.startAd.call(this))},e.prototype.resizeAd=function(e,i,n){void 0===n&&(n="normal"),e<=0||i<=0||(this.resize(e,i,n),t.prototype.resizeAd.call(this,e,i,n))},e.prototype.stopAd=function(){var e=this,i=function(){c.setTimeout(function(){e.container.parentNode&&e.container.parentNode.removeChild(e.container)},2e3),e.dispatchedEvents[f.a.AdStopped]||e.dispatchEvent(f.a.AdStopped)};this.isStopped?(this.logger.debug("Wrapped vpaid already stopped, remove UI"),i()):(this.logger.debug("Wrapped vpaid not stopped, try to stop it"),this.vpaid.subscribe(i,f.a.AdStopped),t.prototype.stopAd.call(this))},e.prototype.pauseAd=function(){this.callVPAIDMethod("pauseAd")},e.prototype.resumeAd=function(){this.callVPAIDMethod("resumeAd")},e.prototype.getAdWidth=function(){return this.isRendered&&!this.isStopped&&t.prototype.getAdWidth.call(this)?t.prototype.getAdWidth.call(this):a.getBoundingClientRect(this.getMainComponentsContainer()).width},e.prototype.getAdHeight=function(){return this.isRendered&&!this.isStopped&&t.prototype.getAdHeight.call(this)?t.prototype.getAdHeight.call(this):a.getBoundingClientRect(this.getMainComponentsContainer()).height},e.prototype.setAdVolume=function(e){return isNaN(e)?(this.logger.warn("setAdVolume: volume argument is NaN"),this.getAdVolume()):t.prototype.setAdVolume.call(this,e)},e.prototype.getAdExpanded=function(){return this.isFullscreen},e.prototype.setVPAID=function(e){var i=this;if(this.vpaid)return void this.logger.warn("setVPAID() : vpaid ad already register, can't use twice");this.logger.debug("setVPAID() : Register vpaid ad"),t.prototype.setVPAID.call(this,e),e.subscribe(function(){i.isStopped=!0},f.a.AdStopped);var n=function(t){0===v.getOverridenEventComponents(i.components,t.type).length&&i.handleVpaidEvent(t)};for(var o in f.a)if(f.a.hasOwnProperty(o)){var r=f.a[o];e.subscribe(m.createVPAIDEventCallback(n,r),r)}for(var o in g.default)if(g.default.hasOwnProperty(o)){var r=g.default[o];e.subscribe(m.createVPAIDEventCallback(n,r),r)}},e.prototype.getVPAID=function(){return this.vpaid},e.prototype.getVPAIDContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(y.e)},e.prototype.getMainContainer=function(){return this.mainContainer},e.prototype.getMainComponentsContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(y.c)},e.prototype.getCreativeContainer=function(){return this.getVPAID().container.getCreativeContainer()},e.prototype.getVideoComponentsContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(y.d)},e.prototype.getComponent=function(t){return this.componentsByName[t]},e.prototype.getConfig=function(){return this.config},e.prototype.getContainer=function(){return this.container},e.prototype.getContentWindow=function(){return this.getContainer().contentWindow},e.prototype.render=function(t){var e=this;if(!this.isRendered){this.isRendered=!0,this.show(),this.resize(t.getAdWidth(),t.getAdHeight());var i=function(t){e.handleVpaidEvent(t)};this.logger.debug("init components:",this.config.components);for(var n in y.b)if(y.b.hasOwnProperty(n)&&y.b[n])for(var o=y.a+n,r=a.getElementsByClassName(o,this.getMainComponentsContainer(),this.getContentWindow()),s=0,c=r.length;s<c;s++)if(this.config.components&&this.config.components[n]&&this.config.components[n].disable||this.config.disableAllComponents&&!1!==this.config.components[n].disable){var u=r[s];u&&u.parentNode.removeChild(u),this.logger.debug("disable component "+n)}else{var d=new y.b[n](this,r[s],t,this.config.components&&this.config.components[n]?this.config.components[n]:{},i);this.components.push(d),this.componentsByName[n]=d;try{d.init(),this.logger.debug("init component "+n,this.config.components&&this.config.components[n]?this.config.components[n]:null)}catch(t){this.logger.error('error init component "'+n+'"',t.toString())}}}},e.prototype.showAllComponents=function(){v.showHideAllComponents(this.components,!0)},e.prototype.hideAllComponents=function(){v.showHideAllComponents(this.components,!1)},e.prototype.showComponent=function(t){v.showHideComponent(this.componentsByName,t,!0)},e.prototype.hideComponent=function(t){v.showHideComponent(this.componentsByName,t,!1)},e.prototype.dispatchCustomEvent=function(t,e){this.dispatchEvent(t,e)},e.prototype.getProperties=function(){return{adLinear:this.getAdLinear(),adWidth:this.getAdWidth(),adHeight:this.getAdHeight(),adExpanded:this.getAdExpanded(),adSkippableState:this.getAdSkippableState(),adRemainingTime:this.getAdRemainingTime(),adDuration:this.getAdDuration(),adVolume:this.getAdVolume()}},e.prototype.toJSON=function(){return d.stringify(this.getProperties())},e.prototype.handleVpaidEvent=function(e){switch(e.type){case f.a.AdSizeChange:this.getAdWidth()&&this.getAdHeight()&&this.isStopped&&(this.logger.debug("resize with AdSizeChange event"),this.resize(this.getAdWidth(),this.getAdHeight(),this.isFullscreen?"fullscreen":"normal"));break;case f.a.AdLoaded:if(this.initAdStartTime>0)try{var i=o.parse(this.config.vpaidUrl).hostname,n=Date.now()-this.initAdStartTime,r=u.getTimingByRegex(/t.teads.tv\/track\?action=adCall/),a=0;r&&(a=Math.round(r.startTime)),this.logger.info("initAd response time",n,i,a)}catch(t){}}t.prototype.handleVpaidEvent.call(this,e)},e.prototype.callVPAIDMethod=function(e,i){void 0===i&&(i=[]),r.forEach(this.components,function(t){t.onMethod(e,i)});var n=v.getOverridenMethodComponents(this.components,e);if(0===n.length)return t.prototype.callVPAIDMethod.call(this,e,i);var o;return n.forEach(function(t){o=t.onOverridenMethod(e,i)}),o},e.prototype.resize=function(t,e,i){var o=this;if(void 0===i&&(i="normal"),!(t<=0||e<=0)){var a=t+"px",s=e+"px";this.getVideoComponentsContainer().style.width===a&&this.getVideoComponentsContainer().style.height===s&&this.container.style.width===a&&this.container.style.height===s||(this.getVideoComponentsContainer().style.width=a,this.getVideoComponentsContainer().style.height=s,this.container.style.setProperty("width",a,"important"),this.container.style.setProperty("height",s,"important"),this.container.style.setProperty("max-height",s,"important"),this.logger.debug("vpaidui resize",t,e,i),!this.isFullscreen&&"fullscreen"===i||this.isFullscreen&&"normal"===i?(this.isFullscreen="fullscreen"===i,this.dispatchEvent(f.a.AdExpandedChange)):this.logger.debug("no fullscreen exit or enter"));var c=this.getVPAIDContainer();c.style.width=a,c.style.height=s;var u="l-screen";t<=480?u="xs-screen":t<=640&&(u="sm-screen"),r.forEach(["l-screen","xs-screen","sm-screen"],function(t){t!==u&&n.removeClass(o.mainComponentsContainer,t)}),n.addClass(this.mainComponentsContainer,u)}},e.prototype.show=function(){this.container.style.display="block"},e.prototype.hide=function(){this.container.style.display="none"},e}(p.a);e.a=A},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(59)),o=i(72),r=i(76),a=i(70),s=i(14),c=i(74),u=i(75),d=i(78),l=i(77),p=i(80),h=i(79),f=i(44),g=i(73),m=i(40),v=i(22),y=i(71),b=i(81),A=i(11),E=window.teads||{};E.canvas=E.canvas||{},E.canvas.player={CanvasPlayer:n.default,components:{Audio:o.a,Buffering:r.a,Canvas:a.a,EventDispatcher:s.a,File:c.a,HtmlAudioElement:u.a,JpegVideo:d.a,Mp4CTVideo:l.a,Mp4Video:p.a,MpegVideo:h.a,Video:f.b,WebAudioApi:g.a,PLAYERS:f.a},helper:{Utils:m},model:{MediaState:v.a,Shader:y,StreamType:b.a,mediaEvents:A.a}},window.teads=E},function(t,e,i){function n(t){return o.b.of(t).flatMap(function(t){return t.adChoicesIconClickThrough}).getOrElse(function(){return a})}i.d(e,"a",function(){return a}),e.b=n;var o=i(4),r=i(0),a=Object(r.getProtocol)()+"//teads.tv/privacy-policy/"},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"CREDITSCSS",function(){return n}),i.d(e,"LABELCSS",function(){return o}),i.d(e,"ADCHOICESCSS",function(){return r}),i.d(e,"EXPANDCSS",function(){return a}),i.d(e,"EXPANDHTML",function(){return s}),i.d(e,"DISPLAYCSS",function(){return c}),i.d(e,"COUNTDOWNCSS",function(){return u}),i.d(e,"COUNTDOWNHTML",function(){return d}),i.d(e,"SMARTHEADERHTML",function(){return l}),i.d(e,"SMARTHEADERCSS",function(){return p});var n=i(280),o=i(281),r=i(374),a=i(375),s=i(376),c=i(377),u=i(378),d=i(282),l=i(379),p=i(380)},,function(t,e,i){var n=i(37),o=i(13),r=i(0),a=i(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Format")||this;return n.value=i,n.checkValue(),n}return s(e,t),e.prototype.checkValue=function(){if(!Object(r.isString)(this.value)||!e.VALUES[this.value.toUpperCase()]||Object(a.isAmp)()&&!this.isInRead())throw new n.a(n.a.OPTION_FORMAT_INVALID)},e.prototype.get=function(){return this.value},e.prototype.isInRead=function(){return this.value===e.VALUES.INREAD},e.prototype.isInBoard=function(){return this.value===e.VALUES.INBOARD},e.prototype.isInterstitial=function(){return this.value===e.VALUES.INTERSTITIAL},e.prototype.isRewarded=function(){return this.value===e.VALUES.REWARDED},e.VALUES={INREAD:"inread",INBOARD:"inboard",INTERSTITIAL:"interstitial",REWARDED:"rewarded"},e.DEFAULT=null,e}(o.a);e.a=c},function(t,e,i){i.d(e,"a",function(){return n});var n={corsswf:"cors.swf"}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(188);i.d(e,"Bench",function(){return n.a});var o=i(189);i.d(e,"ClickThrough",function(){return o.a});var r=i(190);i.d(e,"Extensions",function(){return r.a});var a=i(191);i.d(e,"IAS",function(){return a.a});var s=i(192);i.d(e,"Responsive",function(){return s.a});var c=i(193);i.d(e,"Tracker",function(){return c.a});var u=i(194);i.d(e,"AdChoices",function(){return u.a})},function(t,e){},function(t,e){t.exports='<style> #{{countdown-id}} svg:nth-child(2) path { -webkit-animation: load {{countdown-duration}}s linear; -moz-animation: load {{countdown-duration}}s linear; -o-animation: load {{countdown-duration}}s linear; animation: load {{countdown-duration}}s linear; } </style> \x3c!-- Container --\x3e <ul class="countdown-circle" id="{{countdown-id}}"> \x3c!-- Item --\x3e <li data-countdown="{{countdown-duration}}" class="countdown-timer"> <svg viewBox="-10 -10 220 220"> <g fill="none" stroke-width="20" transform="translate(100,100)"> <path d="M 0,-100 A 100,100 0 0,1 86.6,-50" stroke="url(#cl1)"/> <path d="M 86.6,-50 A 100,100 0 0,1 86.6,50" stroke="url(#cl1)"/> <path d="M 86.6,50 A 100,100 0 0,1 0,100" stroke="url(#cl1)"/> <path d="M 0,100 A 100,100 0 0,1 -86.6,50" stroke="url(#cl1)"/> <path d="M -86.6,50 A 100,100 0 0,1 -86.6,-50" stroke="url(#cl1)"/> <path d="M -86.6,-50 A 100,100 0 0,1 0,-100" stroke="url(#cl1)"/> </g> </svg> <svg viewBox="-10 -10 220 220"> <path d="M200,100 C200,44.771525 155.228475,0 100,0 C44.771525,0 0,44.771525 0,100 C0,155.228475 44.771525,200 100,200 C155.228475,200 200,155.228475 200,100 Z" stroke-dashoffset="629"></path> </svg> </li> </ul> \x3c!-- Defining Angle Gradient Colors --\x3e <svg width="0" height="0"> <defs> <linearGradient id="cl1" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"> <stop stop-color="#FFFFFF"/> <stop offset="100%" stop-color="#FFFFFF"/> </linearGradient> </defs> </svg> '},function(t,e){t.exports='<div class="button-container"> <div class="button replay-button"> <div class="icon"> <span class="icon-replay"></span> </div> <div class="text"></div> </div> <div class="button call-button"> <div class="icon"> <span></span> </div> <div class="text"></div> </div> </div> <div class="close-button"> <div class="icon-closeendscreen"></div> </div> <div class="adchoices adchoices-icon"> <span>AdChoices</span> </div> <div class="countdown"></div> '},function(t,e,i){var n=i(7),o=i(6),r=i(2),a=i(18),s=i(5),c=i(21),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.init=function(){var t=this;this.ui.getConfig().showAdChoicesIcon?(this.eventName=c.a.AdChoicesClickRequest,r.isMobile()||(n.addEventListener("mouseover",this.getElement(),this.onMouseOver.bind(this)),n.addEventListener("mouseout",this.getElement(),this.onMouseOut.bind(this))),this.vpaid.subscribe(function(){t.hide()},s.a.AdVideoComplete)):this.remove()},e.prototype.onMouseOver=function(){o.addClass(this.getElement(),"expanded")},e.prototype.onMouseOut=function(){o.removeClass(this.getElement(),"expanded")},e}(a.a);e.a=d},function(t,e,i){t.exports='<!doctype html> <html> <head></head> <body> <div id="main-container"> <style> '+i(169)+' </style> <div id="layout-video-component"> <div class="teads-ui-component-startscreen"></div> <div id="vpaid-container"></div> <div class="teads-ui-component-fullscreenbutton"> <div class="icon-collapse"></div> </div> <div class="teads-ui-component-progressbar"> <div class="progress"></div> </div> <div class="teads-ui-component-soundbutton"></div> <div class="teads-ui-component-closebutton"> <div class="close-button icon-close hide"></div> </div> <div class="teads-ui-component-adchoices adchoices-icon"> <span>AdChoices</span> </div> <div class="teads-ui-component-clickbutton"></div> <div class="teads-ui-component-brandlogo"></div> <div class="teads-ui-component-clicktoplay gradient"> <div class="icon-watchmore"></div> </div> <div class="teads-ui-component-endscreen"></div> </div> </div> </body> </html> '},function(t,e,i){t.exports="/** include component first, to get the fonts loaded **/ "+i(170)+" "+i(171)+" /** Simulate the PlayerClick component from AdServer */ .teads-ui-component-fullscreenbutton { position: absolute; top: 0; right: 0; width: 100%; height: 100%; background: none; } /** Will be over the closeButton on fullscreen, to simulate closeButton click */ .fullscreen .teads-ui-component-fullscreenbutton, .fullscreen .teads-ui-component-fullscreenbutton .show { width: 45px; height: 45px; z-index: 10 !important; } /** Display icon-collapse on fullscreen **/ .teads-ui-component-fullscreenbutton .icon-collapse { display: none; margin-top: 10px; margin-left: 20px; } .fullscreen .teads-ui-component-fullscreenbutton .icon-collapse { display: block; } /** Hide close button when fullscreen, because collapse button is displayed **/ .fullscreen .teads-ui-component-closebutton .icon-close { display: none; } "},function(t,e){t.exports="body { margin: 0px; padding: 0px; border: none; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; font-family: 'Helvetica', Arial, sans-serif !important; font-weight: 300; } #layout-video-component { width: 100%; height: 100%; position: relative; } #vpaid-container { z-index: 1; background-color: #000000; /* To prevent white endScreen in case of VPAID JS */ position: relative; } .teads-ui-component-progressbar { position: absolute; bottom: 0px; left: 0px; width: 100%; } .teads-ui-component-progressbar .progress { height: 3px; width: 0%; background-color: #86c3f7; transition: all 0.4s linear; } .teads-ui-component-playpausebutton { position: absolute; bottom: 10px; left: 10px; width: 20px; height: 20px; background-image: url('{{assetsPath}}/default/img/play.png'); background-position: top left; background-repeat: no-repeat; background-size: contain; cursor: pointer; } .teads-ui-component-playpausebutton.playing { background-image: url('{{assetsPath}}/default/img/pause.png'); } .teads-ui-component-fullscreenbutton { position: absolute; bottom: 5px; right: 30px; width: 16px; height: 16px; background-image: url('{{assetsPath}}/default/img/fullscreen.png'); background-position: top left; background-repeat: no-repeat; background-size: contain; cursor: pointer; } .teads-ui-component-progresstext { height: 30px; margin: 0px 40px 0px 60px; text-align: center; padding: 4px; } .teads-ui-component-skipbutton { position: absolute; bottom: 40px; right: 4px; width: 100px; height: 20px; font-family: 'Helvetica', Arial, sans-serif !important; background-color: #cccccc; text-align: center; padding: 4px; border: 1px solid #000000; } .adchoices-icon { background: url('data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjMDBhZWNkOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg0K'); } /****************************************************************************** * Label component *****************************************************************************/ .teads-ui-component-label { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 12px; color: #999; text-align: center; padding: 3px 0; text-transform: uppercase; height: 21px; line-height: 21px; display: none; } .sm-screen .teads-ui-component-label, .xs-screen .teads-ui-component-label { font-size: 10px; } .fullscreen .teads-ui-component-label, .fullscreen .teads-ui-component-label.show { display: none !important; } /****************************************************************************** * Credit component *****************************************************************************/ .teads-ui-component-credits { font-size: 12px; color: #999; text-align: right; padding: 3px 0; height: 26px; line-height: 26px; display: none; } .fullscreen .teads-ui-component-credits, .fullscreen .teads-ui-component-credits.show { display: none !important; } .sm-screen .teads-ui-component-label, .xs-screen .teads-ui-component-label { font-size: 10px; } .teads-ui-component-credits a { color: #999; text-decoration: none; } .teads-ui-component-credits-blue { color: #79bbe9; } /****************************************************************************** * Start soundbutton styles *****************************************************************************/ .teads-ui-component-soundbutton { position: absolute; bottom: 0; right: 0; padding: 13px 18px 18px 6px; cursor: pointer; display: none; opacity: 0; transition: opacity 175ms linear; } .teads-ui-component-soundbutton.show { display: block; opacity: 0.8; } .teads-ui-component-soundbutton:hover { opacity: 1; } .teads-ui-component-soundbutton .equalizer { position: absolute; bottom: 7px; right: 5px; cursor: default; } .teads-ui-component-soundbutton.show .equalizer { display: none; } .teads-ui-component-soundbutton.show.muted .equalizer { display: block; } /****************************************************************************** * Start closebutton and countdownclosebutton styles *****************************************************************************/ .teads-ui-component-closebutton { position: absolute; top: 0; right: 0; padding: 15px; cursor: pointer; display: none; transition: opacity 175ms linear; } /** disable SVG animation on closebutton countdown */ .teads-ui-component-closebutton svg { display: none; } .teads-ui-component-closebutton .countdown { display: none; position: absolute; left: 2px; bottom: 20px; } /** White countdown */ .teads-ui-component-closebutton .countdown .countdown-circle > li { color: #ffffff; } .teads-ui-component-closebutton .countdown.show { display: block; } .fullscreen .teads-ui-component-closebutton .countdown.show { display: none !important; } .teads-ui-component-closebutton.show { display: block; } .teads-ui-component-closebutton.show .close-button { opacity: 0.8; } .teads-ui-component-closebutton.show:hover .close-button.show { opacity: 1; } .sm-screen .teads-ui-component-closebutton .closebutton, .xs-screen .teads-ui-component-closebutton .closebutton { padding: 10px 10px 15px 15px; } /****************************************************************************** * Start clickthroughbutton styles *****************************************************************************/ .teads-ui-component-clickbutton { display: none; position: absolute; top: 0px; left: 0px; cursor: pointer; -webkit-transition: background-color 0.25s; /* Safari */ transition: background-color 0.25s; } .teads-ui-component-clickbutton .text { font-size: 12px; white-space: nowrap; max-height: 30px; text-align: center; background-color: rgba(0, 0, 0, 0.1); border: 1px solid #ffffff; color: white; margin: 10px; padding: 6px 10px; } .teads-ui-component-clickbutton .text:hover { background-color: rgba(0, 0, 0, 0.25); } .sm-screen .teads-ui-component-clickbutton .text, .xs-screen .teads-ui-component-clickbutton .text { margin: 5px; padding: 5px; } /****************************************************************************** * Start clicktoplay styles *****************************************************************************/ .teads-ui-component-clicktoplay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #000000; cursor: pointer; display: none; z-index: 10 !important; } .teads-ui-component-clicktoplay .icon-watchmore { position: absolute; top: 50%; left: 50%; margin-left: -8px; margin-right: -10px; opacity: 0.8; transition: opacity 175ms linear; } .sm-screen .teads-ui-component-clicktoplay .icon-watchmore, .xs-screen .teads-ui-component-clicktoplay .icon-watchmore { margin-left: -5px; margin-right: -7px; } .teads-ui-component-clicktoplay:hover .icon-watchmore { opacity: 1; } /****************************************************************************** * Start endScreen styles *****************************************************************************/ .teads-ui-component-endscreen { position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 10 !important; background-color: #000000; text-align: center; word-spacing: nowrap; opacity: 0; display: none; transition: opacity 175ms ease; } .teads-ui-component-endscreen.show { display: block !important; opacity: 1 !important; } .teads-ui-component-endscreen .adchoices { font-family: arial; font-size: 11px; cursor: pointer; position: absolute; top: 14px; right: 35px; width: 15px; height: 15px; line-height: 15px; padding: 1px; border-bottom-left-radius: 8px; background-size: 15px 15px; background-repeat: no-repeat; background-position: right center; } .xs-screen .teads-ui-component-endscreen .adchoices, .sm-screen .teads-ui-component-endscreen .adchoices { top: 12px; right: 30px; } .teads-ui-component-endscreen .adchoices.expanded { width: auto; padding: 1px 17px 1px 4px; background-color: rgba(255, 255, 255, 0.8) !important; } .teads-ui-component-endscreen .adchoices span { display: none; } .teads-ui-component-endscreen .adchoices.expanded span { display: inline; } .tea /* hide svg animation on endscreen */ .teads-ui-component-endscreen .countdown .countdown-timer svg { opacity: 0; } .teads-ui-component-endscreen .countdown { position: absolute; bottom: 18px; left: 18px; color: white; } .sm-screen .teads-ui-component-endscreen .countdown, .xs-screen .teads-ui-component-endscreen .countdown { bottom: 5px; left: 5px; } .teads-ui-component-endscreen .close-button { position: absolute; top: 0; right: 0; padding: 15px; cursor: pointer; } .teads-ui-component-endscreen .button-container { position: absolute; } .teads-ui-component-endscreen .button { display: block; width: 100%; height: 70px; margin-bottom: 40px; cursor: pointer; transition: opacity 175ms ease; } .sm-screen .teads-ui-component-endscreen .button { margin-bottom: 15px !important; height: 40px; } .xs-screen .teads-ui-component-endscreen .button { margin-bottom: 15px !important; height: 32px; } .xs-screen .teads-ui-component-endscreen .button.replay-button { margin-bottom: 15px !important; } .teads-ui-component-endscreen .button:last-child { margin-bottom: 0 !important; } .teads-ui-component-endscreen.show .button { opacity: 0.8 !important; } .teads-ui-component-endscreen.show .button:hover { opacity: 1 !important; } .teads-ui-component-endscreen.show .button.edge-touch-screen { opacity: 0.8 !important; } .teads-ui-component-endscreen.show .button.edge-touch-screen:hover { opacity: 0.8 !important; } .teads-ui-component-endscreen .button .icon { float: left; border-radius: 35px; border: 2px solid white; border-color: #294355; height: 66px; /* 70 - border * 2 */ width: 66px; } .sm-screen .teads-ui-component-endscreen .button .icon { height: 36px; /* 70 - border * 2 */ width: 36px; } .xs-screen .teads-ui-component-endscreen .button .icon { border-width: 1px; height: 30px; /* 70 - border * 2 */ width: 30px; } .teads-ui-component-endscreen .button .icon span { display: block; margin: 18px 22px; height: 30px; width: 30px; } .sm-screen .teads-ui-component-endscreen .button .icon span { margin: 7px 10px; height: 20px; width: 16px; } .xs-screen .teads-ui-component-endscreen .button .icon span { margin: 4px 6px; height: 20px; width: 16px; } .teads-ui-component-endscreen .button .text { float: left; line-height: 70px; height: 70px; font-size: 23px; color: #294355; padding-left: 25px; } .sm-screen .teads-ui-component-endscreen .button .text { line-height: 40px; height: 40px; padding-left: 20px; font-size: 17px; } .xs-screen .teads-ui-component-endscreen .button .text { line-height: 30px; height: 30px; font-size: 14px; padding-left: 15px; } .teads-ui-component-endscreen .countdown { display: none; color: #294355; } .teads-ui-component-uibutton.ui-invisible { text-decoration: line-through; } .teads-ui-component-uibutton { position: absolute; bottom: 5px; right: 5px; width: 16px; height: 16px; text-align: center; vertical-align: middle; border: 1px solid #000000; color: #000000; user-select: none; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; cursor: pointer; text-decoration: none; background-color: #ffffff; font-size: 12px; } /****************************************************************************** * Countdown animation CSS *****************************************************************************/ /* Load animation */ @-webkit-keyframes load { 0% { stroke-dashoffset: 0; } } @keyframes load { 0% { stroke-dashoffset: 0; } } /* Container */ .countdown-circle { position: relative; display: inline-block; padding: 0; margin: 0; text-align: center; } .countdown-circle > li:after { content: attr(data-countdown); position: absolute; width: 100%; top: 0.3rem; left: 0; font-size: 1rem; text-align: center; } /* Item */ .countdown-circle > li { display: inline-block; position: relative; text-align: center; color: #93a2ac; font-family: 'Helvetica', Arial, sans-serif !important; font-weight: 100; } .countdown-circle svg { width: 30px; height: 30px; } .countdown-circle svg:nth-child(2) { position: absolute; left: 0; top: 0; transform: rotate(-90deg); -webkit-transform: rotate(-90deg); -moz-transform: rotate(-90deg); -ms-transform: rotate(-90deg); } .countdown-circle svg:nth-child(2) path { fill: none; stroke-width: 20; stroke-dasharray: 629; stroke: #999; opacity: 0.9; } /****************************************************************************** * Equalizer animation CSS *****************************************************************************/ .equalizer { height: 20px; width: 16px; position: relative; } .equalizer .equalizer-bar { position: absolute; left: 0; bottom: 0; width: 3px; height: 12px; background-color: white; transition: height 1s ease; } .equalizer .equalizer-bar-1 { left: 4px; } .equalizer .equalizer-bar-2 { left: 8px; } .equalizer .equalizer-bar-3 { left: 12px; } /****************************************************************************** * Brand Logo CSS *****************************************************************************/ .teads-ui-component-brandlogo { display: none; opacity: 0.8; cursor: pointer; /* position */ position: absolute; bottom: 0px; left: 0px; margin-left: 10px; margin-bottom: 18px; webkit-transition: background-color 0.25s; /* Safari */ transition: background-color 0.25s; /* size */ width: 20%; height: 10%; max-height: 50px; /* background */ background-repeat: no-repeat; background-position-x: left; background-position-y: bottom; background-size: contain; } .sm-screen .teads-ui-component-brandlogo, .xs-screen .teads-ui-component-brandlogo { margin-left: 5px; width: 30%; height: 15%; } /****************************************************************************** * AdChoices CSS *****************************************************************************/ .teads-ui-component-adchoices { font-family: arial; font-size: 11px; cursor: pointer; position: absolute; top: 0; right: 0; width: 15px; height: 15px; line-height: 15px; padding: 1px; border-bottom-left-radius: 8px; background-size: 15px 15px; background-repeat: no-repeat; background-position: right center; } .teads-ui-component-adchoices.expanded { width: auto; padding: 1px 17px 1px 4px; background-color: rgba(255, 255, 255, 0.8); } .teads-ui-component-adchoices span { display: none; } .teads-ui-component-adchoices.expanded span { display: inline; } .teads-ui-component-closebutton ~ .teads-ui-component-adchoices { position: absolute; top: 14px; right: 35px; } .xs-screen .teads-ui-component-closebutton ~ .teads-ui-component-adchoices, .sm-screen .teads-ui-component-closebutton ~ .teads-ui-component-adchoices { top: 12px; right: 30px; } .fullscreen .teads-ui-component-adchoices, .fullscreen .teads-ui-component-adchoices.show { display: none !important; } /****************************************************************************** * Start Screen CSS *****************************************************************************/ .teads-ui-component-startscreen { width: 100%; height: 100%; position: absolute; -webkit-box-shadow: inset 0px 0px 85px rgba(0, 0, 0, 0.1); -moz-box-shadow: inset 0px 0px 85px rgba(0, 0, 0, 0.1); box-shadow: inset 0px 0px 85px rgba(0, 0, 0, 0.1); background-color: #ffffff; } /****************************************************************************** * Common style : Keep it at the bottom to get CSS rules priority *****************************************************************************/ .show { display: block !important; } .show:hover { opacity: 1 !important; } .hide { display: none; opacity: 0; } "},function(t,e){t.exports='.icon-book { width: 26px; height: 29px; background-position: 0 0; } .xs-screen .icon-book, .sm-screen .icon-book { width: 18px; height: 20px; background-position: -35px 0; } .icon-close { width: 15px; height: 15px; background-position: -60px 0; } .xs-screen .icon-close, .sm-screen .icon-close { width: 11px; height: 11px; background-position: -80px 0; } .icon-closeendscreen { width: 15px; height: 15px; background-position: -100px 0; } .xs-screen .icon-closeendscreen, .sm-screen .icon-closeendscreen { width: 11px; height: 11px; background-position: -120px 0; } .icon-collapse { width: 15px; height: 15px; background-position: -140px 0; } .icon-contact { width: 28px; height: 23px; background-position: -160px 0; } .xs-screen .icon-contact, .sm-screen .icon-contact { width: 20px; height: 16px; background-position: -195px 0; } .icon-download { width: 20px; height: 25px; background-position: -220px 0; } .xs-screen .icon-download, .sm-screen .icon-download { width: 14px; height: 17px; background-position: -245px 0; } .icon-equalizer { width: 15px; height: 15px; background-position: -265px 0; } .xs-screen .icon-equalizer, .sm-screen .icon-equalizer { width: 11px; height: 11px; background-position: -285px 0; } .icon-learnmore { width: 23px; height: 28px; background-position: -305px 0; } .xs-screen .icon-learnmore, .sm-screen .icon-learnmore { width: 17px; height: 20px; background-position: -335px 0; } .icon-muteoff { width: 22px; height: 15px; background-position: -360px 0; } .xs-screen .icon-muteoff, .sm-screen .icon-muteoff { width: 16px; height: 11px; background-position: -390px 0; } .icon-muteon { width: 22px; height: 15px; background-position: -415px 0; } .xs-screen .icon-muteon, .sm-screen .icon-muteon { width: 16px; height: 11px; background-position: -445px 0; } .icon-replay { width: 23px; height: 29px; background-position: -470px 0; } .xs-screen .icon-replay, .sm-screen .icon-replay { width: 16px; height: 20px; background-position: -500px 0; } .icon-shop { width: 29px; height: 29px; background-position: -525px 0; } .xs-screen .icon-shop, .sm-screen .icon-shop { width: 20px; height: 20px; background-position: -560px 0; } .icon-signup { width: 26px; height: 31px; background-position: -585px 0; } .xs-screen .icon-signup, .sm-screen .icon-signup { width: 18px; height: 22px; background-position: -620px 0; } .icon-watchmore { width: 16px; height: 20px; background-position: -645px 0; } .xs-screen .icon-watchmore, .sm-screen .icon-watchmore { width: 11px; height: 14px; background-position: -670px 0; } .icon-book, .icon-close, .icon-closeendscreen, .icon-collapse, .icon-contact, .icon-download, .icon-equalizer, .icon-learnmore, .icon-muteoff, .icon-muteon, .icon-replay, .icon-shop, .icon-signup, .icon-watchmore { background-size: 690px 40px; } .no-svg .icon-book, .no-svg .icon-close, .no-svg .icon-closeendscreen, .no-svg .icon-collapse, .no-svg .icon-contact, .no-svg .icon-download, .no-svg .icon-equalizer, .no-svg .icon-learnmore, .no-svg .icon-muteoff, .no-svg .icon-muteon, .no-svg .icon-replay, .no-svg .icon-shop, .no-svg .icon-signup, .no-svg .icon-watchmore { background-image: url("{{assetsPath}}/default/player-sprite.png"); } .icon-book, .icon-close, .icon-closeendscreen, .icon-collapse, .icon-contact, .icon-download, .icon-equalizer, .icon-learnmore, .icon-muteoff, .icon-muteon, .icon-replay, .icon-shop, .icon-signup, .icon-watchmore { background-image: url("{{assetsPath}}/default/player-sprite.svg"); } '},function(t,e,i){function n(t){return o(t)}function o(t){return!!Object(a.isWhiteListedIos10Safari)()||r(s,t)}function r(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].test(e))return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"whitelist",function(){return s}),e.isAuthorized=n,e.isWhitelisted=o,e.isInList=r;var a=i(2),s=[/^((http|https)\:){0,1}\/\/cdn-tags\.brainient\.com\/.*/,/^((http|https)\:){0,1}\/\/.*\.brainient\.com\/vpaid\/\d+/,/^((http|https)\:){0,1}\/\/rawgit\.com\/ybootin\/.*/,/^((http|https)\:){0,1}\/\/[^\/]+\.teads\.(tv|net).*/,/^((http|https)\:){0,1}\/\/ad\.atdmt\.com\/as\/vpaid\.js;.*/,/^((http|https)\:){0,1}\/\/.*\.serving\-sys\.com\/.*\/.*VPAIDAPI\.js$/,/^((http|https)\:){0,1}\/\/(s\-){0,1}static\.innovid\.com\/mobileapps\/(s\/){0,1}js\/vpaid\/.*/,/^((http|https)\:){0,1}\/\/vpaid\.doubleverify\.com\/.*\.js/,/^((http|https)\:){0,1}\/\/.*\.moatads\.com\/[^\/]*\/moatwrapper\.js.*/,/^((http|https)\:){0,1}\/\/cdn\.adtags\.mobi\/shared\/js\/vpaid\.js/,/^((http|https)\:){0,1}\/\/.*\.adsafeprotected\.com\/IASVideo\?.*/,/^((http|https)\:){0,1}\/\/.*\.adsafeprotected\.com\/js\/vpaid-transformer\/.*\/vpaid-transformer\.js.*/,/^((http|https)\:){0,1}\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js/,/^((http|https)\:){0,1}\/\/.*\.measuread\.com\/.*\.js.*/,/^((http|https)\:){0,1}\/\/.*\.videostat\.com\/script\/gppVpaidCallbackAd\.js.*/,/^((http|https)\:){0,1}\/\/.*\.tubemogul\.com\/.*\.js.*/,/^((http|https)\:){0,1}\/\/.*\.flashtalking\.com\/.*/]},function(t,e,i){function n(t){return"video/mp4"===t}function o(t){return"video/webm"===t}function r(t){return c.c.of(function(){return!!document.createElement("video").canPlayType(t)}).getOrElse(function(){return!1})}function a(t){return Object(s.isSDK)()?Object(s.isIos)()?n(t):Object(s.isAndroid)()?n(t)||o(t):void 0:r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isMp4=n,e.isWebm=o,e.canPlayType=r,e.canPlay=a;var s=i(2),c=i(12)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(115)),o=i(116),r=i(175),a=i(117),s=i(118),c=window.teads||{};c.video=c.video||{},c.video.BaseVPAIDCreative=n.a,c.video.NetworkState=o.a,c.video.ReadyState=o.b,c.video.VPAIDCanvas=r.a,c.video.VPAIDVideo=a.a,c.video.component=c.video.component||{},c.video.component.ClickThrough=s.a,window.teads=c},function(t,e,i){var n=(i(157),i(41)),o=i(11),r=i(59),a=i(26),s=i(5),c=i(117),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.initAd=function(e,i,a,s,c,u){var d=this;u.videoSlot&&u.videoSlot.parentNode&&u.videoSlot.parentNode.removeChild(u.videoSlot),this.createContainer(u.slot),n.decode(c).match({success:function(n){u.videoSlot=new r.default(d.container,e,i,n),u.videoSlot.addEventListener(o.a.ERROR,function(t){return d.dispatchVpaidEvent(d.eventMap[t.type])}),t.prototype.initAd.call(d,e,i,a,s,n,u)},failure:function(t){return d.handleException(t,"initAd")}})},e.prototype.startAd=function(){if(this.status>a.a.LOADED)return void this.dispatchVpaidEvent(s.a.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<a.a.LOADED)return void this.dispatchVpaidEvent(s.a.AdLog,"Ad is not loaded, use initAd first");try{t.prototype.startAd.call(this),this.dispatchVpaidEvent(s.a.AdDurationChange)}catch(t){this.handleException(t,"startAd")}},e.prototype.appendVideo=function(){},e.prototype.removeVideo=function(){this.video.pause(),this.container.removeChild(this.video.html5video||this.video.canvas)},e}(c.a);e.a=d},,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(120)),o=i(121),r=i(107),a=i(106),s=window.teads||{};s.tracker=s.tracker||{},s.tracker.Tracking=n.a,s.tracker.Metadata=o.a,s.tracker.Config=r.a,s.tracker.Tracker=a.a,window.teads=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(180)),o=i(112),r=i(87),a=i(90),s=i(61),c=i(67),u=i(66),d=i(113),l=i(68),p=window.teads||{};p.vast=p.vast||{},p.vast.CallbackHelper=n,p.vast.XMLHelper=o,p.vast.ExtensionType=r.a,p.vast.TrackingDefinition=a.a,p.vast.TrackingEvent=a.b,p.vast.IAS=s,p.vast.LinearAd=c.a,p.vast.vastSumologic=u.b,p.vast.VASTLib=u.a,p.vast.VASTLoader=d,p.vast.VASTParser=l,window.teads=p},function(t,e,i){function n(t,e,i){try{t.apply(t,e)}catch(u){var a=new r.a("Callback"),s="user callback threw an exception: "+u;if(a.error(s,u,t,e),i){var c=o.b.UNDEFINED;c.message=s,n(i,[new o.b(c,u)])}}}Object.defineProperty(e,"__esModule",{value:!0}),e.execCallback=n;var o=i(15),r=i(1)},function(t,e,i){function n(t){A=t}function o(){window.teads.instances=E={}}function r(){return w++}function a(t,e,i){if(t){e.init(y.a.CONFIGS.FORMAT,null,"2.19.0"),e.sendMetadata({vFormat:"2.19.0",vShared:"2.19.0",vPlayer:"2.19.0"})}else i.debug("Could not initialize Sumologic (config.isSumologicLogsEnabled = false)")}function s(){v.isAmp()&&(window.context.observeIntersection(function(t){window._teads_amp.change=t.pop(),b.init()}),b.init()),v.isFacebookIA()&&(window.document.body.style.backgroundColor="#fff")}i.d(e,"a",function(){return A}),e.g=n,i.d(e,"d",function(){return E}),e.b=o,e.c=r,i.d(e,"f",function(){return c}),i.d(e,"e",function(){return C});var c,u=i(243),d=i(263),l=i(4),p=i(1),h=i(17),f=i(65),g=i(58),m=i(7),v=i(2),y=i(24),b=i(184),A=0,E={},w=0,C=d.c.page;d.c.ad;!function(){l.b.of(window.teads.PAGE_PROCESSED).forEach(function(t){return A=t}),l.b.of(window.teads.instances).forEach(function(t){return E=t}),l.b.of(window.teads.currentPlayerId).forEach(function(t){return w=t}),h.mark("markFormatInit");var t=new p.a("Main");t.info("Init - Format initialization success"),a(f.b.isSumologicLogsEnabled,g.a,t),s(),c=new u.a}();try{!function(){m.onDomReady(function(){return c.process()})}()}catch(t){g.a.sendError("run "+t,null,1)}},function(t,e,i){function n(){var t=d();if(t)return _.error("init","failed",t),m.a.sendError("SF "+t),t;E=new g.a;var e=b.par?b.par.w:b.self.w;return window.$sf.ext.register(e||window.innerWidth,1,function(t,e){return p(t,e)}),_.debug("init - register (width-innerWidth-geom)",e,window.innerWidth,b),o(function(){return b=window.$sf.ext.geom()}),t}function o(t){var e=T.push(t);return function(){return T[e-1]=function(){}}}function r(t){var e=I.push(t);return function(){return I[e-1]=function(){}}}function a(t){var e=O.push(t);return function(){return O[e-1]=function(){}}}function s(t){if(void 0===t&&(t=function(){}),_.debug("initSlot"),0===window.innerWidth){_.debug("initSlot - window.innerWidth=0 so wait for resize");var e,i=function(){0!==window.innerWidth&&(_.debug("SafeFrame - window resize receive - start"),E.remove("resize"),e(),t())};E.add("resize",window,i),e=o(i)}else if(1===b.self.w&&1===b.self.h)if(window.$sf.ext.supports()["exp-push"]){_.debug("initSlot - 1x1 detected - need to wait to get the slot width available");var n=function(){_.debug("initSlot - 1x1 detected - expand available - get width"),l({name:"initial expand",action:function(){return window.$sf.ext.expand({r:b.exp.r,push:!0})},callback:function(e){var i="expanded"===e;C=i?h.Init:h.Closed,i&&(w=b.exp.r,_.debug("initSlot - 1x1 detected - initial expand done - width",w),t())}})};if(b.exp.r)n();else var r=o(function(){b.exp.r&&(r(),n())})}else _.error("initSlot - 1x1 detected - but exp-push not supported");else t()}function c(t,e){void 0===e&&(e=function(){});var i=function(t){return l({name:"open "+t,action:function(){return window.$sf.ext.expand({b:t,r:w,push:!0})},callback:function(t){var i="expanded"===t;C=i?h.Expanded:h.Closed,e(i)}})},n=b.par?b.par.h:b.self.h,o=t-n;C!==h.Expanded&&o>0?window.$sf.ext.supports()["exp-push"]?o<=b.exp.b||b.par?(_.debug("open (askedHeight - currentHeight - allowed - requiredHeight)",t,n,b.exp.b,o),C===h.Init?(_.debug("open - slot already open by init - close it before"),u(function(){var t=Math.min(Math.floor(window.$sf.ext.geom().exp.b),o);i(t)})):i(o)):(_.debug("open not allowed (askedHeight - currentHeight - allowed - requiredHeight)",t,n,b.exp.b,o),e(!1)):(_.error("open failed - exp-push not supported"),e(!1)):(_.debug("already open (askedHeight - currentHeight - requiredHeight)",t,n,o),e(!0))}function u(t){void 0===t&&(t=function(){}),C!==h.Closed?(_.debug("close"),l({name:"close",action:function(){return window.$sf.ext.collapse()},callback:function(){return t(!0)}}),C=h.Closed):t(!0)}function d(){var t="";return Object(v.isIABSafeFrame)()||(t="not in IABSafeFrame context"),window.$sf.ext.geom?(b=window.$sf.ext.geom())||(t="window.$sf.ext.geom() return falsy value"):t="window.$sf.ext.geom not present",window.$sf.ext.supports||(t="window.$sf.ext.supports not present"),t}function l(t){t&&(_.debug("processRequest add to list",t.name),S.push(t)),!A&&S.length&&(A=S.shift(),_.debug("processRequest - process",A.name),A.action())}function p(t,e){switch(_.debug("event received",t,e),t){case"expanded":case"collapsed":case"failed":A&&A.callback&&A.callback(t),A=null,l();break;case"geom-update":e.cmd&&"focus-update"===e.cmd?y.forEach(I,function(t){return t(e)}):y.forEach(T,function(t){return t(e)});break;case"focus-change":y.forEach(I,function(t){return t(e)});break;case"cmpReturn":y.forEach(O,function(t){return t(e)})}}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"SF_ACTION",function(){return h}),i.d(e,"geom",function(){return b}),i.d(e,"currentStatus",function(){return C}),e.init=n,e.listenGeom=o,e.listenFocus=r,e.listenCmp=a,e.initSlot=s,e.open=c,e.close=u;var h,f=i(1),g=i(28),m=i(58),v=i(2),y=i(3);!function(t){t[t.Closed=0]="Closed",t[t.Init=1]="Init",t[t.Expanded=2]="Expanded"}(h||(h={}));var b,A,E,w,C=h.Closed,_=new f.a("helper.IABSafeFrame"),S=[],T=[],I=[],O=[]},function(t,e,i){function n(t,e,i){u.b.of(e).map(function(t){return t.document}).forEach(function(e){if(!e.getElementById(i)){var n=l.replacePlaceholders(t,{assetsPath:c.b.assetsUrl}),o=e.createElement("style");o.setAttribute("id",i),o.setAttribute("class",f),o.appendChild(e.createTextNode(n)),e.head.appendChild(o)}})}function o(t,e){u.b.of(e).map(function(t){return t.document}).map(function(e){return e.getElementById(t)}).forEach(function(t){return u.b.of(t.parentNode).forEach(function(e){return e.removeChild(t)})})}function r(t){if(!d.getDocument(t).getElementById(h)){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",c.b.basePathUrl+"/teads-format.css"),e.setAttribute("id",h),p.inject(e,d.getWindow(t))}}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"id",function(){return h}),i.d(e,"inlineStyleClassName",function(){return f}),e.embedCSS=n,e.removeCSS=o,e.injectFormatCSS=r;var a=i(383),s=(i.n(a),i(384)),c=(i.n(s),i(65)),u=i(4),d=i(6),l=i(56),p=i(7),h="teads-format-css",f="teads-inline-style"},function(t,e,i){function n(){E.isAmp()&&f()&&!o()&&(P=f().rootBounds,T=E.isDesktop()?window.innerWidth:Math.min(Math.min(P.width,P.height),window.innerWidth),T!==window.innerWidth&&(T-=2*window.context.initialIntersection.boundingClientRect.left),S||(g(),f().boundingClientRect.height>10&&(a(),C.a.sendError("AMP tag malformed "+window.context.location.href)),S=!0),O!==b.Open&&I!==b.Open||s())}function o(){return!!P&&(S&&window._teads_amp.change.rootBounds.width===P.width)}function r(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=!1),I=b.Clean,S&&m(0,t,I,e)}function a(t,e){void 0===t&&(t=function(){}),void 0===e&&(e=!1),I=b.Close,S&&m(1,t,I,e)}function s(t,e,i){void 0===t&&(t=null),void 0===e&&(e=function(){}),void 0===i&&(i=!1),I=b.Open,S&&m(t||c(),e,I,i)}function c(){return Math.ceil(T/x)}function u(){return O===b.Open}function d(t){var e="teads-";t?(e+=t.id?t.id:"0",e+="-",e+=t.creativeId?t.creativeId:"0"):e+="0",e=e}function l(){window.context&&Object(_.isFunction)(window.context.noContentAvailable)&&!D.noContentAvailable&&(D.noContentAvailable=!0,R.debug("noContentAvailable"),window.context.noContentAvailable())}function p(){if(window.context&&Object(_.isFunction)(window.context.renderStart)&&!D.renderStart){D.renderStart=!0;var t={height:c(),width:T};R.debug("renderStart",t),window.context.renderStart(t)}}function h(){if(k&&window.context&&Object(_.isFunction)(window.context.reportRenderedEntityIdentifier)&&!D.reportRenderedEntityIdentifier){D.reportRenderedEntityIdentifier=!0;var t="teads-"+k;R.debug("reportRenderedEntityIdentifier",t),window.context.reportRenderedEntityIdentifier(t)}}function f(){return window._teads_amp.change&&window.context.initialIntersection?(window._teads_amp.change||(window._teads_amp.change=window.context.initialIntersection),window._teads_amp.change):null}function g(){window.context.onResizeDenied(function(t,e){return y(t,e,!1)}),window.context.onResizeSuccess(function(t,e){return y(t,e,!0)})}function m(t,e,i,n){v(t,function(o){var r="function"==typeof n?n():n;o||r?(I=null,O=o?i:null,e(o),u()&&h()):I===i&&setTimeout(function(){return m(t,e,i,r)},100)})}function v(t,e){E.isAmp()&&window.context.requestResize&&S&&(L.push({width:T,height:t,done:!1,callback:e}),window.context.requestResize(T,t),R.warn("amp request resize",T,t))}function y(t,e,i){w.forEach(L,function(n){t!==n.height||e!==n.width||n.done||(n.done=!0,n.callback(i))}),i?R.warn("amp request resize success",e,t):R.error("amp request resize denied",e,t)}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"AMP_ACTION",function(){return b}),e.init=n,e.isInitialized=o,e.clean=r,e.close=a,e.open=s,e.getHeight=c,e.isOpen=u,e.setCreativeInformation=d,e.noContentAvailable=l,e.renderStart=p,e.reportRenderedEntityIdentifier=h;var b,A=i(1),E=i(2),w=i(3),C=i(58),_=i(0);!function(t){t[t.Clean=0]="Clean",t[t.Close=1]="Close",t[t.Open=2]="Open"}(b||(b={}));var S,T,I,O,P,k,x=4/3,L=[],R=new A.a("helper.Amp"),D={noContentAvailable:!1,renderStart:!1,reportRenderedEntityIdentifier:!1}},,function(t,e,i){var n=i(13),o=i(37),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Pid")||this;return n.value=i,n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){if(!Object(r.isNumber)(this.value)||this.value<=0)throw new o.a(o.a.OPTION_PID_INVALID)},e.prototype.get=function(){return this.value},e.DEFAULT=null,e}(n.a);e.a=s},function(t,e,i){var n=i(2),o=i(13),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i,o){void 0===i&&(i=e.DEFAULT),void 0===o&&(o=null);var r=t.call(this,"VideoStart")||this;return r.value=i,o&&o.isInBoard()&&Object(n.isTablet)()&&(r.value=e.VALUES.CLICK),r.checkValue(),r}return a(e,t),e.prototype.checkValue=function(){Object(r.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.prototype.isClick=function(){return this.value===e.VALUES.CLICK},e.prototype.getValue=function(){return this.value},e.VALUES={THRESHOLD:"threshold",CLICK:"click"},e.DEFAULT=e.VALUES.THRESHOLD,e}(o.a);e.a=s},function(t,e,i){i.d(e,"a",function(){return u});var n=i(62),o=i(1),r=i(49),a=i(2),s=i(6),c=i(5),u=function(){function t(t,e,i,n,a,u){var d=this;this.container=t,this.config=e,this.vpaidAd=i,this.mediaFile=n,this.bufferingTimer=null,this.bufferingDone=!1,this.elapseTime=0,this.logger=new o.a("player.plugin.Bench");try{var l=s.findParentWindows(this.container).pop(),p=function(){d.elapseTime>1e3&&0===d.getCurrentTime()&&(d.clearBufferingTimer(!0),d.visibility.destroy())};this.visibility=r.a.listenWindow(l,p,function(){})}catch(t){this.logger.error("Error with visibility init",t)}this.vpaidAd.subscribe(function(){d.getBuffering()},c.a.AdStarted),this.vpaidAd.subscribe(function(){d.clearBufferingTimer()},c.a.AdPaused),this.vpaidAd.subscribe(function(){d.getBuffering()},c.a.AdPlaying)}return t.prototype.init=function(){},t.prototype.deinit=function(){},t.prototype.getBuffering=function(t){var e=this;void 0===t&&(t=500),this.bufferingDone||(this.bufferingTimer=setTimeout(function(){try{e.elapseTime=t;var i=e.getCurrentTime();if(i>0){var o=t-1e3*i>0?t-1e3*i:0;"number"==typeof o&&o>=0&&(e.logger.debug("Buffering: "+o+"ms"),n.b.sendInfo("Buffering: "+o+"ms with "+e.mediaFile.type+" on "+a.getContextSummary())),e.bufferingDone=!0,e.visibility.destroy()}else e.getBuffering(t+=500)}catch(t){e.logger.error("Error with buffering method",t)}},500))},t.prototype.clearBufferingTimer=function(t){void 0===t&&(t=!1);try{this.bufferingTimer&&(clearTimeout(this.bufferingTimer),this.bufferingTimer=null,t&&(this.logger.warn("Stop buffering calculation"),this.bufferingDone=!0))}catch(t){this.logger.error("An error occured while cleaning the buffering timer",t)}},t.prototype.getCurrentTime=function(){return this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime()?this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime():0},t}()},function(t,e,i){i.d(e,"a",function(){return o});var n=i(5),o=function(){function t(t,e,i,n,o,r){this.vpaidAd=i,this.linearAd=o}return t.prototype.init=function(){this.vpaidAd.subscribe(this.onClickThrough,n.a.AdClickThru,this)},t.prototype.deinit=function(){this.vpaidAd.unsubscribe(this.onClickThrough,n.a.AdClickThru)},t.prototype.onClickThrough=function(t,e,i){var n=t||this.linearAd.clickThrough[0];i&&n&&window.open(n)},t}()},function(t,e,i){i.d(e,"a",function(){return f});var n=i(62),o=i(123),r=i(3),a=i(8),s=i(6),c=i(23),u=i(9),d=i(2),l=i(1),p=i(4),h=i(87),f=function(){function t(t,e,i,n,o,r){this.container=t,this.config=e,this.vpaidAd=i,this.mediaFile=n,this.linearAd=o,this.logger=new l.a("player.plugin.Extensions")}return t.prototype.init=function(){var t=this;r.forEach(this.linearAd.extensions,function(e){var i=h.a.AD_VERIFICATIONS,n=h.a.MOAT_JS,a=h.a.VISIBILITY,s=h.a.HTML,c=h.a.IFRAME,u=h.a.SCRIPT,d=h.a.ALENTY;switch(e.type){case o.EXTENSION_TYPE:var l=o.parse(e.content);l&&l.width&&l.height&&(t.mediaFile.width=l.width,t.mediaFile.height=l.height);break;case i:var p=r.map(t.retrieveCreativePrefetchAdVerificationScriptUrls(e),function(t){return t.url});t.prefetchAdVerificationScripts(p);break;case n:t.initMoatTracking(e);break;case a:case s:case c:t.injectIframe(e.content);break;case u:case d:t.injectJs(e.content);break;default:t.logger.warn("Unhandled extension type",e)}})},t.prototype.deinit=function(){},t.prototype.getExtension=function(t){return p.b.of(r.find(this.linearAd.extensions,function(e){return e.type===t}))},t.prototype.retrieveCreativePrefetchAdVerificationScriptUrls=function(t){var e=this,i=r.fromNodeList(t.xml.querySelectorAll("Verification")),n=r.map(i,function(t){return[t.getAttribute("vendor"),t.querySelector("JavaScriptResource")]}),o=r.filter(n,function(t){return"creative-prefetch"===t[1].getAttribute("apiFramework")}),s=/src="([^"]+)/gi,u=r.map(o,function(t){var i=t[0],n=t[1];return p.b.of(n.textContent).map(a.trim).map(function(t){for(var n,o=[];null!==(n=s.exec(t));)o.push(n[1]);var a="DoubleVerify"===i?r.map(o,function(t){return c.replaceUrlParameter(t,"btreg",e.container.getAttribute("id"))}):o;return r.map(a,function(t){return{vendor:i,url:t}})})});return r.reduce(u,function(t,e){return e.map(function(e){return t.concat(e)}).getOrElse(function(){return t})},[])},t.prototype.prefetchAdVerificationScripts=function(t){r.forEach(t,function(t){return(new Image).src=t})},t.prototype.initMoatTracking=function(e){var i=this,o=this.vpaidAd.getAdDuration();o<=0&&(o=this.linearAd.duration),this.externalAdVolume=this.vpaidAd.getAdVolume();var c,l=u.parse(e.content),p=s.findParentWindows(this.container),h=p.pop()||window,f=this.config.formatConfig&&this.config.formatConfig.threshold?this.config.formatConfig.threshold.value:0,g=[],m=this;d.isDesktop()?c="desktop":d.isTablet()?c="tablet":d.isMobile()&&(c="mobile");var v={adData:{ids:l,duration:o,url:this.mediaFile.url},dispatchEvent:function(i){try{var r=m.vpaidAd.getAdDuration()-m.vpaidAd.getAdRemainingTime()>0?m.vpaidAd.getAdDuration()-m.vpaidAd.getAdRemainingTime():0,a=l.level3.match(/(\d+)/)?l.level3.match(/(\d+)/)[1]:l.level3,u=s.getPercentageInView(m.container,h);e.definition.id!==m.linearAd.id&&(e.definition.adSystem&&e.definition.adSystem.match(/teads/i)?"wrappteads":"wrappnotteads");var d=["[MOAT] "+a,l.slicer2,i.type||i,m.vpaidAd.getAdVolume(),o+"s",-1===u?"Error":Math.floor(100*u)+"%",c,r.toFixed?r.toFixed(3):r,s.isInView(m.container,h,f/100),f,h.location.hostname];n.b.sendInfo(d.join(" - "),null,t.MOAT_TEST_INSERTIONID.test(a)?1:.01)}catch(e){var a=void 0;l&&l.level3&&(a=l.level3.match(/(\d+)/)?l.level3.match(/(\d+)/)[1]:l.level3),n.b.sendInfo("[MOAT error] "+e,null,t.MOAT_TEST_INSERTIONID.test(a)?1:.01)}if(this.sendEvent){var p=i;g&&(g.push(i),p=g,g=null),this.sendEvent(p)}else g.push(i)}};this.logger.debug("intialized MOAT with",v.adData);var y=["AdStopped","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdPaused","AdPlaying"];r.forEach(y,function(t){i.vpaidAd.subscribe(function(){var e={type:t,adVolume:i.externalAdVolume};i.logger.debug("sending MOAT event",e),v.dispatchEvent(e)},t)}),this.vpaidAd.subscribe(function(){if(i.externalAdVolume!==i.vpaidAd.getAdVolume()){var t={type:"AdVolumeChanged",adVolume:i.vpaidAd.getAdVolume()};i.logger.debug("sending MOAT event",t),v.dispatchEvent(t),i.externalAdVolume=i.vpaidAd.getAdVolume()}},"AdVolumeChange");var b="_moatApi"+a.rand(8),A=s.getWindow(this.container);A[b]=v;var E=s.getDocument(this.container).createElement("script"),w=A.location.protocol,C="https:"===w?"z":"js";E.src=w+"//"+C+".moatads.com/"+t.MOAT_PARTNER_CODE+"/moatvideo.js#"+b,this.container.insertBefore(E,this.container.childNodes[0])},t.prototype.injectJs=function(t){var e=document.createElement("script");e.async=!0,e.src=t,document.body.appendChild(e)},t.prototype.injectIframe=function(t){var e=document.createElement("iframe");e.style.width="10px",e.style.height="10px",e.style.position="absolute",e.style.left="-999em",e.style.top="0",document.body.appendChild(e);var i=e.contentWindow.document;i.open(),i.write(-1===t.indexOf("<html")?"<!doctype html><html><head></head><body>"+t+"</body></html>":t),i.close()},t.MOAT_PARTNER_CODE="teads245638586802",t.MOAT_TEST_INSERTIONID=/^103055$/,t}()},function(t,e,i){i.d(e,"a",function(){return c});var n=i(124),o=i(1),r=i(3),a=i(61),s=i(5),c=function(){function t(t,e,i,n,r,a){this.container=t,this.config=e,this.vpaidAd=i,this.mediaFile=n,this.linearAd=r,this.logger=new o.a("player.plugin.IAS"),this.lastSentData={},this.sentVpaidEvents={},this.isMuted=!0}return t.prototype.init=function(){var e=this;this.logger.debug("init IAS plugin");var i=a.getIASConfig(this.linearAd);i&&(r.forEach(t.IASEvents,function(t){e.vpaidAd.subscribe(function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return e.sentVpaidEvents[t]=i},t)}),this.vpaidAd.subscribe(function(){e.loadIASVANS(i)},s.a.AdStarted))},t.prototype.deinit=function(){},t.prototype.loadIASVANS=function(t){var e=this,i=this.config.path+"/"+n.a.iasvans,o=document.createElement("script");o.onload=function(){e.logger.debug("IAS VANS loaded"),e.initIAS(t)},o.onerror=function(){e.logger.error("unable to load IASVANS "+i)},o.async=!0,o.defer=!0,o.src=i,document.head.appendChild(o)},t.prototype.initIAS=function(e){var i=this;this.logger.debug("init IAS extension",e);var n;try{var o=this.vpaidAd;if(o.container.getEnvironmentVars)n=o.container.getEnvironmentVars().videoSlot;else{if(!o.vpaid.container.getEnvironmentVars)return;n=o.vpaid.container.getEnvironmentVars().videoSlot}}catch(t){return void this.logger.error("unable to retrieve video node",this.vpaidAd)}this.vans=new __IASVANS;try{if(e.type===a.IAS_FIREWALL)this.vans.initFW(e.data,n,function(t){});else{if(e.type!==a.IAS_CAMPAIGN_MONITORING)throw"invalid config";this.vans.initCM(e.data,n)}this.logger.debug("init IAS VANS with",e,n)}catch(t){return void this.logger.error("error init on __IASVANS_3 "+t)}for(var c in this.sentVpaidEvents)this.sentVpaidEvents.hasOwnProperty(c)&&(this.logger.debug("redispatch VPAID event to IAS",c,this.sentVpaidEvents[c]),this.sendEvent(c,this.sentVpaidEvents[c]));r.forEach(t.IASEvents,function(t){i.vpaidAd.subscribe(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.sendEvent(t,e)},t)}),this.vpaidAd.subscribe(function(){this.sendEvent("resizeAd")},s.a.AdSizeChange)},t.prototype.sendEvent=function(t,e){var i=function(t){return Math.round(100*t)/100},n={};switch(t){case"resizeAd":n={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight(),viewMode:"normal"};break;case s.a.AdError:n={message:e[0]};break;case s.a.AdClickThru:n={url:null,id:e[1],playerHandles:e[2]}}if(n.volume=i(this.vpaidAd.getAdVolume()),n.ad_duration=i(this.vpaidAd.getAdDuration()),isNaN(n.ad_duration)&&(n.ad_duration=-2),t!==s.a.AdDurationChange||this.lastSentData.ad_duration!==n.ad_duration){if(t===s.a.AdVolumeChange){if(this.isMuted&&0===n.volume||!this.isMuted&&n.volume>.1)return;this.isMuted=0===n.volume}try{this.vans.sendEvent(t,n),this.lastSentData=n,this.logger.debug("IAS VANS, sendEvent",t,n)}catch(e){this.logger.error("error sending IAS event",t,n)}}},t.IASEvents=[s.a.AdLoaded,s.a.AdStarted,s.a.AdStopped,s.a.AdSkipped,s.a.AdSkippableStateChange,s.a.AdDurationChange,s.a.AdVolumeChange,s.a.AdImpression,s.a.AdVideoStart,s.a.AdVideoFirstQuartile,s.a.AdVideoMidpoint,s.a.AdVideoThirdQuartile,s.a.AdVideoComplete,s.a.AdClickThru,s.a.AdPaused,s.a.AdPlaying,s.a.AdError],t}()},function(t,e,i){i.d(e,"a",function(){return u});var n=i(84),o=i(7),r=i(1),a=i(6),s=i(35),c=i(5),u=function(){function t(t,e,i,n){this.container=t,this.config=e,this.vpaidAd=i,this.mediaFile=n,this.logger=new r.a("player.plugin.Responsive")}return t.prototype.init=function(){this.logger.debug("init plugin"),this.vpaidAd.subscribe(this.onVideoMetadata,s.default.AdVideoMetadata,this),this.vpaidAd.subscribe(this.onVpaidStart,c.a.AdStarted,this)},t.prototype.deinit=function(){this.logger.debug("deinit plugin"),this.vpaidAd.unsubscribe(this.onVpaidStart,c.a.AdStarted),this.vpaidAd.unsubscribe(this.onVideoMetadata,s.default.AdVideoMetadata),this.unsetResponsive()},t.prototype.resize=function(t){if(!a.isFullscreen())try{var e=o.getBoundingClientRect(this.container).width;if(e!==this.vpaidAd.getAdWidth()||t){var i=this.config.vpaidApi&&this.config.vpaidApi.getStudioData(),r=n.c.getOptimalHeight(this.mediaFile,e,!!this.metadata||!!i),s=this.vpaidAd.getAdWidth(),c=this.vpaidAd.getAdHeight();s===e&&c===r||(this.vpaidAd.resizeAd(e,r,"normal"),this.logger.debug("container width change, resize from "+s+"x"+c+" to "+e+"x"+r))}}catch(t){this.logger.error("resize throw an Exception",t),this.unsetResponsive()}},t.prototype.setResponsive=function(){var t=this;return!this.iframe&&(this.vpaidAd.subscribe(function(){t.unsetResponsive()},c.a.AdError),this.vpaidAd.subscribe(function(){t.unsetResponsive()},c.a.AdStopped),this.resize(),this.iframe=document.createElement("iframe"),this.iframe.style.height="0",this.iframe.style.width="100%",this.iframe.style.border="none",this.iframe.style.margin="0",this.iframe.style.padding="0",this.container.appendChild(this.iframe),this.iframe.contentWindow.document.write("<html><body></body></html>"),this.iframe.contentWindow.document.close(),this.resizeCallback=function(){return t.resize()},o.addEventListener("resize",this.iframe.contentWindow,this.resizeCallback),!0)},t.prototype.unsetResponsive=function(){try{return!!this.iframe&&(o.removeEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,!0)}catch(t){return!1}},t.prototype.onVideoMetadata=function(t){this.logger.debug("Receive metadata from video",t),t.width&&t.height&&(this.metadata=t,this.mediaFile.width=t.width,this.mediaFile.height=t.height,Math.ceil(this.vpaidAd.getAdWidth()/this.vpaidAd.getAdHeight())!==Math.ceil(t.width/t.height)&&(this.logger.debug("vpaid ratio differ from mediafile ratio, force resize !"),this.resize(!0)))},t.prototype.onVpaidStart=function(){if(!this.config.width)try{this.logger.debug("set player responsive !"),this.setResponsive()}catch(t){this.logger.error("Exception raised while trying to initialize",t)}},t}()},function(t,e,i){i.d(e,"a",function(){return g});var n=i(149),o=i(62),r=i(4),a=i(1),s=i(7),c=i(3),u=i(2),d=i(6),l=i(15),p=i(90),h=i(5),f=i(35),g=function(){function t(t,e,i,n,r,s){var d=this;this.container=t,this.config=e,this.vpaidAd=i,this.mediaFile=n,this.linearAd=r,this.tracker=s,this.logger=new a.a("player.plugin.Tracker"),this.tracked={},this.trackedProgress=[],this.trackOnce=[p.b.skip,p.b.creativeView,p.b.start,p.b.impression,p.b.firstQuartile,p.b.midpoint,p.b.thirdQuartile,p.b.complete,p.b.error],this.isMuted=!1;var l=[h.a.AdLoaded,h.a.AdStarted,h.a.AdSkipped,h.a.AdImpression,h.a.AdVideoStart,h.a.AdVideoFirstQuartile,h.a.AdVideoMidpoint,h.a.AdVideoThirdQuartile,h.a.AdVideoComplete,h.a.AdClickThru,h.a.AdUserClose],g=[h.a.AdDurationChange,h.a.AdRemainingTimeChange],m=Object.keys(h.a);for(var v in f.default)m.push(v);c.forEach(m,function(t){c.indexOf(l,t)>-1&&d.vpaidAd.subscribe(function(e){t===h.a.AdError&&e||(e=""),o.b.sendInfo([t,u.getContextSummary(),e].join("|"))},t),-1===g.indexOf(t)&&d.vpaidAd.subscribe(function(e){void 0===e&&(e=""),d.logger.info(t+" "+e)},t)})}return t.prototype.init=function(){var t=this;this.logger.debug("init");try{this.previousRemainingTime=this.vpaidAd.getAdRemainingTime(),this.vpaidAd.subscribe(function(){return t.onTimeChange()},h.a.AdDurationChange),this.vpaidAd.subscribe(function(){return t.onTimeChange()},h.a.AdRemainingTimeChange);for(var e in this.linearAd.tracking)this.addTrackingCallback(e);this.vpaidAd.subscribe(function(){return t.onAdStarted()},h.a.AdStarted),this.vpaidAd.subscribe(function(){return t.onVolumeChange()},h.a.AdVolumeChange);var i;this.vpaidAd.subscribe(function(){var e=d.isFullscreen()||t.vpaidAd.getAdExpanded();!i&&e?(t.trackVastEvent(p.b.fullscreen),t.trackVastEvent(p.b.expand)):i&&!e&&(t.trackVastEvent(p.b.exitFullscreen),t.trackVastEvent(p.b.collapse)),i=e},h.a.AdExpandedChange)}catch(t){this.tracker.trackError(r.b.of(this.mediaFile),new l.b({id:900,message:"plugin.Tracker throw an exception on init "+t}))}},t.prototype.deinit=function(){this.logger.debug("deinit")},t.prototype.getTracker=function(){return this.tracker.getTracker()},t.prototype.removeResources=function(t){try{this.getTracker().getTracking(t).removeResources()}catch(e){this.logger.error("Remove tracking resources for event "+t+" throw an exception",e)}},t.prototype.onTimeChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.adRemainingTime=this.vpaidAd.getAdRemainingTime()},t.prototype.onVolumeChange=function(){this.isMuted&&this.vpaidAd.getAdVolume()>0?this.trackVpaidEvent(p.b.unmute,h.a.AdVolumeChange):this.isMuted||0!==this.vpaidAd.getAdVolume()||this.trackVpaidEvent(p.b.mute,h.a.AdVolumeChange),this.isMuted=!this.vpaidAd.getAdVolume()},t.prototype.onAdStarted=function(){this.isMuted=!this.vpaidAd.getAdVolume()},t.prototype.addTrackingCallback=function(t){var e=this,i=n.a[t]||n.b[t];this.vpaidAd.subscribe(function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t===p.b.error?e.trackError(p.b.error,h.a.AdError,n):e.trackVpaidEvent(t,i)},i)},t.prototype.findExceptionMsg=function(t){for(var e in l.b)if(l.b[e].id===t)return l.b[e].message},t.prototype.trackEvent=function(t,e,i,n){var o=this,a=s.getBoundingClientRect(this.container).height,u=Math.ceil(100*d.getPercentageInView(this.container,d.getWindow(this.container),a));(u<0||!d.getRealVisibilityState(this.container))&&(u=0),i=i.filter(function(t){return!isNaN(t)}).orElse(function(){return r.b.of(o.adDuration-o.adRemainingTime||0)});var l=Math.floor(i.getOrElse(function(){return 0}));if(t===p.b.progress){if(this.trackedProgress[l])return;if(this.previousRemainingTime===this.adRemainingTime)return;this.previousRemainingTime=this.adRemainingTime}switch(t){case p.b.start:this.tracked[p.b.impression]||this.trackVastEvent(p.b.impression);break;case p.b.complete:this.trackProgress(l+1);case p.b.firstQuartile:case p.b.midpoint:case p.b.thirdQuartile:this.tracked[p.b.start]||this.trackVastEvent(p.b.start);break;case p.b.progress:this.trackedProgress[l]=!0;var h=l-1;h>0&&!this.trackedProgress[h]&&(this.logger.debug("track missing previous progress "+h),this.trackProgress(h));break;case p.b.mute:if(!this.tracked[p.b.impression])return}c.includes(this.trackOnce,t)&&this.tracked[t]||(this.tracker.track(t,r.b.of(this.mediaFile),i,r.b.of(this.adDuration),n,r.b.of(u)),this.tracked[t]=!0)},t.prototype.trackVastEvent=function(t){this.trackEvent(t,r.b.empty(),r.b.empty(),r.b.empty())},t.prototype.trackVpaidEvent=function(t,e){this.trackEvent(t,r.b.of(e),r.b.empty(),r.b.empty())},t.prototype.trackProgress=function(t){this.trackEvent(p.b.progress,r.b.of(h.a.AdRemainingTimeChange),r.b.of(t),r.b.empty())},t.prototype.trackError=function(t,e,i){var n=i&&i[1]&&"number"==typeof i[1]&&!isNaN(i[1])?i[1]:l.b.GENERAL.id,o=i&&i[0]||this.findExceptionMsg(n);this.trackEvent(t,r.b.of(e),r.b.empty(),r.b.of(l.a.get(n,"AdError : "+o)))},t}()},function(t,e,i){i.d(e,"a",function(){return r});var n=i(21),o=i(158),r=function(){function t(t,e,i,n,o,r){this.config=e,this.vpaidAd=i,this.linearAd=o}return t.prototype.init=function(){this.vpaidAd.subscribe(this.onClickAdChoices,n.a.AdChoicesClickRequest,this)},t.prototype.deinit=function(){this.vpaidAd.unsubscribe(this.onClickAdChoices,n.a.AdChoicesClickRequest)},t.prototype.onClickAdChoices=function(){window.open(Object(o.b)(this.linearAd))},t}()},function(t,e,i){var n=i(4),o=i(104),r=i(5),a=i(21),s=function(){function t(t){this.ui=t}return t.prototype.init=function(t,e,i,s,c,u,d){this.mode={isCorner:e,isTop:t},this.closeButton=n.b.of(this.ui.getComponent("closebutton")),this.soundButton=n.b.of(this.ui.getComponent("soundbutton")),this.clickButton=n.b.of(this.ui.getComponent("clickbutton")),this.adChoicesButton=n.b.of(this.ui.getComponent("adchoices")),this.closeButtonMode=this.closeButton.map(function(t){return t.mode}).orNull(),e&&this.closeButtonMode===o.a.COUNTDOWN&&this.closeButton.forEach(function(t){return t.changeOnCountdownEnded(function(){t.show(),c()})}),this.closeButton&&this.closeButtonMode!==o.a.COUNTDOWN&&!i&&this.ui.subscribe(u,r.a.AdVideoMidpoint),i&&s&&t?this.closeButton.forEach(function(t){return t.show()}):i&&s&&e&&c(),this.ui.subscribe(d,a.a.CollapseRequest)},t.prototype.start=function(t,e,i){this.clickButton.forEach(function(t){return t.hide()}),this.clickButton.forEach(function(t){return t.getConfig().disable=!0}),this.mode.isTop?(this.closeButton.forEach(function(t){return t.onClickAction=n.b.of(e)}),this.closeButtonMode===o.a.CLASSIC&&t&&this.closeButton.forEach(function(t){return t.show()})):this.mode.isCorner&&(this.soundButton.forEach(function(t){return t.hide()}),this.closeButton.forEach(function(t){return t.hide()}),this.adChoicesButton.forEach(function(t){return t.hide()}),this.closeButtonMode===o.a.COUNTDOWN&&this.closeButton.forEach(function(t){return t.changeOnCountdownEnded(i)}))},t.prototype.stop=function(t){this.clickButton.forEach(function(t){return t.show()}),this.clickButton.forEach(function(t){return t.getConfig().disable=!1}),this.mode.isTop?(this.closeButton.forEach(function(t){return t.restoreOnClickAction()}),this.closeButtonMode===o.a.CLASSIC&&this.closeButton.forEach(function(t){return t.hide()})):this.mode.isCorner&&(this.adChoicesButton.forEach(function(t){return t.show()}),this.soundButton.forEach(function(t){return t.show()}),this.closeButtonMode!==o.a.CLASSIC&&this.closeButton.forEach(function(t){return t.show()}),this.closeButtonMode===o.a.COUNTDOWN&&this.closeButton.forEach(function(e){return e.changeOnCountdownEnded(function(){e.show(),t()})}))},t.prototype.isCloseButtonMode=function(t){return t===this.closeButtonMode},t.prototype.showCloseButton=function(){this.closeButton.forEach(function(t){return t.show()})},t}();e.a=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(174),i(100)),o=i(127),r=i(45),a=i(50),s=i(125),c=i(48),u=i(26),d=i(5),l=i(85),p=i(47),h=i(86),f=i(97),g=i(69),m=i(132),v=i(99),y=i(130),b=i(129),A=i(98),E=i(128),w=i(102),C=i(101),_=i(131),S=i(108),T=i(46),I=i(126),O=i(35),P=i(111),k=i(21),x=window.teads||{};x.vpaid=x.vpaid||{},x.vpaid.VPAIDEvent=d.a,x.vpaid.CustomVPAIDEvent=O,x.vpaid.ui=k.a,x.vpaid.VPAIDJSGuard=l.a,x.vpaid.VpaidStatus=u.a,x.vpaid.CreativeType=r.a,x.vpaid.EventHandler=p.a,x.vpaid.Timeout=c,x.vpaid.VPAIDHelper=T,x.vpaid.BaseVPAIDJSWrapper=h.a,x.vpaid.LoaderStatus=s.a,x.vpaid.BaseVPAIDContainer=f.a,x.vpaid.ErrorCode=a,x.vpaid.VPAIDJSContainer=g.a,x.vpaid.asset=n.a,x.vpaid.VPAIDSWFContainer=m.a,x.vpaid.PostMessage=v.a,x.vpaid.PostMessageServer=y.a,x.vpaid.PostMessageVPAID=b.a,x.vpaid.PostMessageClient=A.a,x.vpaid.PostMessageContainer=E.a,x.vpaid.adManagerList=o.a,x.vpaid.AdManagerHelper=I,x.vpaid.VPAIDWrapper=w.a,x.vpaid.VPAID2Over1=C.a,x.vpaid.AdManagerWrapper=_.a,x.vpaid.BundledContainer=S.a,x.vpaid.VPAIDLoader=P.a,window.teads=x},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(156)),o=i(64),r=i(147),a=i(139),s=i(56),c=i(52),u=i(18),d=i(133),l=i(103),p=i(134),h=i(135),f=i(136),g=i(137),m=i(104),v=i(138),y=i(105),b=i(140),A=i(141),E=i(114),w=i(142),C=i(143),_=i(144),S=i(145),T=i(83),I=i(146),O=i(155),P=window.teads||{};P.ui=P.ui||{},P.ui.template=P.ui.template||{},P.ui.component=P.ui.component||{},P.ui.VPAIDUI=n.a,P.ui.components=o.b,P.ui.componentBaseClassName=o.a,P.ui.mainComponentsContainerId=o.c,P.ui.videoComponentsContainerId=o.d,P.ui.vpaidContainerId=o.e,P.ui.ComponentHelper=r,P.ui.StringHelper=a,P.ui.TemplateHelper=s,P.ui.VPAIDHelper=c,P.ui.component.Component=u.a,P.ui.component.Countdown=T.a,P.ui.component.CloseButton=m.b,P.ui.component.Credits=C.a,P.ui.component.FullscreenButton=d.a,P.ui.component.Label=w.a,P.ui.component.PlayPauseButton=h.a,P.ui.component.ProgressBar=p.a,P.ui.component.ProgressText=f.a,P.ui.component.SkipButton=g.a,P.ui.component.MuteButton=l.a,P.ui.component.SoundButton=E.b,P.ui.component.TextField=y.a,P.ui.component.ClickToPlay=b.a,P.ui.component.UIButton=v.a,P.ui.component.ClickButton=A.a,P.ui.component.EndScreen=_.a,P.ui.component.BrandLogo=S.a,P.ui.component.StartScreen=I.a,P.ui.template.inread=O.inread,window.teads=P},function(t,e,i){var n=i(7),o=i(39),r=i(248),a=function(){function t(t,e){void 0===e&&(e=0),this.isSizeResolved=!1,this.scoreValues={WIDTH:20,HEIGTH:20,LENGTH:20,HIGH_MIN_SLOT:-5,LOW_MIN_SLOT:500,EQUAL_MIN_SLOT:1e3},this.element=t,this.index=e;var i=n.getSize(t);this.width=i.width,this.height=i.height}return t.prototype.resolveSize=function(){if(!this.isSizeResolved){var t=this.element.style.overflow;this.element.style.overflow="hidden";var e=n.getSize(this.element);e.height=e.width/o.DEFAULT_VIDEO_SIZE_RATIO,this.element.style.overflow=t,this.width=e.width,this.height=e.height,this.isSizeResolved=!0}},t.prototype.getElement=function(){return this.element},t.prototype.getElementRect=function(){return this.elementRect?this.elementRect:(this.elementRect=n.getBoundingClientRect(this.element),this.elementRect)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getScore=function(){return this.score},t.prototype.getIndex=function(){return this.index},t.prototype.computeScore=function(t){var e=r.configScore,i=0,o=t.minimum.get(),a=t.parentWindow.getWindow();this.width>t.minimumWidth.get()+e.WIDTH_MARGIN&&(i+=this.scoreValues.WIDTH),this.height>e.MIN_LONG_HEIGHT+e.HEIGHT_MARGIN&&(i+=this.scoreValues.HEIGTH),this.height>t.minimumTextLength.get()+e.LENGTH_MARGIN&&(i+=this.scoreValues.LENGTH),this.index>o+e.LENGTH_MARGIN?i+=this.scoreValues.EQUAL_MIN_SLOT:this.index>=0&&o?i+=this.scoreValues.HIGH_MIN_SLOT:i+=this.scoreValues.LOW_MIN_SLOT;var s=n.getBoundingClientRect(this.getElement()),c=a.document.body||a.document.documentElement;i-=(s.top+(a.pageYOffset||c.scrollTop))/20,this.score=i},t}();e.a=a},,function(t,e,i){var n=i(39),o=i(2),r=i(3),a=i(23),s=i(8),c=i(58),u=i(186),d=i(106),l=i(107),p=i(1),h=i(31),f=i(4),g=i(10),m=i(17),v=i(65),y=i(38),b=function(){function t(t,e,i,s){void 0===e&&(e=null),void 0===s&&(s=f.a);var m=this;this.pageId=t,this.sumologic=i,this.headerBiddingProvider=s,this.tracker=new d.a(f.b.of(l.a.format),c.a.businessIds.pid),this.slotType=n.SLOT_TYPE.native,this.hasTracked={},this.vastErrorCodeTracked=null,this.needToTrackNotFilled=!1,this.fraudReason=null,this.logger=new p.a("placement.tracker"),this.wigoi=null,this.userStore=f.b.empty(),this.pid=new u.a(e),this.setWigoi(new h.a),this.tracker.addResource(n.TRACKING.adCall,n.COMSCORE_URL.V1[window.location.protocol]),Object(o.isSDK)()?this.tracker.addResource(n.TRACKING.placementCall,n.COMSCORE_URL.V2SDK):this.tracker.addResource(n.TRACKING.placementCall,n.COMSCORE_URL.V2[window.location.protocol]),r.forEach(l.a.format,function(t){var e={action:t.name,pageId:y.TrackingMacro.PAGEID,pid:y.TrackingMacro.PID,gid:y.TrackingMacro.GID,slot:y.TrackingMacro.SLOT_TYPE,env:y.TrackingMacro.ENV,ts:Object(g.now)()},i=Object(a.buildUrlWithParams)(v.b.trackingUrl,e);m.headerBiddingProvider.forEach(function(){return i+="&hb_provider="+y.TrackingMacro.HEADER_BIDDING_PROVIDER}),m.tracker.addResource(t.name,i)})}return t.getTrackingMacros=function(t,e,i,n,o,r,a,s,c){var u={};return u[y.TrackingMacro.PAGEID]=t,u[y.TrackingMacro.PID]=e,u[y.TrackingMacro.GID]=i,u[y.TrackingMacro.SLOT_TYPE]=n,u[y.TrackingMacro.ENV]=o,u[y.TrackingMacro.IMPRESSIONID]=r,u[y.TrackingMacro.CACHEBUSTING]=a,u[y.TrackingMacro.HEADER_BIDDING_PROVIDER]=s,c.forEach(function(t){u[y.TrackingMacro.USERID]=t.userId,u[y.TrackingMacro.OS]=t.userDevice.os.toLowerCase(),u[y.TrackingMacro.DEVICEID]=t.userDevice.device,u[y.TrackingMacro.LIMIT_TRACKING]=String(t.userOptOut)}),u},t.prototype.setSlotDimensionOnTracking=function(t){var e,i=this,n=/slot=/,o=/slot=\[slotType\]/,s=/^[a-z0-9]+\.(sandbox|par[0-9])\.teads\.(net|tech)$/;if(t&&t.tracking)for(var c in t.tracking)t.tracking.hasOwnProperty(c)&&r.forEach(t.tracking[c],function(r,u){e=Object(a.parse)(r.url),("t.teads.tv"===e.host||s.test(e.hostname))&&(o.test(e.search)?t.tracking[c][u].url.replace("[slotType]",i.slotType):n.test(e.search)||(t.tracking[c][u].url+=e.search?"&":"?",t.tracking[c][u].url+="slot="+i.slotType))})},t.prototype.setSlotType=function(t){this.slotType=t},t.prototype.setUserStore=function(t){this.userStore=f.b.of(t)},t.prototype.handleEmptyAdsArray=function(){this.needToTrackNotFilled=!0,this.wigoi&&this.wigoi.valid(1,2,n.TRACKING.noAd.notFilled,h.a.infoType.ERROR)},t.prototype.handleFraud=function(t){switch(t){case n.TRACKING.ivt.doubleVerify:this.fraudReason=n.TRACKING.noAd.ivt.doubleVerify;break;case n.TRACKING.ivt.tag:this.fraudReason=n.TRACKING.noAd.ivt.tag;break;case n.TRACKING.blockedSite.doubleVerify:this.fraudReason=n.TRACKING.noAd.blockedSite.doubleVerify}this.wigoi&&this.wigoi.valid(1,2,t,h.a.infoType.ERROR)},t.prototype.track=function(e,i){if(!this.hasTracked[e]){var r="",a=e.split("-"),c="adAvailable"===a[0]?a[0]+"-"+a[1]:a[0];this.formatInstance&&this.formatInstance.formatConfig&&(r=this.formatInstance.formatConfig.vast.extractInsertionId());var u=t.getTrackingMacros(String(this.pageId),String(this.pid.get()),r,this.slotType,""+Object(o.getEnv)(),String(Object(g.now)()),Object(s.rand)(8),this.headerBiddingProvider.getOrElse(function(){return""}),this.userStore);if(this.tracker.track(e,u,void 0,void 0,i),n.TRACKING_LOG[c]&&this.sumologic.sendInfo(n.TRACKING_LOG[c]),this.hasTracked[e]=!0,this.logger.info(e),e===n.TRACKING.adCall&&this.initAdTimingMark){var d=Math.round(Object(m.now)()-this.initAdTimingMark);this.vpaidAd&&this.vpaidAd.getVPAID().handleAdCallTimeout&&this.vpaidAd.getVPAID().handleAdCallTimeout(d),this.logger.info("Duration between initAd and adCall",d),this.sumologic.sendInfo("initAdToAdCall "+d)}}this.setVastErrorCode(e.match(t.vastErrorRegExp)),this.sendToWigo(e),e===n.TRACKING.adCall&&this.handleMirroringEvent()},t.prototype.handleInitAdTimingMark=function(t){this.initAdTimingMark=Object(m.now)(),this.vpaidAd=t},t.prototype.handleMirroringEvent=function(){this.hasTracked[n.TRACKING.adCall]&&(this.hasTracked[n.TRACKING.adNotAvailable.networkError]?this.track(n.TRACKING.noAd.networkError):this.hasTracked[n.TRACKING.adNotAvailable.serverError]?this.track(n.TRACKING.noAd.serverError):this.vastErrorCodeTracked?this.track(n.TRACKING.noAd.vastError.replace(/\{code\}$/,this.vastErrorCodeTracked)):this.hasTracked[n.TRACKING.adAvailable.error.parseTimeout]?this.track(n.TRACKING.noAd.parseTimeout):this.hasTracked[n.TRACKING.adAvailable.error.settings]?this.track(n.TRACKING.noAd.settingsError):this.hasTracked[n.TRACKING.adAvailable.error.badResponse]?this.track(n.TRACKING.noAd.badResponse):this.hasTracked[n.TRACKING.adAvailable.success]?this.track(n.TRACKING.ad):this.hasTracked[n.TRACKING.adAvailable.error.sameAd]&&this.track(n.TRACKING.noAd.sameAd),this.needToTrackNotFilled&&this.track(n.TRACKING.noAd.notFilled),this.fraudReason&&this.track(this.fraudReason))},t.prototype.setWigoi=function(t){this.wigoi=t},t.prototype.getWigoi=function(){return this.wigoi},t.prototype.setVastErrorCode=function(t){if(t&&t.length>1){this.vastErrorCodeTracked=t[1];var e=n.TRACKING.noAd.vastError.replace(/\{code\}$/,this.vastErrorCodeTracked);this.logger.info(e),this.wigoi&&this.wigoi.valid(1,2,e,h.a.infoType.ERROR)}},t.prototype.sendToWigo=function(t){switch(t){case n.TRACKING.adNotAvailable.networkError:case n.TRACKING.adNotAvailable.serverError:case n.TRACKING.adAvailable.error.parseTimeout:case n.TRACKING.adAvailable.error.settings:case n.TRACKING.adAvailable.error.badResponse:case n.TRACKING.adAvailable.error.sameAd:case n.TRACKING.noAd.ivt.doubleVerify:case n.TRACKING.noAd.ivt.tag:case n.TRACKING.noAd.blockedSite.doubleVerify:this.wigoi&&this.wigoi.valid(1,2,t,h.a.infoType.ERROR)}},t.vastErrorRegExp=new RegExp(n.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,"(\\d+)")),t}();e.a=b},function(t,e,i){var n=i(161),o=i(37),r=i(202),a=i(203),s=i(204),c=i(205),u=i(206),d=i(207),l=i(208),p=i(209),h=i(210),f=i(211),g=i(212),m=i(213),v=i(214),y=i(215),b=i(217),A=i(218),E=i(219),w=i(220),C=i(221),_=i(187),S=i(222),T=i(223),I=i(224),O=i(225),P=i(226),k=i(227),x=i(228),L=i(229),R=function(){function t(t){if(!t.settings)throw new o.a(o.a.INCOMPLETE_OBJECT);var e={type:t.type,content:t.content};this.vast=new r.a(e,t.settings.values.placementId),t.settings.values=t.settings.values||{placementFormat:null,pageId:null,placementId:null,threshold:null},t.settings.components=t.settings.components||{},t.settings.behaviors=t.settings.behaviors||{},this.adSourceId=t.ad_source_id,this.connectionId=t.connection_id,this.insertionId=t.insertion_id,this.dspCampaignId=t.dsp_campaign_id,this.dspCreativeId=t.dsp_creative_id,this.scenarioId=t.scenario_id,this.formatName=new n.a(t.settings.values.placementFormat),this.pageId=t.settings.values.pageId,this.placementId=t.settings.values.placementId,this.threshold=new a.a(t.settings.values.threshold),this.volume=new s.a(t.settings.values.volume),this.animations=new c.a(t.settings.values.animations,this.formatName,this.placementId),this.adType=new u.a(t.settings.values.adType),this.vtpEvent=new d.a(t.settings.values.vtpEvent),this.smartPosition=new l.a(t.settings.behaviors.smartPosition,this.insertionId,this.connectionId,this.formatName),this.sticky=new p.a(t.settings.behaviors.sticky,this.formatName),this.closeButton=new h.a(t.settings.components.closeButton),this.soundButton=new f.a(t.settings.components.soundButton),this.callButton=new g.a(t.settings.components.callButton),this.timer=new m.a(t.settings.components.timer),this.progressBar=new v.a(t.settings.components.progressBar),this.label=new y.a(t.settings.components.label),this.credits=new b.a(t.settings.components.credits,this.smartPosition,this.formatName),this.endScreen=new A.a(t.settings.components.endScreen),this.brandLogo=new E.a(t.settings.components.brandLogo,t.settings.values.brandLogoUrl),this.slider=new w.a(t.settings.components.slider),this.launch=new C.a(t.settings.behaviors.launch,this.placementId),this.videoStart=new _.a(t.settings.behaviors.videoStart,this.formatName),this.soundStart=new S.a(t.settings.behaviors.soundStart),this.videoPause=new T.a(t.settings.behaviors.videoPause),this.soundMute=new I.a(t.settings.behaviors.soundMute),this.soundOver=new O.a(t.settings.behaviors.soundOver),this.playerClick=new P.a(t.settings.behaviors.playerClick),this.end=new k.a(t.settings.behaviors.end),this.callbacks=new x.a(t.callbacks,this.volume),this.allowedPlayer=new L.a(t.settings.values.allowedPlayer,this.formatName,this.smartPosition,this.placementId)}return t}();e.a=R},function(t,e,i){var n=i(13),o=i(37),r=i(23),a=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e,i){var n=t.call(this,"Vast")||this;return n.type=e.type,n.content=e.content,n.pid=i,n.appendPID(),n.checkValue(),n}return s(e,t),e.prototype.checkValue=function(){if(!Object(a.isString)(this.type)||!e.VALUES[this.type.toUpperCase()])throw new o.a(o.a.OPTION_VAST_INVALID);if(!Object(a.isString)(this.content))throw new o.a(o.a.OPTION_VAST_INVALID)},e.prototype.isVastUrl=function(){return this.type===e.VALUES.VASTURL},e.prototype.isVastXml=function(){return this.type===e.VALUES.VASTXML},e.prototype.isDisplayUrl=function(){return this.type===e.VALUES.DISPLAYURL},e.prototype.isDisplayXml=function(){return this.type===e.VALUES.DISPLAYXML},e.prototype.getContent=function(){return this.content},e.prototype.extractInsertionId=function(){var t,e="";return this.isVastUrl()&&(t=this.content.match(/get\/(\d+)/),t?e=t[1]:(t=this.content.match(/[&|\?]gid=(\d+)/))&&(e=t[1])),e},e.prototype.appendPID=function(){var t=Object(r.parse)(this.content);this.isVastUrl()&&"a.teads.tv"===t.hostname&&this.pid&&(this.content+=-1===this.content.indexOf("?")?"?":"&",this.content+="pid="+this.pid)},e.VALUES={VASTURL:"VastUrl",VASTXML:"VastXml",DISPLAYURL:"DisplayUrl",DISPLAYXML:"DisplayXml"},e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(37),r=i(0),a=i(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Threshold")||this;return n.value=i,Object(a.isFacebookIA)()&&Object(r.isNumber)(n.value)&&n.value>0&&(n.value=50),n.checkValue(),n}return s(e,t),e.prototype.checkValue=function(){if(!Object(r.isNumber)(this.value)||this.value<=0||this.value>100)throw new o.a(o.a.OPTION_THRESHOLD_MISSING)},e.prototype.get=function(){return this.value},e.DEFAULT=null,e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(2),r=i(19),a=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Volume")||this;return r.isGreaterOrEqual(Object(o.getIosVersion)(),"10")?n.value=e.DEFAULT_IOS10:n.value=a.extend(e.DEFAULT,i),n.checkValue(),n}return s(e,t),e.prototype.checkValue=function(){a.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getMain=function(){return this.value.main},e.prototype.getMouseover=function(){return this.value.mouseover},e.VALUES={MAIN:"main",MOUSEOVER:"mouseover"},e.DEFAULT={main:.1,mouseover:.35},e.DEFAULT_IOS10={main:1,mouseover:1},e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(3),r=i(0),a=i(39),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n,o){void 0===i&&(i=e.DEFAULT),void 0===n&&(n=null),void 0===o&&(o=null);var s=t.call(this,"Animations")||this;return s.value=r.extend(e.DEFAULT,i),a.FORCE_EXPAND_ANIMATION_LIST.test(String(o))?s.value.expand=.5:n&&n.isInBoard()&&(s.value=e.DEFAULT_INBOARD),s.checkValue(),s}return s(e,t),e.prototype.checkValue=function(){r.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.setExpandDuration=function(t){var i=this;o.forEach(e.PROPERTIES,function(e){t.style.setProperty(e,i.value.expand+"s")})},e.prototype.setCollapseDuration=function(t){var i=this;o.forEach(e.PROPERTIES,function(e){t.style.setProperty(e,i.value.collapse+"s")})},e.prototype.getExpandDuration=function(){return this.value.expand},e.prototype.getCollapseDuration=function(){return this.value.collapse},e.PROPERTIES=["-webkit-transition-duration","-o-transition-duration","-moz-transition-duration","transition-duration"],e.VALUES={EXPAND:"expand",COLLAPSE:"collapse"},e.DEFAULT={expand:0,collapse:.5},e.DEFAULT_INBOARD={expand:.5,collapse:.5},e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"AdType")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value]||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.isVideo=function(){return this.value===e.VALUES.video},e.prototype.isDisplay=function(){return this.value===e.VALUES.display},e.prototype.isNative=function(){return this.value===e.VALUES.native},e.VALUES={video:"video",display:"display",native:"native"},e.DEFAULT=e.VALUES.video,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=i(5),a=i(149),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i="");var n=t.call(this,"VtpEvent")||this;if(n.event=e.DEFAULT_EVENT,n.offset=e.DEFAULT_OFFSET,Object(o.isString)(i)){var s=i.split("-"),c=s[0],u=s[1];c&&a.a[c]&&(n.event=a.a[c]),n.event===r.a.AdRemainingTimeChange&&(n.offset=parseInt(u,10))}return n.checkValue(),n}return s(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.event)&&Object(o.isNumber)(this.offset)&&!isNaN(this.offset)||(this.event=e.DEFAULT_EVENT,this.offset=e.DEFAULT_OFFSET)},e.prototype.getEvent=function(){return this.event},e.prototype.getOffset=function(){return this.offset},e.DEFAULT_EVENT=null,e.DEFAULT_OFFSET=0,e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(0),r=i(3),a=i(2),s=i(19),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(i,n,r,c){void 0===c&&(c=null);var u=t.call(this,"SmartPosition")||this;return u.insertionIdsForcedSmart=[158365,158366,158367,158368,158369,158370,158371,158372,158373,158374,158375,158376,158377,158378,158379,158380,158382,158383,158384,158385,158386,161147,162268,165400,165569,165570,168832,168841,168912,168931,168932,168949,168994,168997,169797,170214,170543,171213,172785,173090,173593,173635,174727,176890,176895,176940,178464,178998,179060,179756,179771,180368,180465,180763,180918,180955,181009,181012,181656,181796,181798,181922,181926,181929,183993,183994,184064,185424,185425,185441,185443,185615,186228,187087,187092,187131,190483,191469,191902,193076,195606,197702,198587,199900,199909,200392,200655,200697,201138,201150,201588,201589,201603,201978,202307,205317,205333,207094,207600,208142,209290,209292,211411,211418,211421,211422,211423,211424,211426,211614,211957,212081,212083,212504,213221,213222,213989,214491,214493,215324,215331,216443,216887,216889,216992,216993,217010,217121,217800,217833,217853,217857,219150,219151,219154,219155,219186,224758,224761,225039,225638,226336,227892,227893,229091,229252,229254,229256,228985,228986,228989,228990,228994,228996,229001,229002,230504,231990,232222,232583,232577,232726,234314,234321,231494,231986,234608,232824,238468,238582,238937,238936,238935,238934,238933,238932,239298,239297,239296,239293,239300,240820,241413,241024,241023,241536,241539,241541,241543,241999,235758,235756,232590,232589,243659,243708,243709,244049,244054,244524,245746,245744,245739,246119,246127,228983,228984,228987,228988,228992,228993,228998,228999,219307,245796,245797,246684,246687,246818,241821,246057,246387,246386,246385,246384,246383,246382,246143,248299,248298,248821,248928,248926,248927,232682,232698,247747,249471,249473,249475,249476,249503,249506,247747,249471,249473,249475,249476,249503,249506,249738,250105,250106,184064,250840,250842,250852,250931,250933,250942,250944,250946,250948,250949,250950,250685,250689,250692,250694,248857,248856,251154,251159,251318,251320,251324,251326,251328,251330,251333,251335,245687,245697,246813,249865,247893,247898,247907,251943,251966,251968,251970,251971,251972],u.connectionIdsForcedSmart=[4783,14386,20709,20971,25605,28299,28342,30242,33040,34011,34438,34766,34861,36728,36854,36966,37324,37325,38768,39140,39264,39265,39266,41111,41240,41378,41379,41380,41437,43341,43357,43361,43364,43486,43530,43531,43532,43634,43638,43639,44094,44289,44292,44295,44298,44301,44305,45061,45062,45064,45065,45066,45067,45168,45184,45185,45612,45613,45614,45615,45617,45619,45620,45621,45623,45627,45630,45632,45847,45991,45994,46002,46106,46107,46141,46142,46227,46228,46235,46407,46407,46408,46409,46517,46529,46657,46776,46777,46778,46779,46812,47090,47092,47103,47257,47259,47260,47287,47290,47290,47292,48203,48410,48602,48704,49069,49076,49078,49895,50176,50201,50219,50220,50222,50226,50229,50230,51390,51426,53394,53406,53643,53644,53650,55457,55458,55459,55459,55462,55462,55466,55466,55467,55467,55468,55469,55470,55477,55696,55698,58441,58844,60320,60351,60645,60669,60670,61083,61239,61385,61387,61389,61391,61393,63277,63278,63476,63540,63541,63551,63552,63553,63555,63557,63559,63560,63562,63563,63581,63582,63610,63611,63721,63722,63738,63739,63796,63828,63833,63906,63907,63934,64126,64127,64191,64639,64731,64732,65043,65048,65060,65061,65062,65292,65295,65434,65979,65980,66191,66244,66246,66247,66249,66250,66252,66276,66516,66541,66653,66654,66655,66800,66801,66802,66816,66818,66819,67008,67010,67084,68423,68659,68661,68662,68663,68665,68666,68675,68676,68677,68678,68679,68680,69763,69779,69846,69995,69996,69997,69998,70056,70058,70059,70063,70064,70065,70071,70072,70073,70098,70161,70162,70165,70166,71463,71643,71646,71689,71839,71946,72049,72065,72066,72067,72068,72214,72219,72238,74572,74573,74574,74575,74576,74577,74578,74579,75072,75073,75074,75757,72111,76269,76270,76276,76438,76435,76499,76510,76550,76597,76600,76774,76775,76968,77226,77231,77235,77236,77238,77373,77350,77108,77109,77113,77114,77118,77119,77123,77124,77500,77503,77505,77582,77585,77589,77593,77596,77609,77613,77598,77600,77601,77602,77603,77604,77606,77607,77608,77623,77640,77643,77648,77651,77653,77666,77668,77671,63923,46058,44077,77618,77619,77620,77621,77622,77624,77625,77626,77627,77628,77629,77630,77631,77632,77633,77635,77636,77637,77638,77639,77927,77933,78017,78033,78024,78023,78349,77368,78393,78394,78527,78052,77392,78715,78332,78741,78769,78784,78815,78814,78813,78812,78929,79049,79064,77326,78929,79049,79064,77326,77557,79212,79238,79326,79744,79539,79544,79546,79548,79550,79833,79837,79839,79841,79843,79845,79849,79851,79853,79864,79875,79879,79886,79884,79888,79596,79598,79600,79602,79604,79607,79867,79869,79871,79873,79877,79881,79541,79835,79847,79979,80004,80002,80046,80137,80022,80024,51448,40407,78769,80023,80025,80028,80029,80116,80159,80161,80256,79714,80385,80386,80387,80388,80389,80390,41240,41724,41726,41740,41744,41752,41785,41786,64232,78133,80437,80509,80511,80514,80516,80512,80517,80520,80519,80521,80523,80524,80525,80414,80537,80203,80750,73180,72172,82922,84565,84573,84679,81049,81046,84698,84684,46107,84817,84802,84826,84827,81111,85194,85402,85403,85471,85942,85518,85519,85525,85526,85553,85669,85492,85775,85777,85779,85780,81120,85256,85903,85900,85904,86030,86027,86028,86035,86059,86060,86103,86122,86149,86151,86195,86248,86296,77105,77106,77110,77112,77115,77117,77120,77122,86437,86439,86440,86442,84945,84943,86080,86082,86584,85664,86668,86670,85249,80730,85318,88596,88719,88720,88784,88785,88612,88761,88764,88762,88765,88766,88769,88770,88797,88701,89028,89029,89059,89054,89529,90715,90716,88952,46058,63923,85316,85318,90738,91293,93833,93836,93839,93867,93865,93856,93853,41354,93932,93936,93988,93989,94009,94010,94094,94097,94098,94099,94100,94101,94102,94103,94104,94105,94128],u.insertionId=n,u.connectionId=r,u.value=o.extend(e.DEFAULT,i),u.formatName=c,(s.isLowerOrEqual(a.getIosVersion(),e.MIN_IOS_VERSION)||a.isAmp()||a.isFacebookIA()||a.isIABSafeFrame())&&(u.value.top=!1,u.value.corner=!1),u.checkValue(),u}return c(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return!!(window.DO_BYPASS_DO_FORCE_SMART&&this.formatName&&this.formatName.isInRead())||(r.includes(this.insertionIdsForcedSmart,this.insertionId)||r.includes(this.connectionIdsForcedSmart,this.connectionId))&&(this.value.corner||this.value.top)},e.prototype.isCorner=function(){return this.value.corner&&this.isEnabled()},e.prototype.isTop=function(){return this.value.top&&this.isEnabled()&&!a.isDesktop()},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.checkValue()},e.MIN_IOS_VERSION="7",e.VALUES={top:"top",corner:"corner"},e.DEFAULT={top:!1,corner:!1},e}(n.a);e.a=u},function(t,e,i){var n=i(13),o=i(2),r=i(19),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e,i){void 0===i&&(i=null);var n=t.call(this,"Sticky")||this;return n.value=e,n.formatName=i,n.checkValue(),n}return a(e,t),e.isCompatibleWithContext=function(){return(o.isMobile()||o.isTablet())&&(!o.isIos()||function(){return r.isGreaterThan(o.getIosVersion(),e.MIN_IOS_VERSION)}())&&!o.isAmp()&&!o.isFacebookIA()&&!o.isIABSafeFrame()},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,this.checkValue()},e.prototype.isEnabled=function(){return!0===this.value},e.prototype.checkValue=function(){this.value=!!(this.formatName&&this.formatName.isInBoard()&&e.isCompatibleWithContext()&&!1!==this.value)},e.MIN_IOS_VERSION="7",e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(0),r=i(2),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){var n=t.call(this,"CloseButton")||this;return n.getValueFromVast=!i||o.isUndefined(i.display),n.value=o.extend(e.DEFAULT,i),Object(r.isFacebookIA)()&&(n.getValueFromVast=!1,n.value={display:!1,countdown:0}),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)?(this.value.countdown=+this.value.countdown,o.isNumber(this.value.countdown)||(this.value.countdown=0)):this.value=e.DEFAULT},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.hasToGetValueFromVast=function(){return this.getValueFromVast},e.VALUES={DISPLAY:"display",COUNTDOWN:"countdown"},e.DEFAULT={display:!0,countdown:0},e}(n.a);e.a=s},function(t,e,i){var n=i(2),o=i(0),r=i(4),a=i(3),s=i(13),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(i){var n=t.call(this,"SoundButton")||this,o=e.sanitize(i),r=o.display,a=o.countdown,s=o.type;return n.isEnabled=r,n.countdown=a,n.type=s,n}return c(e,t),e.sanitize=function(t){return r.b.of(t).map(function(t){return o.extendWithoutNull(e.defaultValues,t)}).filter(o.matchesCheckers(e.checkers)).filter(e.isContextAllowed).getOrElse(function(){return e.defaultValues})},e.prototype.checkValue=function(){},e.prototype.toString=function(){return"SoundButton("+this.isEnabled+", "+this.countdown+", "+this.type+")"},e.defaultValues={display:!0,countdown:0,type:"mute"},e.checkers={display:o.isBoolean,countdown:o.isNumber,type:function(t){return a.includes(["mute","equalizer"],t)}},e.isContextAllowed=function(){return!(Object(n.isMobile)()||Object(n.isTablet)()||Object(n.isSafari11Plus)()||Object(n.isChrome66Plus)())},e}(s.a);e.a=u},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"CallButton")||this;return n.value=o.extend(e.DEFAULT,i),n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getText=function(){return this.value.text},e.VALUES={DISPLAY:"display",COUNTDOWN:"countdown",TEXT:"text"},e.DEFAULT={display:!0,countdown:3,text:"Learn More"},e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Timer")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!1,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"ProgressBar")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(216),r=i(2),a=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Label")||this;return n.value=a.extend(e.DEFAULT,i),r.isFacebookIA()&&(n.value.display=!1),n.checkValue(),n}return s(e,t),e.getTranslation=function(){var t=r.getLanguage(),e=new o.a(t).translate("label");return e||(e=new o.a(t.substr(0,2)).translate("label")),e||(e=new o.a("en").translate("label")),e},e.prototype.checkValue=function(){a.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getHTML=function(){return this.value.html},e.prototype.getText=function(){return this.value.text},e.prototype.isEnabled=function(){return this.value.display},e.VALUES={DISPLAY:"display",TEXT:"text",HTML:"html"},e.TEXT=e.getTranslation(),e.DEFAULT={display:!0,text:e.TEXT,html:e.TEXT},e}(n.a);e.a=c},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(t){this.lang=t,this.translations={ar:{label:""},cs:{label:"REKLAMA"},de:{label:"WERBUNG"},da:{label:"ANNONCE"},en:{label:"ADVERTISING"},es:{label:"PUBLICIDAD"},fr:{label:"PUBLICIT"},fi:{label:"MAINONTA"},hr:{label:"OGLAS"},hu:{label:"HIRDETS"},id:{label:"ADVERTISING"},it:{label:"PUBBLICIT"},ja:{label:""},jamobile:{label:""},jamobilePR:{label:"[PR]"},ko:{label:""},kr:{label:""},mo:{label:"ADVERTISING"},nl:{label:"ADVERTENTIE"},no:{label:"ANNONSERING"},pl:{label:"REKLAMA"},pt:{label:"PUBLICIDADE"},ro:{label:"PUBLICITATE"},ru:{label:""},sr:{label:""},sk:{label:"REKLAMA"},sl:{label:"OGLAAVANJE"},sv:{label:"ANNONS"},sw:{label:"REKLAM"},tr:{label:"ILAN"},zh:{label:""},"zh-hk":{label:""},"zh-tw":{label:""}}}return t.prototype.translate=function(t){return(this.translations[this.lang]||{})[t]},t}()},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i,n,r,a){void 0===r&&(r=null),void 0===a&&(a=null);var s=t.call(this,"Credits")||this,c=r&&r.isInBoard();return s.value=o.extend(c?e.DEFAULT_INBOARD:e.DEFAULT_INREAD,i),s.formatName=r,(a&&a.isDisplayXml()||n.isEnabled())&&(s.value.display=!1),s.checkValue(),s}return r(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT_INREAD)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getText=function(){return this.value.text},e.prototype.getLink=function(){return this.value.link},e.VALUES={DISPLAY:"display",TEXT:"text",LINK:"link"},e.DEFAULT_INREAD={display:!0,text:"[inRead] invented by Teads",link:"http://teads.tv/inread-outstream/"},e.DEFAULT_INBOARD={display:!0,text:"[inBoard] invented by Teads",link:"http://teads.tv/inread-outstream/"},e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"EndScreen")||this;return n.value=r.extend(e.DEFAULT,i),(Object(o.isAmp)()||Object(o.isFacebookIA)())&&(n.value.display=!0,n.value.autoClose=!1),!1===n.value.autoClose&&(n.value.countdown=0),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){r.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value.display},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getCallButton=function(){return this.value.callButton},e.prototype.getReplayButton=function(){return this.value.replayButton},e.prototype.getAutoClose=function(){return this.value.autoClose},e.VALUES={DISPLAY:"display",CALLBUTTON:"callButton",REPLAYBUTTON:"replayButton",AUTOCLOSE:"autoClose",COUNTDOWN:"countdown",TYPE:"type"},e.DEFAULT={display:!0,callButton:{text:"Learn More",type:"learnMore"},replayButton:{text:"Replay"},autoClose:!1,countdown:0,type:"simple"},e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i,n){void 0===i&&(i=null),void 0===n&&(n="");var r=t.call(this,"BrandLogo")||this,a={display:!!i&&i.display,url:n};return r.value=o.extend(e.DEFAULT,a),r.checkValue(),r}return r(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.getUrl=function(){return this.value.url},e.prototype.isEnabled=function(){return this.value.display},e.VALUES={DISPLAY:"display",URL:"url"},e.DEFAULT={display:!1,url:""},e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){var i=t.call(this,"SmartPosition")||this;return i.value=e,i.checkValue(),i}return r(e,t),e.prototype.checkValue=function(){o.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.closeButtonEnabled=function(){return this.value.closeButtonDisplay},e.VALUES={closeButtonDisplay:"closeButtonDisplay"},e.DEFAULT={closeButtonDisplay:!1},e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=i(39),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n){void 0===i&&(i=e.DEFAULT),void 0===n&&(n=null);var r=t.call(this,"Launch")||this;return a.FORCE_EXPAND_ANIMATION_LIST.test(String(n))?r.value=e.VALUES.THRESHOLD:Object(o.isAmp)()||Object(o.isFacebookIA)()?r.value=e.VALUES.AUTO:r.value=i,r.checkValue(),r}return s(e,t),e.prototype.checkValue=function(){Object(r.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isAuto=function(){return this.value===e.VALUES.AUTO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.VALUES={AUTO:"auto",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.AUTO,e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"SoundStart")||this;return n.value=r.extend(e.DEFAULT,i),!Object(o.isMobile)()&&!Object(o.isTablet)()||Object(o.isSDK)()||(n.value.type="mute"),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){r.containsKeys(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.isMute=function(){return this.value.type===e.VALUES_TYPE.MUTE},e.prototype.isUnmute=function(){return this.value.type===e.VALUES_TYPE.UNMUTE},e.prototype.isCountdown=function(){return this.value.type===e.VALUES_TYPE.COUNTDOWN},e.prototype.getCountdown=function(){return this.value.countdown},e.prototype.getType=function(){return this.value.type},e.VALUES={TYPE:"type",COUNTDOWN:"countdown"},e.VALUES_TYPE={MUTE:"mute",UNMUTE:"unmute",COUNTDOWN:"countdown"},e.DEFAULT={type:"mute",countdown:0},e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.VALUES.THRESHOLD);var n=t.call(this,"VideoPause")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isNo=function(){return this.value===e.VALUES.NO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.prototype.getValue=function(){return this.value},e.prototype.setToNo=function(){return this.value=e.VALUES.NO},e.VALUES={NO:"no",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.THRESHOLD,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"SoundMute")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isNo=function(){return this.value===e.VALUES.NO},e.prototype.isThreshold=function(){return this.value===e.VALUES.THRESHOLD},e.VALUES={NO:"no",THRESHOLD:"threshold"},e.DEFAULT=e.VALUES.THRESHOLD,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"SoundOver")||this;return n.value=i,(Object(o.isMobile)()||Object(o.isTablet)()||Object(o.isSafari11Plus)()||Object(o.isChrome66Plus)())&&(n.value=e.VALUES.OFF),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(r.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isOff=function(){return this.value===e.VALUES.OFF},e.prototype.isOver=function(){return this.value===e.VALUES.OVER},e.prototype.isOnceOver=function(){return this.value===e.VALUES.ONCEOVER},e.VALUES={OFF:"off",OVER:"over",ONCEOVER:"onceOver"},e.DEFAULT=e.VALUES.OVER,e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"PlayerClick")||this;return n.value=i,Object(o.isDesktop)()&&(n.value=e.VALUES.CLICK),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(r.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isClick=function(){return this.value===e.VALUES.CLICK},e.prototype.isFullscreen=function(){return this.value===e.VALUES.FULLSCREEN},e.VALUES={CLICK:"click",FULLSCREEN:"fullscreen"},e.DEFAULT=Object(o.isDesktop)()?e.VALUES.CLICK:e.VALUES.FULLSCREEN,e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"End")||this;return n.value=Object(o.isAmp)()?e.VALUES.ENDSCREEN:i,n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(r.isString)(this.value)&&e.VALUES[this.value.toUpperCase()]||(this.value=e.DEFAULT)},e.prototype.isCollapse=function(){return this.value===e.VALUES.COLLAPSE},e.prototype.isEndScreen=function(){return this.value===e.VALUES.ENDSCREEN},e.VALUES={COLLAPSE:"collapse",ENDSCREEN:"endscreen"},e.DEFAULT=e.VALUES.ENDSCREEN,e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(0),r=i(5),a=i(58),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n){void 0===i&&(i=e.DEFAULT);var o=t.call(this,"Callbacks")||this;return o.callbacks=i,o.volume=n,o.checkValue(),o}return s(e,t),e.prototype.checkValue=function(){o.isObject(this.callbacks)||(this.callbacks=e.DEFAULT)},e.prototype.trigger=function(t,e,i){if(this.last===t)return this.logger.debug("Callbacks already triggered",t),!1;if(t===r.a.AdVolumeChange&&e&&(e.getVolume()===this.volume.getMain()||e.getVolume()===this.volume.getMouseover()?this.trigger("unmute"):e.isMuted()&&this.trigger("mute")),t===r.a.AdExpandedChange&&i&&(i.isActive()?this.trigger("enterFullscreen"):this.trigger("exitFullscreen")),o.isFunction(this.callbacks[t]))try{return this.callbacks[t](),this.last=t,!0}catch(e){a.a.sendError({message:'The "'+t+'" callback threw an error'}),this.logger.error('the "'+t+'" callback threw an error:',e)}else this.callbacks[t]&&this.logger.error('the "'+t+'" callback is not a function:',this.callbacks[t]);return!1},e.DEFAULT={},e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(2),r=i(19),a=i(88),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n,o,r){void 0===r&&(r=null);var s=t.call(this,"AllowedPlayer")||this;return s.formatName=n,s.smartPosition=o,s.placementId=r,s.isCustomContext()&&s.isCustomOs()?s.setValue(a.b.CANVAS):s.setValue(e.VALUES[i]),s.checkValue(),s}return s(e,t),e.prototype.checkValue=function(){var t=!1;for(var i in e.VALUES)e.VALUES.hasOwnProperty(i)&&(t=t||this.value===e.VALUES[i]);t||(this.value=e.DEFAULT)},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t){this.value=t,o.cacheCanvasUsed(this.value===a.b.CANVAS)},e.prototype.isCustomContext=function(){return o.isAmp()||o.isIABSafeFrame()||o.isFacebookIA()||this.formatName.isInBoard()&&this.smartPosition.isEnabled()},e.prototype.isCustomOs=function(){return o.isAndroid()&&!r.isGreaterOrEqual(o.getChromeVersion(),"53")||o.isIos()&&!o.isWhiteListedIos10Safari(String(this.placementId))},e.VALUES={html5:a.b.HTML5,canvas:a.b.CANVAS,any:a.b.ANY},e.DEFAULT=a.b.ANY,e}(n.a);e.a=c},,,function(t,e,i){function n(t){var e;return t&&t.extensions&&t.extensions.length>0&&a.forEach(t.extensions,function(t){t.type===s&&(e=o(t.content))}),e}function o(t){try{return JSON.parse(t)}catch(t){new r.a("ITeadsContextExtension").error(s+" extension throw an exception",t)}}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"EXTENSION_TYPE",function(){return s}),e.get=n,e.parse=o;var r=i(1),a=i(3),s="teads-context"},function(t,e,i){i.d(e,"a",function(){return y});var n=i(4),o=i(12),r=i(1),a=i(2),s=i(28),c=i(5),u=i(7),d=i(39),l=i(6),p=i(27),h=i(0),f=i(244),g=i(279),m=i(104),v=i(158),y=function(){function t(e){var i=this;this.abstractFormat=e,this.logger=new r.a("teads.helper.smartPosition"),this.active=!1,this.started=!1,this.stopped=!1,this.isTop=!1,this.isCorner=!1,this.isResponsive=!1,this.eventListenerManager=new s.a,this.creativeLimits={top:0,bottom:0},this.windowLimits={top:0,bottom:0},this.adSize={width:0,height:0},this.maxRatio=1,this.currentTop=0,this.getCreativeLimitsTries=0,this.originalPlayerZIndex=String(d.MIN_Z_INDEX_VALUE),this.transitionInProgress=!1,this.isMidPointReached=!1,this.isTimeOutSlotReached=!1,this.remainingTimeLastSmartInSec=0,this.timerOutOfSlot=null,this.smartElapsedTimeInSec=0,this.isDisabled=!1,this.parentContainer=e.parentContainer,this.playerContainer=e.playerContainer,this.player=e.player,this.placementConfig=e.placement.placementConfig,this.electedSlot=e.placement.getElectedSlot(),this.vpaidAd=e.getVpaidAd(),this.responsiveHelper=e.responsive,this.fullscreenHelper=e.getFullscreenHelper(),this.components=e.components,this.win=e.placement.placementConfig.parentWindow.getWindow(),this.smartConfig=e.formatConfig.smartPosition.getValue(),this.isSticky=e.formatConfig.sticky.getValue(),this.maxTop=u.getWindowSize(this.win).height*t.MAX_FLOATING_TOP,this.threshold=e.formatConfig.threshold.get()/100;var n=Object(a.isMobile)()||Object(a.isTablet)();n&&(this.smartConfig.top||this.isSticky)?this.isTop=!0:!n&&this.smartConfig.corner&&(this.isCorner=!0),this.logger.debug("isTop, isCorner",this.isTop,this.isCorner),this.isTop?this.maxRatio=t.MAX_SIZE_RATIO_TOP:this.isCorner&&(this.maxRatio=t.MAX_SIZE_RATIO_CORNER),this.originalPlayerZIndex=this.playerContainer.style.zIndex,this.isCorner&&(this.header=new g.a,this.header.init(this.vpaidAd,this.abstractFormat.getVolumeController()),this.header.smartCloseButton.onClickAction=function(){return i.disable()},this.header.setAdChoicesLink(Object(v.b)(this.abstractFormat.linearAd)),this.playerContainer.insertBefore(this.header.getElement(),this.playerContainer.firstChild))}return t.prototype.isActive=function(){return this.active},t.prototype.hasStarted=function(){return this.started},t.prototype.onScroll=function(t){this.started&&!this.stopped&&(this.windowLimits=this.getWindowLimits(),!this.active&&this.canStart()?this.start():this.active&&this.canStop()&&this.stop())},t.prototype.onTouch=function(t){this.started&&!this.stopped&&(this.windowLimits=this.getWindowLimits(),this.active&&this.canStop()&&this.stop())},t.prototype.init=function(){var t=this;if(!this.started&&(this.isTop||this.isCorner)){this.logger.debug("initializing"),this.responsiveHelper.unsetResponsive(),this.compensationDiv=this.initCompensationDiv();var e=h.throttle(function(){return t.onResizeEnd()},100,this);this.responsiveHelper.addResizeListener(function(t){return e(t)}),this.fullscreenHelper.addBeforeOpenEventListener(function(){return t.onFullscreenOpen()}),this.fullscreenHelper.addCloseEventListener(function(){return t.onFullscreenClose()}),this.responsiveHelper.addOrientationChangeListener(function(){return t.onOrientationChange()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],this.win,function(e){return t.onTouch(e)}),this.creativeLimits=this.getCreativeLimits(),this.currentTop=this.getCurrentTop(),this.logger.debug("init",this.currentTop),this.started=!0,this.responsiveHelper.setResponsive(),this.player.smartPosition.init(this.isTop,this.isCorner,this.abstractFormat.placement.isSliderEnabled(),this.abstractFormat.formatConfig.slider.closeButtonEnabled(),function(){return t.header.showCloseButton()},function(){return t.showCloseButtonAtMidPoint()},function(){return t.deinit()}),this.abstractFormat.placement.isSliderEnabled()&&(this.header.smartCloseButton.onClickAction=function(){t.stopCornerPosition(),t.vpaidAd.skipAd()})}},t.prototype.deinit=function(){var t=this;if(!this.stopped){this.stopped=!0;var e=function(){t.eventListenerManager.removeAll(),t.abstractFormat.slotType===d.SLOT_TYPE.native&&t.compensationDiv.parentNode.removeChild(t.compensationDiv)};o.c.of(function(){return t.stop(n.b.of(e))}).recover(function(e){t.logger.error("Couldn't stop Smart Position: \""+e+'"')}),f.hideCreativeLimits()}},t.prototype.start=function(){var e=this;if(!(this.active||this.transitionInProgress||this.isDisabled)){if(this.player.smartPosition.start(this.isTimeOutSlotReached||this.isMidPointReached,function(){return e.disable()},function(){return e.header.showCloseButton()}),this.isTimeOutSlotReached||this.isMidPointReached||this.player.smartPosition.isCloseButtonMode(m.a.COUNTDOWN)||(this.remainingTimeLastSmartInSec=this.vpaidAd.getAdRemainingTime(),this.timerOutOfSlot=this.showCloseButtonHandler()),this.responsiveHelper.unsetResponsive(),this.compensationDiv.style.setProperty("height",u.getBoundingClientRect(this.playerContainer).height+"px"),this.setResponsive(),this.playerContainer.style.setProperty("z-index",String(d.MAX_Z_INDEX_VALUE)),this.playerContainer.style.setProperty("position","fixed"),this.compensationDiv.style.setProperty("display","block"),this.isTop)this.currentTop=this.getCurrentTop(),this.playerContainer.style.setProperty("top",this.currentTop+"px");else{if(!this.isCorner)return this.logger.error("Starting smartPosition with unsupported mode."),void this.stop();this.setTransitionListener(),this.compensationDiv.style.setProperty("background-color","#000000"),p.requestAnimationFrame(function(){l.addTransitionProperties(e.compensationDiv,t.FADE_IN_DURATION_IN_SECONDS),e.compensationDiv.style.setProperty("background-color","#ffffff")},t.SET_COMPENSATION_DIV_BACKGROUND_DELAY_IN_MS),this.header.show(),this.startCornerPosition(),p.requestAnimationFrame(function(){e.playerContainer.style.setProperty("bottom",t.MARGIN_FROM_EDGES_IN_PX+"px"),e.playerContainer.style.setProperty("right",t.MARGIN_FROM_EDGES_IN_PX+"px")},t.ADD_MARGIN_FROM_EDGES_DELAY_IN_MS)}this.active=!0}},t.prototype.getOptimalDimension=function(){return this.responsiveHelper.getOptimalDimension(this.parentContainer,this.maxRatio)},t.prototype.getCreativeLimits=function(){var e=this,i=this.active||this.transitionInProgress?this.compensationDiv:this.playerContainer,n=u.getBoundingClientRect(i);if(n.top===n.bottom&&this.getCreativeLimitsTries<t.MAX_GET_CREATIVE_LIMITS_TRIES)return this.getCreativeLimitsTries++,this.win.setTimeout(function(){return e.getCreativeLimits()},10),this.logger.debug("Could not get creativeLimits after "+this.getCreativeLimitsTries+" tries"),this.creativeLimits;this.getCreativeLimitsTries=0;var o=u.getScrollTop(this.win),r=o+n.top,a=o+n.bottom,s={top:r,bottom:a};return f.showCreativeLimits(s,this.parentContainer.parentElement),s},t.prototype.getWindowLimits=function(){var t=u.getWindowSize(this.win).height,e=u.getScrollTop(this.win);return{top:e+this.currentTop,bottom:e+t}},t.prototype.disable=function(){this.stop(),this.isDisabled=!0},t.prototype.stop=function(e){var i=this;void 0===e&&(e=n.a),this.active&&!this.transitionInProgress&&(this.timerOutOfSlot&&(this.smartElapsedTimeInSec+=this.remainingTimeLastSmartInSec-this.vpaidAd.getAdRemainingTime(),this.clearTimerOutOfSlot()),this.active=!1,this.unsetResponsive(),this.isTop?(this.playerContainer.style.removeProperty("top"),this.afterStop(e)):this.isCorner&&(this.compensationDiv.style.setProperty("background-color","#ffffff"),this.setTransitionListener(n.b.of(function(){i.playerContainer.style.removeProperty("bottom"),i.playerContainer.style.removeProperty("right"),i.header.hide(),i.afterStop(e)})),p.requestAnimationFrame(function(){i.compensationDiv.style.setProperty("background-color","#000000")},t.SET_COMPENSATION_DIV_BACKGROUND_DELAY_IN_MS),this.stopCornerPosition()))},t.prototype.afterStop=function(t){var e=this;if(void 0===t&&(t=n.a),this.player.smartPosition.stop(function(){return e.header.showCloseButton()}),this.playerContainer.style.setProperty("position","relative"),this.playerContainer.style.setProperty("z-index",this.originalPlayerZIndex),this.compensationDiv.style.setProperty("display","none"),this.abstractFormat.slotType===d.SLOT_TYPE.native){var i=this.responsiveHelper.getOptimalDimension(this.compensationDiv);this.vpaidAd.getAdHeight()!==i.height&&(this.adSize=i,this.resizeAd(this.adSize.width,this.adSize.height)),this.responsiveHelper.setResponsive(),p.setTimeout(function(){e.responsiveHelper.resize(!0)},100)}t.forEach(function(t){return t()})},t.prototype.canStart=function(){return!!(this.isTop&&this.windowLimits.top>this.creativeLimits.top)||this.isCorner&&l.getPercentageInView(this.parentContainer,this.win)<this.threshold},t.prototype.canStop=function(){return!!(this.isTop&&this.windowLimits.top<=this.creativeLimits.top)||this.isCorner&&l.getPercentageInView(this.parentContainer,this.win)>=this.threshold},t.prototype.setResponsive=function(){var t=this;this.isResponsive=!0;var e=function(){t.isActive()&&t.isResponsive&&(t.handleResize(),t.resizeInterval=p.requestAnimationFrame(e,100))};this.resizeInterval=p.requestAnimationFrame(e,100)},t.prototype.handleResize=function(e){if(void 0===e&&(e=!1),!this.fullscreenHelper.isActive()){var i=this.getOptimalDimension();if((e||this.vpaidAd.getAdHeight()!==i.height)&&(this.adSize=i,this.logger.debug("resize to "+this.adSize.width+"x"+this.adSize.height+" from "+this.vpaidAd.getAdWidth()+"x"+this.vpaidAd.getAdHeight()),this.resizeAd(this.adSize.width,this.adSize.height)),i=this.responsiveHelper.getOptimalDimension(this.parentContainer,1),(e||u.getBoundingClientRect(this.compensationDiv).height!==i.height)&&this.compensationDiv.style.setProperty("height",i.height+"px"),this.isTop){this.maxTop=u.getWindowSize(this.win).height*t.MAX_FLOATING_TOP;var n=this.getTop();this.currentTop!==n&&(this.currentTop=n,this.playerContainer.style.setProperty("top",this.currentTop+"px"))}}},t.prototype.unsetResponsive=function(){p.cancelAnimationFrame(this.resizeInterval),this.isResponsive=!1},t.prototype.resizeAd=function(t,e){var i=Math.round(u.getBoundingClientRect(this.compensationDiv).width),n=(i-t)/2+"px";this.vpaidAd.resizeAd(t,e),this.isTop?(this.playerContainer.style.setProperty("marginLeft",n),this.playerContainer.style.setProperty("marginRight",n)):(this.playerContainer.style.removeProperty("marginLeft"),this.playerContainer.style.removeProperty("marginRight"))},t.prototype.initCompensationDiv=function(){var t=this.win.document.createElement("div");return t.className="teads-player teads-compensation-div",t.style.setProperty("-webkit-box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),t.style.setProperty("-moz-box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),t.style.setProperty("box-shadow","inset 0px 0px 85px rgba(0, 0, 0, 0.1)"),this.abstractFormat.slotType===d.SLOT_TYPE.native&&(this.playerContainer.nextSibling?this.playerContainer.parentNode.insertBefore(t,this.playerContainer.nextSibling):this.playerContainer.parentNode.appendChild(t)),t},t.prototype.onResizeEnd=function(){this.fullscreenHelper.isActive()||(this.creativeLimits=this.getCreativeLimits(),this.onScroll())},t.prototype.onOrientationChange=function(){this.creativeLimits=this.getCreativeLimits(),this.isTop&&(this.currentTop=this.getTop(),this.logger.debug("onOrientationChange",this.currentTop)),this.active&&!this.fullscreenHelper.isActive()&&(this.unsetResponsive(),this.handleResize(!0),this.setResponsive())},t.prototype.onFullscreenOpen=function(){this.active&&this.stop()},t.prototype.onFullscreenClose=function(){this.onScroll()},t.prototype.getTop=function(){return l.getTop(this.win,l.findFloatingHeaders(this.win,[this.playerContainer]),this.maxTop)},t.prototype.getCurrentTop=function(){return this.isTop&&!this.active?this.getTop():this.currentTop},t.prototype.clearTimerOutOfSlot=function(){this.timerOutOfSlot&&(this.timerOutOfSlot.clear(),this.timerOutOfSlot=null)},t.prototype.showCloseButtonAtMidPoint=function(){var t=this;if(!this.isTimeOutSlotReached){this.isMidPointReached=!0;var e=this.vpaidAd.getAdRemainingTime()-1,i=function(){return t.vpaidAd.unsubscribe(n,c.a.AdRemainingTimeChange)},n=function(){t.vpaidAd.getAdRemainingTime()<e&&(t.showCloseButton(),i())};this.vpaidAd.subscribe(n,c.a.AdRemainingTimeChange)}},t.prototype.showCloseButtonHandler=function(){var e=this;return p.setInterval(function(){if(!e.isMidPointReached){(e.abstractFormat.placement.isSliderEnabled()?e.vpaidAd.getAdDuration()-e.vpaidAd.getAdRemainingTime():e.remainingTimeLastSmartInSec+e.smartElapsedTimeInSec-e.vpaidAd.getAdRemainingTime())>=t.TIME_IN_SEC_BEFORE_CLOSE_BUTTON&&(e.showCloseButton(),e.clearTimerOutOfSlot(),e.isTimeOutSlotReached=!0)}},t.SHOW_CLOSE_BUTTON_INTERVAL_DELAY_IN_MS)},t.prototype.showCloseButton=function(){this.isTop&&this.active?this.player.smartPosition.showCloseButton():this.isCorner&&this.header.showCloseButton()},t.prototype.startCornerPosition=function(){var e=this,i=u.getBoundingClientRect(this.playerContainer).height;this.playerContainer.style.setProperty("bottom","-"+i+"px","important"),l.addTransitionProperties(this.playerContainer,t.TRANSITION_DURATION_IN_SECONDS,"ease-out"),p.requestAnimationFrame(function(){e.playerContainer.style.setProperty("opacity","1"),e.playerContainer.style.setProperty("bottom",t.MARGIN_FROM_EDGES_IN_PX+"px","important"),e.playerContainer.style.setProperty("right",t.MARGIN_FROM_EDGES_IN_PX+"px"),e.hideNativeSlotComponents()},t.ADD_TRANSITION_PROPERTIES_DELAY_IN_MS)},t.prototype.stopCornerPosition=function(){var e=this,i=u.getBoundingClientRect(this.playerContainer).height;l.addTransitionProperties(this.playerContainer,t.TRANSITION_DURATION_IN_SECONDS,"ease-out"),p.requestAnimationFrame(function(){e.playerContainer.style.setProperty("bottom","-"+i+"px","important"),e.showNativeSlotComponents()},t.ADD_TRANSITION_PROPERTIES_DELAY_IN_MS)},t.prototype.setTransitionListener=function(t){var e=this;void 0===t&&(t=n.a),this.transitionInProgress=!0;var i=function(){e.transitionInProgress=!1,e.eventListenerManager.removeMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"]),l.removeTransitionProperties(e.playerContainer),l.removeTransitionProperties(e.compensationDiv),t.forEach(function(t){return t()})};this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.playerContainer,i)},t.prototype.hideNativeSlotComponents=function(){var t=function(t){t.getElement().style.setProperty("opacity","0")};n.b.of(this.abstractFormat.components.getComponent("adChoices")).forEach(t),n.b.of(this.abstractFormat.components.getComponent("label")).forEach(t)},t.prototype.showNativeSlotComponents=function(){var t=function(t){t.getElement().style.setProperty("opacity","1")};n.b.of(this.abstractFormat.components.getComponent("adChoices")).forEach(t),n.b.of(this.abstractFormat.components.getComponent("label")).forEach(t)},t.MAX_SIZE_RATIO_CORNER=Object(a.isDesktop)()?.3:.25,t.TRANSITION_DURATION_IN_SECONDS=.4,t.FADE_IN_DURATION_IN_SECONDS=.4,t.MARGIN_FROM_EDGES_IN_PX=5,t.MAX_SIZE_RATIO_TOP=Object(a.isDesktop)()?.3:.5,t.MAX_FLOATING_TOP=Object(a.isDesktop)()?.25:.2,t.MAX_GET_CREATIVE_LIMITS_TRIES=5,t.TIME_IN_SEC_BEFORE_CLOSE_BUTTON=5,t.ADD_TRANSITION_PROPERTIES_DELAY_IN_MS=10,t.ADD_MARGIN_FROM_EDGES_DELAY_IN_MS=10,t.SET_COMPENSATION_DIV_BACKGROUND_DELAY_IN_MS=10,t.SHOW_CLOSE_BUTTON_INTERVAL_DELAY_IN_MS=300,t}()},function(t,e,i){function n(t,e){void 0===e&&(e=!1);var i=a.HEADER_BIDDING_PROVIDERS;return t.match({some:function(t){return!e||s.includes(i,t)},none:function(){return!1}})}function o(t){return t.match({some:function(t){return t===a.HEADER_BIDDING_DEBUG},none:function(){return!0}})}function r(t){return t.orNull()}Object.defineProperty(e,"__esModule",{value:!0}),e.hasValidContextAndProvider=n,e.isUserSyncAllowed=o,e.extractHbSlotAvailableUrl=r;var a=i(39),s=i(3)},function(t,e,i){var n=i(256),o=i(236),r=i(299),a=i(2),s=i(6),c=i(3),u=i(7),d=i(4),l=i(39),p=i(182),h=i(184),f=i(89),g=i(5),m=i(233),v=i(60),y=i(88),b=i(58),A=i(87),E=i(27),w=i(259),C=i(386),_=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=function(t){function e(e,i,n){var o=t.call(this,e,i,n,l.SLOT_TYPE.native)||this;return o.placement=e,o.config=i,o.player=n,o.hasLoggedPlayProblem=!1,o.facebookPercentInView=r.NOT_IN_VIEW,a.isFacebookIA()&&o.initFacebookIA(),o.config.adType.isDisplay()&&s.addClass(o.parentContainer,"teads-display"),o}return _(e,t),e.prototype.load=function(e,i){var n=this;a.isIABSafeFrame()?p.initSlot(function(){return t.prototype.load.call(n,e,i)}):t.prototype.load.call(this,e,i)},e.prototype.getTemplateName=function(){return"inread"},e.prototype.start=function(){var e=this,i=this.placement.placementConfig.scrollSelector.getSlot();a.isIABSafeFrame()?p.listenGeom(function(){return e.onScroll(new Event("touchmove"))}):a.isAmp()?this.unlistenAmp=this.win.context.observeIntersection(function(t){return e.onScroll(new Event("touchmove"))}):(a.isDesktop()&&this.setRealVisibilityInterval(),this.eventListenerManager.add("scroll",i,function(t){return e.onScroll()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],i,function(t){return e.onScroll(t)})),this.isInView=this.getInViewState(),this.formatConfig.vast.getContent()&&this.player.getMediafile()?t.prototype.start.call(this):this.onScroll()},e.prototype.onAdLoaded=function(){var e=this;if(t.prototype.onAdLoaded.call(this),this.extensions=d.b.of(this.player).map(function(t){return t.getPlugin("Extensions")}),this.extensions.forEach(function(t){return e.loadAdVerificationScripts(t)}),this.fullscreenHelper.addCloseEventListener(function(){e.isSmartPositionned()||e.responsive&&e.responsive.resize(!0)}),this.isVertical){var i=function(){e.responsive.unsetResponsive(),e.parentContainer.style.display="none",e.isInView=!1,e.requestPauseAd()};this.responsive.addOrientationChangeListener(function(t){e.isFullscreen()||(e.responsive.isLandscape?i():(e.parentContainer.style.display="block",e.responsive.setResponsive(),e.onScroll(t)))}),this.fullscreenHelper.addCloseEventListener(function(){e.responsive&&e.responsive.isLandscape&&i()})}a.isDesktop()||this.vpaidAd.render(this.vpaidAd.getVPAID()),!a.isIABSafeFrame()&&!a.isFacebookIA()||this.states.hasOpened||this.openFormat(),this.onScroll(),this.isInView=this.getInViewState()},e.prototype.onAdVideoStart=function(){t.prototype.onAdVideoStart.call(this),this.smartPositionHelper&&this.smartPositionHelper.init(),this.states.hasStarted&&this.states.hasOpened&&this.fitContainerToContent()},e.prototype.onAdSizeChange=function(){if(t.prototype.onAdSizeChange.call(this),this.states.hasOpened){var e=this.fitContainerToContent();a.isAmp()&&h.open(e)}},e.prototype.onAdVideoComplete=function(){t.prototype.onAdVideoComplete.call(this),this.smartPositionHelper&&this.smartPositionHelper.deinit()},e.prototype.onVpaidReady=function(){var e=this;t.prototype.onVpaidReady.call(this),this.fullscreenHelper=new w.a(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.brandingMode=new C.a(this),this.isVertical||!this.formatConfig.sticky.isEnabled()&&!this.formatConfig.smartPosition.isEnabled()||(this.smartPositionHelper=new m.a(this)),this.vpaidAd.subscribe(function(){return e.pauseAdIfShouldNotBePlaying()},g.a.AdStarted),this.vpaidAd.subscribe(function(){return e.pauseAdIfShouldNotBePlaying()},g.a.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},g.a.AdError),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},g.a.AdStopped),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},g.a.AdSkipped),this.vpaidAd.subscribe(function(){return e.clearRealVisibilityInterval()},g.a.AdVideoComplete)},e.prototype.startInView=function(){this.states.hasStarted&&(this.formatConfig.videoPause.isThreshold()||this.isVertical||this.states.hasCompleted)&&this.requestResumeAd(),this.volumeController.startInView()},e.prototype.endInView=function(){this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?this.requestPauseAd():this.volumeController.endInView()},e.prototype.fitContainerToContent=function(t){void 0===t&&(t=!1);var e=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay());else if(a.isIos()&&!d.b.ofNested(e,"videoSlot.mediaProxy").isEmpty()){var i=e.videoSlot.mediaProxy,n=i.getStatus();if(n!==f.a.READY)return}if((this.states.hasOpened||t)&&!this.isFullscreen()){var o=u.getBoundingClientRect(this.placement.getInnerContainer()),r=o.height;if(a.isFacebookIA()){r+=0===u.getBoundingClientRect(this.playerContainer).height?o.width/l.DEFAULT_VIDEO_SIZE_RATIO:0}return this.parentContainer.style.height=r+"px",r}},e.prototype.manageInView=function(t){t!==this.isInView&&(t?this.startInView():this.endInView()),this.isInView=t},e.prototype.openFormat=function(){var t=this;this.states.hasOpened=!0,this.formatConfig.animations.setExpandDuration(this.parentContainer);var e=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay()||!this.formatConfig.adType.isVideo());else if(a.isIos()&&!d.b.ofNested(e,"videoSlot.mediaProxy").isEmpty()){var i=e.videoSlot.mediaProxy,n=i.getStatus();if(n===f.a.READY)this.logger.debug("mediaProxy is ready !",e.videoSlot.src);else{if(n===f.a.ERROR)return void this.logger.error("mediaProxy error, video is not available for the moment",e.videoSlot.src);if(!e.videoSlot.src||n<f.a.READY)return this.logger.debug("mediaProxy not ready or video.src not setted, delay inread opening",e.videoSlot.src),void i.listen(v.a.READY,function(){t.openFormat()},!1)}}var o=this.fitContainerToContent(!0);this.logger.debug("Format (pageId = "+this.formatConfig.pageId+", placementId = "+this.formatConfig.placementId+") has been opened"),this.responsive&&!this.isSmartPositionned()&&this.responsive.setResponsive(),a.isIABSafeFrame()&&p.open(o,function(e){t.states.hasOpened=e}),a.isFacebookIA()&&this.startFacebookIA()},e.prototype.trackAdCall=function(t){t&&!this.states.hasStopped&&(this.placement.placementTracker.track(l.TRACKING.adCall),this.linearAd||this.close(o.a.NoAdSuccess))},e.prototype.isUserInteraction=function(t){return!!(!a.isMobile()&&!a.isTablet()||this.formatConfig.allowedPlayer.getValue()===y.b.CANVAS||a.isWhiteListedIos10Safari(String(this.config.placementId))||a.isFacebookWebviewIOS10()||a.canAutoplay())||!!t&&"scroll"!==t.type},e.prototype.onScroll=function(t){if(this.wigoi&&window.teads.WIGO_DEBUG_KEY&&this.wigoi.followPlayer(),!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.onScroll(t);var e=this.getInViewState();this.trackAdCall(e),!this.isSmartPositionned()&&this.states.isReady&&(this.states.hasOpened||this.isUserInteraction(t)&&this.isVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&e)&&this.openFormat(),this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?this.manageInView(e):(this.viewabilityTagsHelper.onScroll(),(this.isUserInteraction(t)||this.states.isReplay)&&this.canStart(e)&&(this.vpaidAd.startAd(),a.isDesktop()||this.setRealVisibilityInterval()))))}},e.prototype.canStart=function(t){return!this.formatConfig.videoStart.isThreshold()||t||this.states.isReplay},e.prototype.canPlay=function(t){return this.formatConfig.videoPause.isNo()||t},e.prototype.isFullscreen=function(){return!!this.fullscreenHelper&&this.fullscreenHelper.isActive()},e.prototype.isSmartPositionned=function(){return!!this.smartPositionHelper&&this.smartPositionHelper.isActive()},e.prototype.getViewportInViewState=function(){if(a.isFacebookIA())return this.facebookPercentInView>this.formatConfig.threshold.get();var t=this.vpaidAd?this.vpaidAd.getAdHeight():1;return s.isInView(this.playerContainer,this.win,this.formatConfig.threshold.get()/100,t)},e.prototype.initFacebookIA=function(){var t=this;this.eventListenerManager.add("message",this.win,function(e){t.facebookPercentInView=r.getPercentInView(t.facebookPercentInView,e.data,r.isFlowValid),t.states.isReady&&t.startFacebookIA()}),this.win.removeEventListener("message",window._teads_fbia.listener,!0);var e=c.filter(window._teads_fbia.events||[],function(t){return!!r.eventToPercent[t]});this.facebookPercentInView=parseInt(e.pop(),10)},e.prototype.startFacebookIA=function(){var t=this.getInViewState();this.states.hasOpened?this.states.isReplay&&this.responsive&&this.responsive.setResponsive():(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&t)&&this.openFormat(),this.states.hasStarted||(!this.formatConfig.videoStart.isThreshold()||t||this.formatConfig.smartPosition.isEnabled()||this.states.isReplay)&&this.vpaidAd.startAd(),this.manageInView(t)},e.prototype.setRealVisibilityInterval=function(){var t=this;this.realVisibilityInterval=E.setInterval(function(){return t.checkRealVisibility()},250)},e.prototype.checkRealVisibility=function(){if(!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.onScroll();var t=this.getInViewState();this.trackAdCall(t),this.states.isReady&&(this.states.hasOpened?this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?this.manageInView(t):(this.viewabilityTagsHelper.onScroll(),this.canStart(t)&&this.vpaidAd.startAd())):this.isVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&t)&&this.openFormat())}},e.prototype.pauseAdIfShouldNotBePlaying=function(){if(this.states.isPlaying){var t=this.getInViewState();if(!(this.states.hasStarted?this.canPlay(t):this.canStart(t))&&(this.isInView=!1,this.requestPauseAd(),!this.hasLoggedPlayProblem)){this.hasLoggedPlayProblem=!0;var e="0",i="0";this.linearAd&&(i=this.linearAd.id?this.linearAd.id:"0",e=this.linearAd.creativeId?this.linearAd.creativeId:"0"),b.a.sendInfo({pid:this.placement.pid,cpid:i,crid:e})}}},e.prototype.isVerticalLandscape=function(){return this.isVertical&&this.responsive&&this.responsive.isLandscape},e.prototype.loadAdVerificationScripts=function(t){var e=this;t.getExtension(A.a.AD_VERIFICATIONS).map(function(e){return t.retrieveCreativePrefetchAdVerificationScriptUrls(e)}).forEach(function(t){e.viewabilityTagsHelper.onceThresholdReached(function(){c.forEach(t,function(t){var i=t.vendor,n=t.url,o=document.createElement("script");o.type="text/javascript",o.src=n,o.async=!0,"DoubleVerify"===i?e.playerContainer.parentElement.appendChild(o):e.playerContainer.insertBefore(o,e.playerContainer.firstChild)})})})},e}(n.a);e.a=S},function(t,e,i){i.d(e,"a",function(){return n});var n;!function(t){t[t.Error=0]="Error",t[t.AdError=1]="AdError",t[t.ResizeAmpError=2]="ResizeAmpError",t[t.ReplayError=3]="ReplayError",t[t.AdSuccess=4]="AdSuccess",t[t.NoAdSuccess=5]="NoAdSuccess",t[t.MoatNotVisibleAdSuccess=6]="MoatNotVisibleAdSuccess"}(n||(n={}))},,,,,,function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(178),i(179),i(196),i(197),i(124)),o=i(84),r=i(122),a=i(88),s=i(232),c=i(123),u=i(150),d=i(62),l=i(172),p=i(173),h=i(163),f=i(149),g=window.teads||{};g.player=g.player||{},g.player.ASSETS=n.a,g.player.MEDIAFILE_TYPE=o.a,g.player.MediaFileHelper=o.c,g.player.MediaProvider=r.a,g.player.PLAYER_TYPE=a.b,g.player.RatioCategory=o.b,g.player.TeadsContextExtension=s,g.player.TeadsStudioExtension=c,g.player.VASTEventTracker=u.a,g.player.VASTPlayer=d.a,g.player.VPAIDJSListIOS=l,g.player.VideoHelper=p,g.player.playerSumologic=d.b,g.player.plugin=h,g.player.trackingMapping=f.a,window.teads=g},function(t,e,i){i.d(e,"a",function(){return P});var n=i(23),o=i(58),r=i(17),a=i(1),s=i(0),c=i(3),u=i(6),d=i(2),l=i(39),p=i(7),h=i(233),f=i(4),g=i(37),m=i(283),v=i(245),y=i(285),b=i(65),A=i(200),E=i(181),w=i(234),C=i(183),_=i(287),S=i(288),T=i(247),I=i(303),O=i(236),P=function(){function t(){this.logger=new a.a("Page"),this.hasSlider=!1}return t.trackBrokenScrollerEnv=function(t,e){var i=e.placementConfig.parentWindow.getWindow()||window,n=e.getParentContainer();if(n&&Object(s.isFunction)(i.getComputedStyle)){var r=t&&t.getLinearAd()?"1":"0",a=function(t){return[t["-webkit-transform"],t["-moz-transform"],t["-o-transform"],t["-ms-transform"],t.transform]},d=function(t){return i.getComputedStyle(t)},l=c.some(function(t){return c.map(c.map(t,d),a)}(u.findParentElements(n)),function(t){return c.includes(t,"matrix(1, 0, 0, 1, 0, 0)")})?"1":"0",p=i.location.hostname;o.a.sendInfo("broken-scroller-env "+r+"|"+l+"|"+p,.1)}},t.trackSlotAvailable=function(t,e,i){var n=e?l.TRACKING.hbSlotAvailable:l.TRACKING.slotAvailable;t.placement.placementTracker.track(n,i)},t.getPlayerSize=function(t,e){var i={width:0,height:0};if(t){if(e.insertInside.isEnabled())i.width=t.getWidth();else if(t.getElement().parentNode){var n=p.getSize(t.getElement().parentNode);i.width=n.width}i.height=i.width/l.DEFAULT_VIDEO_SIZE_RATIO}else{var o=p.getWindowSize(e.parentWindow.getWindow());i.height=o.height*h.a.MAX_SIZE_RATIO_CORNER,i.width=i.height*l.DEFAULT_VIDEO_SIZE_RATIO}return i.width=Math.round(i.width),i.height=Math.round(i.height),i},t.prototype.process=function(e){var i=this;void 0===e&&(e=window._ttp||{});for(var n in e)if(e.hasOwnProperty(n)){var r=parseInt(n,10);if(E.a!==r&&0!==E.a&&0!==r){var a=e[r].map(function(t){return t.pid});throw o.a.sendError({message:"multi pageId|"+r+"|"+a.join(";")}),new g.a(g.a.MULTIPLE_PAGE_PROCESS)}this.onDomComplete(r),c.forEach(e[n],function(e){var n=i.initTracker(r,e.pid||null);n&&(i.placementAd=i.checkPlacement(e,r,n),i.placementAd&&(i.placementAd=i.checkSlot(i.placementAd,r),i.placementAd&&i.callRAS(i.placementAd,r,function(e){i.loadAd(e,function(o,r,a){o=o||e.placement.handleNoAd(),i.vastPlayer=r,o&&(e.placement.initDom(e.placement.electedSlot),t.trackBrokenScrollerEnv(r,e.placement),e.placement.initFormatInstance(r,o,a),e.placement.getFormat().load(function(){i.vastPlayer&&n.track(l.TRACKING.adAvailable.success),e.placement.getFormat().start()},function(t){n.track(l.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,String(t.getId()))),e.placement.handleNoAd()}))})})))}),o.a.sendInfo({pageId:r,placementIds:c.map(e[n],function(t){return t.pid}),tag:window._ttf?"2":"3"}),Object(E.g)(E.a||r)}},t.prototype.initTracker=function(t,e,i){void 0===i&&(i=f.a);var n;try{n=new A.a(t,e,o.a,i)}catch(n){o.a.sendError({pageId:t,pid:e||null,headerBiddingProvider:i.getOrElse(function(){return null}),error:Object(s.isFunction)(n.getMessage)?n.getMessage():n.message||n})}return n},t.prototype.checkPlacement=function(t,e,i,n){void 0===n&&(n=f.a);var r,a,s=w.hasValidContextAndProvider(n);if(t.launched)return void this.logger.warn("This format has already been launched");t.launched=!0,o.a.fillEmptyBusinessIds({pid:t.pid}),s||i.track(l.TRACKING.placementCall);try{var c,u=new I.a(t),p=t.slider?{slider:t.slider}:m.a.getPlacementSetting(u.pid);p&&(c=new m.a(p))}catch(n){return this.logger.error(n.getMessage()),n.getId()===g.a.OPTION_FORMAT_INVALID.id&&i.track(l.TRACKING.incompatibility.format),void o.a.sendError({pageId:e,pid:t.pid||null,error:n.getMessage()})}switch(u.formatName.get()){case l.FORMAT.inread:a=new T.a(e,u,c,i);break;case l.FORMAT.inboard:a=new S.a(e,u,c,i)}if(window._ttc&&window._ttc[e]&&window._ttc[e].rpm)return void a.placementConfig.rpmFallback.trigger();if(r={status:!0,reasons:[]},a.placementConfig.capping.reached())r.status=!1,a.placementTracker.track(l.TRACKING.placementCapping);else{var h=v.checkEnvironment(a.placementConfig);if(this.logger.debug("Check environment",h),!h.status&&(r.status=!1,!d.isAmp()||d.isAmp()&&u.formatName.get()===l.FORMAT.inread)){var y=h.reasons[0];y&&a.placementTracker.track(y),a.placementConfig.fallback.trigger()&&a.placementTracker.track(l.TRACKING.fallback.integration)}}var b={id:a.pid,validity:r,player:null,slotType:a.placementTracker.slotType};return w.isUserSyncAllowed(n)&&this.userSync(a,e),{placement:a,report:b,ad:null}},t.prototype.checkSlot=function(e,i,n,o){if(void 0===n&&(n=f.a),void 0===o&&(o=f.a),e.report.validity.status){e.report.validity=e.placement.checkSlot(n),this.logger.debug("Slot availability",e.report.validity);var r=e.placement.getElectedSlot();e.report.player=t.getPlayerSize(r,e.placement.placementConfig)}var a=function(){t.trackSlotAvailable(e,w.hasValidContextAndProvider(n),w.extractHbSlotAvailableUrl(o))};return e.report.validity.status||!e.report.validity.reasons.length?(a(),e):e.placement.canEnableSlider()&&!this.hasSlider?(this.hasSlider=!0,e.report.validity.reasons=[],e.report.validity.status=!0,e.placement.enableSlider(),e.report.slotType=e.placement.placementTracker.slotType,a(),e):void function(){e.placement.placementTracker.track(e.report.validity.reasons[0])}()},t.prototype.callRAS=function(t,e,i){new y.a(t,e,this.getAdRequestUrl(e),i).send()},t.prototype.loadAd=function(t,e){var i=this;if(t.placement){if(!t.ad)return void(t.report.validity.status&&e(null,null));if(t.placement.getElectedSlot()&&C.injectFormatCSS(t.placement.getElectedSlot().getElement()),t.ad.handled)return void this.logger.debug("Ad already handled for this placement");if(t.ad.handled=!0,t.ad.callbacks=t.placement.placementConfig.raw.callbacks,!t.placement.getElectedSlot())return void this.logger.debug("No elected slot -> not placing format");var n=t.placement.getFormatConfig(t.ad);n?t.placement.loadVast(n,function(t,o){t?e(n,t,o):(i.logger.debug("VAST loading failed, couldn't get VAST player instance"),e(null,null))}):(this.logger.debug("Could not load config for format"),e(null,null))}},t.prototype.clearInstances=function(){for(var t in l.FORMAT)if(l.FORMAT.hasOwnProperty(t)&&E.d[t]&&E.d[t].length)for(;E.d&&E.d[t]&&E.d[t].length;)E.d[t].pop().exit(O.a.AdSuccess)},t.prototype.reload=function(){this.clearInstances();for(var t in window._ttp)if(window._ttp.hasOwnProperty(t))for(var e=0,i=window._ttp[t].length;e<i;e++)window._ttp[t][e].launched=!1;Object(E.b)(),this.process()},t.prototype.userSync=function(t,e){var i=this;if(t&&t.pid&&!this.isUserSyncIframeLoaded){var n=_.insert(t.pid);p.addEventListener("load",n,function(t){r.mark("markUserSyncResponse"),i.isUserSyncIframeLoaded=!0,i.processTiming(e)})}},t.prototype.onDomComplete=function(t){var e=this;try{p.onDomComplete(function(){e.isDomComplete=!0,e.processTiming(t)},u.findParentWindows(window.document.body).pop(),this)}catch(t){this.logger.warn("Can not access top window for performance",t)}},t.prototype.getAdRequestUrl=function(t){var e=b.b.richAdServerUrl.replace("{id}",String(t)),i=this.getTrackingMetadata();return Object(n.buildUrlWithParams)(e,i)},t.prototype.getTrackingMetadata=function(){var t=null;try{var e=u.findParentWindows(window.document.body),i="",n=void 0;window.top!==window&&(d.isAmp()&&window.context.sourceUrl?(i=window.context.sourceUrl,n=window.context.canonicalUrl):d.isAmpSF()&&window.AMP_CONTEXT_DATA.sourceUrl?(i=window.AMP_CONTEXT_DATA.sourceUrl,n=window.AMP_CONTEXT_DATA.canonicalUrl):document.referrer&&(i=document.referrer)),i.match("ampproject.org")&&(o.a.sendInfo("referrer match ampproject.org"),n&&!n.match("amproject.org")?i=n:o.a.sendInfo("ampref nok "+i)),t={windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowDepth:e.length,windowReferrerUrl:encodeURIComponent(i)}}catch(t){this.logger.warn("An error occurred retrieving top window - Window metadata will be empty on the ad request")}return t},t.prototype.processTiming=function(t){if(this.isDomComplete&&this.isUserSyncIframeLoaded)try{var e=r.measure("measureSmartSlot","markFormatSmartSlotStart","markFormatSmartSlotEnd"),i=r.measure("measureUserSyncRequest","markUserSyncRequest","markUserSyncResponse"),n=r.getLastEntryByName("markFormatInit"),a=r.getTimingByRegex(/teads-format(.min)?\.js/),s={pageId:t,smartSlotDuration:e?Math.round(e.duration):null,markFormatInit:n?Math.round(n.startTime):null,entryCount:r.getResourceCount(),domLoading:null,domInteractive:null,domComplete:null,teadsFormatStart:a?Math.round(a.startTime):null,teadsFormatDuration:a?Math.round(a.duration):null,userSyncRequestDuration:i?Math.round(i.duration):null};if(r.performance&&r.performance.timing){var c=r.performance.timing;s.domLoading=Math.round(c.domLoading-c.fetchStart),s.domInteractive=Math.round(c.domInteractive-c.fetchStart),s.domComplete=Math.round(c.domComplete-c.fetchStart)}this.logger.debug("Sending timing data"),o.a.sendInfo(s)}catch(t){this.logger.debug("Error on timing data process")}},t}()},function(t,e,i){function n(){return c.get("teadsDebugInPage").toOption().existsIf(function(t){return"true"===t})}function o(t,e,i){if(n()){var o=document.createElement("div");o.setAttribute("id","teadsGhostAvoid"),o.style.position="absolute",o.style.top=e.top+"px",o.style.bottom=e.bottom+"px",o.style.left=e.left+"px",o.style.right=e.right+"px",o.style.width=e.width+"px",o.style.height=e.height+"px",o.style.background="rgba(255, 0, 0, 0.10)",o.style.pointerEvents="none",o.style.color="#F79C9C",o.style.zIndex="9999",o.style.padding="10px",o.innerText="avoidSlot",i.document.body.appendChild(o),t.style.backgroundColor="rgba(255, 0, 0, 0.20)"}}function r(t,e){void 0===e&&(e=window.document.body),a(),n()&&(d=[s(e,0,t.top,200,t.top,"#0000CC"),s(e,0,t.bottom,200,t.bottom,"#CC0000")],u.forEach(d,function(t){e.appendChild(t)}))}function a(){n&&(u.forEach(d,function(t){t.parentNode.removeChild(t)}),d=[])}function s(t,e,i,n,o,r){if(void 0===r&&(r="black"),i<o){var a=i;i=o,o=a,a=e,e=n,n=a}var s,c=Math.abs(e-n),u=Math.abs(i-o),d=(e+n)/2,l=(i+o)/2,p=Math.sqrt(c*c+u*u),h=d-p/2,f=l;c=p/2,s=Math.abs(d-h),u=Math.sqrt(Math.abs(e-h)*Math.abs(e-h)+Math.abs(i-f)*Math.abs(i-f));var g=(u*u-c*c-s*s)/(2*c*s),m=Math.acos(g),v=180*m/Math.PI,y=document.createElementNS("http://www.w3.org/1999/xhtml","div");return y.setAttribute("style","border:1px solid "+r+";width:"+p+"px;height:0px;-moz-transform:rotate("+v+"deg);-webkit-transform:rotate("+v+"deg);position:absolute;top:"+f+"px;left:"+h+"px;"),y}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"creativeLimits",function(){return d}),e.isActive=n,e.showAvoidSlot=o,e.showCreativeLimits=r,e.hideCreativeLimits=a;var c=i(25),u=i(3),d=[]},function(t,e,i){function n(t,e){var i={settings:{}};return!e.type||!e.content?(i.type=t.type,i.content=t.content):(i.type=e.type,i.content=e.content),i.settings=t.settings,i.insertion_id=t.insertion_id,i.connection_id=t.connection_id,i}function o(t){var e={status:!0,reasons:[]},i=t.parentWindow.getWindow();a.videoSupport(i.document)||s.hasFlashVersion(10)||(e.status=!1,e.reasons.push(r.TRACKING.incompatibility.video));var n=a.isMobile()&&t.isMobile(),o=a.isTablet()&&t.isTablet(),u=a.isDesktop()&&t.isDesktop();return n||o||u||(e.status=!1,e.reasons.push(r.TRACKING.incompatibility.context)),c.isLowerOrEqual(a.getIEVersion(),"8")&&(e.status=!1,e.reasons.push(r.TRACKING.incompatibility.browser)),e}Object.defineProperty(e,"__esModule",{value:!0}),e.extendAd=n,e.checkEnvironment=o;var r=i(39),a=i(2),s=i(36),c=i(19)},function(t,e,i){function n(){return o||(o=r.generate()),o}Object.defineProperty(e,"__esModule",{value:!0}),e.get=n;var o,r=i(286)},function(t,e,i){var n=i(289),o=i(249),r=i(294),a=i(301),s=i(39),c=i(198),u=i(4),d=i(262),l=i(31),p=i(234),h=i(235),f=i(264),g=i(302),m=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.initFormatInstance=function(t,e,i){if(i)this.registerInstance(new r.a(this,e,i,t));else{var n=t?t.getLinearAd():null;this.placementTracker.setSlotDimensionOnTracking(n),t&&t.setLinearAd(n),this.isSliderEnabled()?this.registerInstance(new a.a(this,e,t)):n&&f.has(n)?this.registerInstance(new g.a(this,e,t)):this.registerInstance(new h.a(this,e,t))}d.reorderWigoButtons()},e.prototype.checkSlot=function(t){var e=this;void 0===t&&(t=u.a);var i=this.placementConfig.selector.getSlots();if(i.length&&(this.electedSlotReport=this.processChecker(i,s.FORMAT.inread)),(!i.length||!this.electedSlotReport.report.status)&&this.placementConfig.auto.isEnabled()){this.smartSlot=new o.a(this.placementConfig.parentWindow.getWindow());var n=this.smartSlot.find();if(n){for(var r=[],a=0,d=n.length;a<d;a++)r[a]=new c.a(n[a],a),r[a].computeScore(this.placementConfig);r.sort(function(t,e){return e.getScore()-t.getScore()}),this.electedSlotReport=this.processChecker(r,s.FORMAT.inread,!0)}}var h={};if(this.electedSlotReport&&this.electedSlotReport.report)this.electedSlotReport.report.status?(this.electedSlot=this.electedSlotReport.slot,h={status:!0,reasons:[]}):(this.logger.info("No slot available"),h={status:!1,reasons:this.electedSlotReport.report.reasons},this.wigoi.forEach(function(t){return t.valid(1,1,e.electedSlotReport.report.reasons,l.a.infoType.ERROR)}));else{this.logger.info("No slot available");h={status:!1,reasons:p.hasValidContextAndProvider(t)?[s.TRACKING.noSlot.hbSelector]:[s.TRACKING.noSlot.selector]},this.wigoi.forEach(function(t){return t.valid(1,1,s.TRACKING.noSlot.selector,l.a.infoType.ERROR)})}return h},e.prototype.getElectedSlot=function(){return this.electedSlot},e.prototype.initDom=function(t){var e=t.getElement(),i=this.parentContainer;return"PR"!==e.nodeName&&"BR"!==e.nodeName||(i.style.margin="10px 0"),this.placementConfig.insertInside.isEnabled()?this.placementConfig.insertBefore.isEnabled()&&e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i):this.placementConfig.insertBefore.isEnabled()&&e.parentNode?e.parentNode.insertBefore(i,e):e.parentNode&&e.nextSibling?e.parentNode.insertBefore(i,e.nextSibling):e.appendChild(i),i},e}(n.a);e.a=v},function(t,e,i){function n(t,e){if(!t.placementConfig.btf.isEnabled())return{status:!0,reason:"placement.placementConfig.btf is false"};var i=b.getScrollTop(t.placementConfig.parentWindow.getWindow()),n=e.getElementRect(),o=b.getWindowSize(t.placementConfig.parentWindow.getWindow()).height;if(t.placementConfig.belowSelector.get()){t.placementConfig.belowSelector.getFirstElement()&&(o=Math.max(o,t.placementConfig.belowSelector.getFirstElementRect().bottom))}if(t.placementConfig.insertBefore.isEnabled()){var r=n.top+i;return{status:r>=o,reason:A.TRACKING.noSlot.btf,information:"top: "+Math.round(r)+" px >= waterline: "+o+" px"}}var a=n.bottom+i;return{status:a>=o,reason:A.TRACKING.noSlot.btf,information:"bottom: "+Math.round(a)+"px >= waterline: "+o+"px"}}function o(t,e){var i=e.getIndex()+1;return i>=t.placementConfig.minimum.get()?{status:!0,reason:""}:{status:!1,reason:A.TRACKING.noSlot.minimum,information:"slot: "+i+" < config: "+t.placementConfig.minimum.get()}}function r(t,e,i){if(!t.placementConfig.belowSelector.get()||null===t.placementConfig.minimumBelow.get())return{status:!0,reason:""};var n=t.placementConfig.belowSelector.getFirstNodeBelowIndex(i),o=e.getIndex();return o>=t.placementConfig.minimumBelow.get()+n-1?{status:!0,reason:""}:{status:!1,reason:A.TRACKING.noSlot.minimumBelow,information:"slot: "+o+" < config: "+t.placementConfig.minimumBelow.get()}}function a(t,e){var i=650/A.DEFAULT_VIDEO_SIZE_RATIO,n=t.initDom(e),o=typeof n;if(("object"!==o||null===n)&&"function"!==o||1!==n.nodeType)return{status:!1,reason:""};n.style.height="0px",n.style.textAlign="center",""===n.style.maxWidth&&(n.style.maxWidth="100%");var r={x:n.offsetLeft,y:n.offsetTop};n.style.overflow="hidden";var a={x:n.offsetLeft,y:n.offsetTop};n.style.marginTop=.33*i+"px";var s={x:n.offsetLeft,y:n.offsetTop};n.style.marginTop="0";var c=Math.abs(r.y-a.y)<8&&Math.abs(r.y-s.y)<.33*i+8;n.style.position="relative";var u=b.getSize(n);return u.height=u.width/A.DEFAULT_VIDEO_SIZE_RATIO,n&&n.parentNode&&n.parentNode.removeChild(n),{status:c,reason:A.TRACKING.noSlot.position,information:"Check height failed"}}function s(t,e){var i={status:!0,reason:""};if(t.placementConfig.avoid.getSlots())for(var n=t.placementConfig.avoid.getSlots(),o=b.getBoundingClientRect(e.getElement()),r=0,a=0,s=n;a<s.length;a++){var c=s[a];if(e.getElement()===c.getElement()){i.status=!1,i.reason=A.TRACKING.noSlot.avoid,i.information="AvoidSlot === Slot";break}var u=b.getBoundingClientRect(c.getElement()),d=t.placementConfig.avoid.getDistance(),l={top:u.top-d,left:u.left-d,bottom:u.bottom+d,right:u.right+d,height:u.height+2*d,width:u.width+2*d};if(S.showAvoidSlot(c.getElement(),l,t.placementConfig.parentWindow.getWindow()),o.top!==o.bottom){var p={x:Math.max(0,Math.min(o.right,l.right)-Math.max(o.left,l.left)),y:Math.max(0,Math.min(o.bottom,l.bottom)-Math.max(o.top,l.top))};if(r=p.x*p.y){i.status=!1,i.reason=A.TRACKING.noSlot.avoid,i.information="Avoid - "+Math.ceil(r)+"px2";break}}else if(o.top>l.top&&o.top<l.bottom){i.status=!1,i.reason=A.TRACKING.noSlot.avoid,i.information="Avoid - slot inside avoid area";break}}return i}function c(t,e,i){e.resolveSize();var n={i:e.getIndex(),elt:e.getElement(),elts:i,wrappedSizes:{width:e.getWidth(),height:e.getWidth()/16*9}};return{status:t.placementConfig.filter.trigger(n),reason:A.TRACKING.noSlot.filter}}function u(t,e){var i={status:!0,reason:""};if(e.resolveSize(),b.isSelfClosingTag(e.getElement()))return i;for(var n,o={">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e}},r=[{name:"minimumHeight",property:e.getHeight(),score:T.MIN_LONG_HEIGHT,operator:">="},{name:"minimumWidth",property:e.getWidth(),score:t.placementConfig.minimumWidth.get(),operator:">="},{name:"maximumHeight",property:e.getHeight(),score:T.MAX_LONG_HEIGHT,operator:"<="},{name:"maximumWidth",property:e.getWidth(),score:t.placementConfig.maximumWidth.get(),operator:"<="}],a=0;i.status&&r[a];)if(n=r[a++],i.status=o[n.operator](n.property,n.score),!i.status){i.reason=A.TRACKING.noSlot.size,i.information=n.name+": "+n.property+" "+n.operator+" "+n.score;break}return i}function d(t,e){if(!t.placementConfig.selector.get())return{status:!0,reason:"placement.placementConfig.selector not set"};var i=e.getElement(),n=b.getScrollTop(t.placementConfig.parentWindow.getWindow()),o=b.getBoundingClientRect(i).top;return{status:o+n>=T.MIN_POSITION_TOP&&o+n<=T.MAX_POSITION_TOP,reason:A.TRACKING.noSlot.position,information:"positionTop: "+T.MIN_POSITION_TOP+" <= "+(o+n)+" <= "+T.MAX_POSITION_TOP}}function l(t,e){var i=d.apply(this,arguments);return i.status?a.apply(this,arguments):i}function p(t,e){var i={status:!0,reason:A.TRACKING.noSlot.content},n=e.getElement(),o=[];b.getTextContent(n,o);var r=o.join("");return b.isSelfClosingTag(n)||(i.status=r.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").length>=t.placementConfig.minimumTextLength.get()),i}function h(t,e){var i,n=0,o=e.getElement(),r=o.children||o.childNodes;if(0===r.length)return{status:!0,reason:"children empty"};do{if(i=r[n++],"P"===i.nodeName||"DIV"===i.nodeName||"BR"===i.nodeName)return{status:!1,reason:A.TRACKING.noSlot.content,information:i.nodeName}}while(r[n]);return{status:!0,reason:""}}function f(t,e){var i=p.apply(this,arguments);return i.status?h.apply(this,arguments):i}function g(t,e){var i={status:!0,reason:""},n=t.placementConfig.parentWindow.getWindow();return t.placementConfig.videoFilter.get()===_.a.VALUES.SLOT?w.checkVideoPrevNextElement(e.getElement(),n)&&(i.status=!1,i.reason=A.TRACKING.noSlot.videoSlot,i.information="slot is too close to a video"):t.placementConfig.videoFilter.get()===_.a.VALUES.ARTICLE&&w.checkVideoSiblings(e.getElement(),n)&&(i.status=!1,i.reason=A.TRACKING.noSlot.videoArticle,i.information="slot container (article) has a video"),i}function m(t,e){var i={status:!0,reason:""},n=t.placementConfig.parentWindow.getWindow();return t.placementConfig.imageFilter.get()===C.a.VALUES.SLOT&&w.checkImagePrevNextElement(e.getElement(),n)&&(i.status=!1,i.reason=A.TRACKING.noSlot.imageSlot,i.information="slot is too close to an image"),i}function v(t,e){var i={status:!0,reason:""};return Object(y.isIABSafeFrame)()&&(i.information=E.init(),i.reason=i.information?A.TRACKING.noSlot.safeFrame:"",i.status=!i.information),i}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"configScore",function(){return T}),e.btf=n,e.minimum=o,e.minimumBelow=r,e.height=a,e.avoid=s,e.filter=c,e.size=u,e.positionTop=d,e.position=l,e.textLength=p,e.children=h,e.content=f,e.video=g,e.image=m,e.safeframe=v;var y=i(2),b=i(7),A=i(39),E=i(182),w=i(292),C=i(250),_=i(251),S=i(244),T={MIN_POSITION_TOP:100,MAX_POSITION_TOP:18e3,MIN_LONG_HEIGHT:30,MAX_LONG_HEIGHT:2e3,WIDTH_MARGIN:40,HEIGHT_MARGIN:20,LENGTH_MARGIN:150,LEVEL_POSITION:200}},function(t,e,i){i.d(e,"a",function(){return a});var n=i(1),o=i(7),r=i(17),a=function(){function t(t){this.win=t,this.logger=new n.a("helper.SmartSlot")}return t.findArticle=function(e,i,n,r){n.length=0,n.currentScore=0,n.childrenScore=0,n.isOverMinimumWidth=!1;var a=e.innerText||e.textContent||e.nodeValue,s=e.nodeName.toUpperCase();if(a&&(3===e.nodeType||t.textNodes[s]))n.length=a.replace(/\s+/g," ").length;else if(e===i.document.body||1===e.nodeType&&t.nodeScores[s]){for(var c=0,u=0,d=0,l=e.childNodes.length;d<l;d++){var p=t.findArticle(e.childNodes[d],i,n);c+=p.length,u+=p.currentScore,(p.isOverMinimumWidth||o.getSize(e).width>=t.MINIMUM_WIDTH)&&(n.isOverMinimumWidth=!0)}n.currentScore=c,n.childrenScore=u}if(n.childrenScore&&n.isOverMinimumWidth&&n.childrenScore>t.MINIMUM_CHARS){for(var h=t.nodeScores[s]||0,f=e.className.split(" "),g=1,m=void 0,d=0,v=f.length;d<v;d++)m=f[d].replace(/^\s+|\s+$/g,""),g+=t.classBonuses[m]||0;var y=1;for(var b in t.attributeBonuses)if(t.attributeBonuses.hasOwnProperty(b)){var A=t.attributeBonuses[b],E=void 0===A.value&&void 0!==e.getAttribute(b),w=A.value===e.getAttribute(b);(E||w)&&(y+=A.bonus||0)}var C=n.childrenScore*h*g*y;C>n.article.score&&(n.article.score=C,n.article.node=e,r&&r.debug("found a better node scoring ",n.article.score,n.article.node))}return n},t.prototype.find=function(){this.logger.info("Auto slot is finding a slot"),r.mark("markFormatSmartSlotStart");var e={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},i=t.findArticle(this.win.document.body,this.win,e,this.logger);if(i.article&&i.article.node){var n=this.findParagraph(i.article.node);return r.mark("markFormatSmartSlotEnd"),n}return null},t.prototype.findParagraph=function(t){var e,i,n=["P","DIV"];for(i=0;i<n.length&&(e=t.getElementsByTagName(n[i]),!e.length);i++);return e},t.MINIMUM_SCORE=5e3,t.MINIMUM_CHARS=500,t.MINIMUM_WIDTH=200,t.nodeScores={DIV:10,P:4,ARTICLE:20,SECTION:5,SPAN:2,FORM:4,STRONG:2,EM:3,B:1,I:1,U:1,MAIN:2},t.textNodes={SPAN:!0,STRONG:!0,EM:!0,B:!0,I:!0,U:!0},t.classBonuses={article:4,"ob-text":6,"ob-section-html":4,contenuArticle:6},t.attributeBonuses={itemprop:{value:"articleBody",bonus:1e3}},t}()},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"ImageFilter")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.VALUES={DISABLED:"disabled",SLOT:"slot"},e.DEFAULT=e.VALUES.DISABLED,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"VideoFilter")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.VALUES={DISABLED:"disabled",ARTICLE:"article",SLOT:"slot"},e.DEFAULT=e.VALUES.DISABLED,e}(n.a);e.a=a},function(t,e,i){i.d(e,"a",function(){return E});var n=i(58),o=i(26),r=i(5),a=i(253),s=i(1),c=i(6),u=i(65),d=i(4),l=i(12),p=i(35),h=i(255),f=i(232),g=i(123),m=i(0),v=i(254),y=i(7),b=i(2),A=i(183),E=function(){function t(t,e){this.placement=t,this.formatConfig=e,this.logger=new s.a("VPAIDApi");var i=this.placement.getPlayerContainer(),n=c.getWindow(i);this.communicationBridge=new a.a(this,n),this.communicationBridge.startListening()}return t.prototype.close=function(){this.communicationBridge&&this.communicationBridge.stopListening()},t.prototype.setStudioData=function(t){var e=this.placement.getFormat().getVpaidAd();this.studioData=t,e.status>=o.a.STARTED?this.applyStudioDataOnUI():e.subscribe(this.applyStudioDataOnUI.bind(this),r.a.AdStarted)},t.prototype.applyStudioDataOnUI=function(){if(this.studioData)try{var e=this.placement.getFormat().player.getPlugin("Tracker");e&&e.getTracker().setMetadata(t.STUDIO_CID_MACRO_METADATA,this.studioData.studio_cid,!0);var i=this.placement.getFormat().getVpaidAd(),n=i.getComponent("soundbutton");n&&n.setShowOnVideoStart(!this.studioData.display);var o=i.getComponent("progressbar");o&&(o.setShowOnVideoProgress(!this.studioData.display),o.setShowOnVideoStart(!this.studioData.display)),this.setSoundControlVisibility(!this.studioData.display),this.setProgressControlVisibility(!this.studioData.display)}catch(t){this.logger.error("setStudioData error "+t.message)}else this.logger.error("applyStudioDataOnUI error","studioData needed to apply them on UI")},t.prototype.getSumologicOption=function(){return{enabled:u.b.isSumologicLogsEnabled,pid:n.a.businessIds.pid,formatVersion:"2.19.0"}},t.prototype.isStudioDisplay=function(){return this.studioData&&this.studioData.display},t.prototype.getStudioData=function(){try{this.studioData=this.studioData||g.get(this.placement.getFormat().linearAd)}catch(t){this.logger.error("getStudioData error","format has not been instantiated yet",t)}return this.studioData},t.prototype.getContextData=function(){return f.get(this.placement.getFormat().linearAd)},t.prototype.isReplay=function(){return!!this.placement.getFormat().states.isReplay},t.prototype.activateTapMode=function(t){void 0===t&&(t=!0)},t.prototype.performTapMode=function(t){var e=this.placement.getFormat().getBrandingMode();e&&(void 0===t&&(t=!e.isActive()),t?e.isInitialized()?e.isActive()||e.start():(e.init(),e.start()):e.isActive()?(e.stop(),e.deinit()):e.isInitialized()&&e.deinit())},t.prototype.isFullscreen=function(){return this.placement.getFormat().getFullscreenHelper().isActive()},t.prototype.requestFullscreen=function(){try{this.placement.getFormat().getVpaidAd().dispatchCustomEvent("FullscreenRequest")}catch(t){this.logger.error("requestFullscreen error "+t.message)}},t.prototype.setSoundControlVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("soundbutton"):e.hideComponent("soundbutton")}catch(t){this.logger.error("setSoundControlVisibility error "+t.message)}},t.prototype.setFullscreenButtonVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("fullscreenbutton"):e.hideComponent("fullscreenbutton")}catch(t){this.logger.error("setFullscreenButtonVisibility error "+t.message)}},t.prototype.setProgressControlVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("progressbar"):e.hideComponent("progressbar")}catch(t){this.logger.error("setProgressControlVisibility error "+t.message)}},t.prototype.setStartScreenVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("startscreen"):e.hideComponent("startscreen")}catch(t){this.logger.error("setStartScreenVisibility error "+t.message)}},t.prototype.getSlotBounds=function(){var t=this;return l.c.of(function(){var e=t.placement.getPlayerContainer(),i=c.getWindow(e);return Object(m.extend)(y.getBoundingClientRect(e),{viewportHeight:i.innerHeight,viewportWidth:i.innerWidth})}).recover(function(e){t.logger.error("getSlotBounds error "+e.message)}).toOption().getOrElse(function(){return null})},t.prototype.sendVideoMetadata=function(t){try{this.placement.getFormat().getVpaidAd().dispatchCustomEvent(p.default.AdVideoMetadata,t)}catch(t){this.logger.error("sendVideoMetadata error "+t.message)}},t.prototype.setFixedBackgroundImage=function(t,e){var i=this;void 0===e&&(e=function(){});var n=new h.a(this.placement.getPlayerContainer(),this.placement.getParentContainer()),a=this.placement.getFormat().getVpaidAd();this.setBackgroundColor("transparent"),this.hideVideoContainer(),b.isUIWebview()||a.subscribe(function(){return n.resizeContainer()},r.a.AdSizeChange),a.subscribe(function(){return n.resizeContainer()},r.a.AdStarted),a.subscribe(function(){return n.destroy()},r.a.AdStopped),a.subscribe(function(){return n.destroy()},r.a.AdError),n.loadImage(t,function(){n.initContainer(),i.logger.debug("background image ready !"),a.status>=o.a.LOADED?(n.append(),i.checkTouchOverflow(n)):a.subscribe(function(){n.append(),i.checkTouchOverflow(n)},r.a.AdLoaded),e(!0)})},t.prototype.hideVideoContainer=function(){this.placement.getFormat().getVpaidAd().getCreativeContainer().contentDocument.getElementById("video-container").style.setProperty("display","none")},t.prototype.setBackgroundColor=function(t){try{this.placement.getFormat().getVpaidAd().getVPAIDContainer().style.setProperty("background-color",t)}catch(t){this.logger.error("setBackgroundColor error "+t.message)}},t.prototype.addDeviceOrientationListener=function(){v.addDeviceOrientationListener(this,this.communicationBridge,c.getWindow(this.placement.getPlayerContainer()))},t.prototype.getUserLocation=function(t,e){v.getUserLocation(c.getWindow(this.placement.getPlayerContainer()),t,e)},t.prototype.customizeUI=function(t){var e=this;d.b.of(this.placement).match({some:function(i){return d.b.of(i.getFormat()).match({some:function(i){return d.b.of(i.getVpaidAd()).match({some:function(e){var i=c.getWindow(e.getMainComponentsContainer());A.removeCSS("vpaid-ui-custom-css",i),A.embedCSS(t,i,"vpaid-ui-custom-css")},none:function(){return e.logger.error("customizeUI: getVpaidAd() returned undefined or null")}})},none:function(){return e.logger.error("customizeUI: getFormat() returned undefined or null")}})},none:function(){return e.logger.error("customizeUI: this.placement is undefined or null")}})},t.prototype.getTeadsInfo=function(){return{placementId:this.formatConfig.placementId||null,connectionId:this.formatConfig.connectionId||null,insertionId:this.formatConfig.insertionId||null,creativeId:parseInt(this.placement.getFormat().linearAd.creativeId,10)||null,slotType:this.placement.getFormat().slotType,environment:b.getEnv()}},t.prototype.triggerViewabilityTag=function(t){try{this.placement.getFormat().viewabilityTagsHelper.onceThresholdReached(t)}catch(t){this.logger.error("triggerViewabilityTag error "+t.message),n.a.sendError("triggerViewabilityTag "+t.getMessage().substr(0,120))}},t.prototype.getCreativeTag=function(t){try{return this.placement.getFormat().viewabilityTagsHelper.getCreativeTag(t)}catch(e){return this.logger.error('"Unable to get creative tag: "'+e+'"'),t}},t.prototype.checkTouchOverflow=function(t){var e=function(t,i){return t===i||!(!i||!i.parentElement)&&e(t,i.parentElement)},i=function(t,i){var n=y.getBoundingClientRect(t),o=c.getDocument(t).elementFromPoint(n.left+n.width/2,n.top+i);return o===t||e(t,o)};try{var o=void 0,r=this.placement.getParentContainer(),a=t.getBaseContainer();i(r,-10)?(a.style.zIndex="-1",o=i(r,-10)?"unsolved":i(r,10)?"solved":"hidden-slot"):o="none",n.a.sendInfo("touch-overflow:"+o+":"+this.placement.pid)}catch(t){n.a.sendError("touch-overflow-check-error:"+this.placement.pid)}},t.STUDIO_CID_MACRO_METADATA="[STUDIO_CID]",t}()},function(t,e,i){i.d(e,"a",function(){return a});var n=i(254),o=i(28),r=i(0),a=function(){function t(t,e){this.api=t,this.playerWindow=e,this.eventListenerManager=new o.a}return t.prototype.startListening=function(){var e=this;this.eventListenerManager.add("message",this.playerWindow,function(i){if(Object(r.isObject)(i.data)){var n=i.data;if(!n.method)return;switch(n.method){case t.INIT_MESSAGE:e.pairedAdWindow=i.source,e.sendMessage({method:t.INIT_MESSAGE});break;default:try{if(Object(r.isFunction)(e.api[n.method]))if("getUserLocation"===n.method)e.handleGetUserLocationRequest(n);else{var o=(a=e.api)[n.method].apply(a,n.methodArgs);e.sendMessage({method:n.method,methodReturn:o})}else e.sendMessage({method:n.method,error:"Method "+n.method+" does not exist on api"})}catch(t){e.sendMessage({method:n.method,error:t.toString()})}}}var a})},t.prototype.stopListening=function(){this.eventListenerManager.remove("message")},t.prototype.sendMessage=function(t){this.pairedAdWindow&&this.pairedAdWindow.postMessage(t,"*")},t.prototype.handleGetUserLocationRequest=function(t){var e=this,i=function(i){e.sendMessage({method:t.method,methodReturn:n.extractCoordsFromPosition(i)})},o=function(i){e.sendMessage({method:t.method,methodReturn:i.message||i.toString()})};this.api[t.method](i,o)},t.INIT_MESSAGE="studio-ad--format-RPC",t.SENSOR_UPDATE="-studio-ad--sensors-update",t}()},function(t,e,i){function n(t,e,i){return a.c.of(function(){t.navigator.geolocation.getCurrentPosition(e,i)}).recover(function(t){i({code:1,message:t.message,PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3})})}function o(t){var e=t.coords;return{accuracy:e.accuracy,latitude:e.latitude,longitude:e.longitude}}function r(t,e,i){i&&i.DeviceOrientationEvent&&!u&&(u=!0,s.addEventListener("deviceorientation",i,function(t){e.sendMessage({method:c.a.SENSOR_UPDATE,methodReturn:{alpha:t.alpha,beta:t.beta,gamma:t.gamma,absolute:t.absolute}})}))}Object.defineProperty(e,"__esModule",{value:!0}),e.getUserLocation=n,e.extractCoordsFromPosition=o,e.addDeviceOrientationListener=r;var a=i(12),s=i(7),c=i(253),u=!1},function(t,e,i){i.d(e,"a",function(){return h});var n=i(2),o=i(7),r=i(6),a=i(19),s=i(183),c=i(1),u=i(28),d=i(0),l=i(4),p=i(159),h=function(){function t(t,e,i){var n=this;this.container=t,this.logger=new c.a("FixedBackground"),this.resizeContainer=function(t){t&&"orientationchange"===t.type&&(n.center=null);var e=o.getBoundingClientRect(n.container),i=o.getWindowSize(n.win),r=Math.round(e.width),a=n.image.height*r/n.image.width;if(n.baseContainer.style.width=r+"px",n.baseContainer.style.height=Math.round(e.height)+"px",n.canUseBackgroundAttachment())n.center=n.center||(i.height-a)/2,n.baseContainer.style.backgroundSize=Math.round(r)+"px "+Math.round(a)+"px",n.baseContainer.style.backgroundPosition=Math.round(e.left)+"px "+n.center+"px";else{n.fixedContainer.style.width=Math.round(r)+"px",n.fixedContainer.style.height=Math.round(1.2*(i.height+a))+"px",n.fixedContainer.style.backgroundSize=Math.round(r)+"px "+Math.round(a)+"px",n.fixedContainer.style.left=Math.round(e.left)+"px",n.center=n.center||(i.height-a)/2%a;var s=n.center>0?n.center-a:n.center;n.fixedContainer.style.top=s+"px"}},this.win=r.getWindow(this.container),r.addClass(e,"teads-display-format"),i=Object(d.isFunction)(i)?i:this.resizeContainer,this.eventListenerManager=new u.a,this.eventListenerManager.addMultiple(["resize","orientationchange"],this.win,function(){return i()}),this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.container,function(){return i()})}return t.prototype.loadImage=function(t,e){var i=this;return this.image=new Image,this.image.onerror=function(t){return e(!1,l.b.empty())},this.image.onload=function(t){i.image.naturalWidth&&i.image.naturalHeight?e(!0,l.b.of(i.image)):(i.logger.error("setFixedBackgroundImage: Asset size error: cannot retrieve image dimensions"),e(!1,l.b.of(i.image)))},this.image.src=t,this.image},t.prototype.initContainer=function(){s.embedCSS(t.CSS,this.win,t.STYLE_NODE_ID),this.baseContainer=this.win.document.createElement("div"),this.baseContainer.className=t.CSSCLASSES.absolute,this.canUseBackgroundAttachment()?this.baseContainer.style.backgroundImage="url("+this.image.src+")":(this.fixedContainer=this.win.document.createElement("div"),this.fixedContainer.style.backgroundImage="url("+this.image.src+")",this.fixedContainer.className=t.CSSCLASSES.fixed,(a.isGreaterOrEqual(n.getChromeVersion(),"55")||n.isSafari())&&(this.baseContainer.style.setProperty("-webkit-clip-path","inset(1px 0px)","important"),this.baseContainer.style.setProperty("clip-path","inset(1px 0px)","important")),this.baseContainer.appendChild(this.fixedContainer)),this.resizeContainer()},t.prototype.append=function(){this.container.style.position="relative",this.container.style.zIndex="100",this.container.parentNode.insertBefore(this.baseContainer,this.container)},t.prototype.destroy=function(){this.baseContainer.parentNode.removeChild(this.baseContainer),this.eventListenerManager.removeAll()},t.prototype.canUseBackgroundAttachment=function(){return n.isDesktop()||n.isFirefox()&&n.isAndroid()||n.isSamsungBrowser()},t.prototype.getBaseContainer=function(){return this.baseContainer},t.CSS=p.DISPLAYCSS,t.CSSCLASSES={absolute:"teads-display-absolute",fixed:"teads-display-fixed",clickZone:"teads-display-clickzone"},t.STYLE_NODE_ID="teads-inread-display",t}()},function(t,e,i){function n(t,e){var i={},n=function(t,e){i[t]||(i[t]={origins:[e],count:0}),i[t].count++,T.includes(i[t].origins,e)||i[t].origins.push(e)};T.forEach(t.mediaFiles,function(t){return n(Object(s.parse)(t.url).hostname,a.MediaFile)}),T.forEach(t.wrappers,function(t){return n(Object(s.parse)(t).hostname,a.WrapperUrl)}),t.url&&n(Object(s.parse)(t.url).hostname,a.VastUrl);for(var o in t.tracking)t.tracking.hasOwnProperty(o)&&T.forEach(t.tracking[o],function(t){return n(Object(s.parse)(t.url).hostname,a.Tracking)});return T.forEach(t.extensions,function(t){switch(t.type){case f.a.MOAT_JS:n(("https:"===Object(c.getProtocol)()?"z":"js")+".moatads.com",a.Extension);break;case f.a.AD_VERIFICATIONS:var i=e.getPlugin("Extensions"),o=i.retrieveCreativePrefetchAdVerificationScriptUrls(t);T.forEach(o,function(t){var e=t.url;return n(Object(s.parse)(e).hostname,a.Extension)})}}),i}function o(t,e){if(T.some(t,M.c.isPlayableVideo))for(var i in e)if(e.hasOwnProperty(i)){var n=1===e[i].origins.length&&e[i].origins[0]===a.Extension;n||V.a.sendRaw("v-do g="+V.a.businessIds.gid+";s="+V.a.businessIds.sid+";d="+i+";c="+e[i].count,.01)}}function r(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(z({hostname:i},t[i]));window.teads.vastDomains=e}i.d(e,"a",function(){return K});var a,s=i(23),c=i(0),u=i(236),d=i(1),l=i(295),p=i(296),h=i(297),f=i(87),g=i(88),m=i(298),v=i(28),y=i(252),b=i(49),A=i(31),E=i(39),w=i(184),C=i(6),_=i(2),S=i(19),T=i(3),I=i(7),O=i(257),P=i(258),k=i(385),x=i(279),L=i(27),R=i(4),D=i(181),N=i(182),V=i(58),M=i(84),F=i(158),U=i(9),j=i(21),B=i(5),W=i(86),H=i(187),G=i(183),z=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},K=function(){function t(t,e,i,n){this.placement=t,this.formatConfig=e,this.player=i,this.slotType=n,this.states={hasOpened:!1,isReady:!1,hasStarted:!1,hasStopped:!1,hasCompleted:!1,isReplay:!1,isPlaying:!1,isCollapsed:!1,shouldBePaused:!1},this.hasMoatExtension=!1,this.adWidth=0,this.adHeight=0,this.adDuration=-2,this.adRemainingTime=NaN,this.isVertical=!1,this.campaignToTest=/^(29690|29686|30201|31079|29605|25615|31856|33457)$/,this.wigoi=null,this.logger=new d.a("format"),this.logger.debug("new",e.formatName.get()),this.linearAd=this.player?this.player.getLinearAd():null,this.hasMoatExtension=!!this.player&&this.player.hasMoatExtension(this.linearAd),w.setCreativeInformation(this.linearAd),this.parentContainer=this.placement.getParentContainer(),this.playerContainer=this.placement.getPlayerContainer(),this.win=t.placementConfig.parentWindow.getWindow(),this.eventListenerManager=new v.a,this.volumeController=new m.a,this.viewabilityTagsHelper=new h.a(R.b.of(this.formatConfig.insertionId),this.formatConfig.connectionId,this.formatConfig.adType,this.playerContainer,this.win),this.initComponents(),this.player?this.vpaidApi=this.player.getConfig().vpaidApi:this.vpaidApi=new y.a(t,this.formatConfig)}return t.prototype.setWigoi=function(t){this.wigoi=t},t.prototype.getWigoi=function(){return this.wigoi},t.prototype.initComponents=function(){var t=this,e=this.placement.getElectedSlot();if(!e)return void this.logger.debug("Could not init components because no elected slot");var i=(C.getDocument(e.getElement()),new O.a(this.formatConfig.label)),n=new P.a(this.formatConfig.credits),o={label:i,credits:n};if((this.formatConfig.smartPosition.isEnabled()||"corner"===this.slotType)&&(o.smartHeader=new x.a),!this.placement.isSliderEnabled()){o.adChoices=new k.a(Object(F.b)(this.linearAd));var r=this.formatConfig.formatName.isInBoard()||this.formatConfig.smartPosition.isTop()||!this.formatConfig.label.isEnabled()?g.a.IN:g.a.OUT;r===g.a.OUT&&this.playerContainer.parentNode.insertBefore(o.adChoices.getElement(),this.playerContainer),R.b.of(this.player).forEach(function(t){return t.getConfig().adChoicesIconLocation=r})}this.components=new p.a(o),function(e){for(var i in e)R.b.of(e[i]).filter(function(t){return!!t.getHTML()}).filter(function(t){return!!t.getCSS()}).forEach(function(e){return G.embedCSS(e.getCSS(),t.win,"teads-inline-"+Math.ceil(1e4*Math.random()))})}(o),i.getHTML()&&!this.placement.isSliderEnabled()&&this.playerContainer.parentNode.insertBefore(i.getElement(),this.playerContainer),n.getHTML()&&!this.placement.isSliderEnabled()&&this.playerContainer.parentNode.appendChild(n.getElement()),this.components.hideAllComponents(),this.placement.placementConfig.css.applyRulesOn(this.parentContainer)},t.prototype.getBrandingMode=function(){return this.brandingMode},t.prototype.getTemplateName=function(){throw new Error("getTemplateName must be implemented in child class")},t.prototype.getVpaidAd=function(){return this.vpaidAd},t.prototype.getVolumeController=function(){return this.volumeController},t.prototype.getFullscreenHelper=function(){return this.fullscreenHelper},t.prototype.exit=function(t){var e=this;switch(this.vpaidAd&&this.vpaidAd.stopAd(),this.smartPositionHelper&&this.smartPositionHelper.deinit(),this.eventListenerManager.removeAll(),this.vpaidApi&&this.vpaidApi.close(),this.responsive&&this.responsive.unsetResponsive(),this.parentContainer&&this.parentContainer.parentNode&&L.setTimeout(function(){e.parentContainer.parentNode.removeChild(e.parentContainer),e.unsetVisibility()},2e3),t){case u.a.AdSuccess:this.logger.info("Format successfully exited after displaying an ad");break;case u.a.NoAdSuccess:this.logger.info("Format successfully exited without displaying an ad");break;case u.a.MoatNotVisibleAdSuccess:this.logger.info("Format successfully exited because the VAST contains a MOAT extension while the player is hidden by CSS");break;case u.a.AdError:this.logger.error("Format exited with an ad error");break;case u.a.ResizeAmpError:this.logger.error("Format exited due to resize denied on opening by AMP framework");break;case u.a.ReplayError:this.logger.error("Format exited due to an exception thrown during replay");break;default:this.logger.warn("Format exited with unknown status")}for(var i=D.d[this.formatConfig.formatName.get()],n=0,o=i.length;n<o;n++)if(i[n]===this){i.splice(n,1);break}_.isAmp()&&(t!==u.a.NoAdSuccess?w.clean():this.placement.placementConfig.fallback.hasValue()||(w.clean(),w.reportRenderedEntityIdentifier())),_.isIABSafeFrame()&&N.close()},t.prototype.getCurrentTime=function(){return this.adDuration>0&&this.adRemainingTime>=0?this.adDuration-this.adRemainingTime:0},t.prototype.getEnvironmentVars=function(){return this.vpaidAd&&this.vpaidAd.getTeadsEnvironmentVars()||{}},t.prototype.load=function(t,e){var i=this,n=function(t){i.logger.error("VPAID play:",t),V.a.sendError({pid:i.placement.pid,cid:i.vpaidApi.getContextData()?i.vpaidApi.getContextData().tracking.cid:void 0,scid:i.vpaidApi.getContextData()?i.vpaidApi.getContextData().tracking.studio_cid:void 0,message:"Error when loading mediafile|"+t.getFullMessage().substr(0,120)}),e&&e(t)},o=function(e,n){i.vpaidAd=e,i.initAdConfig=n,t&&(i.formatConfig.callbacks.trigger("adAvailable"),t());var o=M.c.getMediaFileRatioLog(i.player.getMediafile(),i.placement.pid,R.b.of(i.formatConfig.adSourceId));V.a.sendInfo(o)},r=function(t){return i.placement.placementConfig.allowedRatio.mediafileRatioIsValid(t)};!this.player&&t?t():this.mediafile?this.player.loadMediaFile(this.mediafile,o,n):this.player.loadOptimalMediaFile(o,n,r)},t.prototype.close=function(t){var e=this;this.states.hasStopped||(this.states.hasStopped=!0,!this.states.hasOpened||S.isLowerOrEqual(_.getIEVersion(),"9")||_.isAmp()||this.states.isCollapsed?(this.collapse(),this.exit(t)):(this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.parentContainer,function(){return e.exit(t)}),this.collapse()))},t.prototype.collapse=function(){this.states.isCollapsed||(this.states.isCollapsed=!0,this.components.hideAllComponents(),this.formatConfig.animations.setCollapseDuration(this.parentContainer),this.parentContainer.style.height="0")},t.prototype.start=function(){this.components.showAllComponents(),this.addCustomTracking(window._ttc),this.logger.debug("VPAID started",this.vpaidAd,this.initAdConfig),this.mediafile=this.player.getMediafile(),this.onVpaidReady(),this.placement.placementTracker.handleInitAdTimingMark(this.vpaidAd),this.vpaidAd.initAd(this.initAdConfig.width,this.initAdConfig.height,this.initAdConfig.mode,this.initAdConfig.bitrate,this.initAdConfig.parameters)},t.prototype.onAdLoaded=function(){var t=this;this.states.isReady=!0;var e=n(this.linearAd,this.player);o(this.linearAd.mediaFiles,e),r(e),_.isAmp()&&!w.isOpen()&&(V.a.sendInfo("AMP resize open request"),w.renderStart(),w.open(this.fitContainerToContent(!0),function(e){if(!e){t.close(u.a.ResizeAmpError),t.unlistenAmp();var i="AMP resize open request denied";V.a.sendInfo(i),t.logger.info("AdLoaded",i),t.wigoi&&t.wigoi.valid(3,4,i,A.a.infoType.ERROR)}},function(){var t=window._teads_amp.change;return!(t.boundingClientRect.top>=t.rootBounds.height)})),this.volumeController.mute(),this.eventListenerManager.add("mouseover",this.parentContainer,function(){return t.volumeController.onMouseOver()}),this.eventListenerManager.add("mouseout",this.parentContainer,function(){return t.volumeController.onMouseOut()}),this.updateAdSize(),this.vpaidAd.render(this.vpaidAd.getVPAID())},t.prototype.onAdVideoStart=function(){this.states.hasCompleted=!1,this.states.isPlaying=!0,this.volumeController.onAdVideoStart()},t.prototype.onAdStarted=function(){this.states.hasStarted=!0,this.vpaidApi.getStudioData()?this.brandingMode.deinit():this.brandingMode.init(),this.placement.placementConfig.capping.record(),this.volumeController.mute(),this.updateAdSize(),this.states.shouldBePaused&&this.requestPauseAd()},t.prototype.onAdPaused=function(){this.states.isPlaying=!1},t.prototype.onAdPlaying=function(){this.states.isPlaying=!0},t.prototype.onAdStopped=function(){this.states.isPlaying=!1,this.close(u.a.AdSuccess)},t.prototype.onAdSkipped=function(){this.collapse()},t.prototype.onAdVideoComplete=function(){this.states.hasCompleted=!0},t.prototype.onAdError=function(t){var e="string"==typeof t?t:t.message?t.message:U.stringify(t),i=this.player.getLinearAd();V.a.sendError({aid:i?i.id:-1,pid:this.placement.pid,cid:this.vpaidApi.getContextData()?this.vpaidApi.getContextData().tracking.cid:void 0,scid:this.vpaidApi.getContextData()?this.vpaidApi.getContextData().tracking.studio_cid:void 0,message:"AdError: "+e}),this.logger.error("AdError:",e),this.close(u.a.AdError)},t.prototype.onAdSizeChange=function(){this.updateAdSize(),this.updateParentContainerClass()},t.prototype.onAdRemainingTimeChange=function(){this.adRemainingTime=this.vpaidAd.getAdRemainingTime()},t.prototype.onAdDurationChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.onAdRemainingTimeChange()},t.prototype.onCollapseRequest=function(){this.formatConfig.callbacks.trigger("CollapseRequest"),this.collapse()},t.prototype.onSoundToggleRequest=function(){var t=this,e=this.getEnvironmentVars();e.videoSlot&&e.videoSlot.audio&&!e.videoSlot.audio.authorized?e.videoSlot.audio.authorizeAudio(function(){return t.volumeController.toggleVolume()}):this.volumeController.toggleVolume()},t.prototype.onReplayRequest=function(){this.replay(),V.a.sendInfo("click-replay "+_.getContextSummary(),null,1)},t.prototype.onEndscreenInit=function(){this.getInViewState()||(this.logger.debug("The video completed but it's not in view, pause it."),this.requestPauseAd()),this.visibility&&!this.visibility.isEnabled()&&(this.visibility.enable(),this.visibility.isVisible()||this.onHidden())},t.prototype.onVisible=function(){if(this.logger.debug("Format is visible",this.playerContainer.id),!this.states.hasStopped&&this.states.hasOpened&&this.states.hasStarted){var t=void 0;t=this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?!this.getInViewState():!this.formatConfig.videoPause.isNo(),t||this.requestResumeAd(),this.logger.debug("onVisible mustPause",t)}},t.prototype.onHidden=function(){this.logger.debug("Format is hidden",this.playerContainer.id),this.states.hasStarted&&this.states.isPlaying&&(!this.formatConfig.videoPause.isNo()||this.states.hasCompleted?this.requestPauseAd():!this.formatConfig.soundMute.isNo()&&this.volumeController.getVolume()>0&&this.volumeController.mute())},t.prototype.initInternalResponsive=function(){this.player&&this.vpaidAd&&(this.player.getPlugin("Responsive").deinit(),this.responsive=new l.a(this),this.responsive.resizeOnStart())},t.prototype.onVpaidReady=function(){var e=this;this.initInternalResponsive(),this.isVertical=this.player.getMediafile().height>t.VERTICAL_MARGIN*this.player.getMediafile().width,this.volumeController.init(this),this.visibility=b.a.listenWindow(this.win,function(){return e.onVisible()},function(){return e.onHidden()}),this.vpaidAd.subscribe(function(){return e.onAdLoaded()},B.a.AdLoaded),this.vpaidAd.subscribe(function(){return e.onAdVideoStart()},B.a.AdVideoStart),this.vpaidAd.subscribe(function(){return e.onAdStarted()},B.a.AdStarted),this.vpaidAd.subscribe(function(){return e.onAdPaused()},B.a.AdPaused),this.vpaidAd.subscribe(function(){return e.onAdPlaying()},B.a.AdPlaying),this.vpaidAd.subscribe(function(){return e.onAdSizeChange()},B.a.AdSizeChange),this.vpaidAd.subscribe(function(){return e.onAdDurationChange()},B.a.AdDurationChange),this.vpaidAd.subscribe(function(){return e.onAdRemainingTimeChange()},B.a.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return e.onAdVideoComplete()},B.a.AdVideoComplete),this.vpaidAd.subscribe(function(){return e.onAdStopped()},B.a.AdStopped),this.vpaidAd.subscribe(function(){return e.onAdSkipped()},B.a.AdSkipped),this.vpaidAd.subscribe(function(t){return e.onAdError(t)},B.a.AdError);var i=this;for(var n in B.a)!function(t){B.a.hasOwnProperty(t)&&i.vpaidAd.subscribe(function(){e.formatConfig.callbacks.trigger(t,e.volumeController,e.fullscreenHelper)},t)}(n);this.linearAd.clickThrough&&this.linearAd.clickThrough.length&&this.vpaidAd.subscribe(function(){e.onHidden(),(e.formatConfig.soundOver.isOver()||e.formatConfig.soundOver.isOnceOver())&&e.volumeController.mute()},B.a.AdClickThru),this.vpaidAd.subscribe(function(){return e.onCollapseRequest()},j.a.CollapseRequest),this.vpaidAd.subscribe(function(){return e.onSoundToggleRequest()},j.a.SoundToggleRequest),this.vpaidAd.subscribe(function(){return e.onReplayRequest()},j.a.ReplayRequest),this.vpaidAd.subscribe(function(){return e.onEndscreenInit()},j.a.EndscreenInit),this.formatConfig.vtpEvent.getEvent()&&this.vpaidAd.subscribe(function(){return e.onVtpEvent()},this.formatConfig.vtpEvent.getEvent())},t.prototype.triggerOnVtpEvent=function(){this.formatConfig.videoPause.setToNo(),this.states.isPlaying||this.requestResumeAd()},t.prototype.onVtpEvent=function(){if(!this.formatConfig.videoPause.isNo())if(this.formatConfig.vtpEvent.getEvent()===B.a.AdRemainingTimeChange){var t=this.vpaidAd.getAdDuration(),e=this.vpaidAd.getAdRemainingTime(),i=Math.floor(t-e);!isNaN(i)&&i>0&&i>=this.formatConfig.vtpEvent.getOffset()&&this.triggerOnVtpEvent()}else this.triggerOnVtpEvent()},t.prototype.updateAdSize=function(){this.adWidth=this.vpaidAd.getAdWidth(),this.adHeight=this.vpaidAd.getAdHeight()},t.prototype.updateParentContainerClass=function(){var t=this;if(this.vpaidAd){var e=I.getBoundingClientRect(this.parentContainer).width;T.forEach([E.RESPONSIVE.xs.className,E.RESPONSIVE.sm.className],function(e){C.removeClass(t.parentContainer,e)}),e<=E.RESPONSIVE.xs.size?C.addClass(this.parentContainer,E.RESPONSIVE.xs.className):e<=E.RESPONSIVE.sm.size&&C.addClass(this.parentContainer,E.RESPONSIVE.sm.className)}},t.prototype.replay=function(){var t=this;this.logger.debug("replay called"),this.placement.placementTracker.track("click-replay"),V.a.sendInfo("click-replay "+_.getContextSummary(),!0),this.volumeController.replay();try{this.player.getPlugin("Responsive").unsetResponsive(),this.player.setLinearAd(this.linearAd),this.responsive&&this.responsive.unsetResponsive(),this.unsetVisibility(),this.states.isReady=!0,this.states.hasOpened=!0,this.states.hasStarted=!1,this.states.hasStopped=!1,this.states.hasCompleted=!1,this.states.isReplay=!0,this.vpaidAd=null,W.a.hasLogged=[],_.isDesktop()&&this.formatConfig.videoStart.isClick()&&(this.formatConfig.videoStart=new H.a(H.a.DEFAULT,this.formatConfig.formatName)),this.load(function(){return t.start()})}catch(t){this.logger.error("Replay callback threw an exception",t),this.close(u.a.ReplayError)}},t.prototype.unsetVisibility=function(){this.visibility&&(this.visibility.destroy(),this.visibility=null)},t.prototype.isVisible=function(){return _.isAmp()?!!this.visibility&&(this.visibility.isVisible()&&w.isOpen()):!this.visibility||!this.visibility.isEnabled()||this.visibility.isVisible()},t.prototype.getMoatInViewState=function(){var t=!0;return _.isFacebookIA()||_.isAmp()||_.isIABSafeFrame()||(t=C.getRealVisibilityState(this.playerContainer)&&this.isVisible()),t},t.prototype.getInViewState=function(){return this.getViewportInViewState()&&this.getMoatInViewState()},t.prototype.clearRealVisibilityInterval=function(){this.realVisibilityInterval&&this.realVisibilityInterval.clear()},t.prototype.requestPauseAd=function(){this.states.hasStarted?this.vpaidAd.pauseAd():this.states.shouldBePaused=!0},t.prototype.requestResumeAd=function(){this.states.hasStarted?this.vpaidAd.resumeAd():this.states.shouldBePaused=!1},t.prototype.addCustomTracking=function(t){var e=this;void 0===t&&(t={});var i=this.player.getPlugin("Tracker"),n=i.getTracker();for(var o in t)if(t.hasOwnProperty(o)){var r=t[o].trackings||[];T.forEach(r,function(t){var i=t.event;"progress"!==i?n.addResource(i,t.url):e.logger.warn("Custom tracking cannot be handled",t)})}},t.VERTICAL_MARGIN=1.05,t}();!function(t){t.MediaFile="mediafile",t.VastUrl="vasturl",t.WrapperUrl="wrapperurl",t.Tracking="tracking",t.Extension="extension"}(a||(a={}))},function(t,e,i){var n=i(148),o=i(159),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){var i=t.call(this,"teads-ui-components-label",o.LABELCSS)||this;return i.label=e,i.innerHTML=i.label.getText(),i.initElement(),i}return r(e,t),e.prototype.isEnabled=function(){return this.label.isEnabled()},e}(n.a);e.a=a},function(t,e,i){var n=i(148),o=i(159),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e){var i=t.call(this,"teads-ui-components-credits",o.CREDITSCSS)||this;i.config=e;var n=/\[([^\]]*)\]/g,r=i.config.getText().replace(n,'<span class="teads-ui-components-credits-colored">$1</span>'),a=i.config.getLink()||"http://teads.tv/en";return i.innerHTML='<a href="'+a+'" rel="nofollow" target="_blank">'+r+"</a>",i.initElement(),i}return r(e,t),e.prototype.isEnabled=function(){return this.config.isEnabled()},e}(n.a);e.a=a},function(t,e,i){i.d(e,"a",function(){return l});var n=i(39),o=i(28),r=i(1),a=i(5),s=i(2),c=i(3),u=i(6),d=i(7),l=function(){function t(t,e,i,d,l,p){var h=this;if(this.formatContainer=t,this.vpaidAd=e,this.components=i,this.responsive=d,this.win=l,this.fullscreenElement=p,this.originalVpaidSize={width:0,height:0},this.fullscreenFormatStyle={width:"100%",height:"100%",top:"0",left:"0",position:"fixed","z-index":String(n.MAX_Z_INDEX_VALUE),"background-color":"#000000",margin:"0","max-width":"none",padding:"0"},this.originalFormatStyle={width:"",height:"",top:"",left:"",position:"","z-index":"","background-color":"",margin:"","max-width":"",padding:""},this.canvasTag=null,this.active=!1,this.isVideoPaused=!1,this.wasVideoPaused=!1,this.eventListenerManager=new o.a,this.beforeOpenEventListeners=[],this.closeEventListeners=[],this.logger=new r.a("FullscreenHelper"),this.parentsPropertiesList=[],this.logger.debug("new"),this.vpaidAd.subscribe(function(){return h.isVideoPaused=!0},a.a.AdPaused),this.vpaidAd.subscribe(function(){return h.isVideoPaused=!1},a.a.AdPlaying),!s.isIos()){var f=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"];this.eventListenerManager.addMultiple(f,this.win,function(t){u.isFullscreen(h.win.document)?h.vpaidAd.resizeAd(h.win.screen.width,h.win.screen.height,"fullscreen"):(c.forEach(h.closeEventListeners,function(t){t()}),h.close())}),this.vpaidAd.subscribe(function(){return h.eventListenerManager.removeMultiple(f)},a.a.AdStopped)}if(this.responsive&&this.responsive.addOrientationChangeListener(function(){return h.handleOrientationChange()}),s.isIos()){var g=this.vpaidAd.getCreativeContainer();g&&g.contentWindow&&this.eventListenerManager.add("touchmove",g.contentWindow,function(t){h.isActive()&&t.preventDefault()})}}return t.getPropertyToSave=function(t,e){return{name:e,value:t.style.getPropertyValue(e),priority:t.style.getPropertyPriority(e)}},t.prototype.handleOrientationChange=function(){this.active&&(this.logger.debug("orientation change, resizeAd"),this.responsive.resize(!0))},t.prototype.isActive=function(){return this.active},t.prototype.init=function(t){this.vpaidEnvironmentVars=t,this.vpaidEnvironmentVars.videoSlot&&(this.canvasTag=this.vpaidEnvironmentVars.videoSlot.canvas)},t.prototype.addBeforeOpenEventListener=function(t){c.indexOf(this.beforeOpenEventListeners,t)<0&&this.beforeOpenEventListeners.push(t)},t.prototype.addCloseEventListener=function(t){c.indexOf(this.closeEventListeners,t)<0&&this.closeEventListeners.push(t)},t.prototype.open=function(){this.active||(this.active=!0,c.forEach(this.beforeOpenEventListeners,function(t){t()}),u.addClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),s.isIos()?(this.overrideParentsProperties(),this.originalVpaidSize.width=Object(d.getBoundingClientRect)(this.formatContainer).width,this.originalVpaidSize.height=this.vpaidAd.getAdHeight(),u.addClass(this.formatContainer,"no-transition"),this.applyStyleRules(),this.components.hideAllComponents()):u.openFullscreen(this.fullscreenElement),this.responsive.resize(!0),this.isVideoPaused?(this.vpaidAd.resumeAd(),this.wasVideoPaused=!0):this.wasVideoPaused=!1)},t.prototype.close=function(){var t=this;this.active&&(u.removeClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),s.isIos()?(this.restoreParentsProperties(),u.removeClass(this.formatContainer,"no-transition"),this.components.showAllComponents(),this.restoreStyleRules()):s.isAndroid()?setTimeout(function(){return u.closeFullscreen(t.vpaidAd.getContainer())},100):u.closeFullscreen(this.fullscreenElement),this.wasVideoPaused&&this.vpaidAd.pauseAd(),this.active=!1,this.responsive.resize(!0),this.canvasTag&&this.resetCanvas(),c.forEach(this.closeEventListeners,function(t){t()}))},t.prototype.applyStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&(this.originalFormatStyle[t]=this.formatContainer.style.getPropertyValue(t));for(var t in this.fullscreenFormatStyle)this.fullscreenFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.fullscreenFormatStyle[t])},t.prototype.restoreStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.originalFormatStyle[t])},t.prototype.resetCanvas=function(){this.logger.debug("reset canvas"),this.canvasTag.style.setProperty("position","relative"),this.canvasTag.style.setProperty("top","0"),this.canvasTag.style.setProperty("left","0")},t.prototype.overrideParentsProperties=function(){var e=this;this.parentsPropertiesList=[];var i=u.findParentElements(this.formatContainer);c.forEach(i,function(i){var n={element:i,properties:[]},o=e.win.getComputedStyle(i);o.zIndex&&"auto"!==o.zIndex&&(n.properties.push(t.getPropertyToSave(i,"z-index")),i.style.setProperty("z-index","auto","important"));var r=["transform","-webkit-transform","transition","-webkit-transition"];c.forEach(r,function(e){n.properties.push(t.getPropertyToSave(i,e))}),c.forEach(r,function(t){i.style.setProperty(t,"none","important")}),e.parentsPropertiesList.push(n)}),this.parentsPropertiesList.push({element:this.win.document.body,properties:[t.getPropertyToSave(this.win.document.body,"overflow")]}),this.win.document.body.style.setProperty("overflow","hidden")},t.prototype.restoreParentsProperties=function(){c.forEach(this.parentsPropertiesList,function(t){c.forEach(t.properties,function(e){t.element.style.removeProperty(e.name),t.element.style.setProperty(e.name,e.value,e.priority)})})},t}()},function(t,e,i){var n=i(159),o=i(1),r=i(183),a=i(7),s=i(65),c=i(27),u=i(0),d=i(56),l=function(){function t(e,i,n,s,c,u,d){var l=this;this.parentContainer=e,this.clickZone=i,this.container=n,this.endCallback=s,this.clickCallback=c,this.win=u,this.rolloverCountdown=d,this.logger=new o.a("helper.Countdown"),Object(r.embedCSS)(t.CSS,this.win,t.STYLE_NODE_ID),this.container.className=t.CSSCLASSES.countdownContainer,a.addEventListener("click",this.clickZone,function(){l.onClick()})}return t.prototype.show=function(){var e=this;this.logger.debug("init countdown called"),Object(r.embedCSS)(n.COUNTDOWNCSS,this.win,t.CSSCLASSES.countdownStyle),this.container.style.setProperty("opacity","0"),this.container.innerHTML=d.replacePlaceholders(n.COUNTDOWNHTML,{assetsPath:s.b.assetsUrl});var i=a.getElementsByClassName(t.CSSCLASSES.countdownCircle,this.container)[0],o=a.getBoundingClientRect(i),u=a.getBoundingClientRect(this.parentContainer);i.style.setProperty("top",(u.height-o.height)/2+"px"),i.style.setProperty("right",(u.width-o.width)/2+"px"),setTimeout(function(){return e.container.style.setProperty("opacity","1")},100);var l=a.getElementsByClassName(t.CSSCLASSES.countdownNumber,this.container)[0],p=3,h=a.getElementsByClassName(t.CSSCLASSES.countdownCircleStroke,this.container)[0],f=h.attributes["stroke-dasharray"]?Number(h.attributes["stroke-dasharray"].value):0;h.style.setProperty("stroke-dashoffset",String(f));var g=this.rolloverCountdown?1e3*this.rolloverCountdown/p:600,m=p*g/(1e3/60),v=0,y=function(){v<=m&&(h.style.setProperty("stroke-dashoffset",""+(f-v/m*f)),v++,e.countdownCircleStrokeTimer=c.requestAnimationFrame(y,1e3/60))};this.countdownCircleStrokeTimer=c.requestAnimationFrame(y,1e3/60),this.countdownTimer=setInterval(function(){p>0&&p--,l.textContent=String(p),0===p&&e.onEnded()},g)},t.prototype.hide=function(){this.container&&(this.container.innerHTML="",clearInterval(this.countdownTimer),c.cancelAnimationFrame(this.countdownCircleStrokeTimer))},t.prototype.onEnded=function(){if(this.endCallback&&Object(u.isFunction)(this.endCallback))try{this.endCallback()}catch(t){this.logger.error("Countdown onEnded callback error",t)}},t.prototype.onClick=function(){if(this.clickCallback&&Object(u.isFunction)(this.clickCallback))try{this.clickCallback()}catch(t){this.logger.error("Countdown onClick callback error",t)}},t.STYLE_NODE_ID="teads-inread-countdown",t.CSS=n.COUNTDOWNCSS,t.CSSCLASSES={countdown:"teads-countdown",countdownStyle:"teads-countdown-style",countdownBackground:"teads-countdown-background",countdownCircle:"teads-countdown-circle",countdownCircleStroke:"teads-countdown-circle-main",countdownNumber:"teads-countdown-number",countdownClickZone:"teads-countdown-clickzone",countdownContainer:"teads-countdown-container",countdownMainContainer:"teads-countdown-maincontainer"},t}();e.a=l},function(t,e,i){var n=i(159),o=i(7),r=i(6),a=i(257),s=i(258),c=i(0),u=i(65),d=i(56),l=function(){function t(e,i,o,a,s){void 0===i&&(i=document.body),void 0===o&&(o=10),void 0===a&&(a=400),this.fromElement=i,this.margin=o,this.transitionDuration=a,this.scope=s,this.css=n.EXPANDCSS,this.content=d.replacePlaceholders(n.EXPANDHTML,{iframeurl:e,assetsPath:u.b.assetsUrl}),s||(this.scope=r.findParentWindows(window.document.body).pop()),this.background=this.scope.document.createElement("div"),this.background.style.setProperty("display","none"),this.background.className="teads-expand-overlay open",this.scope.document.body.appendChild(this.background),this.container=this.scope.document.createElement("div"),this.container.style.setProperty("display","none"),this.container.className="teads-expand-container",this.scope.document.body.appendChild(this.container),this.setCSS(this.css),this.contentContainer=document.createElement("div"),this.contentContainer.className=t.CSSCLASSES.expandContentContainer,this.contentContainer.innerHTML=this.content,this.container.appendChild(this.contentContainer)}return t.openExpand=function(e,i,n,r,u,d){var l=new t(n,e),p=l.getContentElement(),h=o.getElementsByClassName(t.CSSCLASSES.expandLabel,p)[0],f=o.getElementsByClassName(t.CSSCLASSES.expandCredit,p)[0],g=o.getElementsByClassName(t.CSSCLASSES.expandCloseButton,p)[0],m=function(t,e){if(t){var i=e.getHTML();!i&&t.parentNode?t.parentNode.removeChild(t):t.innerHTML=i}};m(h,new a.a(i.label)),m(f,new s.a(i.credits)),d&&(g.style.setProperty("display","none"),setTimeout(function(){g.style.setProperty("display","block")},1e3*d));var v=function(){var e=o.getElementsByClassName(t.CSSCLASSES.expandIframe,p)[0],i=o.getElementsByClassName(t.CSSCLASSES.expand,p)[0],n=o.getBoundingClientRect(i).height,r=l.getContainerHeight()-n+o.getBoundingClientRect(e).height;e.style.setProperty("width",l.getContainerWidth()+"px"),e.style.setProperty("height",r+"px")};l.open(function(){v(),r&&Object(c.isFunction)(r)&&r()},function(){return v()}),o.addEventListener("click",g,function(){l.close(function(){u&&Object(c.isFunction)(u)&&u(),l.destroy()})})},t.prototype.setCSS=function(e){this.css=e;var i=this.scope.document.getElementById(t.styleNodeId);i&&i.parentNode.removeChild(i);var n=document.createElement("style");n.setAttribute("id",t.styleNodeId),n.appendChild(this.scope.document.createTextNode(d.replacePlaceholders(this.css,{transitionDuration:this.transitionDuration,assetsPath:u.b.assetsUrl})));var i=this.scope.document.head||this.scope.document.body||this.background;i.appendChild(n)},t.prototype.open=function(t,e){var i=this;if(!this.opened){this.opened=!0,this.contentContainer.style.setProperty("display","none"),this.background.style.setProperty("display","block"),this.fitContainerToElement(this.fromElement),this.container.style.setProperty("display","block");var n=function(t){e&&e()};setTimeout(function(){r.addClass(i.background,"opened"),r.addClass(i.container,"opened"),i.container.style.setProperty("top",i.margin+"px"),i.container.style.setProperty("left",i.margin+"px"),i.updateSize(),setTimeout(function(){r.addClass(i.scope.document.body,"noscroll"),n(),i.contentContainer.style.setProperty("display","block"),t&&"function"==typeof t&&t()},i.transitionDuration)},10);var a=function(){i.updateSize(),n()};this.resizeWindowListener=a,o.addEventListener("resize",this.scope,a)}},t.prototype.close=function(t){var e=this;this.opened&&(this.resizeWindowListener&&(o.removeEventListener("resize",this.scope,this.resizeWindowListener),this.resizeWindowListener=null),this.contentContainer.style.setProperty("display","none"),r.removeClass(this.scope.document.body,"noscroll"),this.fitContainerToElement(this.fromElement),r.removeClass(this.background,"opened"),r.removeClass(this.container,"opened"),setTimeout(function(){e.background.style.setProperty("display","none"),e.container.style.setProperty("display","none"),e.opened=!1,t&&Object(c.isFunction)(t)&&t()},this.transitionDuration))},t.prototype.destroy=function(){this.container.parentNode.removeChild(this.container),this.background.parentNode.removeChild(this.background);var e=this.scope.document.getElementById(t.styleNodeId);e.parentNode.removeChild(e)},t.prototype.isOpened=function(){return!!this.opened},t.prototype.updateSize=function(){this.container.style.setProperty("width",this.getContainerWidth()+"px"),this.container.style.setProperty("height",this.getContainerHeight()+"px")},t.prototype.getContentElement=function(){return this.container},t.prototype.getContainerWidth=function(){return this.scope.innerWidth-2*this.margin},t.prototype.getContainerHeight=function(){return this.scope.innerHeight-2*this.margin},t.prototype.fitContainerToElement=function(t){var e=o.getBoundingClientRect(t);this.container.style.setProperty("position","fixed"),this.container.style.setProperty("top",e.top+"px"),this.container.style.setProperty("left",e.left+"px"),this.container.style.setProperty("width",e.width+"px"),this.container.style.setProperty("height",e.height+"px")},t.styleNodeId="teads-expand-helper-style",t.CSSCLASSES={expand:"teads-expand",expandIframe:"teads-expand-iframe",expandLabel:"teads-expand-label",expandCredit:"teads-expand-credits",expandCloseButton:"teads-expand-closebutton",expandContentContainer:"teads-expand-content"},t}();e.a=l},function(t,e,i){function n(){var t=[];for(var e in u.d)r.forEach(u.d[e],function(e){e.playerContainer&&e.getWigoi()&&t.push(e)});t.sort(function(t,e){return a.getBoundingClientRect(t.playerContainer).top-a.getBoundingClientRect(e.playerContainer).top});for(var i=[],n=0,d=t;n<d.length;n++){var l=d[n],p=l.getWigoi();p&&!r.includes(i,p)&&i.push(p)}var h=Object.keys(s.a)[0];if(h&&void 0!==h)for(var f in s.a[h])Object(c.isArray)(s.a[h][f])&&r.forEach(s.a[h][f],function(t){var e=t.getWigoi();e&&!r.includes(i,e)&&i.push(e)});var g=1;for(o.a.setTotalInstances(i.length);i.length;)i.pop().moveButton(g),g+=1}Object.defineProperty(e,"__esModule",{value:!0}),e.reorderWigoButtons=n;var o=i(31),r=i(3),a=i(7),s=i(263),c=i(0),u=i(181)},function(t,e,i){i.d(e,"a",function(){return C}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return S});var n,o=i(1),r=i(31),a=i(65),s=i(17),c=i(4),u=i(12),d=i(0),l=i(7),p=i(8),h=i(23),f=i(3),g=i(6),m=i(58),v=i(107),y=i(39),b=i(262),A=i(234),E=i(181),w=i(243),C={},_={};!function(t){t[t.INIT=0]="INIT",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.SERVED=3]="SERVED",t[t.ERROR=4]="ERROR"}(n||(n={}));var S=function(){function t(e,i,r,s,u){void 0===s&&(s=!1),void 0===u&&(u=0);var l=this;this.pageId=e,this.pid=i,this.rawSettings=r,this.defer=s,this.pageIndex=u,this.doServe=!1,this.doPassback=!1,this.passbacks={beforeServe:[],afterServe:[]},this.scripts=[],this.trackings=[],this.wigoi=null,this.logger=new o.a("TagManager (pageId: "+e+", placementId: "+i+")"),this.logger.debug("new placement",r),this.settings=Object(d.extend)({},r||t.defaultRawPlacement),this.settings.pid=i,this.settings.format=this.settings.format||"inread",this.settings.fallback=function(){return l.logger.debug("no ad to serve so exec passback"),l.execPassback()},this.state=n.INIT;var p=c.b.of(_[this.pid]).map(function(t){return t.headerBiddingProvider});A.hasValidContextAndProvider(p,!0)&&this.handleHeaderBiddingAd(),a.b.refresh(window.teads),this.handleDataInsertion(i).forEach(function(t){h.isInternalUrl(a.b.buyingEngineUrl)||m.a.sendWarning("illegal-be-url "+i+"|"+a.b.buyingEngineUrl),l.getAd=t})}return t.replaceTimestampMacro=function(t){return p.replaceStringsWithValue(a.b.timestampMacroNames,Object(s.now)())(t)},t.getRawAdFromScript=function(t,e,i,n){return t.match({some:function(t){return l.getAndRemoveAttributeValue(t,e).match({some:function(t){var e=n(Object(c.c)({type:"VastUrl",content:"//a.teads.tv/vast/get/"+t,insertion_id:parseInt(t,10)}));return i.debug("data-insertion handled",e),Object(c.c)(e)},none:function(){return i.error(e+" detected but the value is empty"),c.b.empty()}})},none:function(){return c.b.empty()}})},t.getStaticMediafileUrl=function(t,e){return void 0===e&&(e=null),u.c.of(function(){return t.match(e)[1]}).getOrElse(function(){return t})},t.page=function(e){return C[e]||(C[e]={placement:function(i,n,o,r){return t.placement(e,i,n,o,r)}})},t.ad=function(e,i){return _[e]&&new o.a("TagManager placementId: "+e).warn("ad settings already exist and will be overwritten",_[e],i),_[e]=i,{page:t.page}},t.placement=function(e,i,n,o,r){var a=C[e],s=a[i]||(a[i]=[]);r=c.b.of(r).getOrElse(function(){return s.length?s.length-1:0}),s[r]?n&&n!==s[r].rawSettings&&(s[r].rawSettings=n):s[r]=new t(e,i,n,o,r);var u=s[r];return u.findMatchingScript()?(u.logger.debug("found script with serve attribute -> serve it"),u.serve()):o?u.logger.debug("tag deferred"):u.load(),u},t.prototype.load=function(){var t=this,e=c.b.of(_[this.pid]).map(function(t){return t.headerBiddingProvider}),i=c.b.of(_[this.pid]).map(function(t){return t.headerBiddingSlotAvailableTrackUrl});return this.state!==n.INIT?(this.logger.warn("tag already loaded, loading or served",this.state),this):(this.state=n.LOADING,this.logger.debug("load: checkPlacement > checkSlot > callRAS > loadAd"),this.onReadyState(function(){t.placementTracker=E.f.initTracker(t.pageId,t.pid,e),t.placementTracker?(t.trackings=t.findCustomTracking(t.scripts),t.fillCustomTracking(t.trackings,v.a.format,t.placementTracker.tracker),t.adInfos=E.f.checkPlacement(t.settings,t.pageId,t.placementTracker,e),t.adInfos?(t.adInfos.placement&&(t.wigoi=t.adInfos.placement.getWigoi()),t.logger.debug("load -> checkPlacement ok"),t.adInfos=E.f.checkSlot(t.adInfos,t.pageId,e,i),t.adInfos?(t.logger.debug("load -> checkSlot ok"),t.adInfos.ad=t.getAd,E.f.callRAS(t.adInfos,t.pageId,function(e){t.logger.debug("load -> callRAS",t.getAd?"bypassed by data-insertion":"ok"),t.adInfos=e,t.sendTagToWigo(),E.f.loadAd(e,function(i,n,o){t.logger.debug("load -> loadAd",i?"ok":"noAd"),t.loadFormat(e,i,n,o,function(){w.a.trackBrokenScrollerEnv(n,e.placement),t.doServe?t.serve():t.logger.debug("waiting for serve")})})})):(t.logger.debug("load - checkSlot failure"),t.state=n.ERROR)):(t.logger.debug("load - placement failure"),t.state=n.ERROR)):(t.logger.debug("load - tracker init failure"),t.state=n.ERROR)}),this)},t.prototype.serve=function(){var t=this;switch(this.state){case n.ERROR:this.state=n.SERVED,this.logger.warn("serve - this placement cannot be served - state = ERROR");break;case n.SERVED:this.logger.warn("already served - reload and serve it again"),t=this.reload().serve();break;case n.INIT:this.doServe=!0,this.logger.debug("load before serve (defer)",this.adInfos),this.load();break;case n.LOADING:this.logger.warn("serve - the tag is currently loading"),this.doServe=!0;break;case n.LOADED:this.state=n.SERVED,this.logger.debug("serve",this.adInfos);var e=this.adInfos.placement.getFormat();e&&e.start(),this.logger.debug("ad successfully served"),this.vastPlayer&&this.vastPlayer.getMediafile()&&!this.isSameAd()||(this.logger.debug("serve - no ad to serve so exec passback"),this.execPassback())}return t},t.prototype.reload=function(){return Object(E.e)(this.pageId).placement(this.pid,this.rawSettings,this.defer,this.pageIndex+1)},t.prototype.passback=function(t,e){return void 0===e&&(e=!1),this.state!==n.SERVED||e?(f.includes(this.passbacks.afterServe,t)?this.logger.warn("passback - signature was already appended to the passback list",t,this.passbacks.afterServe):"function"==typeof t?(this.passbacks.afterServe.push(t),this.logger.debug("passback - pushed to the list",t),e&&(this.passbacks.beforeServe.push(t),this.logger.debug("passback - pushed to the *before serve* list too")),this.doPassback&&(this.logger.debug("passback - execPassback already called with no passback to exec, call it again"),this.doPassback=!1,this.execPassback())):this.logger.warn("passback - must be a function"),this):this.reload().passback(t)},t.prototype.getWigoi=function(){return this.wigoi},t.prototype.loadFormat=function(t,e,i,o,r){var a=this;this.formatConfig=e||t.placement.handleNoAd(),this.vastPlayer=i,this.displayAd=o,this.wigoi&&e&&this.wigoi.setStatus(!0,"Ready to serve"),b.reorderWigoButtons(),this.formatConfig?(this.adInfos.placement.initDom(this.adInfos.placement.electedSlot),this.adInfos.placement.initFormatInstance(this.vastPlayer,this.formatConfig,this.displayAd),this.adInfos.placement.getFormat().load(function(){a.vastPlayer&&(a.isSameAd()?(a.logger.error("same ad detected"),a.placementTracker.track(y.TRACKING.adAvailable.error.sameAd),a.formatConfig=a.adInfos.placement.handleNoAd(),a.adInfos.placement.initFormatInstance(a.vastPlayer,a.formatConfig,a.displayAd)):(a.placementTracker.track(y.TRACKING.adAvailable.success),a.fillCustomTracking(a.trackings,v.a.vast,a.vastPlayer.getPlugin("Tracker").getTracker()))),a.state=n.LOADED,Object(d.isFunction)(r)&&r()},function(t){a.state=n.LOADED,a.placementTracker.track(y.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,String(t.getId()))),a.adInfos.placement.handleNoAd(),r()})):Object(d.isFunction)(r)&&(this.state=n.LOADED,r())},t.prototype.execPassback=function(){var t,e=this;switch(this.state){case n.SERVED:t=this.passbacks.afterServe,this.logger.debug("exec passback - after serve");break;default:t=this.passbacks.beforeServe,this.logger.debug("exec passback - before serve")}if(t.length){var i=t.shift();return this.logger.debug("exec passback -",i),i(function(){return e.execPassback()}),this.doPassback=!1,null}return this.logger.debug("exec passback - no passback to exec"),this.doPassback=!0,this.passbacks.afterServe.length?null:y.INTERNAL_PASSBACK_NO_PASSBACK},t.prototype.findMatchingScript=function(){for(var t=!1,e=g.findParentWindows(document.body).concat(g.findChildWindows(document.body)),i=0,n=e;i<n.length;i++)for(var o=n[i],r=l.querySelectorAll("script.teads",o),a=0;a<r.length;a++){this.scripts.push(r[a]);var s=r[a]?r[a].getAttribute("data-serve"):"";s&&s.match(this.pid.toString())&&(r[a].setAttribute("data-serve",s.replace(this.pid.toString(),"")),t=!0)}return t},t.prototype.constructAdSettings=function(e){return void 0===e&&(e=c.b.empty()),Object(d.extend)(t.defaultAdsSettings,e.getOrElse(function(){return{}}),{settings:{values:{pageId:this.pageId,placementId:this.pid,placementFormat:this.settings.format}}},_[this.pid])},t.prototype.handleHeaderBiddingAd=function(){this.getAd=this.constructAdSettings()},t.prototype.handleDataInsertion=function(e){var i="data-insertion-"+e,n=g.findAllWindows(document.body),o=l.findMatchingElement(f.map(n,function(t){return t.document}),"script.teads["+i+"]");return t.getRawAdFromScript(o,i,this.logger,this.constructAdSettings.bind(this))},t.prototype.findCustomTracking=function(t){for(var e=[],i=0,n=t;i<n.length;i++)for(var o=n[i],r=l.getOuterHTML(o)||"",a=r.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"',"g"))||[],s=0,c=a;s<c.length;s++){var u=c[s],d=u.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"'));if(4===d.length){var p=d[1],h=d[2],f=d[3];(p&&Number(p)===this.pid||!p)&&(this.logger.debug("find custom tracking (event, url, pid)",h,f,p),e.push({event:h,url:f}),p&&o.removeAttribute("data-tracking-"+h+"-"+p))}else this.logger.debug('error on data-tracking extraction, 3 args expected (["all", "key", "value"])',d)}return e},t.prototype.fillCustomTracking=function(e,i,n){for(var o=this,r=0,a=e;r<a.length;r++){var s=a[r];!function(e){var r=/(progress)-(\d+)/,a=e.event.match(r)||["","",""],s=a[1],c=a[2],u=f.find(i,function(t){return t.name.toLowerCase()===s||t.name.toLowerCase()===e.event.toLowerCase()});u&&(e.url=t.replaceTimestampMacro(e.url),n.addResource(u.name,e.url,Number(c)),o.logger.debug("fill custom tracking (tracking.name, url, offset)",u.name,e.url,Number(c)))}(s)}},t.prototype.avoidSameAd=function(){var e=!1,i=[];for(var n in C[this.pageId])if("placement"!==n&&C[this.pageId][n].length)for(var o=0,r=C[this.pageId][n];o<r.length;o++){var a=r[o],s=a.vastPlayer,c=s?s.getMediafile():null;if(s&&c&&a!==this){var u=t.getStaticMediafileUrl(c.url,y.DBM_UNIQUE_ID_PATTERN);i.push(u+c.adParameters)}}return f.forEach(this.vastPlayer?this.vastPlayer.getLinearAd().mediaFiles:[],function(n){var o=t.getStaticMediafileUrl(n.url,y.DBM_UNIQUE_ID_PATTERN);-1!==f.indexOf(i,o+n.adParameters)&&(e=!0)}),this.index=t.sameAdGlobalIndex=t.sameAdGlobalIndex?++t.sameAdGlobalIndex:1,e},t.prototype.isSameAd=function(){return!this.getAd&&this.avoidSameAd()},t.prototype.sendTagToWigo=function(){this.wigoi&&this.wigoi.valid(0,1,{ttp:this.settings,tta:this.adInfos.ad,tts:this.adInfos.placement.placementSetting},r.a.infoType.MODAL)},t.prototype.onReadyState=function(t){for(var e,i=g.findParentWindows(document.body).concat(g.findChildWindows(document.body)),n=0,o=i;n<o.length;n++){var r=o[n];e=e||r.document.querySelector("script.teads[data-readystate]")}e&&"domcomplete"===e.getAttribute("data-readystate")?(this.logger.debug("waiting dom complete"),l.onDomComplete(t)):(this.logger.debug("waiting dom ready"),l.onDomReady(t))},t.defaultRawPlacement={pid:null,format:null,slot:null},t.defaultAdsSettings={settings:{values:{pageId:0,placementFormat:"inread",placementId:1234,threshold:50},components:{soundButton:{display:!1,countdown:0,type:"mute"}}}},t}()},function(t,e,i){function n(t){return!!o(t).length}function o(t){for(var e=[],i=0,n=t.extensions.length;i<n;i++)t.extensions[i].type===f&&e.push(t.extensions[i]);return e}function r(t){for(var e=[],i=o(t),n=0,r=i.length;n<r;n++)e.push(a(i[n]));var c=s(e);if(!c.parallax.landscape||!c.parallax.portrait)throw f+" extensions assets landscape or portrait asset are missing from LinearAd";return c}function a(t){if(t.type!==f)throw'extension is not type of "'+f+'"';var e={parallax:{landscape:"",portrait:""},expand:{site:""},tracking:{}};try{e.parallax.landscape=d.getNodeContent(t.xml.getElementsByTagName("Landscape")[0]),e.parallax.portrait=d.getNodeContent(t.xml.getElementsByTagName("Portrait")[0])}catch(t){throw"Invalid XML for parallax "+t}try{e.expand.site=d.getNodeContent(t.xml.getElementsByTagName("Site")[0])}catch(t){throw"Invalid XML for expand "+t}for(var i=t.xml.getElementsByTagName("Tracking"),n=0,o=i.length;n<o;n++)for(var r=i[n],a=0,s=r.attributes.length;a<s;a++){var c=r.attributes[a].name,u=d.getAttributeValue(r,c);if("event"===c){var g=d.getNodeContent(r),m=!1,v=void 0;u===p?m=!0:u===h&&(m=!0,v=l.seconds(d.getAttributeValue(r,"offset"))),m&&(e.tracking[u]=e.tracking[u]||[],e.tracking[u].push({url:g,offset:v}))}}return e}function s(t){if(!t[0])throw"at least one IVASTExtensionHybrid is required";for(var e=t[0],i=1,n=t.length;i<n;i++){var o=t[i];for(var r in o.tracking)e.tracking[r]?c(e.tracking[r],o.tracking[r]):e.tracking[r]=o.tracking[r];!e.parallax.landscape&&o.parallax.landscape&&(e.parallax.landscape=o.parallax.landscape),!e.parallax.portrait&&o.parallax.portrait&&(e.parallax.portrait=o.parallax.portrait),!e.expand.site&&o.expand.site&&(e.expand.site=o.expand.site)}return e}function c(t,e){for(var i=0,n=e.length;i<n;i++)u(t,e[i])||t.push(e[i])}function u(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i].url===e.url&&t[i].offset===e.offset)return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"TRACKINGEVENTS_OPEN",function(){return p}),i.d(e,"TRACKINGEVENTS_PROGRESS",function(){return h}),i.d(e,"EXTENSION_TYPE",function(){return f}),e.has=n,e.getExtensions=o,e.get=r,e.parse=a,e.merge=s,e.mergeTracking=c,e.resourceExists=u;var d=i(112),l=i(0),p="open-expand",h="open",f="t-hybrid"},,,,,,,,,,,,,,,function(t,e,i){var n=i(148),o=i(373),r=i(5),a=i(52),s=i(6),c=i(159),u=i(114),d=i(28),l=i(4),p=i(27),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),f=function(t){function e(){var e=t.call(this,"teads-ui-components-smart-header",c.SMARTHEADERCSS)||this;return e.isMuted=!0,e.eventListenerManagerAdChoices=new d.a,e.eventListenerManagerSound=new d.a,e.innerHTML=c.SMARTHEADERHTML,e}return h(e,t),e.prototype.init=function(t,e){var i=this;this.vpaidAd=t,this.volumeController=e,this.initElement(),this.hide(),this.smartCloseButton=new o.a,this.closeButtonContainer=this.element.getElementsByClassName("close-button-smart")[0],this.closeButtonContainer.appendChild(this.smartCloseButton.getElement()),this.hideCloseButton();var n=this.element.getElementsByClassName("adChoices-button-smart")[0];this.eventListenerManagerAdChoices.add("click",n,function(){return i.onClickAdChoicesButton()}),this.smartSoundButton=this.element.getElementsByClassName("sound-button-smart")[0],this.eventListenerManagerSound.add("click",this.smartSoundButton,function(){return i.onClickSoundButton()}),this.vpaidAd.subscribe(function(){return i.onVolumeChange()},r.a.AdVolumeChange)},e.prototype.showCloseButton=function(){var t=this;this.closeButtonContainer.style.display="inline-block",p.requestAnimationFrame(function(){return t.smartCloseButton.show()},e.SMART_CLOSE_BUTTON_SHOW_DELAY_IN_MS)},e.prototype.hideCloseButton=function(){this.closeButtonContainer.style.display="none",this.smartCloseButton.hide()},e.prototype.setAdChoicesLink=function(t){this.adChoicesLink=Object(l.c)(t)},e.prototype.isEnabled=function(){return!0},e.prototype.toggleSoundButtonIcon=function(){var t=this.smartSoundButton.firstElementChild,e=this.isMuted?u.a.OFF:u.a.ON,i=this.isMuted?u.a.ON:u.a.OFF;Object(s.replaceClass)(t,e,i)},e.prototype.onClickSoundButton=function(){this.volumeController.toggleVolume()},e.prototype.onClickAdChoicesButton=function(){this.adChoicesLink.forEach(window.open)},e.prototype.onVolumeChange=function(){this.isMuted=Object(a.isMuted)(this.vpaidAd),this.toggleSoundButtonIcon()},e.SMART_CLOSE_BUTTON_SHOW_DELAY_IN_MS=50,e}(n.a);e.a=f},function(t,e){t.exports=" div.teads-inread div.teads-ui-components-credits, div.teads-inboard div.teads-ui-components-credits, div.teads-expand div.teads-ui-components-credits { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; color: #aaa !important; text-align: right !important; padding: 1px 0 !important; height: 26px !important; line-height: 26px !important; padding-right: 4px !important; letter-spacing: 0.3px !important; } div.teads-inread div.teads-ui-components-credits a span, div.teads-inboard div.teads-ui-components-credits a span, div.teads-expand div.teads-ui-components-credits a span { display: inline !important; } div.teads-inread div.teads-ui-components-credits a span, div.teads-inboard div.teads-ui-components-credits a span, div.teads-expand div.teads-ui-components-credits a span, div.teads-inread div.teads-ui-components-credits a, div.teads-inboard div.teads-ui-components-credits a, div.teads-expand div.teads-ui-components-credits a { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; box-shadow: none !important; letter-spacing: 0.3px !important; } div.teads-inread.sm-screen div.teads-ui-components-credits a span, div.teads-inboard.sm-screen div.teads-ui-components-credits a span, div.teads-expand.sm-screen div.teads-ui-components-credits a span, div.teads-inread.sm-screen div.teads-ui-components-credits a, div.teads-inboard.sm-screen div.teads-ui-components-credits a, div.teads-expand.sm-screen div.teads-ui-components-credits a, div.teads-inread.xs-screen div.teads-ui-components-credits a span, div.teads-inboard.xs-screen div.teads-ui-components-credits a span, div.teads-expand.xs-screen div.teads-ui-components-credits a span, div.teads-inread.xs-screen div.teads-ui-components-credits a, div.teads-inboard.xs-screen div.teads-ui-components-credits a, div.teads-expand.xs-screen div.teads-ui-components-credits a { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 9px !important; box-shadow: none !important; letter-spacing: 0.3px !important; } div.teads-inread.sm-screen div.teads-ui-components-credits, div.teads-inboard.xs-screen div.teads-ui-components-credits { font-size: 9px !important; letter-spacing: 0.3px !important; } div.teads-inread .teads-ui-components-credits a, div.teads-inboard .teads-ui-components-credits a, div.teads-expand .teads-ui-components-credits a { color: #aaa !important; text-decoration: none !important; font-weight: 300 !important; border: none !important; letter-spacing: 0.3px !important; /* * From @jean-pierre.colomb comment on https://jira.teads.net/browse/TT-4076 * The gqjapan.jp website overrides <a> properties to add 2 orange squares * which affects the credits link */ background: none !important; padding: 0 !important; } div.teads-inread.sm-screen .teads-ui-components-credits a, div.teads-inboard.sm-screen .teads-ui-components-credits a, div.teads-expand.sm-screen .teads-ui-components-credits a, div.teads-inread.xs-screen .teads-ui-components-credits a, div.teads-inboard.xs-screen .teads-ui-components-credits a, div.teads-expand.xs-screen .teads-ui-components-credits a{ font-size: 9px !important; letter-spacing: 0.3px !important; } div.teads-inread div.teads-ui-components-credits span.teads-ui-components-credits-colored, div.teads-inboard div.teads-ui-components-credits span.teads-ui-components-credits-colored, div.teads-expand div.teads-ui-components-credits span.teads-ui-components-credits-colored { color: #79BBE9 !important; } div.teads-inread div.teads-ui-components-credits span::before, div.teads-inboard div.teads-ui-components-credits span::before, div.teads-impact div.teads-ui-components-credits span::before, div.teads-inread div.teads-ui-components-credits span::after, div.teads-inboard div.teads-ui-components-credits span::after, div.teads-impact div.teads-ui-components-credits span::after { display: none !important; } div.teads-inread div.teads-ui-components-credits a::before, div.teads-inboard div.teads-ui-components-credits a::before, div.teads-impact div.teads-ui-components-credits a::before, div.teads-inread div.teads-ui-components-credits a::after, div.teads-inboard div.teads-ui-components-credits a::after, div.teads-impact div.teads-ui-components-credits a::after { display: none !important; } "},function(t,e){t.exports=" div.teads-inread div.teads-ui-components-label, div.teads-inboard div.teads-ui-components-label, div.teads-expand div.teads-ui-components-label { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; color: #aaa; text-align: center !important; /*padding: 3px 0;*/ text-transform: uppercase !important; height: 21px !important; line-height: 21px !important; letter-spacing: 0.3px !important; font-weight: 300 !important; } div.teads-inread div.teads-ui-components-label::before, div.teads-inboard div.teads-ui-components-label::before, div.teads-impact div.teads-ui-components-label::before, div.teads-inread div.teads-ui-components-label::after, div.teads-inboard div.teads-ui-components-label::after, div.teads-impact div.teads-ui-components-label::after { display: none !important; } div.teads-inread.sm-screen div.teads-ui-components-label, div.teads-inread.xs-screen div.teads-ui-components-label, div.teads-inboard.sm-screen div.teads-ui-components-label, div.teads-inboard.xs-screen div.teads-ui-components-label { font-size: 10px !important; } "},function(t,e){t.exports='<div class="teads-countdown"> <div class="teads-countdown-background"></div> <div class="teads-countdown-circle" style="width:100px;height:100px"> <svg viewbox="0 0 100 100" shape-rendering="optimizeQuality"> <path class="teads-countdown-circle-background" fill="none" stroke-linecap="round" stroke-width="2" stroke="#CCC" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"> </path> <path class="teads-countdown-circle-main" fill="none" stroke-linecap="round" stroke-width="2" stroke="#fff" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"></path> <text class="teads-countdown-number" x="50" y="53" text-anchor="middle" dy="7" font-size="20" fill="#FFFFFF">3</text> </svg> </div> <div class="teads-countdown-fsicon"> <svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"> <path fill="#FFFFFF" d="m1.09374,7.62501c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374l0,5.93753c0,0.00114 0,0.00114 0,0.00231c0,0.07712 0.01536,0.15308 0.04523,0.22438c0.02842,0.07016 0.07103,0.13279 0.12352,0.18614c0.00231,0.0029 0.00231,0.00523 0.00465,0.00754c0.00117,0.00117 0.00348,0.00117 0.00465,0.00348c0.05363,0.05218 0.1177,0.09627 0.18787,0.12466c0.07364,0.03014 0.15077,0.04523 0.22786,0.04523l5.93753,0c0.32761,0 0.59374,-0.26613 0.59374,-0.59374c0,-0.32761 -0.26613,-0.59377 -0.59374,-0.59377l-4.5042,0l11.03542,-11.03542l0,4.50418c0,0.32761 0.26613,0.59374 0.59377,0.59374c0.32761,0 0.59374,-0.26613 0.59374,-0.59374l0,-5.93753l0,0c0,-0.07712 -0.01508,-0.15425 -0.0464,-0.22672c-0.06028,-0.14495 -0.17567,-0.26151 -0.32065,-0.32065c-0.07248,-0.031 -0.14957,-0.04637 -0.22669,-0.04637l-5.93753,0c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374c0,0.32761 0.26613,0.59377 0.59374,0.59377l4.50418,0l-11.03542,11.03542l0,-4.50418c0,-0.32761 -0.26616,-0.59374 -0.59377,-0.59374z"/> </svg> </div> </div> '},function(t,e,i){var n=i(284),o=function(){function t(t){this.rawConfig=t,t&&(this.slider=new n.a(t.slider))}return t.getPlacementSetting=function(t){if(window._tts&&window._tts[t.get()])return window._tts[t.get()]},t}();e.a=o},function(t,e,i){i.d(e,"a",function(){return a});var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){var n=t.call(this,"Slider")||this;return n.value=Object(o.extend)(e.DEFAULT,i),n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.allowCorner=function(){return this.value.allow_corner_position},e.VALUES={allow_top_position:"top",allow_corner_position:"corner"},e.DEFAULT={allow_top_position:!1,allow_corner_position:!1},e}(n.a)},function(t,e,i){i.d(e,"a",function(){return y});var n=i(23),o=i(58),r=i(381),a=i(1),s=i(0),c=i(65),u=i(246),d=i(2),l=i(3),p=i(10),h=i(245),f=i(9),g=i(39),m=i(19),v=i(16),y=function(){function t(t,e,i,n){var o=this;this.placementAd=t,this.pageId=e,this.done=n,this.logger=new a.a("helper.RASRequest"),this.timeoutFired=!1,this.isRequestSent=!1,this.isInitialized=!1,this.shouldSendAfterInit=!1,new r.a(window).requestConsentString(function(t){o.initRequest(i,{id:Number(o.pageId),placements:[o.placementAd.report],gdpr_iab:t}),o.shouldSendAfterInit&&!o.isRequestSent&&o.send()})}return t.getAdPlacementId=function(t){return t&&t.settings&&t.settings.values&&Object(s.isNumber)(t.settings.values.placementId)?t.settings.values.placementId:null},t.prototype.initRequest=function(t,e){var i=this;if(this.isInitialized)return void this.logger.warn("Could not initialize RASRequest instance as it is already initialized.");if(!this.placementAd.ad&&c.b.isRichAdServerRequestEnabled){var r={page:encodeURIComponent(f.stringify(e)),userId:u.get(),formatVersion:encodeURIComponent("2.19.0"),env:d.getEnv()};d.getNetworkBandwidthInMbps().forEach(function(t){return r.netBw=t}),this.rasUrl=Object(n.buildUrlWithParams)(t,r),this.request=v.createXmlHttpRequest(),this.request.open("GET",this.rasUrl,!0),this.request.withCredentials=!0,this.request.timeout=c.b.richAdServerRequestTimeout,this.request.setRequestHeader&&this.request.setRequestHeader("Accept","application/json; charset=UTF-8"),this.request.onload=function(){i.onload()},this.request.onerror=function(t){void 0===t&&(t={}),i.onerror(t)},this.request.ontimeout=function(){o.a.sendWarning({message:"RAS request: timeout"}),i.ontimeout()},this.timeoutLatencyRAS=setTimeout(function(){o.a.sendWarning({message:"RAS request: custom timeout"}),i.ontimeout()},c.b.richAdServerRequestTimeout+10)}this.isInitialized=!0},t.prototype.send=function(){var e=this;if(!this.isInitialized)return this.shouldSendAfterInit=!0,void this.logger.debug("Could not send ad request as RASRequest instance is not initialized yet.");if(this.placementAd.ad)this.next();else if(c.b.isRichAdServerRequestEnabled)this.adRequestStart=Object(p.now)(),this.isRequestSent||this.request.send(),this.isRequestSent=!0;else{var i;l.forEach(window._tta[this.pageId],function(n){(i=t.getAdPlacementId(n))&&(e.placementAd.placement.pid===i?e.placementAd.ad=n:e.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: "+i+")",e.placementAd.placement,n))}),this.next()}},t.prototype.next=function(){this.done&&this.done(this.placementAd)},t.prototype.ontimeout=function(){this.timeoutFired||(this.timeoutFired=!0,clearTimeout(this.timeoutLatencyRAS),this.logger.warn("RAS request: timeout"),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(g.TRACKING.adNotAvailable.networkError),this.next())},t.prototype.onload=function(){var e=this;this.logger.info("Successful request",this.rasUrl),this.processTiming(),clearTimeout(this.timeoutLatencyRAS);var i;try{i=m.isLowerOrEqual(d.getIEVersion(),"9")?this.request.responseText:this.request.response,Object(s.isString)(i)&&(i=JSON.parse(i)),this.logger.info("RAS response",i),Array.isArray(i.ads)||(o.a.sendError({message:"RAS request: response.ads is not an array"}),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(g.TRACKING.adAvailable.error.badResponse),i.ads=[]),i.ads.length>1&&(this.logger.warn("Received more than one ad, WTF?"),i.ads=[i.ads[0]]);var n=0===i.ads.length,r=void 0;if(n?this.placementAd.placement&&this.placementAd.report.validity.status&&(i.noAdReason?this.placementAd.placement.placementTracker.handleFraud(i.noAdReason):this.placementAd.placement.placementTracker.handleEmptyAdsArray()):(r=t.getAdPlacementId(i.ads[0]),r&&this.placementAd.placement.pid===r?this.placementAd.ad?this.logger.debug("The ad for the PID "+r+" has already been loaded",i.ads[0]):this.placementAd.ad=i.ads[0]:this.logger.warn("This placement doesn't exist in the tag",this.placementAd.placement,i.ads[0])),window._tta&&window._tta[this.pageId]){var a;l.forEach(window._tta[this.pageId],function(i){a=t.getAdPlacementId(i),e.placementAd.placement.pid===a?e.placementAd.ad?e.placementAd.ad=h.extendAd(e.placementAd.ad,i):e.placementAd.ad=i:e.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: "+a+")",e.placementAd.placement,i)})}}catch(t){var c=t.message?t.message:JSON.stringify(t);return o.a.sendError({pageId:this.pageId,message:"RAS request: response is not valid|"+c.substr(0,120)}),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(g.TRACKING.adAvailable.error.badResponse),void this.logger.error("Response is not valid:",t.message,i)}this.next()},t.prototype.onerror=function(t){clearTimeout(this.timeoutLatencyRAS);var e=t.message?t.message:JSON.stringify(t);o.a.sendError({pageId:this.pageId,message:"RAS request: request error|"+e.substr(0,120)}),this.logger.error("Request error - Status:",t.target.status);var i=this.request.status||0,n=0===i?g.TRACKING.adNotAvailable.networkError:g.TRACKING.adNotAvailable.serverError;this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(n),this.next()},t.prototype.processTiming=function(){var t=Object(p.now)()-this.adRequestStart;o.a.sendInfo({pageId:this.pageId,pid:this.placementAd.placement.pid,reqDuration:t})},t}()},function(t,e,i){/**
 * Fast UUID generator, RFC4122 version 4 compliant.
 * @author Jeff Ward (jcward.com).
 * @license MIT license
 * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
 * @return {string} Generated UUID
 **/
function n(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);var i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,o=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&o|128]+t[o>>8&255]+"-"+t[o>>16&255]+t[o>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]}function o(){var t=n(),e=Object(r.now)().toString(16);return 11===e.length?t.slice(0,-11)+e:t}Object.defineProperty(e,"__esModule",{value:!0}),e.generate=n,e.generateTimeBased=o;var r=i(17)},function(t,e,i){function n(t){var e;if(!o){try{e=Object(a.findParentWindows)(window.document.body).pop()}catch(t){l.warn("Cannot get top window"),e=window}!function(e){o=Object(a.createIframe)(),o.id=p,o.src=c.b.userSyncUrl+"?pid="+t+"&userId="+u.get()+"&"+Object(s.now)(),o.style.display="none",d.mark("markUserSyncRequest"),e.document.body.appendChild(o)}(e)}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.insert=n;var o,r=i(1),a=i(6),s=i(10),c=i(65),u=i(246),d=i(17),l=new r.a("helper.UserSync"),p="teadsusersync"},function(t,e,i){var n=i(247),o=i(39),r=i(31),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n,o)||this;return r.placementConfig.btf.set(!1),r.placementConfig.minimum.set(0),r.placementConfig.auto.set(!1),r}return a(e,t),e.prototype.checkSlot=function(){var t=this,e=this.placementConfig.selector.getSlots();e.length&&(this.electedSlotReport=this.processChecker(e,o.FORMAT.inboard));var i={};return this.electedSlotReport&&this.electedSlotReport.report?this.electedSlotReport.report.status?(this.electedSlot=this.electedSlotReport.slot,i={status:!0,reasons:[]}):(this.logger.info("No slot available"),i={status:!1,reasons:this.electedSlotReport.report.reasons},this.wigoi.forEach(function(e){return e.valid(1,1,t.electedSlotReport.report.reasons,r.a.infoType.ERROR)})):(this.logger.info("No slot available"),i={status:!1,reasons:[o.TRACKING.noSlot.selector]},this.wigoi.forEach(function(t){return t.valid(1,1,o.TRACKING.noSlot.selector,r.a.infoType.ERROR)})),i},e}(n.a);e.a=s},function(t,e,i){var n=i(4),o=i(1),r=i(31),a=i(51),s=i(58),c=i(201),u=i(39),d=i(62),l=i(15),p=i(23),h=i(290),f=i(2),g=i(198),m=i(184),v=i(181),y=i(65),b=i(252),A=i(123),E=i(293),w=i(248),C=i(9),_=function(){function t(t,e,i,s){this.pageId=t,this.placementConfig=e,this.placementSetting=i,this.placementTracker=s,this.logger=new o.a("placement"),this.wigoi=n.a,this.sliderEnabled=!1,this.pid=e.pid.get(),this.win=e.parentWindow.getWindow(),this.sessionStore=new a.b(t,this.pid).setWigo(s.getWigoi()).build(),this.initContainer(),this.setWigoi(s.getWigoi()),window.teads.router&&this.wigoi.forEach(function(t){return t.valid(0,0)}),window._ttp&&this.wigoi.forEach(function(t){return t.valid(0,1,{ttp:window._ttp,ttf:window._ttf,tta:window._tta,ttc:window._ttc,tts:window._tts},r.a.infoType.MODAL)}),this.wigoi.forEach(function(t){return t.valid(1,0)})}return t.prototype.getFormatConfig=function(t){if(!t||!t.type||!t.content)return null;try{var e=new c.a(t);return s.a.setAdType(e.adType.get()),this.logger.info("formatConfig",e),e}catch(t){this.logger.warn("Error during FormatConfig instantiation",t),this.placementTracker.track(u.TRACKING.adAvailable.error.settings);var i=t.message?t.message:C.stringify(t);return s.a.sendError({pageId:this.pageId,message:u.TRACKING.adAvailable.error.settings+"|"+i.substr(0,120)}),null}},t.prototype.loadVast=function(t,e){var i=this,n=new d.a(this.playerContainer,this.getPlayerConfig(t),this.sessionStore),o=function(t){return i.onVastError(t,e)};if(t.vast.isDisplayUrl()||t.vast.isDisplayXml()){var r=function(t){i.debugInfosFromAd(n,t),n.setLinearAd({}),e(n,t)};t.vast.isDisplayUrl()?h.load(t.vast.getContent(),r,o,this.getWigoi()):t.vast.isDisplayXml()&&h.parse(t.vast.getContent(),r,o,this.getWigoi())}else{var r=function(o){i.debugInfosFromAd(n,o),n.setConfigUI(i.getPlayerConfigUI(t,o)),e(n)};t.vast.isVastUrl()?n.loadVast(t.vast.getContent(),r,o):t.vast.isVastXml()&&n.parseVast(t.vast.getContent(),r,o)}},t.prototype.canEnableSlider=function(){if(!f.isDesktop()||!this.placementConfig.formatName.isInRead())return!1;var t=this.placementSetting&&this.placementSetting.slider&&this.placementSetting.slider.allowCorner();return u.SLIDER_WHITELIST.test(String(this.pid))||t},t.prototype.enableSlider=function(){this.sliderEnabled=!0,this.placementTracker.setSlotType(u.SLOT_TYPE.corner),this.placementTracker.track(u.TRACKING.adCall),this.electedSlot=new g.a(this.placementConfig.parentWindow.getWindow().document.body),this.placementConfig.btf.set(!1),this.placementConfig.minimum.set(0),this.placementConfig.auto.set(!1),this.placementConfig.insertBefore.set(!1),this.placementConfig.insertInside.set(!0)},t.prototype.onVastError=function(t,e){s.a.sendError({pid:this.pid,message:"Error when loading VAST|"+t.getFullMessage().substr(0,120)});var i=t.getId()||0;i===l.b.WRAPPER_TIMEOUT.id?this.placementTracker.track(u.TRACKING.adAvailable.error.parseTimeout):this.placementTracker.track(u.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,""+i)),this.logger.error("VAST loading:",t),e(null)},t.prototype.handleNoAd=function(){if(this.placementTracker.handleMirroringEvent(),this.placementConfig.fallback.trigger()?(this.placementTracker.track(u.TRACKING.fallback.noAd),this.logger.info(u.TRACKING.fallback.noAd),this.wigoi.forEach(function(t){return t.valid(1,2,u.TRACKING.fallback.noAd,r.a.infoType.ERROR)})):f.isAmp()&&m.close(),!this.sliderEnabled)return new c.a({type:"VastUrl",content:"",settings:{values:{placementFormat:this.placementConfig.formatName.get(),pageId:this.pageId,placementId:this.pid,threshold:100},components:{},behaviors:{}}})},t.prototype.getFormat=function(){return this.formatInstance},t.prototype.getParentContainer=function(){return this.parentContainer},t.prototype.getPlayerContainer=function(){return this.playerContainer},t.prototype.getInnerContainer=function(){return this.innerContainer},t.prototype.processChecker=function(e,i,n){void 0===n&&(n=!1);for(var o,r,a,s,c,u=n?"auto":"selector",d=t.checkersConfig[i][u],l={report:{status:!1,reasons:[]}},p=0,h=!1;!h&&e[p];){for(r=e[p++],a=r.getElement(),o=0,c={status:!0,reason:""};c.status&&d[o];)s=d[o++],c=w[s](this,r,e),c.status||(this.logger.info("Invalid slot","["+p+"/"+e.length+"]",c.reason,"=>",c.information,a),l.report.reasons=[c.reason],l.report.status=!1,c.status=!1);c.status&&(this.logger.info("Elected slot","["+p+"/"+e.length+"]",a),l.report.status=!0,l.report.reasons=[],l.slot=r,h=!0,this.wigoi.forEach(function(t){return t.valid(1,1)}))}return l},t.prototype.setWigoi=function(t){this.wigoi=n.b.of(t)},t.prototype.getWigoi=function(){return this.wigoi.orNull()},t.prototype.isSliderEnabled=function(){return this.sliderEnabled},t.prototype.registerInstance=function(t){this.formatInstance=t;var e=t.formatConfig.formatName.get();v.d[e]||(v.d[e]=[]),v.d[e].push(t),this.getFormat().setWigoi(this.getWigoi())},t.prototype.getPlayerConfig=function(t){return{path:y.b.basePathUrl,type:t.allowedPlayer.getValue(),formatConfig:t,background:"transparent",vpaidApi:new b.a(this,t),replaceIASVPAID:y.b.isIasBypassEnabled,adType:t.adType.get()}},t.prototype.getPlayerConfigUI=function(t,e){return{name:"inread",config:{components:E.getComponentsConfig(t,this,e,A.get(e))}}},t.prototype.initContainer=function(){this.parentContainer=this.win.document.createElement("div"),this.parentContainer.className="teads-"+this.placementConfig.formatName.get(),this.placementConfig.formatName.isInBoard()&&(this.parentContainer.style.width="100%"),this.innerContainer=this.win.document.createElement("div"),this.innerContainer.style.position="relative",this.parentContainer.appendChild(this.innerContainer),this.playerContainer=this.win.document.createElement("div"),this.playerContainer.className="teads-player",this.playerContainer.id="teads"+Object(v.c)(),this.innerContainer.appendChild(this.playerContainer)},t.prototype.debugInfosFromAd=function(t,e){this.logger.info("Ad is ready"),this.wigoi.forEach(function(t){return t.valid(1,2)});var i=Object(p.getBusinessIdsFromTracking)(e.tracking.impression);this.sessionStore.businessIds=i,s.a.fillEmptyBusinessIds(i),t.updateSumologicBusinessIds(i)},t.checkersConfig={inread:{auto:["safeframe","image","video","minimum","btf","position","avoid","content","size","filter"],selector:["safeframe","image","video","minimum","btf","avoid","filter"]},inboard:{auto:["safeframe","image","video","minimum","btf","avoid","filter"],selector:["safeframe","image","video","minimum","btf","avoid","filter"]}},t}();e.a=_},function(t,e,i){function n(t,e,i,n){u.load(t,{},function(t){o(t,e,i,n)},function(e){f.error("Could not load XML file",t,e),d.execCallback(i,[e])})}function o(t,e,i,n){try{var o=l.getXMLDoc(t),r=o.documentElement;if(!r)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);if("DISPLAY"!==r.tagName.toUpperCase())return d.execCallback(i,[new s.b(s.b.XML_PARSE)]);var u=r.getElementsByTagName("Ad")[0];if(!u)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);var m=new p.a;if(m.version=Number(l.getAttributeValue(r,"version")),m.version<1)return d.execCallback(i,[new s.b(s.b.UNSUPPORTED_VERSION)]);m.id=l.getAttributeValue(u,"id"),m.title=l.getNodeContent(u.getElementsByTagName("AdTitle")[0]),m.adSystem=l.getNodeContent(u.getElementsByTagName("AdSystem")[0]);var v=u.getElementsByTagName("Creative")[0];if(!v)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);m.creative.id=l.getAttributeValue(v,"id"),m.creative.type=String(l.getAttributeValue(v,"type"));var y=v.getElementsByTagName("Asset")[0];if(!y)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);if(m.creative.asset.id=l.getAttributeValue(y,"id"),m.creative.asset.content=String(l.getNodeContent(y)),!m.creative.asset.content)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);var b=document.createElement("div");b.innerHTML=m.creative.asset.content;var A=b.firstElementChild;if(!A)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);if(m.creative.asset.width=Number(A.getAttribute("width")),m.creative.asset.height=Number(A.getAttribute("height")),m.creative.asset.url=A.getAttribute("src"),!m.creative.asset.url)return d.execCallback(i,[new s.b(s.b.NO_ADS)]);if(!g.test(m.creative.asset.url))return d.execCallback(i,[new s.b(s.b.UNSUPPORTED_MEDIAFILE)]);for(var E=u.getElementsByTagName("ClickThrough"),w=0,C=E.length;w<C;w++)m.clickThrough.push(l.getNodeContent(E[w])),m.expand.push("true"===l.getAttributeValue(E[w],"expand")),m.rolloverCountdown.push(parseInt(l.getAttributeValue(E[w],"rolloverCountdown"),10)),m.closeCountdown.push(parseInt(l.getAttributeValue(E[w],"closeCountdown"),10));for(var _=u.getElementsByTagName("Impression"),w=0,C=_.length;w<C;w++)m.tracking.impression.push({url:l.getNodeContent(_[w]),data:null});var S=u.getElementsByTagName("ClickTracking");for(w=0,C=S.length;w<C;w++)m.tracking.click.push({url:l.getNodeContent(S[w]),data:null});var T=u.getElementsByTagName("Error");for(w=0,C=T.length;w<C;w++)m.tracking.error.push({url:l.getNodeContent(T[w]),data:null});if(u){f.info("Init - Vast player initialization success"),n&&n.valid(2,0),m.tracking[h.TRACKING.openExpand]=[];var I=u.getElementsByTagName("Tracking");for(w=0,C=I.length;w<C;w++){var O=l.getAttributeValue(I[w],"event");if(m.tracking.hasOwnProperty(O)){var P=null;if(O===h.TRACKING.open||O===h.TRACKING.visible){if(P=l.getAttributeValue(I[w],"offset"),O!==h.TRACKING.visible||P||(P="00:00:01"),!(P&&P.indexOf(":")>0)){f.error("Wrong offset for progress tracking: "+P);continue}P=c.seconds(P)}m.tracking[O].push({url:l.getNodeContent(I[w]),offset:P})}}}f.info("DisplayXml loaded",m),n&&(n.valid(2,1,m,a.a.infoType.MODAL),n.valid(2,2,m.creative.asset.url,a.a.infoType.STRING),n.valid(2,3,"Engage",a.a.infoType.STRING),n.valid(3,0),n.valid(3,1,"1.0",a.a.infoType.STRING)),d.execCallback(e,[m],i)}catch(t){d.execCallback(i,[new s.b(s.b.XML_PARSE,t)])}}Object.defineProperty(e,"__esModule",{value:!0}),e.load=n,e.parse=o;var r=i(1),a=i(31),s=i(15),c=i(0),u=i(113),d=i(180),l=i(112),p=i(291),h=i(39),f=new r.a("parser.Display"),g=/.+\.(jpg|jpeg|png)$/i},function(t,e,i){i.d(e,"b",function(){return r}),i.d(e,"c",function(){return a}),i.d(e,"d",function(){return s}),i.d(e,"a",function(){return c});var n=i(90),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(){function t(){this.width=0,this.height=0}return t}(),a=function(){function t(){this.asset=new r}return t}(),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=[],e.visible=[],e}return o(e,t),e}(n.a),c=function(){function t(){this.version=1,this.creative=new a,this.tracking=new s,this.clickThrough=[],this.expand=[],this.rolloverCountdown=[],this.closeCountdown=[],this.title=""}return t}()},function(t,e,i){function n(t,e){if(void 0===e&&(e=window),!t)return!1;var i,n=!1;if("img"===t.tagName.toLowerCase()?n=u([t]):(i=h.querySelectorAll("img",e,t),n=u(i)),!n){var o=d(t);o&&("img"===o.tagName.toLowerCase()?n=u([o]):(i=h.querySelectorAll("img",e,o),n=i.length>0&&u(i)))}if(!n){var r=l(t);r&&("img"===r.tagName.toLowerCase()?n=u([r]):(i=h.querySelectorAll("img",e,r),n=i.length>0&&u(i)))}return n}function o(t,e){if(void 0===e&&(e=window),!t)return!1;var i=r(t,e);if(!i){var n=d(t);n&&(i=r(n,e))}if(!i){var o=l(t);o&&(i=r(o,e))}return i}function r(t,e){void 0===e&&(e=window);var i=["video","object","embed"],n=p.includes(i,t.tagName.toLowerCase());if(!n){var o=t.getAttribute("src");n=o&&c(o)}if(n||(n=h.querySelectorAll("video",e,t).length>0),n||(n=h.querySelectorAll("object",e,t).length>0),!n){var r=p.fromNodeList(h.querySelectorAll("[src]",e,t)),a=p.map(r,function(t){return t.getAttribute("src")}),s=function(t){return c(t)};n=p.filter(a,s).length>0}return n}function a(t,e){void 0===e&&(e=window);var i=null,n={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},o=f.a.findArticle(e.document.body,e,n);return o&&o.article&&o.article.node&&(i=s(t,o.article.node,0)),i||(i=t.parentElement),r(i,e)}function s(t,e,i){if(t&&10!==i){var n=t.parentElement;return n===e?n:s(n,e,i+1)}}function c(t){return/youtube|youtu\.be|dailymotion|day\.ly|vimeo|instagram|vine-videos/i.test(t)}function u(t){void 0===t&&(t=[]);var e=p.map(t,function(t){return h.getSize(t).width}),i=function(t){return t>g};return p.filter(e,i).length>0}function d(t,e){if(void 0===e&&(e=0),!t||e===m)return t;var i=t.previousElementSibling;return i&&!h.isEmpty(i)?i:d(i,e+1)}function l(t,e){if(void 0===e&&(e=0),!t||e===m)return t;var i=t.nextElementSibling;return i&&!h.isEmpty(i)?i:l(i,e+1)}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"LARGE_IMG_THRESHOLD",function(){return g}),i.d(e,"MAX_TRY_CHECK_EMPTY",function(){return m}),e.checkImagePrevNextElement=n,e.checkVideoPrevNextElement=o,e.checkVideoInElement=r,e.checkVideoSiblings=a;var p=i(3),h=i(7),f=i(249),g=75,m=3},function(t,e,i){function n(t,e,i,n){void 0===i&&(i=null);var a=n&&n.display,s=r(t,i,e),c=o(s,t,e);return{clicktoplay:{disable:!t.videoStart.isClick()},closebutton:{disable:s.disable,countdown:s.countdown,listenSkippableState:s.listenSkippableState},soundbutton:{disable:!(!a&&!e.isSliderEnabled())||!t.soundButton.isEnabled,startOffset:t.soundButton.countdown,type:t.soundButton.type},progressbar:{disable:!!a||!t.progressBar.isEnabled()},clickbutton:{disable:!!n||!t.callButton.isEnabled(),startOffset:t.callButton.getCountdown(),text:t.callButton.getText()},label:{disable:!0,html:t.label.getHTML()},credits:{formatName:t.formatName.get(),disable:!0,text:t.credits.getText(),url:t.credits.getLink()},endscreen:{disable:!(!a&&!e.isSliderEnabled())||(t.end.isCollapse()||t.end.isEndScreen()&&!t.endScreen.isEnabled()),countdown:t.endScreen.getCountdown(),callButton:t.endScreen.getCallButton(),closeButton:{disable:c.disable,listenSkippableState:c.listenSkippableState},replayButton:t.endScreen.getReplayButton(),autoClose:t.endScreen.getAutoClose()},fullscreenbutton:{disable:!!a||!t.playerClick.isFullscreen(),preventDefault:!0},brandlogo:{disable:!t.brandLogo.isEnabled(),url:t.brandLogo.getUrl()},startscreen:{disable:!t.adType.isVideo()}}}function o(t,e,i){var n={disable:t.disable,listenSkippableState:t.listenSkippableState};return i.isSliderEnabled()&&(n.disable=!0,n.listenSkippableState=!1),n}function r(t,e,i){var n={disable:!t.closeButton.isEnabled(),countdown:t.closeButton.getCountdown(),listenSkippableState:!1};return(t.closeButton.hasToGetValueFromVast()||n.disable&&t.smartPosition.isTop())&&(n.disable=!1,e&&e.skipDelay?n.countdown=e.skipDelay:n.listenSkippableState=!0),i.isSliderEnabled()&&(n.disable=!0,n.listenSkippableState=!1),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentsConfig=n,e.reconcileEndScreenCloseButtonConfig=o,e.reconcileCloseButtonConfig=r},function(t,e,i){var n=i(235),o=i(236),r=i(2),a=i(7),s=i(6),c=i(300),u=i(260),d=i(106),l=i(255),p=i(39),h=i(4),f=i(58),g=i(15),m=i(182),v=i(38),y=i(261),b=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),A=function(t){function e(e,i,n,o){var a=t.call(this,e,i,o)||this;return a.placement=e,a.formatConfig=i,a.ad=n,a.isExpand=!1,a.hasTrackedImpression=!1,a.visibleOffset=0,a.fixedBackgroundHelper=new l.a(a.placement.getPlayerContainer(),a.placement.getParentContainer(),function(){return a.handleResize()}),a.slot=a.placement.getElectedSlot().getElement(),a.asset=a.ad.creative.asset,a.clickThrough=a.ad.clickThrough.length?a.ad.clickThrough[0]:null,r.isDesktop()&&(a.isExpand=!!a.ad.expand.length&&a.ad.expand[0]),a.rolloverCountdown=a.ad.rolloverCountdown.length?a.ad.rolloverCountdown[0]:null,a.closeCountdown=a.ad.closeCountdown.length?a.ad.closeCountdown[0]:null,a.isParallax="parallax"===a.ad.creative.type,a.tracker=new d.a(h.b.of([{name:p.TRACKING.impression,multiple:!1,resources:a.ad.tracking[p.TRACKING.impression]},{name:p.TRACKING.openExpand,multiple:!1,resources:a.ad.tracking[p.TRACKING.openExpand]},{name:p.TRACKING.open,multiple:!0,resources:a.ad.tracking[p.TRACKING.open]},{name:p.TRACKING.visible,multiple:!0,resources:a.ad.tracking[p.TRACKING.visible]},{name:p.TRACKING.click,multiple:!0,resources:a.ad.tracking[p.TRACKING.click]}]),f.a.businessIds.pid),a}return b(e,t),e.prototype.load=function(){var t=this;this.fixedBackgroundHelper.loadImage(this.asset.url,function(e,i){if(e)i.forEach(function(e){t.asset.width=e.naturalWidth,t.asset.height=e.naturalHeight}),t.logger.info("AdLoaded"),t.wigoi&&t.wigoi.valid(3,2),r.isIABSafeFrame()?m.initSlot(function(){return t.start()}):t.start();else{var n=i.map(function(){return g.b.MEDIAFILE_DISPLAY}).getOrElse(function(){return g.b.FILE_NOT_FOUND});t.placement.onVastError(new g.b(n),function(){t.placement.initFormatInstance(null,t.placement.handleNoAd(),t.ad),t.start()})}})},e.prototype.start=function(){var t=this;if(this.components.showAllComponents(),this.playerContainer.innerHTML="",this.initContainers(),this.assembleContainers(),this.initUi(),this.handleResize(),r.isAmp())this.win.context.observeIntersection(function(e){return t.onScroll(new Event("touchmove"))});else{var e=this.placement.placementConfig.scrollSelector.getSlot();this.eventListenerManager.add("scroll",e,function(){return t.onScroll()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],e,function(e){return t.onScroll(e)})}this.onScroll()},e.prototype.close=function(e){this.isParallax&&this.fixedBackgroundHelper.destroy(),t.prototype.close.call(this,e)},e.prototype.openFormat=function(){t.prototype.openFormat.call(this),this.handleResize(),this.logger.info("AdStarted"),this.wigoi&&this.wigoi.valid(3,3)},e.prototype.initContainers=function(){var t=this;this.isParallax&&(this.fixedBackgroundHelper.initContainer(),this.displayContainer=this.fixedBackgroundHelper.getBaseContainer()),this.clickZone=this.win.document.createElement("div"),this.clickZone.className=l.a.CSSCLASSES.clickZone,this.isExpand&&this.clickThrough&&(this.countdownContainer=document.createElement("div"),this.countdown=new u.a(this.playerContainer,this.clickZone,this.countdownContainer,function(){return t.openExpand()},function(){return t.openExpand()},this.win,this.rolloverCountdown))},e.prototype.assembleContainers=function(){this.isParallax&&(this.fixedBackgroundHelper.append(),this.isExpand&&this.clickThrough&&this.displayContainer.appendChild(this.countdownContainer)),this.playerContainer.appendChild(this.clickZone)},e.prototype.initUi=function(){var t=this;if(this.clickThrough?(this.clickZone.style.cursor="pointer",this.initClickArea()):a.addEventListener("click",this.clickZone,function(){return t.tracker.track(p.TRACKING.click)}),this.isParallax){var e={disable:!0};this.closeButton=new c.a(e,this.playerContainer,function(){return t.close(o.a.AdSuccess)},this.win),this.fixedBackgroundHelper.canUseBackgroundAttachment()||(this.visualCloseButton=new c.a(e,this.displayContainer,function(){},this.win))}},e.prototype.initClickArea=function(){var t=this;this.isExpand?(a.addEventListener("mouseover",this.clickZone,function(){return t.showCountdown()}),a.addEventListener("mouseout",this.clickZone,function(){return t.hideCountdown()})):a.addEventListener("click",this.clickZone,function(){t.tracker.track(p.TRACKING.click),window.open(t.clickThrough)})},e.prototype.handleResize=function(){var t=a.getBoundingClientRect(this.parentContainer),i=t.width,n=i/e.RATIO;if(this.playerContainer.style.height=Math.round(n)+"px",this.playerContainer.style.width=Math.round(i)+"px",this.fixedBackgroundHelper.resizeContainer(),this.states.hasOpened){var o=n;for(var r in this.components.getComponents())if(this.components.getComponents().hasOwnProperty(r)){var s=this.components.getComponent(r);o+=a.getBoundingClientRect(s.getElement()).height}this.parentContainer.style.height=Math.round(o)+"px"}},e.prototype.onScroll=function(t){var e=this.getInViewState();this.trackAdCall(e),this.states.hasOpened||(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&e)&&this.openFormat(),this.manageInView(e)},e.prototype.getViewportInViewState=function(){return s.isInView(this.parentContainer,this.win,this.formatConfig.threshold.get()/100,this.getAdHeight())},e.prototype.startInView=function(){var t=this;this.hasTrackedImpression||(this.tracker.track(p.TRACKING.impression,this.getTrackingMacros()),this.hasTrackedImpression=!0);var i=function(){return clearInterval(t.visibleTimer)};this.visibleTimer=setInterval(function(){t.visibleOffset+=1e3;var n=t.visibleOffset/1e3;t.tracker.track(p.TRACKING.visible,t.getTrackingMacros(),n),n>=e.MAX_VISIBLE_OFFSET&&i()},1e3),this.closeButton.resumeCoutdown(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.resumeCoutdown()},e.prototype.endInView=function(){clearInterval(this.visibleTimer),this.closeButton.pauseCoutdown(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.pauseCoutdown()},e.prototype.showCountdown=function(){this.closeButton.hide(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.hide(),this.countdown.show()},e.prototype.hideCountdown=function(){this.countdown.hide(),this.closeButton.show(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.show()},e.prototype.openExpand=function(){var t=this;this.hideCountdown();var i,n=function(){return clearInterval(i)},o=function(){t.tracker.track(p.TRACKING.openExpand,t.getTrackingMacros());var o=0;i=setInterval(function(){o+=5e3;var i=o/1e3;t.logger.debug("open currentOffset",i),t.tracker.track(p.TRACKING.open,t.getTrackingMacros(),i),i>=e.MAX_OPEN_OFFSET&&n()},5e3)};y.a.openExpand(this.placement.getInnerContainer(),this.formatConfig,this.clickThrough,o,n,this.closeCountdown)},e.prototype.getAdHeight=function(){return a.getBoundingClientRect(this.playerContainer).height||1},e.prototype.getTrackingMacros=function(){var t=Math.ceil(100*s.getPercentageInView(this.playerContainer,this.win,this.getAdHeight()));return(t<0||!s.getRealVisibilityState(this.playerContainer))&&(t=0),e={},e[v.TrackingMacro.VIEWABILITY]=""+t,e;var e},e.RATIO=r.isMobile()?16/9:2.35,e.MAX_VISIBLE_OFFSET=1,e.MAX_OPEN_OFFSET=30,e}(n.a);e.a=A},function(t,e,i){i.d(e,"a",function(){return p});var n=i(0),o=i(6),r=i(7),a=i(3),s=i(2),c=i(1),u=i(5),d=i(35),l=i(84),p=function(){function t(t){var e=this;if(this.abstractFormat=t,this.isLandscape=!1,this.logger=new c.a("Format.Responsive"),this.orientationChangeListeners=[],this.resizeListeners=[],this.manualMaxWidth=!1,this.vpaidAd=t.getVpaidAd(),this.mainContainer=t.parentContainer,this.formatContainer=t.placement.getInnerContainer(),this.mediafile=t.player.getMediafile(),this.win=t.placement.placementConfig.parentWindow.getWindow(),this.linearAd=t.linearAd,this.vpaidAd.subscribe(function(){e.unsetResponsive()},u.a.AdError),this.vpaidAd.subscribe(function(){e.unsetResponsive()},u.a.AdStopped),Object(s.isMobile)()||Object(s.isTablet)()){var i=function(t){var i=r.getWindowSize(e.win);e.isLandscape=i.width>i.height};i(),this.addOrientationChangeListener(i),this.addOrientationChangeListener(function(){e.isNativeFullscreen()&&e.resize()});var n=function(t){e.win.setTimeout(function(){e.onOrientationChange(t)},200)};r.addEventListener("orientationchange",this.win,n),this.vpaidAd.subscribe(function(){r.removeEventListener("orientationchange",e.win,n)},u.a.AdStopped)}}return t.prototype.resizeOnStart=function(){var t=this;this.vpaidAd.subscribe(function(e){t.logger.debug("Receive metadata from video",e),e.width&&e.height&&(t.mediafile.width!==e.width||t.mediafile.height!==e.height)&&(t.logger.debug("video size is different from VAST mediafile, force resize to good dimensions"),t.mediafile.width=e.width,t.mediafile.height=e.height,t.resize(!0))},d.default.AdVideoMetadata),this.vpaidAd.subscribe(function(){return t.resize(!0)},u.a.AdVideoStart),this.vpaidAd.subscribe(function(){return t.resize(!0)},u.a.AdStarted)},t.prototype.setMainContainer=function(t){this.mainContainer=t,this.iframe&&(this.unsetResponsive(),this.setResponsive())},t.prototype.setResponsive=function(){var t=this;this.iframe||(this.iframe=document.createElement("iframe"),this.iframe.className="teads-resize",this.iframe.style.setProperty("height","0","important"),this.iframe.style.setProperty("min-height","0","important"),this.iframe.style.setProperty("width","100%","important"),this.iframe.style.setProperty("border","none","important"),this.iframe.style.setProperty("margin","0","important"),this.iframe.style.setProperty("padding","0","important"),this.iframe.style.setProperty("display","block","important")),this.abstractFormat.placement.getElectedSlot().getElement().appendChild(this.iframe),this.resizeCallback=function(){return t.resize()},r.addEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.resize()},t.prototype.unsetResponsive=function(){return!(!this.iframe||!this.iframe.parentNode)&&(r.removeEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.iframe.parentNode.removeChild(this.iframe),!0)},t.prototype.addOrientationChangeListener=function(t){a.indexOf(this.orientationChangeListeners,t)<0&&this.orientationChangeListeners.push(t)},t.prototype.addResizeListener=function(t){a.indexOf(this.resizeListeners,t)<0&&this.resizeListeners.push(t)},t.prototype.getOptimalDimension=function(t,e){void 0===t&&(t=this.mainContainer),void 0===e&&(e=1);var i=r.getWindowSize(this.win),n=this.getContainerWidth(t),o=!!this.abstractFormat.vpaidApi.getStudioData(),a=l.c.getOptimalHeight(this.mediafile,n,o),c={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};if(a>e*i.height&&!Object(s.isFacebookIA)()){var u=i.height/a;c.width=u*n*e,c.height=e*i.height}else c.width===n&&c.height===a||(c.width=n,c.height=this.isFullscreen()?i.height:a);return c.width=Math.round(c.width),c.height=Math.round(c.height),c},t.prototype.resize=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=this.mainContainer);var i={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};this.setMaxWidth(e);var n,o=this.getContainerWidth(e),a=this.getOptimalDimension(),s=r.getWindowSize(this.win),c=!1;this.isNativeFullscreen()||this.isFullscreen()&&t?i.height===s.height&&i.width===s.width||(this.logger.debug("fullscreen resize from "+i.width+"x"+i.height+" to "+s.width+"x"+s.height),this.vpaidAd.resizeAd(s.width,s.height,"fullscreen"),c=!0):(t||i.height!==a.height||i.width!==a.width)&&(n=a.width>=o?0:(o-a.width)/2,this.formatContainer.style.marginLeft=n+"px",this.formatContainer.style.marginRight=this.formatContainer.style.marginLeft,this.logger.debug("resize from "+i.width+"x"+i.height+" to "+a.width+"x"+a.height),this.vpaidAd.resizeAd(a.width,a.height,this.isFullscreen()?"fullscreen":"normal"),c=!0),c&&this.onResize()},t.prototype.isFullscreen=function(){return Object(o.hasClass)(this.vpaidAd.getMainComponentsContainer(),"fullscreen")},t.prototype.isNativeFullscreen=function(){return Object(o.isFullscreen)(this.win.document)},t.prototype.onOrientationChange=function(t){a.forEach(this.orientationChangeListeners,function(e){e(t)})},t.prototype.onResize=function(){var t=this;this.win.setTimeout(function(){a.forEach(t.resizeListeners,function(t){t()})},100)},t.prototype.getContainerWidth=function(t){if(void 0===t&&(t=this.mainContainer),this.isFullscreen())return r.getWindowSize(this.win).width;var e=this.win.getComputedStyle(t),i=e.getPropertyValue("width");if(Object(n.isSizeInPx)(i))return Math.round(parseFloat(i));var o=parseFloat(e.getPropertyValue("padding-left"))||0,a=parseFloat(e.getPropertyValue("padding-right"))||0;return Math.round(r.getBoundingClientRect(t).width-(o+a))},t.prototype.setMaxWidth=function(t){if(void 0===t&&(t=this.mainContainer),this.isFullscreen())t.style.setProperty("max-width","none");else if(!t.style.getPropertyValue("max-width")||this.manualMaxWidth){var e=r.getBoundingClientRect(t),i=r.getBoundingClientRect(this.iframe);t.style.setProperty("max-width",Math.round(i.width-Math.max(e.left-i.left,e.right-i.right))+"px"),this.manualMaxWidth=!0}},t}()},function(t,e,i){i.d(e,"a",function(){return n});var n=function(){function t(t){this.components=t}return t.prototype.getComponent=function(t){return this.components.hasOwnProperty(t)?this.components[t]:null},t.prototype.getComponents=function(){return this.components},t.prototype.showComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].hide()},t.prototype.showAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].hide()},t}()},function(t,e,i){i.d(e,"a",function(){return C});var n,o=i(1),r=i(4),a=i(3),s=i(6),c=i(7),u=i(58),d=[{name:"DoubleVerify",domain:/cdn\.doubleverify\.com/,appendRule:function(t,e){t.parentElement.appendChild(e)}},{name:"ComScore",domain:/sb\.voicefive\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"IAS",domain:/pixel\.adsafeprotected\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"MOAT",domain:/\.moatads\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}}],l=function(t){return a.find(d,function(e){return e.name===t})},p=function(t){return a.find(d,function(e){return e.domain.test(t)})},h=function(){if(void 0!==n)return n;if("undefined"==typeof DOMParser||"function"!=typeof DOMParser)u.a.sendError("domparser-not-found"),n=!1;else{var t=new DOMParser;try{var e=t.parseFromString("<div>Hello</div>","text/html");"DIV"===e.body.firstElementChild.nodeName&&"Hello"===e.body.firstElementChild.innerHTML?(u.a.sendInfo("domparser-html-compat"),n=!0):(u.a.sendError("domparser-html-fail"),n=!1)}catch(t){u.a.sendError("domparser-no-html-compat"),n=!1}}return n},f=function(t,e){var i=e.onEnterElement;if(!0!==i(t))for(var n=t.firstElementChild;n;n=n.nextElementSibling)f(n,{onEnterElement:i})},g=function(t,e){var i=[];return f(t,{onEnterElement:function(t){if(e(t))return i.push(t),t.parentElement&&t.parentElement.removeChild(t),!0}}),i},m=function(t,e){var i=[];return f(t,{onEnterElement:function(t){if(e(t))return i.push(t),!0}}),i},v=function(t){var e=t.getAttribute("src");return!("SCRIPT"!==t.nodeName||!e||!a.some(d,function(t){return t.domain.test(e)}))},y=function(t){for(var e=document.createElement("script"),i=0;i<t.attributes.length;i++){var n=t.attributes[i],o=n.name,r=n.value;e.setAttribute(o,r)}return e},b=function(t){var e=new DOMParser,i=w(e)(t),n=a.map(g(i,v),function(t){var e=t.getAttribute("src");return{provider:p(e).name,source:e,script:t}});return{creative:i.innerHTML,viewabilityTags:n}},A=function(t){var e=new DOMParser,i=w(e)(t);a.forEach(m(i,v),function(t){(new Image).src=t.getAttribute("src")})},E=function(t){return"<div>"+t+"</div>"},w=function(t){return function(e){return t.parseFromString(E(e),"text/html").body.firstElementChild}},C=function(){function t(t,e,i,n,r){this.insertionId=t,this.connectionId=e,this.connectionType=i,this.playerContainer=n,this.win=r,this.logger=new o.a("ViewabilityTags"),this.thresholdReached=!1,this.thresholdReachedCallbacks=[],h()}return t.prototype.appendViewabilityTags=function(t){var e=this;a.forEach(t,function(t){return l(t.provider).appendRule(e.playerContainer,y(t.script))})},t.prototype.getCreativeTag=function(t){var e=this;if(h()&&this.connectionType.isDisplay()){A(t);var i=b(t),n=i.creative,o=i.viewabilityTags;return this.onceThresholdReached(function(){return e.appendViewabilityTags(o)}),n}return t},t.prototype.onceThresholdReached=function(t){this.thresholdReached?t():this.thresholdReachedCallbacks.push(t)},t.prototype.onScroll=function(){var t=this;this.thresholdReached||r.b.of(this.connectionType.isDisplay()?25:null).orElse(function(){return t.insertionId.nonEmpty()?Object(r.c)(25):r.a}).match({some:function(e){e/100<=Object(s.getPercentageInView)(t.playerContainer,t.win,Object(c.getSize)(t.playerContainer).height,!0)&&t.resolveThresholdReach()},none:function(){t.logger.warn("Could not resolve threshold reach: no insertion, or connection not whitelisted",t.insertionId.orNull(),t.connectionId),t.thresholdReached=!0}})},t.prototype.resolveThresholdReach=function(){u.a.sendInfo("viewability:resolveThresholdReach"),!0!==this.thresholdReached&&(this.thresholdReached=!0,a.forEach(this.thresholdReachedCallbacks,function(t){return t()}),this.thresholdReachedCallbacks=[])},t}()},function(t,e,i){i.d(e,"a",function(){return d});var n,o=i(28),r=i(3),a=i(1),s=i(5),c=i(2),u=i(7);!function(t){t[t.NO=0]="NO",t[t.HAS_MUTED=1]="HAS_MUTED",t[t.HAS_UNMUTED=2]="HAS_UNMUTED"}(n||(n={}));var d=function(){function t(){this.lastUserInteractionSound=n.NO,this.cursorCoords={x:0,y:0},this.currentVolume=0,this.muteCallbacks=[],this.unmuteCallbacks=[],this.logger=new a.a("helper.VolumeController"),this.eventListenerManager=new o.a}return t.prototype.init=function(t){this.abstractFormat=t,this.vpaidAd=t.getVpaidAd(),this.formatConfig=t.formatConfig,this.formatConfig.soundStart.isMute()?this.hasStarted=!1:this.formatConfig.soundStart.isUnmute()?this.hasStarted=!0:this.formatConfig.soundStart.isCountdown()&&(this.hasStarted=!1)},t.prototype.getVolume=function(){return-1===this.vpaidAd.getAdVolume()?this.currentVolume:this.vpaidAd.getAdVolume()},t.prototype.setVolume=function(t){this.getVolume()!==t&&(this.currentVolume=t,this.vpaidAd.setAdVolume(t))},t.prototype.toggleVolume=function(){if(this.getVolume()>0)this.mute(),this.lastUserInteractionSound=n.HAS_MUTED,r.forEach(this.muteCallbacks,function(t){return t()});else{var t=Object(c.isDesktop)()?this.formatConfig.volume.getMouseover():this.formatConfig.volume.getMain();this.setVolume(t),this.lastUserInteractionSound=n.HAS_UNMUTED,r.forEach(this.unmuteCallbacks,function(t){return t()})}},t.prototype.userAlreadyInteracted=function(){return this.lastUserInteractionSound!==n.NO},t.prototype.startAt=function(t){var e=this,i=function(){e.vpaidAd.getAdDuration()-e.vpaidAd.getAdRemainingTime()>=t&&(e.vpaidAd.unsubscribe(i,s.a.AdRemainingTimeChange),e.hasStarted||(e.hasStarted=!0,e.setVolume(e.formatConfig.volume.getMain())))};this.vpaidAd.subscribe(i,s.a.AdRemainingTimeChange)},t.prototype.mute=function(){this.setVolume(0)},t.prototype.isMuted=function(){return 0===this.getVolume()},t.prototype.onMouseOver=function(){this.userAlreadyInteracted()||(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())&&this.setVolume(this.formatConfig.volume.getMouseover())},t.prototype.onMouseOut=function(){this.userAlreadyInteracted()||(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())&&(this.formatConfig.soundOver.isOver()?this.formatConfig.soundStart.isUnmute()?this.setVolume(this.formatConfig.volume.getMain()):this.formatConfig.soundStart.isMute()?this.setVolume(0):this.formatConfig.soundStart.isCountdown()&&this.setVolume(this.formatConfig.volume.getMain()):this.formatConfig.soundOver.isOnceOver()&&this.setVolume(this.formatConfig.volume.getMain()))},t.prototype.onAdVideoStart=function(){if(this.formatConfig.soundStart.isUnmute())this.setVolume(this.formatConfig.volume.getMain());else if(this.formatConfig.soundStart.isCountdown())this.startAt(this.formatConfig.soundStart.getCountdown());else if(Object(c.isDesktop)()&&!Object(c.isIABSafeFrame)()){var t=Object(u.getBoundingClientRect)(this.abstractFormat.parentContainer),e=this.cursorCoords.x>=t.left&&this.cursorCoords.x<=t.right,i=this.cursorCoords.y>=t.top&&this.cursorCoords.y<=t.bottom;e&&i&&(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())?this.setVolume(this.formatConfig.volume.getMouseover()):this.setVolume(0),this.eventListenerManager.remove("mousemove")}else this.setVolume(0)},t.prototype.replay=function(){var t=this,e=Object(u.getBoundingClientRect)(this.abstractFormat.parentContainer);Object(c.isDesktop)()&&(this.cursorCoords={x:Math.floor(e.left+e.width/2),y:Math.floor(e.top+e.height/2)},this.eventListenerManager.add("mousemove",this.abstractFormat.placement.placementConfig.parentWindow.getWindow().document.body,function(e){t.cursorCoords={x:e.clientX,y:e.clientY}}))},t.prototype.startInView=function(){if(!this.userAlreadyInteracted()){this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&(this.formatConfig.soundStart.isCountdown()||this.formatConfig.soundStart.isUnmute()||this.formatConfig.soundOver.isOnceOver())&&this.setVolume(this.formatConfig.volume.getMain())}},t.prototype.endInView=function(){!this.userAlreadyInteracted()&&this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&this.setVolume(0)},t.prototype.addMuteCallback=function(t){r.indexOf(this.muteCallbacks,t)<0&&this.muteCallbacks.push(t)},t.prototype.addUnmuteCallback=function(t){r.indexOf(this.unmuteCallbacks,t)<0&&this.unmuteCallbacks.push(t)},t}()},function(t,e,i){function n(t,e,i){var n=p[t],o=l[e];return i(n,e)&&o||(o=t),o}function o(t,e){var i=!1;switch(t){case s.FACEBOOK_IA.exitsViewport:i=e===s.FACEBOOK_IA.entersViewport;break;case s.FACEBOOK_IA.entersViewport:i=e===s.FACEBOOK_IA.centerEntersViewport||e===s.FACEBOOK_IA.exitsViewport;break;case s.FACEBOOK_IA.centerEntersViewport:i=e===s.FACEBOOK_IA.centerExitsViewport;break;case s.FACEBOOK_IA.centerExitsViewport:i=e===s.FACEBOOK_IA.exitsViewport||e===s.FACEBOOK_IA.centerEntersViewport;break;case void 0:i=!0}return u.debug(t+" -> "+e+" = "+i),i}Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"logger",function(){return u}),i.d(e,"NOT_IN_VIEW",function(){return d}),i.d(e,"eventToPercent",function(){return l}),i.d(e,"percentToEvent",function(){return p}),e.getPercentInView=n,e.isFlowValid=o;var r,a,s=i(39),c=i(1),u=new c.a("helper.Facebook"),d=-1,l=(r={},r[s.FACEBOOK_IA.exitsViewport]=d,r[s.FACEBOOK_IA.entersViewport]=1,r[s.FACEBOOK_IA.centerExitsViewport]=49,r[s.FACEBOOK_IA.centerEntersViewport]=51,r),p=(a={},a[d]=s.FACEBOOK_IA.exitsViewport,a[1]=s.FACEBOOK_IA.entersViewport,a[49]=s.FACEBOOK_IA.centerExitsViewport,a[51]=s.FACEBOOK_IA.centerEntersViewport,a)},function(t,e,i){i.d(e,"a",function(){return u});var n=i(1),o=i(64),r=i(8),a=i(56),s=i(7),c=function(){function t(e,i,o){if(this.element=e,this.countdown=i,this.callback=o,this.logger=new n.a("helper.DisplayCloseButton.countdown"),this.element.className=t.ELEMENT_CLASS,this.countdown=Number(this.countdown),this.countdown<=0||isNaN(this.countdown))return void this.onEnded();var s=a.replacePlaceholders(t.TEMPLATE,{"countdown-duration":this.countdown,"countdown-id":"countdown-"+r.rand(10)});this.element.innerHTML=s,this.countdownTextElement=e.querySelector("."+t.TIMER_CLASS)}return t.prototype.resume=function(){this.ended||(this.paused=!1,this.initTimer())},t.prototype.pause=function(){this.ended||(this.paused=!0,this.stopTimer())},t.prototype.onEnded=function(){if(this.ended=!0,clearInterval(this.timerInterval),this.hide(),this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("countdown ended callback failed",t)}},t.prototype.initTimer=function(){var t=this,e=function(){t.paused||t.countdown--,t.countdown<=0?t.onEnded():t.updateDisplay()};this.timerInterval=setInterval(e,1e3),this.updateDisplay()},t.prototype.stopTimer=function(){clearInterval(this.timerInterval)},t.prototype.updateDisplay=function(){this.countdownTextElement&&this.countdownTextElement.setAttribute&&this.countdownTextElement.setAttribute("data-countdown",String(this.countdown))},t.prototype.hide=function(){this.element.style.display="none"},t.TEMPLATE=i(282),t.ELEMENT_CLASS="components-countdown",t.TIMER_CLASS="components-countdown-timer",t}(),u=function(){function t(t,e,i,r){var a=this;if(this.config=t,this.clickZoneContainer=e,this.callback=i,this.win=r,this.isVisible=!0,this.countdownEnded=!1,this.logger=new n.a("helper.DisplayCloseButton"),!this.config.disable){this.clickZone=this.win.document.createElement("div"),this.clickZone.className=o.a+"closebutton",this.clickZone.style.position="absolute",this.clickZone.style.top="0px",this.clickZone.style.right="0px",this.clickZone.style.padding="15px";var s=this.win.document.createElement("div");this.countdown=new c(s,this.config.countdown,function(){return a.onCountdownEnded()}),this.clickZone.appendChild(s),this.clickZoneContainer.appendChild(this.clickZone)}}return t.prototype.hide=function(){!this.config.disable&&this.isVisible&&(this.clickZone.style.display="none",this.isVisible=!1)},t.prototype.show=function(){this.config.disable||this.isVisible||(this.clickZone.style.display="block",this.isVisible=!0)},t.prototype.resumeCoutdown=function(){this.config.disable||this.countdown.resume()},t.prototype.pauseCoutdown=function(){this.config.disable||this.countdown.pause()},t.prototype.onCountdownEnded=function(){var t=this;if(!this.countdownEnded){this.countdownEnded=!0;var e=this.win.document.createElement("div");e.className=o.a+"closebutton icon-close",e.style.cursor="pointer",this.clickZone.appendChild(e),s.addEventListener("click",e,function(){t.onClose()})}},t.prototype.onClose=function(){if(this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("onClose callback failed",t)}},t}()},function(t,e,i){i.d(e,"a",function(){return l});var n=i(233),o=i(256),r=i(39),a=i(2),s=i(19),c=i(27),u=i(259),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e,i,n){var o=t.call(this,e,i,n,r.SLOT_TYPE.corner)||this;return o.placement=e,o.config=i,o.player=n,o}return d(e,t),e.prototype.load=function(e,i){t.prototype.load.call(this,e,i)},e.prototype.getTemplateName=function(){return"inread"},e.prototype.close=function(t){var e=this;s.isLowerOrEqual(a.getIEVersion(),"9")?this.exit(t):this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.parentContainer,function(){e.exit(t)})},e.prototype.onAdLoaded=function(){var e=this;t.prototype.onAdLoaded.call(this),this.smartPositionHelper.init(),c.setTimeout(function(){e.smartPositionHelper.start();var t=e.smartPositionHelper.getOptimalDimension();e.parentContainer.style.setProperty("width",t.width+"px"),e.parentContainer.style.setProperty("height",t.height+"px"),e.vpaidAd.startAd()},1)},e.prototype.onAdVideoStart=function(){t.prototype.onAdVideoStart.call(this),this.openFormat()},e.prototype.onAdVideoComplete=function(){t.prototype.onAdVideoComplete.call(this),this.smartPositionHelper.deinit()},e.prototype.fitContainerToContent=function(t){return null},e.prototype.getViewportInViewState=function(){return!0},e.prototype.onVpaidReady=function(){t.prototype.onVpaidReady.call(this),this.placement.placementTracker.handleMirroringEvent(),this.fullscreenHelper=new u.a(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.formatConfig.smartPosition.setValue({corner:!0,top:!1}),this.smartPositionHelper=new n.a(this)},e.prototype.openFormat=function(){this.states.hasOpened=!0,this.placement.placementConfig.css.applyRulesOn(this.parentContainer)},e}(o.a)},function(t,e,i){var n=i(58),o=i(235),r=i(106),a=i(260),s=i(15),c=i(7),u=i(264),d=i(4),l=i(5),p=i(261),h=i(39),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sumologicPrefix="hybrid",e.sumologicEvents={videoClose:"videoClose",countdownStart:"countdownStart",openExpand:"openExpand"},e.sumologicData={source:{portrait:"portrait",landscape:"landscape",video:"video"},type:{click:"click",countdown:"countdown"}},e.formatRatio=h.INREAD_IMPACT_BASE_HEIGHT/h.INREAD_IMPACT_BASE_WIDTH,e}return f(e,t),e.prototype.start=function(){var e=this;try{this.hybrid=u.get(this.linearAd)}catch(t){var i=s.b.XML_PARSE;return i.message+=" : "+t,void this.placement.onVastError(new s.a(i),function(){e.placement.initFormatInstance(null,e.placement.handleNoAd()),e.start()})}this.initClickableCountdown(),this.tracker=new r.a(d.b.of([{name:u.TRACKINGEVENTS_OPEN,multiple:!1,resources:this.hybrid.tracking[u.TRACKINGEVENTS_OPEN]},{name:u.TRACKINGEVENTS_PROGRESS,multiple:!0,resources:this.hybrid.tracking[u.TRACKINGEVENTS_PROGRESS]}]),n.a.businessIds.pid),this.playerContainer.style.width="65%",t.prototype.start.call(this)},e.prototype.close=function(){},e.prototype.onAdLoaded=function(){t.prototype.onAdLoaded.call(this),this.initParallax()},e.prototype.onAdVideoThirdQuartile=function(){this.initEndParallax()},e.prototype.onAdVideoComplete=function(){t.prototype.onAdVideoComplete.call(this),this.vpaidAd.stopAd(),this.displayEndScreen()},e.prototype.onAdClickThru=function(){this.sendSumologicData(this.sumologicEvents.openExpand,this.sumologicData.source.video,this.sumologicData.type.click),this.openExpand()},e.prototype.onVpaidReady=function(){var e=this;t.prototype.onVpaidReady.call(this),this.player.getPlugin("ClickThrough").deinit(),c.addEventListener("resize",this.win,function(){return e.onAdSizeChange()}),this.vpaidAd.subscribe(function(){return e.onAdClickThru()},l.a.AdClickThru),this.vpaidAd.subscribe(function(){return e.onAdVideoThirdQuartile()},l.a.AdVideoThirdQuartile)},e.prototype.initInternalResponsive=function(){},e.prototype.collapse=function(){this.displayEndScreen()},e.prototype.getInnerOffsetTop=function(){var t=0,e=this.components.getComponent("label"),i=e?e.getElement():null;return i&&i.parentNode&&(t=c.getBoundingClientRect(i).height),t},e.prototype.initClickableCountdown=function(){var t=this;this.clickableCountdown=document.createElement("div"),this.clickableCountdown.style.cursor="pointer",this.clickableCountdown.style.position="absolute",this.clickableCountdown.style.right="0",this.clickableCountdown.className=a.a.CSSCLASSES.countdownMainContainer,this.placement.getInnerContainer().appendChild(this.clickableCountdown);var e=function(){var e=t.endscreenIsDisplayed?t.sumologicData.source.landscape:t.sumologicData.source.portrait;t.sendSumologicData(t.sumologicEvents.openExpand,e,t.sumologicData.type.countdown),t.openExpand()},i=function(){var e=t.endscreenIsDisplayed?t.sumologicData.source.landscape:t.sumologicData.source.portrait;t.sendSumologicData(t.sumologicEvents.openExpand,e,t.sumologicData.type.click),t.openExpand()};this.countdownContainer=document.createElement("div"),this.clickableCountdown.appendChild(this.countdownContainer);var n=document.createElement("div");n.className=a.a.CSSCLASSES.countdownClickZone,this.clickableCountdown.appendChild(n),this.countdown=new a.a(this.clickableCountdown,n,this.countdownContainer,function(){return e()},function(){return i()},this.win),this.resizeClickableCountdown(),c.addEventListener("click",n,function(){}),c.addEventListener("mouseover",n,function(){return t.countdown.show()}),c.addEventListener("mouseout",n,function(){return t.countdown.hide()})},e.prototype.resizeClickableCountdown=function(){if(this.clickableCountdown){var t=this.getRightParallaxWidth();this.clickableCountdown.style.width=t+"px",this.clickableCountdown.style.height=this.adHeight+"px",this.clickableCountdown.style.top=this.getInnerOffsetTop()+"px"}},e.prototype.initParallax=function(){var t=this;this.parallaxRight=document.createElement("div"),this.parentContainer.insertBefore(this.parallaxRight,this.parentContainer.firstChild);var e=new Image;e.onload=function(){t.parallaxRightWidth=e.width,t.parallaxRightHeight=e.height,t.resizeParallax()},e.src=this.hybrid.parallax.portrait},e.prototype.initEndParallax=function(t){var e=this;if(!this.parallaxEnd){this.parallaxEnd=document.createElement("div"),this.parallaxEnd.style.display="none",this.parentContainer.insertBefore(this.parallaxEnd,this.parentContainer.firstChild);var i=new Image;i.onload=function(){e.parallaxEndWidth=i.width,e.parallaxEndHeight=i.height,e.resizeParallax(),t&&"function"==typeof t&&t()},i.src=this.hybrid.parallax.landscape}},e.prototype.resizeParallax=function(){var t=this.getInnerOffsetTop(),i=c.getBoundingClientRect(this.parentContainer).left;if(this.placement.getInnerContainer().style.marginTop="-"+(this.adHeight+t)+"px",this.parallaxRight&&this.parallaxRightWidth){var n=this.adWidth/this.parallaxRightWidth,o=n*this.parallaxRightHeight;this.parallaxRight.style.background="url("+this.hybrid.parallax.portrait+") repeat-y "+i+"px 50% / "+this.adWidth+"px "+o+"px fixed transparent",this.parallaxRight.style.width=this.adWidth+"px",this.parallaxRight.style.height=this.adHeight+"px",this.parallaxRight.style.marginTop=t+"px",this.parallaxRight.style.marginLeft="0",this.parallaxRight.className=e.CSSCLASSES.parallaxRight}if(this.parallaxEnd&&this.parallaxEndWidth){var n=this.adWidth/this.parallaxEndWidth,o=n*this.parallaxEndHeight;this.parallaxEnd.style.background="url("+this.hybrid.parallax.landscape+") repeat-y "+i+"px 50% / "+this.adWidth+"px "+o+"px fixed transparent",this.parallaxEnd.style.width=this.adWidth+"px",this.parallaxEnd.style.height=this.adHeight+"px",this.parallaxEnd.style.marginTop=t+"px",this.parallaxEnd.style.marginLeft="0",this.parallaxEnd.className=e.CSSCLASSES.parallaxEnd}},e.prototype.updateAdSize=function(){this.adWidth=c.getBoundingClientRect(this.parentContainer).width,this.adHeight=this.endscreenIsDisplayed?this.adWidth*this.formatRatio:this.vpaidAd.getAdHeight(),this.playerContainer.style.height=this.adHeight+"px",this.fitContainerToContent(),this.resizeClickableCountdown(),this.resizeParallax()},e.prototype.displayEndScreen=function(){var t=this;if(!this.endscreenIsDisplayed){this.endscreenIsDisplayed=!0,this.playerContainer.style.height=this.adHeight+"px",this.playerContainer.style.visibility="hidden",this.parallaxRight.parentNode&&this.parallaxRight.parentNode.removeChild(this.parallaxRight);var e=function(){return t.parallaxEnd.style.display="block"};this.initEndParallax(e),e(),this.updateAdSize()}},e.prototype.openExpand=function(){var t=this;this.countdown.hide();var e,i=this.hybrid.expand.site||this.linearAd.clickThrough[0],n=function(){t.vpaidAd.collapseAd(),t.requestResumeAd(),clearInterval(e)},o=function(){t.tracker.track(u.TRACKINGEVENTS_OPEN);var i=0;e=setInterval(function(){i+=1e3,t.tracker.track(u.TRACKINGEVENTS_PROGRESS,{},i/1e3)},1e3)};p.a.openExpand(this.placement.getInnerContainer(),this.formatConfig,i,o,n),this.tracker.track(u.TRACKINGEVENTS_OPEN),this.requestPauseAd()},e.prototype.getRightParallaxWidth=function(){var t=c.getBoundingClientRect(this.parentContainer).width;return this.endscreenIsDisplayed?t:.35*t},e.prototype.sendSumologicData=function(t,e,i){n.a.sendInfo(this.sumologicPrefix+" "+t+" "+(e?e+" ":"")+(i?i+" ":"")+this.getCurrentTime())},e.CSSCLASSES={parallaxRight:"teads-impact-parallax-portrait",parallaxEnd:"teads-impact-parallax-landscape"},e}(o.a);e.a=g},function(t,e,i){var n=i(186),o=i(387),r=i(304),a=i(305),s=i(306),c=i(307),u=i(161),d=i(308),l=i(309),p=i(310),h=i(311),f=i(312),g=i(313),m=i(314),v=i(315),y=i(316),b=i(317),A=i(318),E=i(251),w=i(250),C=i(319),_=i(320),S=i(321),T=i(322),I=i(324),O=i(325),P=i(326),k=function(){function t(t){t.slot||(t.slot={}),this.raw=t,this.pid=new n.a(t.pid),this.formatName=new u.a(t.format),this.btf=new d.a(t.slot.btf),this.css=new l.a(t.css),this.filter=new p.a(t.slot.filter),this.insertBefore=new h.a(t.slot.insertBefore),this.insertInside=new f.a(t.slot.insertInside),this.minimum=new g.a(t.slot.minimum),this.minimumBelow=new m.a(t.slot.minimumBelow),this.capping=new v.a(t.capping,t.pid),this.parentWindow=new y.a(t.parentWindow),this.fallback=new b.a(t.fallback),this.rpmFallback=new A.a(t.rpmFallback),this.videoFilter=new E.a(t.slot.videoFilter),this.imageFilter=new w.a(t.slot.imageFilter),this.minimumTextLength=new C.a(t.slot.minimumTextLength),this.minimumWidth=new _.a(t.slot.minimumWidth),this.maximumWidth=new S.a(t.slot.maximumWidth),this.belowSelector=new T.a(t.slot.belowSelector,this.parentWindow.getWindow()),this.selector=new r.a(t.slot.selector,this.parentWindow.getWindow()),this.auto=new I.a(t.slot.auto,this.selector),this.avoid=new O.a(t.slot.avoid,this.parentWindow.getWindow()),this.scrollSelector=new P.a(t.slot.scrollSelector,this.parentWindow.getWindow()),this.callbacks=t.callbacks,this.mobile=new s.a(t.mobile),this.tablet=new c.a(t.tablet),this.desktop=new a.a(t.desktop),this.allowedRatio=new o.a}return t.prototype.isMobile=function(){return this.mobile.isEnabled()},t.prototype.isTablet=function(){return this.tablet.isEnabled()},t.prototype.isDesktop=function(){return this.desktop.isEnabled()},t}();e.a=k},function(module,__webpack_exports__,__webpack_require__){var __WEBPACK_IMPORTED_MODULE_0_format_option_AbstractOption__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_1_common_FormatException__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_2_common_Context__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3_common_Dom__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_4_common_ArrayHelper__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_5_common_HTMLHelper__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_6_common_Utils__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_7_format_placement_Slot__=__webpack_require__(198),__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Selector=function(_super){function Selector(t,e){var i=_super.call(this,"Selector")||this;if(i.value=t,i.win=e,i.default=null,i.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},!e)throw new __WEBPACK_IMPORTED_MODULE_1_common_FormatException__.a(__WEBPACK_IMPORTED_MODULE_1_common_FormatException__.a.OPTION_PARENTWINDOW_INVALID);return i.checkValue(),i}return __extends(Selector,_super),Selector.prototype.checkValue=function(){Object(__WEBPACK_IMPORTED_MODULE_6_common_Utils__.isString)(this.value)||__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isHTMLElement(this.value)||__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isNodeList(this.value)||__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isISlotSelector(this.value)||(this.value=this.default)},Selector.prototype.get=function(){return this.value},Selector.prototype.getSlots=function(){var t=[],e=this.value;if(__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isISlotSelector(this.value)){var i=void 0;for(var n in this.value)if(this.value.hasOwnProperty(n)&&(i=this.checkScreenSelector(n,this.win))){e=this.value[n];break}i?this.logger.debug("Slot",i,"selected:",e):this.logger.warn("Slots by device not found: ",this.value)}if(Object(__WEBPACK_IMPORTED_MODULE_6_common_Utils__.isString)(e)&&e){var o=[],r=__WEBPACK_IMPORTED_MODULE_5_common_HTMLHelper__.findParentWindows(document.body).concat(__WEBPACK_IMPORTED_MODULE_5_common_HTMLHelper__.findChildWindows(document.body));__WEBPACK_IMPORTED_MODULE_4_common_ArrayHelper__.forEach(r,function(t){Object(__WEBPACK_IMPORTED_MODULE_6_common_Utils__.isString)(e)&&(o=o.concat(__WEBPACK_IMPORTED_MODULE_4_common_ArrayHelper__.fromNodeList(__WEBPACK_IMPORTED_MODULE_3_common_Dom__.querySelectorAll(e,t))))});for(var a=0;a<o.length;a++)t.push(new __WEBPACK_IMPORTED_MODULE_7_format_placement_Slot__.a(o[a],a))}else if(__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isHTMLElement(e))t.push(new __WEBPACK_IMPORTED_MODULE_7_format_placement_Slot__.a(e));else if(__WEBPACK_IMPORTED_MODULE_3_common_Dom__.isNodeList(e))for(var a=0;a<e.length;a++)t.push(new __WEBPACK_IMPORTED_MODULE_7_format_placement_Slot__.a(e[a],a));return!t.length&&(Object(__WEBPACK_IMPORTED_MODULE_2_common_Context__.isAmp)()||Object(__WEBPACK_IMPORTED_MODULE_2_common_Context__.isIABSafeFrame)()||Object(__WEBPACK_IMPORTED_MODULE_2_common_Context__.isFacebookIA)())&&t.push(new __WEBPACK_IMPORTED_MODULE_7_format_placement_Slot__.a(this.win.document.body)),t},Selector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return __WEBPACK_IMPORTED_MODULE_4_common_ArrayHelper__.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},Selector}(__WEBPACK_IMPORTED_MODULE_0_format_option_AbstractOption__.a);__webpack_exports__.a=Selector},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Desktop")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Mobile")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Tablet")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Btf")||this;return n.value=i,(Object(o.isFacebookIA)()||Object(o.isAmp)()||Object(o.isIABSafeFrame)())&&(n.value=!1),n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(r.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.set=function(t){this.value=t},e.prototype.isEnabled=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=s},function(t,e,i){i.d(e,"a",function(){return c});var n=i(13),o=i(3),r=i(8),a=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Css")||this;return n.originalRules=i,n.checkValue(),n.originalRules&&(n.rules=e.transformStringToObject(n.originalRules)),n}return s(e,t),e.transformStringToObject=function(t){var e={};if(!t)return e;var i=t.split(";");return o.forEach(i,function(t){var i=t.split(":"),n=i[0],o=i[1];n&&o&&(n=r.trim(n),o=r.trim(o),e[n]=o,"float"===n&&(e.cssFloat=o,e.styleFloat=o))}),e},e.prototype.checkValue=function(){Object(a.isString)(this.originalRules)||(this.originalRules=e.DEFAULT)},e.prototype.getOriginal=function(){return this.originalRules},e.prototype.applyRulesOn=function(t){this.applyCssRulesOn(t,this.rules)},e.prototype.applyCssRulesOn=function(t,i){var n,o=!1;for(var r in i)i.hasOwnProperty(r)&&(o=e.IMPORTANT_REGEX.test(i[r]),n=i[r].replace(e.IMPORTANT_REGEX,"").trim(),t.style.setProperty(r,n,o?"important":null))},e.DEFAULT=null,e.IMPORTANT_REGEX=/!\s*important/i,e}(n.a)},function(t,e,i){var n=i(13),o=i(58),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Filter")||this;return n.func=i,n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(r.isFunction)(this.func)||(this.func=e.DEFAULT)},e.prototype.trigger=function(t){var e=!0;if("function"==typeof this.func){try{e=this.func.call(this.func,t)}catch(t){o.a.sendError({message:"The filter function threw an error"}),this.logger.error("the filter function threw an error:",t,this.func)}"boolean"!=typeof e&&(e=!0)}return e},e.DEFAULT=null,e}(n.a);e.a=s},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"InsertBefore")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!1,e}(n.a);e.a=a},function(t,e,i){i.d(e,"a",function(){return s});var n=i(13),o=i(2),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"InsertInside")||this;return n.value=i,n.checkValue(),n}return a(e,t),e.prototype.checkValue=function(){Object(o.isAmp)()?this.value=e.DEFAULT_AMP:Object(r.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!1,e.DEFAULT_AMP=!0,e}(n.a)},function(t,e,i){i.d(e,"a",function(){return s});var n=i(2),o=i(0),r=i(13),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var o=t.call(this,"Minimum")||this;return o.value=i,(Object(n.isAmp)()||Object(n.isIABSafeFrame)()||Object(n.isFacebookIA)())&&(o.value=1),o.checkValue(),o}return a(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.set=function(t){this.value=t},e.prototype.get=function(){return this.value},e.DEFAULT=1,e}(r.a)},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"MinimumBelow")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=null,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(53),r=i(17),a=i(0),s=i(4),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(i,n){void 0===i&&(i=e.DEFAULT),void 0===n&&(n=null);var a=t.call(this,"Capping")||this;return a.capping=i,a.pid=n,a.checkValue(),a.capping&&a.pid?o.get("teadsCapping"+a.pid).filter(function(t){return t.expiry>=Object(r.now)()}).match({some:function(t){a.capping.counter=t.counter,a.capping.expiry=new Date(t.expiry)},none:function(){a.logger.debug("Capping has expired, resetting"),a.capping.counter=a.capping.frequency||1,a.capping.expiry=new Date(Object(r.now)()+1e3*e.durations[a.capping.unit])}}):a.logger.debug("No capping"),a}return c(e,t),e.prototype.checkValue=function(){Object(a.isObject)(this.capping)||(this.capping=e.DEFAULT),(!Object(a.isNumber)(this.pid)||this.pid<=0)&&(this.pid=null)},e.prototype.reached=function(){return this.capping&&this.capping.counter<=0},e.prototype.record=function(){var t=this;s.b.of(this.capping).map(function(t){return{counter:t.counter-1,expiry:t.expiry.getTime()}}).forEach(function(e){t.logger.debug("Record capping data:",e),o.set("teadsCapping"+t.pid,e)})},e.durations={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3},e.VALUES={UNIT:"unit",FREQUENCY:"frequency"},e.DEFAULT=null,e}(n.a);e.a=u},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"ParentWindow")||this;if(n.value=i,n.win=window,n.checkValue(),n.value)try{window.top.document&&(n.win=window.top)}catch(t){n.logger.warn("parentWindow option is enabled but parent window is not accessible",t)}return n}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.getWindow=function(){return this.win},e.prototype.getValue=function(){return this.value},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=i(39),a=i(2),s=i(184),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"Fallback")||this;return n.value=i,n.called=!1,n.checkValue(),n}return c(e,t),e.prototype.checkValue=function(){Object(o.isFunction)(this.value)||(this.value=e.DEFAULT)},e.prototype.trigger=function(t){if(!this.value||this.called)return!1;try{var e=this.value.call(t);if(this.called=!0,e===r.INTERNAL_PASSBACK_NO_PASSBACK)return this.value=null,!1}catch(t){a.isAmp()&&s.clean(),this.logger.error("the fallback threw an error:",t)}return!0},e.prototype.hasValue=function(){return!!this.value},e.DEFAULT=null,e}(n.a);e.a=u},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"RpmFallback")||this;return n.value=i,n.called=!1,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isFunction)(this.value)||(this.value=e.DEFAULT)},e.prototype.trigger=function(t){if(!this.value||this.called)return!1;try{this.value.call(t),this.called=!0}catch(t){this.logger.error("the rpmFallback threw an error:",t)}return!0},e.DEFAULT=null,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"MinimumTextLength")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=100,e}(n.a);e.a=a},function(t,e,i){i.d(e,"a",function(){return a});var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"MinimumWidth")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(o.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=100,e}(n.a)},function(t,e,i){var n=i(0),o=i(13),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"MaximumWidth")||this;return n.value=i,n.checkValue(),n}return r(e,t),e.prototype.checkValue=function(){Object(n.isNumber)(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.DEFAULT=2e3,e}(o.a);e.a=a},function(t,e,i){var n=i(323),o=i(37),r=i(0),a=i(7),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n){var r=t.call(this,"BelowSelector")||this;if(void 0===n)throw new o.a(o.a.OPTION_PARENTWINDOW_INVALID);return r.win=n,i||(i=e.DEFAULT),r.value=i,r.checkValue(),r}return s(e,t),e.prototype.checkValue=function(){this.value===e.DEFAULT||Object(r.isString)(this.value)||a.isHTMLElement(this.value)||a.isNodeList(this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.getFirstElement=function(){if(!this.hasCachedElement){var t,e=this.value;if("object"==typeof this.value){var i;for(var n in this.value)if(this.value.hasOwnProperty(n)&&(i=this.checkScreenSelector(n,this.win),e=this.value[n],i))break;i?this.logger.debug("Below Selector",i,"selected:",e):this.logger.warn("Below Selector by device not found: ",this.value)}Object(r.isString)(e)&&e.length>0?t=a.querySelectorAll(e,this.win)[0]:a.isHTMLElement(e)?t=e:a.isNodeList(e)&&(t=e[0]),this.cacheElement(t)}return this.firstElement},e.prototype.getFirstElementRect=function(){return this.firstElementRect||(this.firstElementRect=a.getBoundingClientRect(this.getFirstElement())),this.firstElementRect},e.prototype.getFirstNodeBelowIndex=function(t){if(!this.firstNodeBelowIndex&&0!==this.firstNodeBelowIndex){for(var e,i=!1,n=0;!i&&t[n];)e=t[n++],e.getElementRect().top>=this.getFirstElementRect().bottom&&(i=!0);this.firstNodeBelowIndex=n-1}return this.firstNodeBelowIndex},e.prototype.cacheElement=function(t){this.firstElement=t,this.hasCachedElement=!0},e.DEFAULT=null,e}(n.a);e.a=c},function(module,__webpack_exports__,__webpack_require__){var __WEBPACK_IMPORTED_MODULE_0_format_option_AbstractOption__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_1_common_ArrayHelper__=__webpack_require__(3),__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),AbstractSelector=function(_super){function AbstractSelector(t){var e=_super.call(this,t)||this;return e.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},e}return __extends(AbstractSelector,_super),AbstractSelector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return __WEBPACK_IMPORTED_MODULE_1_common_ArrayHelper__.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,""+currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},AbstractSelector}(__WEBPACK_IMPORTED_MODULE_0_format_option_AbstractOption__.a);__webpack_exports__.a=AbstractSelector},function(t,e,i){var n=i(13),o=i(0),r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(i,n){void 0===i&&(i=e.DEFAULT),void 0===n&&(n=null);var o=t.call(this,"Auto")||this;return o.value=i,n&&null!==n.get()&&(o.value=!1),o.checkValue(),o}return r(e,t),e.prototype.checkValue=function(){Object(o.isBoolean)(this.value)||(this.value=e.DEFAULT)},e.prototype.isEnabled=function(){return this.value},e.prototype.set=function(t){this.value=t},e.DEFAULT=!0,e}(n.a);e.a=a},function(t,e,i){var n=i(13),o=i(198),r=i(7),a=i(0),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(i,n){void 0===i&&(i=e.DEFAULT),void 0===n&&(n=window);var o=t.call(this,"Avoid")||this;return o.value=i,o.win=n,o.checkValue(),o}return s(e,t),e.prototype.checkValue=function(){Object(a.containsKeys)(e.VALUES,this.value)||(this.value=e.DEFAULT)},e.prototype.get=function(){return this.value},e.prototype.getSlots=function(){if(this.value){var t=[],e=this.value.selector;if("string"==typeof e&&e.length>0)for(var i=r.querySelectorAll(e,this.win),n=0;n<i.length;n++)t.push(new o.a(i[n],n));else r.isHTMLElement(e)&&t.push(new o.a(e));return t}},e.prototype.getDistance=function(){return this.value.distance},e.VALUES={SELECTOR:"selector",DISTANCE:"distance"},e.DEFAULT=null,e}(n.a);e.a=c},function(t,e,i){var n=i(13),o=i(0),r=i(7),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(i,n){var o=t.call(this,"ScrollSelector")||this;return o.win=n,o.value=void 0===i?e.DEFAULT:i,o.checkValue(),o}return a(e,t),e.prototype.checkValue=function(){Object(o.isString)(this.value)||r.isHTMLElement(this.value)||(this.value=e.DEFAULT)},e.prototype.getSlot=function(){var t=this.win,e=this.value;if("string"==typeof e&&e.length>0){var i=r.querySelectorAll(e,this.win);i&&1===i.length?t=i[0]:this.logger.warn("Parameter must be a string (CSS Selector) or a DOM Element")}else r.isHTMLElement(e)&&(t=e);return t},e.DEFAULT=null,e}(n.a);e.a=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){t.exports=i(372)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=(i(32),i(178),i(179),i(242),i(181)),o=i(254),r=i(253),a=i(252),s=i(148),c=i(258),u=i(257),d=i(291),l=i(256),p=i(235),h=i(294),f=i(302),g=i(301),m=i(184),v=i(292),y=i(245),b=i(296),A=i(260),E=i(183),w=i(244),C=i(300),_=i(261),S=i(299),T=i(255),I=i(259),O=i(234),P=i(293),k=i(285),x=i(295),L=i(182),R=i(233),D=i(249),N=i(246),V=i(287),M=i(286),F=i(297),U=i(298),j=i(262),B=i(227),W=i(221),H=i(226),G=i(208),z=i(224),K=i(225),Y=i(222),q=i(209),X=i(223),Z=i(187),J=i(219),Q=i(212),$=i(210),tt=i(217),et=i(218),it=i(215),nt=i(214),ot=i(220),rt=i(211),at=i(213),st=i(206),ct=i(229),ut=i(205),dt=i(161),lt=i(203),pt=i(204),ht=i(207),ft=i(202),gt=i(284),mt=i(323),vt=i(324),yt=i(325),bt=i(322),At=i(308),Et=i(310),wt=i(250),Ct=i(311),_t=i(312),St=i(321),Tt=i(313),It=i(314),Ot=i(319),Pt=i(320),kt=i(326),xt=i(304),Lt=i(251),Rt=i(315),Dt=i(309),Nt=i(305),Vt=i(317),Mt=i(306),Ft=i(316),Ut=i(186),jt=i(318),Bt=i(307),Wt=i(13),Ht=i(228),Gt=i(290),zt=i(264),Kt=i(289),Yt=i(248),qt=i(288),Xt=i(247),Zt=i(198),Jt=i(65),Qt=i(39),$t=i(201),te=i(58),ee=i(216),ie=i(243),ne=i(303),oe=i(283),re=i(200),ae=i(263),se=i(159),ce=window.teads||{};ce.ad=ae.c.ad,ce.page=ae.c.page,ce.HTMLApi=o,ce.StudioCommunicationBridge=r.a,ce.VPAIDApi=a.a,ce.Config=Jt.a,ce.Constant=Qt,ce.FormatConfig=$t.a,ce.formatSumologic=te.a,ce.L10n=ee.a,ce.Page=ie.a,ce.PlacementConfig=ne.a,ce.PlacementSetting=oe.a,ce.PlacementTracker=re.a,ce.TAG=ae.a,ce.TAG_STATUS=ae.b,ce.TagManager=ae.c,ce.Template=se,ce.component=ce.component||{},ce.component.AbstractComponent=s.a,ce.component.Credits=c.a,ce.component.Label=u.a,ce.display=ce.display||{},ce.display.Ad=d.a,ce.display.DisplayAsset=d.b,ce.display.DisplayCreative=d.c,ce.display.DisplayTrackingDefinition=d.d,ce.format=ce.format||{},ce.format.AbstractFormat=l.a,ce.format.Inread=p.a,ce.format.InreadDisplay=h.a,ce.format.InreadImpact=f.a,ce.format.Slider=g.a,ce.helper=ce.helper||{},ce.helper.Amp=m,ce.helper.CheckerHelper=v,ce.helper.Compatibility=y,ce.helper.Components=b.a,ce.helper.Countdown=A.a,ce.helper.CSSHelper=E,ce.helper.Debug=w,ce.helper.DisplayCloseButton=C.a,ce.helper.ExpandHelper=_.a,ce.helper.Facebook=S,ce.helper.FixedBackground=T.a,ce.helper.FullscreenHelper=I.a,ce.helper.HeaderBidding=O,ce.helper.RASHelper=P,ce.helper.RASRequest=k.a,ce.helper.Responsive=x.a,ce.helper.IABSafeFrame=L,ce.helper.SafeFrameResize=L,ce.helper.SmartPosition=R.a,ce.helper.SmartSlot=D.a,ce.helper.UserId=N,ce.helper.UserSync=V,ce.helper.UUID=M,ce.helper.ViewabilityTags=F.a,ce.helper.VolumeController=U.a,ce.helper.WigoHelper=j,ce.option=ce.option||{},ce.option.End=B.a,ce.option.Launch=W.a,ce.option.PlayerClick=H.a,ce.option.SmartPosition=G.a,ce.option.SoundMute=z.a,ce.option.SoundOver=K.a,ce.option.SoundStart=Y.a,ce.option.Sticky=q.a,ce.option.VideoPause=X.a,ce.option.VideoStart=Z.a,ce.option.BrandLogo=J.a,ce.option.CallButton=Q.a,ce.option.CloseButton=$.a,ce.option.Credits=tt.a,ce.option.EndScreen=et.a,ce.option.Label=it.a,ce.option.ProgressBar=nt.a,ce.option.Slider=ot.a,ce.option.SoundButton=rt.a,ce.option.Timer=at.a,ce.option.AdType=st.a,ce.option.AllowedPlayer=ct.a,ce.option.Animations=ut.a,ce.option.Format=dt.a,ce.option.Threshold=lt.a,ce.option.Volume=pt.a,ce.option.VtpEvent=ht.a,ce.option.Vast=ft.a,ce.option.AbstractSelector=mt.a,ce.option.Auto=vt.a,ce.option.Avoid=yt.a,ce.option.BelowSelector=bt.a,ce.option.Btf=At.a,ce.option.Filter=Et.a,ce.option.ImageFilter=wt.a,ce.option.InsertBefore=Ct.a,ce.option.InsertInside=_t.a,ce.option.MaximumWidth=St.a,ce.option.Minimum=Tt.a,ce.option.MinimumBelow=It.a,ce.option.MinimumTextLength=Ot.a,ce.option.MinimumWidth=Pt.a,ce.option.ScrollSelector=kt.a,ce.option.Selector=xt.a,ce.option.VideoFilter=Lt.a,ce.option.Capping=Rt.a,ce.option.Css=Dt.a,ce.option.Desktop=Nt.a,ce.option.Fallback=Vt.a,ce.option.Mobile=Mt.a,ce.option.ParentWindow=Ft.a,ce.option.Pid=Ut.a,ce.option.RpmFallback=jt.a,ce.option.Tablet=Bt.a,ce.option.AbstractOption=Wt.a,ce.option.Callbacks=Ht.a,ce.option.setting=ce.option.setting||{},ce.option.setting.Slider=gt.a,ce.parser=ce.parser||{},ce.parser.Display=Gt,ce.parser.HybridExtension=zt,ce.placement=ce.placement||{},ce.placement.AbstractPlacement=Kt.a,ce.placement.Checker=Yt,ce.placement.Inboard=qt.a,ce.placement.Inread=Xt.a,ce.placement.Slot=Zt.a,ce.instances=ce.instances||n.d,ce.pageInstance=ce.pageInstance||n.f,ce.vastDomains=[],window.teads=ce},function(t,e,i){var n=i(148),o=i(28),r=i(0),a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){var e=t.call(this,"close-button icon-close","")||this;return e.WIDTH_WHEN_VISIBLE=11,e.eventListenerManager=new o.a,e.innerHTML="",e.initElement(),e.eventListenerManager.add("click",e.getElement(),function(t){return e.onClick(t)}),e}return a(e,t),e.prototype.isEnabled=function(){return!0},e.prototype.hide=function(){this.element&&this.element.style.setProperty("width","0")},e.prototype.show=function(){this.element&&this.element.style.setProperty("width",this.WIDTH_WHEN_VISIBLE+"px")},e.prototype.onClick=function(t){Object(r.isFunction)(this.onClickAction)&&this.onClickAction()},e}(n.a);e.a=s},function(t,e){t.exports=".teads-inread .teads-ui-components-adchoices, .teads-expand .teads-ui-components-adchoices { color: #000; font-family: arial; font-size: 11px; cursor: pointer; position: absolute; top: 3px; right: 5px; width: 15px; height: 15px; line-height: 15px; padding: 1px; background: url('data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjMDBhZWNkOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg0K'); background-size: 15px 15px; background-repeat: no-repeat; background-position: right center; z-index: 1; } .teads-inread .teads-ui-components-adchoices.expanded:first-child, .teads-expand .teads-ui-components-adchoices.expanded:first-child { border-bottom-left-radius: 8px; padding: 1px 17px 1px 4px; background-color: rgba(255, 255, 255, 0.8); } .teads-inread .teads-ui-components-adchoices.expanded, .teads-expand .teads-ui-components-adchoices.expanded { width: auto; padding-right: 19px; } .teads-inread .teads-ui-components-adchoices span, .teads-inread .teads-ui-components-adchoices span { display: none; } .teads-inread .teads-ui-components-adchoices.expanded span, .teads-expand .teads-ui-components-adchoices.expanded span { display: inline; } "},function(t,e,i){t.exports="/** This will include vpaid-ui assets */ "+i(281)+" "+i(280)+" .teads-expand { position: relative; } .teads-expand-closebutton { padding: 5px; text-align:center; color:white; cursor:pointer; position:absolute; z-index: 2147483646; top:5px; right:5px; width: 15px; height: 15px; padding: 0px; } .teads-expand-iframe { width: 100%; height: 100%; } .teads-expand-iframe iframe { border: 0px; width: 100%; height: 100%; background: #FFFFFF url({{assetsPath}}/default/img/loading.gif) no-repeat center center } .teads-expand-overlay { position: fixed; opacity: 0; background: #000000; border: 0; top: 0; left: 0; z-index: 2147483646; overflow: hidden; width: 100%; height: 100%; transition-property: opacity; -webkit-transition-property: opacity; -moz-transition-property: opacity; -o-transition-property: opacity; -ms-transition-property: opacity; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } .teads-expand-overlay.opened { opacity: 0.6 } .teads-expand-container.opened { opacity: 1 } .teads-expand-container { opacity: 0; position: fixed; background: #FFFFFF; border: 0; left: 0px; top: 0px; z-index: 2147483647; transition-property: opacity width height left top; -webkit-transition-property: opacity width height left top; -moz-transition-property: opacity width height left top; -o-transition-property: opacity width height left top; -ms-transition-property: opacity width height left top; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } body.noscroll { overflow:hidden; } "},function(t,e){t.exports='<div class="teads-expand"> <div class="teads-expand-label"></div> <div class="teads-expand-iframe"> <iframe src="{{iframeurl}}"></iframe> </div> <div class="teads-expand-closebutton"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 15 15" style="enable-background:new 0 0 15 15;" xml:space="preserve"> <g> <path style="fill:#000000;" d="M8.883,7.5l5.83-5.83c0.382-0.382,0.382-1.001,0-1.383c-0.382-0.382-1.002-0.382-1.383,0L7.5,6.117 l-5.83-5.83c-0.382-0.382-1.002-0.382-1.383,0c-0.382,0.382-0.382,1.001,0,1.383l5.83,5.83l-5.83,5.83 c-0.382,0.382-0.382,1.001,0,1.383C0.478,14.904,0.728,15,0.978,15c0.25,0,0.501-0.096,0.692-0.287l5.83-5.83l5.83,5.83 C13.521,14.904,13.771,15,14.022,15c0.25,0,0.501-0.096,0.692-0.287c0.382-0.382,0.382-1.001,0-1.383L8.883,7.5z"/> </g> </svg> </div> </div> '},function(t,e){t.exports='div.teads-display-absolute { position: absolute !important; overflow: hidden !important; z-index: 99 !important; pointer-events: none !important; background-repeat: repeat-y; background-attachment: fixed; } .teads-display-fixed { position: fixed !important; background-repeat: repeat-y !important; } .teads-display-clickzone { display: block !important; position: absolute !important; top: 0px !important; width: 100% !important; height: 100% !important; } /****************************************************************************** * Start closebutton and countdownclosebutton styles *****************************************************************************/ div.teads-display-format .icon-close { width: 11px !important; height: 11px !important; background-position: -80px 0 !important; background-size: 650px 40px !important; background-image: url("{{assetsPath}}/default/player-sprite.svg") !important; } div.teads-display-format .xs-screen .icon-close, div.teads-display-format .sm-screen .icon-close { width: 11px !important; height: 11px !important; background-position: -80px 0 !important; } /** disable SVG animation on closebutton countdown */ div.teads-display-format .teads-ui-component-closebutton svg { display: none !important; } div.teads-ui-component-closebutton .components-countdown { display: none !important; position: absolute !important; left: 2px !important; bottom: 20px !important; } /** White countdown */ div.teads-display-format .teads-ui-component-closebutton .components-countdown .countdown-circle>li { color: #FFFFFF !important; } div.teads-display-format .teads-ui-component-closebutton .components-countdown .show { display: block !important; } div.teads-display-format .teads-ui-component-closebutton .show { display: block !important; } div.teads-display-format .teads-ui-component-closebutton .show .close-button { opacity: .8 !important; } div.teads-display-format .teads-ui-component-closebutton .show:hover .close-button.show { opacity: 1 !important; } div.teads-display-format .sm-screen .teads-ui-component-closebutton .closebutton, div.teads-display-format .xs-screen .teads-ui-component-closebutton .closebutton { padding: 10px 10px 15px 15px !important; } '},function(t,e){t.exports="/** * Use default CSS defined in countdow.html */ .teads-countdown { width: 100%; height: 100%; } .teads-countdown-container { width: 100%; height: 100%; } .teads-countdown-number { font-family: 'Helvetica', Arial, sans-serif !important; font-weight: 300; font-size: 30px; } .teads-countdown-circle-background { opacity: 0.8; stroke-width: 1px; } .teads-countdown-circle { position: absolute; width: 100px; height: 100px; } .teads-countdown-fsicon { width: 20px; height: 20px; position: absolute; top: 10px; right: 10px; } .teads-countdown-background { background-color: #000000; opacity: 0.6; width: 100%; height: 100%; } .teads-countdown-clickzone { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } "},function(t,e){t.exports='<div class="smart-header-content"> <div class="close-button-smart"></div> <div class="adChoices-button-smart"></div> <div class="sound-button-smart"> <div class="icon-muteon"></div> </div> </div> '},function(t,e){t.exports=".teads-inread .teads-ui-components-smart-header { margin-bottom: 2px !important; height: 21px; } .teads-inread .teads-ui-components-smart-header .smart-header-content { position: absolute !important; right: 0px !important; background-color: #434343 !important; padding: 1px 6px 0px 6px; } .smart-header-content .close-button-smart .icon-close { transition: 0.1s; -webkit-transition: 0.1s; -moz-transition: 0.1s; -o-transition: 0.1s; -ms-transition: 0.1s; } .smart-header-content .close-button-smart, .smart-header-content .sound-button-smart, .smart-header-content .adChoices-button-smart { display: inline-block; cursor: pointer; } .smart-header-content .close-button-smart, .smart-header-content .adChoices-button-smart { margin-right: 5px; } .smart-header-content .close-button-smart .icon-close { width: 11px; height: 11px; background-position: -80px 0; background-image: url('{{assetsPath}}/default/player-sprite.svg'); } .smart-header-content .adChoices-button-smart { width: 13px; height: 13px; background: url('data:image/svg+xml;base64,PHN2Zw0KICB2ZXJzaW9uPSIxLjEiDQogIGJhc2VQcm9maWxlPSJmdWxsIg0KICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KICA8c3R5bGU+DQogICAgLyogPCFbQ0RBVEFbICovDQogICAgLmFkY2hvaWNlcyB7DQogICAgICB0ZXh0LXJlbmRlcmluZzogZ2VvbWV0cmljUHJlY2lzaW9uOw0KICAgICAgZmlsbC1vcGFjaXR5OiAxLjA7DQogICAgICBmaWxsOiAjRkZGOw0KICAgICAgc3Ryb2tlOiBub25lOw0KICAgIH0NCiAgICAvKiBdXT4gKi8NCiAgPC9zdHlsZT4NCiAgPHN2ZyBjbGFzcz0iYWRjaG9pY2VzIiB4PSIwcHgiPg0KICAgIDxjaXJjbGUgY3g9IjYiIGN5PSI2IiByPSIwLjY3Ij48L2NpcmNsZT4NCiAgICA8cGF0aCBkPSJNNC4yLDExLjNRMy4zLDExLjgsMy4zLDEwLjc1TDMuMyw0LjFRMy4zLDMuMSw0LjMsMy41TDEwLjQsNy4wUTEyLjAsNy41LDEwLjQsOC4wTDYuNjUsMTAuMEw2LjY1LDcuNzVhMC42NSwwLjY1LDAsMSwwLC0xLjMsMEw1LjM1LDEwLjc1YTAuOSwwLjksMCwwLDAsMS4zLDAuOEwxMi43LDguMlExMy43LDcuNSwxMi43LDYuN0wzLjMsMS42UTIuMiwxLjMsMS44LDIuNUwxLjgsMTIuNVEyLjIsMTMuOSwzLjMsMTMuM0w0LjgsMTIuNUEwLjMsMC4zLDAsMSwwLDQuMiwxMS4zWiI+PC9wYXRoPg0KICA8L3N2Zz4NCjwvc3ZnPg=='); } .icon-muteoff { background-position: -390px 0; } .icon-muteon { background-position: -445px 0; } .icon-muteoff, .icon-muteon { width: 16px; height: 11px; background-image: url('{{assetsPath}}/default/player-sprite.svg'); } "},function(t,e,i){var n=i(2),o=i(4),r=i(28),a=i(12),s=i(8),c=i(6),u=i(1),d=i(3),l=i(27),p=i(17),h=i(0),f=i(58),g=i(182),m=i(382),v=function(){function t(t){this.logger=new u.a("GDPR"),this.cmpHandler=Object(c.isInCrossDomainIframe)(document.body)&&!Object(n.isIABSafeFrame)()?new b(t):Object(n.isIABSafeFrame)()?new A(t):new y(t)}return t.isConsentDataValid=function(t){return Object(h.isBoolean)(t.gdprApplies)&&(Object(h.isUndefined)(t.hasGlobalScope)?Object(h.isBoolean)(t.hasGlobalConsent):Object(h.isBoolean)(t.hasGlobalScope))},t.getGlobalConsent=function(t){return Object(h.isUndefined)(t.hasGlobalScope)?!!t.hasGlobalConsent:t.hasGlobalScope},t.transformCmpResponse=function(e,i){var n={status:null,consent:""};return i?(n.consent=e.consentData||e.consentObject,Object(h.isString)(n.consent)||(n.consent="",t.logWrongConsentData(e)),t.isConsentDataValid(e)?e.gdprApplies?n.status=t.getGlobalConsent(e)?m.b.GDPR_APPLIES_GLOBAL:m.b.GDPR_APPLIES_PUBLISHER:n.status=m.b.GDPR_DOESNT_APPLY:n.status=m.b.OTHER):n.status=m.b.UNSUCCESSFUL_CMP_RESPONSE,n},t.logWrongConsentData=function(t){var e=d.filter(Object.keys(t),function(t){return!d.includes(["gdprApplies","hasGlobalScope","hasGlobalConsent","vendorListVersion"],t)}),i=d.map(e,function(e){return e+"("+(null===t[e]?"null":typeof t[e])+")"});f.a.sendInfo("gdpr-wrong-consent "+i.join(",").substr(0,120))},t.prototype.requestConsentString=function(e){var i=this;this.cmpHandler.isIntegrated()?(this.cmpTimeout=l.setTimeout(function(){return e({status:m.b.CMP_NOT_READY,consent:""})},t.GET_CONSENT_DATA_REQUEST_TIMEOUT),p.mark("cmpResponseStart"),this.cmpHandler.onIntegrationSuccess(function(n,r){p.mark("cmpResponseEnd"),o.b.of(p.measure("cmpResponse","cmpResponseStart","cmpResponseEnd")).forEach(function(t){f.a.sendInfo("gdpr-cmp-response "+t.duration.toFixed(2))}),i.cmpTimeout.clear(),e(t.transformCmpResponse(n,r))})):(this.logger.warn("Could not detect any CMP integration"),e({status:m.b.CMP_NOT_FOUND,consent:""}))},t.GET_CONSENT_DATA_REQUEST_TIMEOUT=250,t.CMP_IFRAME_NAME="__cmpLocator",t}();e.a=v;var y=function(){function t(t){this.win=t,this.logger=new u.a("GDPR - RegularCmpHandler")}return t.prototype.isIntegrated=function(){var t=Object(h.isFunction)(this.win.__cmp);return t&&this.logger.info("Regular CMP integration detected"),t},t.prototype.onIntegrationSuccess=function(t){this.win.__cmp(m.a.getConsentData,null,t)},t}(),b=function(){function t(t){this.win=t,this.cmpWindow=o.a,this.eventListenerManager=new r.a,this.callId=Object(s.rand)(16,!1),this.logger=new u.a("GDPR - CrossDomainIframeCmpHandler"),this.cmpWindow=this.findCmpWindow()}return t.prototype.isIntegrated=function(){var t=Object(c.isInCrossDomainIframe)(document.body)&&!Object(n.isIABSafeFrame)()&&this.cmpWindow.nonEmpty();return t&&this.logger.info("Iframe cross-domain (non-SafeFrame) CMP integration detected"),t},t.prototype.onIntegrationSuccess=function(t){var e=this;this.cmpWindow.match({some:function(i){e.eventListenerManager.add("message",e.win,function(i){return e.messageHandler(i,t)}),i.postMessage({__cmpCall:{command:m.a.getConsentData,parameter:null,callId:e.callId}},"*")},none:function(){e.logger.warn("Could not get CMP locator iframe from parent window(s).")}})},t.prototype.findCmpWindow=function(){var t=this;return a.c.of(function(){var e=Object(c.findParentWindows)(t.win.document.body,!1),i=function(t){return t.frames[v.CMP_IFRAME_NAME]};return d.find(e,function(t){return!!i(t)})}).recover(function(e){throw t.logger.debug("CrossDomainIframeCmpHandler.findCmpWindow",e),e}).toOption()},t.prototype.messageHandler=function(t,e){var i=this,n=Object(h.isString)(t.data)?JSON.parse(t.data):t.data;o.b.of(n.__cmpReturn).forEach(function(t){t.callId===i.callId&&(e(t.returnValue,t.success),i.eventListenerManager.remove("message"))})},t}(),A=function(){function t(t){this.win=t,this.logger=new u.a("GDPR - SafeFrameCmpHandler")}return t.prototype.isIntegrated=function(){var t=Object(n.isIABSafeFrame)()&&Object(h.isFunction)(this.win.$sf.ext.cmp);return t&&this.logger.info("SafeFrame CMP integration detected"),t},t.prototype.onIntegrationSuccess=function(t){g.listenCmp(function(e){e.cmpCommand===m.a.getConsentData&&t(e.VendorConsentData,e.success)}),this.win.$sf.ext.cmp(m.a.getConsentData,null)},t}()},function(t,e,i){i.d(e,"b",function(){return n}),i.d(e,"a",function(){return o});var n;!function(t){t[t.GDPR_DOESNT_APPLY=0]="GDPR_DOESNT_APPLY",t[t.GDPR_APPLIES_GLOBAL=11]="GDPR_APPLIES_GLOBAL",t[t.GDPR_APPLIES_PUBLISHER=12]="GDPR_APPLIES_PUBLISHER",t[t.UNSUCCESSFUL_CMP_RESPONSE=21]="UNSUCCESSFUL_CMP_RESPONSE",t[t.CMP_NOT_FOUND=22]="CMP_NOT_FOUND",t[t.CMP_NOT_READY=23]="CMP_NOT_READY",t[t.OTHER=24]="OTHER"}(n||(n={}));var o;!function(t){t.getVendorConsents="getVendorConsents",t.getConsentData="getConsentData",t.ping="ping",t.getPublisherConsents="getPublisherConsents",t.getVendorList="getVendorList"}(o||(o={}))},function(t,e){},function(t,e){},function(t,e,i){var n=i(148),o=i(2),r=i(7),a=i(6),s=i(159),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(t){function e(e){var i=t.call(this,"teads-ui-components-adchoices",s.ADCHOICESCSS)||this;return i.link=e,i.innerHTML="<span>AdChoices</span>",i.initElement(),o.isMobile()||(r.addEventListener("mouseover",i.getElement(),i.onMouseOver.bind(i)),r.addEventListener("mouseout",i.getElement(),i.onMouseOut.bind(i))),r.addEventListener("click",i.getElement(),i.onClick.bind(i)),i}return c(e,t),e.prototype.onMouseOver=function(){a.addClass(this.getElement(),"expanded")},e.prototype.onMouseOut=function(){a.removeClass(this.getElement(),"expanded")},e.prototype.onClick=function(){window.open(this.link)},e.prototype.isEnabled=function(){return!!this.link},e}(n.a);e.a=u},function(t,e,i){var n=i(1),o=i(21),r=i(5),a=i(2),s=function(){function t(t){this.format=t,this.initialized=!1,this.active=!1,this.logger=new n.a("BrandingMode")}return t.prototype.isActive=function(){return this.active},t.prototype.isInitialized=function(){return this.initialized},t.prototype.init=function(){var t=this;if(this.logger.debug("init called"),this.initialized)return void this.logger.warn("Branding mode helper has already been initialized");this.initialized=!0,this.vpaidEnvironmentVars=this.format.getEnvironmentVars();var e=this.format.getVpaidAd();e.showComponent("fullscreenbutton");var i=this.format.states.isReplay;this.format.getFullscreenHelper().init(this.vpaidEnvironmentVars),i&&a.isAndroid()&&e.subscribe(function(){t.setVolume(t.format.formatConfig.volume.getMain()),t.initialVolume=t.format.getVolumeController().getVolume(),t.onUnmute()},r.a.AdVideoStart);var n=function(){t.isFullscreenSupported()&&t.stop()};e.subscribe(n,r.a.AdClickThru,this),e.subscribe(function(){return e.unsubscribe(n,r.a.AdClickThru)},r.a.AdStopped),e.subscribe(this.toggle,o.a.FullscreenRequest,this),e.subscribe(function(){return e.unsubscribe(t.toggle,o.a.FullscreenRequest)},r.a.AdStopped),this.format.vpaidApi.getStudioData()||e.subscribe(this.stop,o.a.AdVideoComplete,this),e.subscribe(this.stop,o.a.EndscreenInit,this),e.subscribe(this.stop,o.a.AdStopped,this),this.format.getVolumeController().addUnmuteCallback(function(){return t.onUnmute()}),this.format.getVolumeController().addMuteCallback(function(){return t.onMute()})},t.prototype.deinit=function(){var t=this;this.logger.debug("deinit called"),this.initialized=!1;var e=this.format.getVpaidAd(),i=function(){t.isFullscreenSupported()&&t.stop()};e.subscribe(i,r.a.AdClickThru,this),e.subscribe(function(){return e.unsubscribe(i,r.a.AdClickThru)},r.a.AdStopped),e.unsubscribe(this.toggle,o.a.FullscreenRequest),e.unsubscribe(this.stop,o.a.AdVideoComplete),e.unsubscribe(this.stop,o.a.EndscreenInit),e.unsubscribe(this.stop,o.a.AdStopped),e.hideComponent("fullscreenbutton")},t.prototype.toggle=function(){if(!this.initialized)return void this.logger.warn("Cannot toggle branding mode helper before its initialization");this.active?this.stop():this.start()},t.prototype.start=function(){this.active||(this.logger.debug("start"),this.initialVolume=this.format.getVolumeController().getVolume(),this.setVolume(this.format.formatConfig.volume.getMain()),this.isFullscreenSupported()?(this.format.getFullscreenHelper().open(),this.format.getVpaidAd().showComponent("fullscreenbutton")):this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!0)},t.prototype.stop=function(){this.active&&(this.logger.debug("stop"),this.format.getVolumeController().isMuted()&&(this.initialVolume=0),this.setVolume(this.initialVolume),this.isFullscreenSupported()?this.format.getFullscreenHelper().close():this.format.getVpaidAd().showComponent("fullscreenbutton"),this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!1)},t.prototype.setVolume=function(t){var e=this,i=function(){return e.format.getVolumeController().setVolume(t)};this.vpaidEnvironmentVars.videoSlot&&this.vpaidEnvironmentVars.videoSlot.audio&&!this.vpaidEnvironmentVars.videoSlot.audio.authorized?this.vpaidEnvironmentVars.videoSlot.audio.authorizeAudio(i.bind(this)):i()},t.prototype.isFullscreenSupported=function(){var t=this.format.getVpaidAd(),e=this.format.getFullscreenHelper().isActive()||t.getAdWidth()>t.getAdHeight();return!a.isDesktop()&&!a.isAmp()&&!a.isFacebookIA()&&!a.isIABSafeFrame()&&e},t.prototype.onUnmute=function(){this.isFullscreenSupported()||this.start()},t.prototype.onMute=function(){this.isFullscreenSupported()||this.stop()},t}();e.a=s},function(t,e,i){var n=i(13),o=i(0),r=i(4),a=i(3),s=i(2),c=i(84),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=function(t){function e(i){void 0===i&&(i=e.DEFAULT);var n=t.call(this,"AllowedRatio")||this;return n.value=i,n.checkValue(),n}return u(e,t),e.isInternalHostname=function(t){return/(teads\.(tv|net))|(ebuzzing\.(com|github\.io)|(localhost)|(\.pantheonsite\.io))$/i.test(t)},e.forceValueIfNeeded=function(t){return Object(s.isDesktop)()&&!e.isInternalHostname(location.hostname)?["LANDSCAPE"]:t},e.filterInvalidValues=function(t){return a.filter(t,function(t){return t in e.AvailableRatio})},e.prototype.checkValue=function(){this.value=r.b.of(this.value).map(e.forceValueIfNeeded).filter(o.isArray).map(e.filterInvalidValues).filter(a.isNotEmpty).getOrElse(function(){return e.DEFAULT})},e.prototype.get=function(){return this.value},e.prototype.getRatioFilters=function(){return a.map(this.value,function(t){return e.AvailableRatio[t]})},e.prototype.mediafileRatioIsValid=function(t){return a.isNotEmpty(a.filter(this.getRatioFilters(),function(e){return e(c.c.getRatio(t))}))},e.AvailableRatio={LANDSCAPE:function(t){return t>1},SQUARE:function(t){return 1===t},VERTICAL:function(t){return t<1},ALL:function(t){return!0}},e.DEFAULT=["ALL"],e}(n.a);e.a=d}]);