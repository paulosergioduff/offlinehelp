!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/app/assets/",e.h="2946d6d1e94000aa5954",e.cn="hyperlinker",e(e.s=44)}([function(t,e,n){(function(t,n){var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},a=o._,s=Array.prototype,c=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=s.push,f=s.slice,h=c.toString,d=c.hasOwnProperty,p=Array.isArray,v=Object.keys,g=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};void 0===e||e.nodeType?o._=y:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=y),e._=y),y.VERSION="1.9.0";var _,b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return y.iteratee!==_?y.iteratee(t,e):null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)&&!y.isArray(t)?y.matcher(t):y.property(t)};y.iteratee=_=function(t,e){return w(t,e,1/0)};var E=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},C=function(t){if(!y.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},S=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},R=Math.pow(2,53)-1,k=x("length"),T=function(t){var e=k(t);return"number"==typeof e&&e>=0&&e<=R};y.each=y.forEach=function(t,e,n){e=b(e,n);var r,i;if(T(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=y.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var O=function(t){var e=function(e,n,r,i){var o=!T(e)&&y.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var c=o?o[s]:s;r=n(r,e[c],c,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,b(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=O(1),y.reduceRight=y.foldr=O(-1),y.find=y.detect=function(t,e,n){var r=T(t)?y.findIndex:y.findKey,i=r(t,e,n);if(void 0!==i&&-1!==i)return t[i]},y.filter=y.select=function(t,e,n){var r=[];return e=w(e,n),y.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var r=!T(t)&&y.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return T(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=E(function(t,e,n){var r,i;return y.isFunction(e)?i=e:y.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),y.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=S(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=T(t)?t:y.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r>o&&(o=r)}else e=w(e,n),y.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},y.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=T(t)?t:y.values(t);for(var s=0,c=t.length;s<c;s++)null!=(r=t[s])&&r<o&&(o=r)}else e=w(e,n),y.each(t,function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)});return o},y.shuffle=function(t){return y.sample(t,1/0)},y.sample=function(t,e,n){if(null==e||n)return T(t)||(t=y.values(t)),t[y.random(t.length-1)];var r=T(t)?y.clone(t):y.values(t),i=k(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=y.random(a,o),c=r[a];r[a]=r[s],r[s]=c}return r.slice(0,e)},y.sortBy=function(t,e,n){var r=0;return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var N=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=w(r,i),y.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};y.groupBy=N(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=N(function(t,e,n){t[n]=e}),y.countBy=N(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1});var A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(t){return t?y.isArray(t)?f.call(t):y.isString(t)?t.match(A):T(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:T(t)?t.length:y.keys(t).length},y.partition=N(function(t,e,n){t[n?0:1].push(e)},!0),y.first=y.head=y.take=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,Boolean)};var j=function(t,e,n,r){r=r||[];for(var i=r.length,o=0,a=k(t);o<a;o++){var s=t[o];if(T(s)&&(y.isArray(s)||y.isArguments(s)))if(e)for(var c=0,u=s.length;c<u;)r[i++]=s[c++];else j(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};y.flatten=function(t,e){return j(t,e,!1)},y.without=E(function(t,e){return y.difference(t,e)}),y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],a=0,s=k(t);a<s;a++){var c=t[a],u=n?n(c,a,t):c;e&&!n?(a&&o===u||i.push(c),o=u):n?y.contains(o,u)||(o.push(u),i.push(c)):y.contains(i,c)||i.push(c)}return i},y.union=E(function(t){return y.uniq(j(t,!0,!0))}),y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=k(t);r<i;r++){var o=t[r];if(!y.contains(e,o)){var a;for(a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=E(function(t,e){return e=j(e,!0,!0),y.filter(t,function(t){return!y.contains(e,t)})}),y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.zip=E(y.unzip),y.object=function(t,e){for(var n={},r=0,i=k(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var P=function(t){return function(e,n,r){n=w(n,r);for(var i=k(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};y.findIndex=P(1),y.findLastIndex=P(-1),y.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var i=n(e),o=0,a=k(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var I=function(t,e,n){return function(r,i,o){var a=0,s=k(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(f.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};y.indexOf=I(1,y.findIndex,y.sortedIndex),y.lastIndexOf=I(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},y.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(f.call(t,r,r+=e));return n};var D=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=C(t.prototype),a=t.apply(o,i);return y.isObject(a)?a:o};y.bind=E(function(t,e,n){if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var r=E(function(i){return D(t,r,e,this,n.concat(i))});return r}),y.partial=E(function(t,e){var n=y.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return D(t,r,this,this,a)};return r}),y.partial.placeholder=y,y.bindAll=E(function(t,e){e=j(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=y.bind(t[r],t)}}),y.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return y.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=E(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var c=function(){s=!1===n.leading?0:y.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=y.now();s||!1!==n.leading||(s=u);var l=e-(u-s);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},y.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=E(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=y.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2),y.restArguments=E;var F=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=function(t,e){var n=L.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||c,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)(o=L[n])in t&&t[o]!==i[o]&&!y.contains(e,o)&&e.push(o)};y.keys=function(t){if(!y.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return F&&M(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return F&&M(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=w(e,n);for(var r=y.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()};var B=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,c=0;c<s;c++){var u=a[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}};y.extend=B(y.allKeys),y.extendOwn=y.assign=B(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),o=0,a=i.length;o<a;o++)if(r=i[o],e(t[r],r,t))return r};var U=function(t,e,n){return e in n};y.pick=E(function(t,e){var n={},r=e[0];if(null==t)return n;y.isFunction(r)?(e.length>1&&(r=b(r,e[1])),e=y.allKeys(t)):(r=U,e=j(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),y.omit=E(function(t,e){var n,r=e[0];return y.isFunction(r)?(r=y.negate(r),e.length>1&&(n=e[1])):(e=y.map(j(e,!1,!1),String),r=function(t,n){return!y.contains(e,n)}),y.pick(t,r,n)}),y.defaults=B(y.allKeys,!0),y.create=function(t,e){var n=C(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0};var H,$;H=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&$(t,e,n,r)},$=function(t,e,n,r){t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!H(t[c],e[c],n,r))return!1}else{var l,f=y.keys(t);if(c=f.length,y.keys(e).length!==c)return!1;for(;c--;)if(l=f[c],!y.has(e,l)||!H(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(t,e){return H(t,e)},y.isEmpty=function(t){return null==t||(T(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===h.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")});var W=o.document&&o.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof W&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return!y.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&isNaN(t)},y.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){if(!y.isArray(e))return null!=t&&d.call(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!d.call(t,i))return!1;t=t[i]}return!!n},y.noConflict=function(){return o._=a,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=function(t){return y.isArray(t)?function(e){return S(e,t)}:x(t)},y.propertyOf=function(t){return null==t?function(){}:function(e){return y.isArray(e)?S(t,e):t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=y.invert(V),q=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=q(V),y.unescape=q(z),y.result=function(t,e,n){y.isArray(e)||(e=[e]);var r=e.length;if(!r)return y.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=y.isFunction(o)?o.call(t):o}return t};var G=0;y.uniqueId=function(t){var e=++G+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,X=function(t){return"\\"+Y[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||K).source,(e.interpolate||K).source,(e.evaluate||K).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(J,X),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,y)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},y.chain=function(t){var e=y(t);return e._chain=!0,e};var Q=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){return y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Q(this,n.apply(y,t))}}),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Q(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return Q(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},r=[],void 0!==(i=function(){return y}.apply(e,r))&&(n.exports=i)}()}).call(e,n(6),n(85)(t))},function(t,e,n){"use strict";(function(e,r){function i(){try{var t=k;return k=null,t.apply(this,arguments)}catch(t){return N.e=t,N}}function o(t){return k=t,i}function a(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return a(t)?new Error(m(t)):t}function u(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!T.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return T.defineProperty(t,e,r),t}function h(t){throw t}function d(t){try{if("function"==typeof t){var e=T.names(t.prototype),n=T.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=I.test(t+"")&&T.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function p(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return D.test(t)}function g(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function m(t){try{return t+""}catch(t){return"[no string representation]"}}function y(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function _(t){try{f(t,"isOperational",!0)}catch(t){}}function b(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function w(t){return y(t)&&T.propertyIsWritable(t,"stack")}function E(t){return{}.toString.call(t)}function C(t,e,n){for(var r=T.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{T.defineProperty(e,o,T.getDescriptor(t,o))}catch(t){}}}function x(t){return U?r.env[t]:void 0}function S(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function R(t,e){return t.bind(e)}var k,T=n(12),O="undefined"==typeof navigator,N={e:{}},A="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:void 0!==this?this:null,j=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},P=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(T.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var c=Object.getOwnPropertyDescriptor(t,s);null!=c&&null==c.get&&null==c.set&&r.push(s)}}t=T.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),I=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,F=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(m(t))}:function(t){if(w(t))return t;try{throw new Error(m(t))}catch(t){return t}}}(),L=function(t){return T.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};L=function(t){return T.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?M(t):null}}var B=void 0!==r&&"[object process]"===E(r).toLowerCase(),U=void 0!==r&&void 0!==r.env,H={isClass:d,isIdentifier:v,inheritedDataKeys:P,getDataPropertyOrDefault:l,thrower:h,isArray:T.isArray,asArray:L,notEnumerableProp:f,isPrimitive:a,isObject:s,isError:y,canEvaluate:O,errorObj:N,tryCatch:o,inherits:j,withAppended:u,maybeWrapAsError:c,toFastProperties:p,filledRange:g,toString:m,canAttachTrace:w,ensureErrorObject:F,originatesFromRejection:b,markAsOriginatingFromRejection:_,classString:E,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:B,hasEnvVariables:U,env:x,global:A,getNativePromise:S,domainBind:R};H.isRecentNode=H.isNode&&function(){var t=r.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),H.isNode&&H.toFastProperties(r);try{throw new Error}catch(t){H.lastLineError=t}t.exports=H}).call(e,n(6),n(11))},function(t,e,n){"use strict";var r,i;r=[n(92),n(0)],void 0!==(i=function(t,e){function n(n){return e.isString(n)&&(n=t[n]),n}var r={};return e.extend(r,e.pick(t,["DEBUG","INFO","TIME","WARN","ERROR","OFF"])),t.useDefaults({defaultLevel:t.INFO}),r.setLevel=function(e){t.setLevel(n(e))},r.get=function(r,i){var o=t.get(r),a=e.bind(function(e){if(this.context&&this.context.filterLevel===t.DEBUG)return e.apply(this,[].slice.call(arguments,1))},o);return o.time=e.wrap(o.time,a),o.timeEnd=e.wrap(o.timeEnd,a),o.setLevel=e.compose(o.setLevel,n),i&&o.setLevel(i),o},r}.apply(e,r))&&(t.exports=i)},function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=n(46)();o.noConflict=r,t.exports=o},function(t,e,n){var r=n(9),i=n(22);n(78),n(79),n(80),n(81),n(82),n(83),n(84),r.fn.addBack=function(t){return this.add(this.prevObject?this.prevObject.filter(t):r())},r.zepto.qsa=function(t,e){return i(e,t)},t.exports=r},function(t,e,n){"use strict";var r,i;r=[n(86),n(0)],void 0!==(i=function(t,e){function n(t){return o+t}function r(t){t=t.replace(/\//g,"-");var e=t.indexOf(".js");return t.substring(0,e<0?t.length:e)}e.bindAll(t,"captureException","captureMessage","config","setUserContext");var i={};i.IGNORE_ERROR_REGEX=/^(?!\[worldsense\])/;var o="[worldsense] ";return i.setUserContext=t.setUserContext,i.captureException=function(r,i){e.isObject(r)&&e.has(r,"message")&&(r.message=n(r.message)),t.captureException(r,i)},i.captureMessage=function(e,r){t.captureMessage(n(e),r)},i.capturing=function(t,n){return function(){try{return t.apply(n.thisArg,arguments)}catch(t){return e.isObject(n.logger)&&n.logger.debug(t.message),i.captureException(t,n.options),null}}},i.config=function(n,i){return e.has(i,"logger")&&(i.logger=r(i.logger)),t.config(n,i)},i}.apply(e,r))&&(t.exports=i)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){h=t}function i(){return h}function o(t){if(!t.hasAttribute(f))return d;var e=t.getAttribute(f);return Number(e)}function a(t,e){var n=String(e);t.setAttribute(f,n)}function s(t){return t===l.INLINE_END_OF_PARAGRAPH||t===l.INLINE_ASTERISK||t===l.NOTE}function c(t){return t===l.INLINE_END_OF_PARAGRAPH}function u(t){return t===l.DISTRIBUTION}n.d(e,"a",function(){return f}),e.j=r,e.h=i,n.d(e,"c",function(){return l}),n.d(e,"b",function(){return d}),e.d=o,e.i=a,e.g=s,e.e=c,e.f=u;var l,f="data-wsl-format",h=null;!function(t){t[t.LINK_PREVIEW_PHONE_ONLY=0]="LINK_PREVIEW_PHONE_ONLY",t[t.INLINE_END_OF_PARAGRAPH=1]="INLINE_END_OF_PARAGRAPH",t[t.INLINE_ASTERISK=2]="INLINE_ASTERISK",t[t.NOTE=3]="NOTE",t[t.DISTRIBUTION=4]="DISTRIBUTION"}(l||(l={}));var d=l.INLINE_ASTERISK;l.DISTRIBUTION},function(t,e,n){"use strict";function r(t,e){function n(r){if(!(this instanceof n))return new n(r);f(this,"message","string"==typeof r?r:e),f(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(t){if(!(this instanceof i))return new i(t);f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=n(12),c=s.freeze,u=n(1),l=u.inherits,f=u.notEnumerableProp,h=r("Warning","warning"),d=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(v.prototype[g[m]]=Array.prototype[g[m]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var y=0;v.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return y--,e},l(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=c({CancellationError:d,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},function(t,e,n){var r=n(21),i=function(){function t(t){return null==t?String(t):Y[J.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(e){return"object"==t(e)}function a(t){return o(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){var e=!!t&&"length"in t&&t.length,r=S.type(t);return"function"!=r&&!n(t)&&("array"==r||0===e||"number"==typeof e&&e>0&&e-1 in t)}function c(t){return A.call(t,function(t){return null!=t})}function u(t){return t.length>0?S.fn.concat.apply([],t):t}function l(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function f(t){return t in D?D[t]:D[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||F[l(t)]?e:e+"px"}function d(t){var e,n;return I[t]||(e=P.createElement(t),P.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),I[t]=n),I[t]}function p(t){return"children"in t?j.call(t.children):S.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function v(t,e){var n,r=t?t.length:0;for(n=0;n<r;n++)this[n]=t[n];this.length=r,this.selector=e||""}function g(t,e,n){for(x in e)n&&(a(e[x])||tt(e[x]))?(a(e[x])&&!a(t[x])&&(t[x]={}),tt(e[x])&&!tt(t[x])&&(t[x]=[]),g(t[x],e[x],n)):e[x]!==C&&(t[x]=e[x])}function m(t,e){return null==e?S(t):S(t).filter(e)}function y(t,n,r,i){return e(n)?n.call(t,r,i):n}function _(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",r=n&&n.baseVal!==C;if(e===C)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function w(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}function E(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)E(t.childNodes[n],e)}var C,x,S,R,k,T,O=[],N=O.concat,A=O.filter,j=O.slice,P=r.document,I={},D={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,H=/([A-Z])/g,$=["val","css","html","text","data","width","height","offset"],W=["after","prepend","before","append"],V=P.createElement("table"),z=P.createElement("tr"),q={tr:P.createElement("tbody"),tbody:V,thead:V,tfoot:V,td:z,th:z,"*":P.createElement("div")},G=/complete|loaded|interactive/,K=/^[\w-]*$/,Y={},J=Y.toString,X={},Q=P.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return X.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=Q).appendChild(t),r=~X.qsa(i,e).indexOf(t),o&&Q.removeChild(t),r},k=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},T=function(t){return A.call(t,function(e,n){return t.indexOf(e)==n})},X.fragment=function(t,e,n){var r,i,o;return M.test(t)&&(r=S(P.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(B,"<$1></$2>")),e===C&&(e=L.test(t)&&RegExp.$1),e in q||(e="*"),o=q[e],o.innerHTML=""+t,r=S.each(j.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(i=S(r),S.each(n,function(t,e){$.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},X.Z=function(t,e){return new v(t,e)},X.isZ=function(t){return t instanceof X.Z},X.init=function(t,n){var r;if(!t)return X.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&L.test(t))r=X.fragment(t,RegExp.$1,n),t=null;else{if(n!==C)return S(n).find(t);r=X.qsa(P,t)}else{if(e(t))return S(P).ready(t);if(X.isZ(t))return t;if(tt(t))r=c(t);else if(o(t))r=[t],t=null;else if(L.test(t))r=X.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==C)return S(n).find(t);r=X.qsa(P,t)}}return X.Z(r,t)},S=function(t,e){return X.init(t,e)},S.extend=function(t){var e,n=j.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},X.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],o=r||i?e.slice(1):e,a=K.test(o);return t.getElementById&&a&&r?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:j.call(a&&!r&&t.getElementsByClassName?i?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},S.contains=P.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},S.type=t,S.isFunction=e,S.isWindow=n,S.isArray=tt,S.isPlainObject=a,S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},S.isNumeric=function(t){var e=Number(t),n=typeof t;return null!=t&&"boolean"!=n&&("string"!=n||t.length)&&!isNaN(e)&&isFinite(e)||!1},S.inArray=function(t,e,n){return O.indexOf.call(e,t,n)},S.camelCase=k,S.trim=function(t){return null==t?"":String.prototype.trim.call(t)},S.uuid=0,S.support={},S.expr={},S.noop=function(){},S.map=function(t,e){var n,r,i,o=[];if(s(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&o.push(n);else for(i in t)null!=(n=e(t[i],i))&&o.push(n);return u(o)},S.each=function(t,e){var n,r;if(s(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},S.grep=function(t,e){return A.call(t,e)},r.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),S.fn={constructor:X.Z,length:0,forEach:O.forEach,reduce:O.reduce,push:O.push,sort:O.sort,splice:O.splice,indexOf:O.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=X.isZ(e)?e.toArray():e;return N.apply(X.isZ(this)?this.toArray():this,n)},map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(j.apply(this,arguments))},ready:function(t){return G.test(P.readyState)&&P.body?t(S):P.addEventListener("DOMContentLoaded",function(){t(S)},!1),this},get:function(t){return t===C?j.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return O.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):S(A.call(this,function(e){return X.matches(e,t)}))},add:function(t,e){return S(T(this.concat(S(t,e))))},is:function(t){return this.length>0&&X.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==C)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):s(t)&&e(t.item)?j.call(t):S(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return S(n)},has:function(t){return this.filter(function(){return o(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:S(t)},find:function(t){var e=this;return t?"object"==typeof t?S(t).filter(function(){var t=this;return O.some.call(e,function(e){return S.contains(e,t)})}):1==this.length?S(X.qsa(this[0],t)):this.map(function(){return X.qsa(this,t)}):S()},closest:function(t,e){var n=[],r="object"==typeof t&&S(t);return this.each(function(o,a){for(;a&&!(r?r.indexOf(a)>=0:X.matches(a,t));)a=a!==e&&!i(a)&&a.parentNode;a&&n.indexOf(a)<0&&n.push(a)}),S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){if((t=t.parentNode)&&!i(t)&&e.indexOf(t)<0)return e.push(t),t});return m(e,t)},parent:function(t){return m(T(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||j.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return A.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=S(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=S(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===C?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;S(this).empty().append(y(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=y(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(t))for(x in t)_(this,x,t[x]);else _(this,t,y(this,e,n,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(t))?n:C},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){_(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(n){this[t]=y(this,e,n,this[t])}):this[0]&&this[0][t]},removeProp:function(t){return t=Z[t]||t,this.each(function(){delete this[t]})},data:function(t,e){var n="data-"+t.replace(H,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?w(r):C},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=y(this,t,e,this.value)})):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=S(this),r=y(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(P.documentElement!==this[0]&&!S.contains(P.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+r.pageXOffset,top:e.top+r.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r=this[0];if("string"==typeof e){if(!r)return;return r.style[k(e)]||getComputedStyle(r,"").getPropertyValue(e)}if(tt(e)){if(!r)return;var i={},o=getComputedStyle(r,"");return S.each(e,function(t,e){i[e]=r.style[k(e)]||o.getPropertyValue(e)}),i}}var a="";if("string"==t(e))n||0===n?a=l(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(l(e))});else for(x in e)e[x]||0===e[x]?a+=l(x)+":"+h(x,e[x])+";":this.each(function(){this.style.removeProperty(l(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&O.some.call(this,function(t){return this.test(b(t))},f(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){R=[];var n=b(this);y(this,t,e,n).split(/\s+/g).forEach(function(t){S(this).hasClass(t)||R.push(t)},this),R.length&&b(this,n+(n?" ":"")+R.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===C)return b(this,"");R=b(this),y(this,t,e,R).split(/\s+/g).forEach(function(t){R=R.replace(f(t)," ")}),b(this,R.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=S(this);y(this,t,n,b(this)).split(/\s+/g).forEach(function(t){(e===C?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===C?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===C?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=U.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(S(t).css("margin-top"))||0,n.left-=parseFloat(S(t).css("margin-left"))||0,r.top+=parseFloat(S(e[0]).css("border-top-width"))||0,r.left+=parseFloat(S(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!U.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(r){var o,a=this[0];return r===C?n(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=S(this),a.css(t,y(this,r,e,a[t]()))})}}),W.forEach(function(e,n){var i=n%2;S.fn[e]=function(){var e,o,a=S.map(arguments,function(n){var r=[];return e=t(n),"array"==e?(n.forEach(function(t){return t.nodeType!==C?r.push(t):S.zepto.isZ(t)?r=r.concat(t.get()):void(r=r.concat(X.fragment(t)))}),r):"object"==e||null==n?n:X.fragment(n)}),s=this.length>1;return a.length<1?this:this.each(function(t,e){o=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var c=S.contains(P.documentElement,o);a.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return S(t).remove();o.insertBefore(t,e),c&&E(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var e=t.ownerDocument?t.ownerDocument.defaultView:r;e.eval.call(e,t.innerHTML)}})})})},S.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return S(t)[e](this),this}}),X.Z.prototype=v.prototype=S.fn,X.uniq=T,X.deserializeValue=w,S.zepto=X,S}();r.Zepto=i,void 0===r.$&&(r.$=i),t.exports=i},function(t,e,n){"use strict";function r(t){return t.type===a.sponsored&&t.sponsoredSource!==l.unknown&&t.sponsoredSource!==l.adnetwork}function i(t,e){o(t);var n=e.payload||e;if(!c.a.isObject(n))throw new Error("Need a payload to decorate hyperlink element");var r={},i=a[n.type];if(t.addClass(v),t.addClass(y[i]),t.addClass(g),t.addClass(m),r.target=_[i],r.rel=b[i],n.type===a.sponsored){var s=n.sponsoredSource||0;r[w]=l[s],n.advertiser&&(r[E]=n.advertiser)}var f=Number(n.format)||u.b;r[u.a]=String(f),u.e(f)&&(c.a.isEmpty(n.hoverText)?n.type===a.sponsored?r.title="Link patrocinado gerado por WorldSense":r.title="Link gerado por WorldSense":r.title=n.hoverText),c.a.isEmpty(e.dfpAdUnitName)||(r[C]=e.dfpAdUnitName);var h=c.a.omit(e.dfpTargeting,c.a.isEmpty);return c.a.isEmpty(h)||(r[x]=JSON.stringify(h)),r[p]=n.anchorId,r.href=n.link,t.attr(r),t}function o(t){t.removeClass(c.a.values(y).join(" "));var e=c.a.filter(t[0].attributes,function(t){return t.name!==d&&t.name.startsWith("data-wsl")});return c.a.each(e,function(e){t.removeAttr(e.name)}),t}n.d(e,"i",function(){return a}),n.d(e,"k",function(){return f}),n.d(e,"j",function(){return h}),n.d(e,"b",function(){return p}),n.d(e,"a",function(){return v}),n.d(e,"f",function(){return g}),n.d(e,"e",function(){return m}),n.d(e,"d",function(){return _}),n.d(e,"c",function(){return b}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return S}),e.n=r,e.m=i,e.l=o;var a,s=n(0),c=n.n(s),u=n(7);!function(t){t[t.web=1]="web",t[t.sponsored=2]="sponsored",t[t.retention=3]="retention"}(a||(a={}));var l;!function(t){t[t.unknown=0]="unknown",t[t.viglink=1]="viglink",t[t.skimlinks=2]="skimlinks",t[t.hotmart=3]="hotmart",t[t.lomadee=4]="lomadee",t[t.mergulhei=5]="mergulhei",t[t.zanox=6]="zanox",t[t.actionpay=7]="actionpay",t[t.adnetwork=8]="adnetwork"}(l||(l={}));var f;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CPM=1]="CPM",t[t.CPC=2]="CPC"}(f||(f={}));var h="data-wsl-suggestion-id",d="data-wsl-relinkme-target",p="data-wsl-uid",v="wsl-anchor",g="wsl-concussion-target",m="wsl-concussion-pending",y={web:"wsl-web-link",sponsored:"wsl-sponsored-link",retention:"wsl-retention-link"},_={web:"_top",sponsored:"_blank",retention:"_top"},b={web:"wsl-anchor nofollow",sponsored:"wsl-anchor nofollow",retention:"wsl-anchor"},w="data-wsl-sponsored-source",E="data-wsl-advertiser",C="data-wsl-dfp-ad-unit-name",x="data-wsl-dfp-targeting",S="data-wsl-dfp-href"},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,v=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],v=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,a=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},s=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(t){return o}},f=function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}};t.exports={isArray:f,keys:a,names:a,defineProperty:c,getDescriptor:s,freeze:u,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},function(t,e,n){(function(t){var r=!1;!function(i){var o="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t;if("function"==typeof r&&r.amd)r(["underscore","jquery","exports"],function(t,e,n){o.Backbone=i(o,n,t,e)});else{var a,s=n(0);try{a=n(4)}catch(t){}i(o,e,s,a)}}(function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],c(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],c(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},s=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},c=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},f=/\s+/,h=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=h(t,e,a[s],r[a[s]],o)}else if(r&&f.test(r))for(a=r.split(f);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};l.on=function(t,e,n){return d(this,t,e,n)};var d=function(t,e,n,r,i){return t._events=h(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i&&((t._listeners||(t._listeners={}))[i.id]=i),t};l.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return d(t,e,r,this,a),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=h(v,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this)}return this};var v=function(t,e,r,i){if(t){var o,a=0,s=i.context,c=i.listeners;if(e||r||s){for(var u=e?[e]:n.keys(t);a<u.length;a++){e=u[a];var l=t[e];if(!l)break;for(var f=[],h=0;h<l.length;h++){var d=l[h];r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context?f.push(d):(o=d.listening)&&0==--o.count&&(delete c[o.id],delete o.listeningTo[o.objId])}f.length?t[e]=f:delete t[e]}return t}for(var p=n.keys(c);a<p.length;a++)o=c[p[a]],delete c[o.id],delete o.listeningTo[o.objId]}};l.once=function(t,e,r){var i=h(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},l.listenToOnce=function(t,e,r){var i=h(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return h(m,this._events,t,void 0,n),this};var m=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&y(i,r),o&&y(o,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var _=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(u[h],e)||s.push(h),n.isEqual(f[h],e)?delete l[h]:l[h]=e,o?delete u[h]:u[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=r);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,u[s[d]],r)}if(c)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},B(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,c=this.attributes;r.success=function(t){a.attributes=c;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;s&&s.call(r.context,a,t,r),a.trigger("sync",a,t,r)},B(this,r),i&&o&&(this.attributes=n.extend({},c,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var l=this.sync(u,this,r);return this.attributes=c,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(B(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||M();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}}),s(_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},C=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(b.prototype,l,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,E))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,a,s=[],c=[],u=[],l=[],f={},h=e.add,d=e.merge,p=e.remove,v=!1,g=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),u.push(y),g&&!v&&(v=y.hasChanged(m))}f[y.cid]||(f[y.cid]=!0,s.push(y)),t[a]=y}else h&&(o=t[a]=this._prepareModel(o,e))&&(c.push(o),this._addReference(o,e),f[o.cid]=!0,s.push(o))}if(p){for(a=0;a<this.length;a++)o=this.models[a],f[o.cid]||l.push(o);l.length&&this._removeModels(l,e)}var b=!1,E=!g&&h&&p;if(s.length&&E?(b=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):c.length&&(g&&(v=!0),C(this.models,c,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<c.length;a++)null!=i&&(e.index=i+a),o=c[a],o.trigger("add",o,this,e);(v||b)&&this.trigger("sort",this,e),(c.length||l.length||u.length)&&(e.changes={added:c,removed:l,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var x=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,R)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,R=["model","collection","el","id","attributes","className","tagName","events"];n.extend(x.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(S);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=k[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||M()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var c=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,c&&c.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,A=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,l,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(O,"(?:$1)?").replace(N,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,F=/#.*$/;P.started=!1,n.extend(P.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(I,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(F,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new P;var L=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};_.extend=b.extend=T.extend=x.extend=P.extend=L;var M=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(e,n(6))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e={};return d.a.each(t,function(t,n){"string"==typeof n&&/^xp\d+$/.test(n)&&(!0===t?e[n.substr(2)]="true":t.enabled&&(e[n.substr(2)]=String(t.value)))}),e}function o(t){if(w)throw new Error("Attempting to initialize BeaconTracker again.");w=new b(t)}function a(t,e){var n={anchorId:e,errorMsg:t.message};c().sendBeacon("error",n)}function s(t){c().sendBeacon("ping",t)}function c(){if(null==w)throw new Error("BeaconTracker instance is empty, check if init() has been called.");return w}function u(t){c().recordEvent(t)}e.a=o,e.c=a,e.d=s,e.b=u;var l=n(3),f=n.n(l),h=n(0),d=n.n(h),p=n(5),v=n.n(p),g=n(24),m=n.n(g),y=n(35),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(){function t(e){r(this,t),this.endpoint="https://"+e.hyperlinksHost+"/worldsense/track",this.docUrl=e.docUrl,this.referrer=e.referrer,this.release=e.release,this.propertyId=e[m.a.PROPERTY_ID_KEY],this.experimentTags=i(e),this.startTime=d.a.now(),this.timing=[]}return _(t,[{key:"sendBeacon",value:function(t,e){var n={release:this.release,referrer:this.referrer,propertyId:this.propertyId,docUrl:this.docUrl};d.a.extend(n,e,{experimentTags:d.a.extend({},this.experimentTags,e.experimentTags),timing:this.timing});var r=JSON.stringify(n);this._send(this.endpoint+"/"+t,r).then(function(t){if(!t.ok)return f.a.reject("sendBeacon response status is "+t.status)}).catch(function(t){t.message!==y.a.missingPolyfillError&&v.a.captureException(new Error("sendBeacon message failed: "+t))})}},{key:"recordEvent",value:function(t){var e={label:t,timestamp:d.a.now()-this.startTime};this.timing.push(e)}},{key:"_send",value:function(t,e){return(new y.a).sendPOST(new URL(t),e)}}]),t}(),w=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"QUERY_PARAM_PREFIX",function(){return r}),n.d(e,"PROPERTY_ID_ATTRIBUTE",function(){return i}),n.d(e,"LEGACY_PROPERTY_ID_ATTRIBUTE",function(){return o}),n.d(e,"READYSTATE_ATTRIBUTE",function(){return a}),n.d(e,"DEFAULT_READYSTATE",function(){return s}),n.d(e,"READYSTATE_TIMEOUT_ATTRIBUTE",function(){return c}),n.d(e,"DEFAULT_READYSTATE_TIMEOUT_MS",function(){return u}),n.d(e,"HYPERLINKER_OPTIONS_ATTRIBUTE",function(){return l}),n.d(e,"EXTENSION_OVERRIDE_ATTRIBUTE",function(){return f}),n.d(e,"HYPERLINKER_FRIENDLY_IFRAME",function(){return h}),n.d(e,"ScriptMode",function(){return d});var r="wsl.",i="data-wsl-property-id",o="worldsense-property-id",a="data-wsl-readystate",s="interactive",c="data-wsl-readystate-timeout",u="60000",l="data-wsl-hyperlinker-options",f="data-wsl-ext-options",h="data-wsl-friendly-iframe",d={DISABLED:0,CHROME:1,MANUAL:2}},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i;i=Symbol&&Symbol.iterator&&"function"==typeof[][Symbol.iterator]?function(t){return t[Symbol.iterator]()}:function(t){return{next:function(){var e=t.shift();return{done:void 0===e,value:e}}}};var o=function(){function t(e){var n=this;if(this._entries={},"string"==typeof e){if(""!==e){e=e.replace(/^\?/,"");for(var r=e.split("&"),i=void 0,o=0;o<r.length;o++)i=r[o].split("="),this.append(decodeURIComponent(i[0]),i.length>1?decodeURIComponent(i[1]):"")}}else e instanceof t&&e.forEach(function(t,e){n.append(t,e)})}return t.prototype.append=function(t,e){e=e.toString(),t in this._entries?this._entries[t].push(e):this._entries[t]=[e]},t.prototype.delete=function(t){delete this._entries[t]},t.prototype.get=function(t){return t in this._entries?this._entries[t][0]:null},t.prototype.getAll=function(t){return t in this._entries?this._entries[t].slice(0):[]},t.prototype.has=function(t){return t in this._entries},t.prototype.set=function(t,e){this._entries[t]=[e.toString()]},t.prototype.forEach=function(t){var e;for(var n in this._entries)if(this._entries.hasOwnProperty(n)){e=this._entries[n];for(var r=0;r<e.length;r++)t.call(this,e[r],n,this)}},t.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},t.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([e,n])}),i(t)},t.prototype.toString=function(){var t=[];return this.forEach(function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),t.join("&")},t}();e.URLSearchParams=o;var a=function(){function t(e,n){var i;try{i=t.parse(n)}catch(t){throw new Error("Invalid base URL")}var o=t.parse(e);o.protocol?this._parts=r({},o):this._parts={protocol:i.protocol,username:i.username,password:i.password,hostname:i.hostname,port:i.port,path:o.path||i.path,query:o.query||i.query,hash:o.hash}}return t.init=function(){this.URLRegExp=new RegExp("^"+this.patterns.protocol+"?"+this.patterns.authority+"?"+this.patterns.path+this.patterns.query+"?"+this.patterns.hash+"?"),this.AuthorityRegExp=new RegExp("^"+this.patterns.authentication+"?"+this.patterns.hostname+this.patterns.port+"?$")},t.parse=function(t){var e=this.URLRegExp.exec(t);if(null!==e){var n=e[2]?this.AuthorityRegExp.exec(e[2]):[null,null,null,null,null];if(null!==n)return{protocol:e[1]||"",username:n[1]||"",password:n[2]||"",hostname:n[3]||"",port:n[4]||"",path:e[3]||"",query:e[4]||"",hash:e[5]||""}}throw new Error("Invalid URL")},Object.defineProperty(t.prototype,"hash",{get:function(){return this._parts.hash},set:function(t){t=t.toString(),0===t.length?this._parts.hash="":("#"!==t.charAt(0)&&(t="#"+t),this._parts.hash=encodeURIComponent(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.hostname+(this.port?":"+this.port:"")},set:function(e){e=e.toString();var n=new t("http://"+e);this._parts.hostname=n.hostname,this._parts.port=n.port},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostname",{get:function(){return this._parts.hostname},set:function(t){t=t.toString(),this._parts.hostname=encodeURIComponent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"href",{get:function(){var t=this.username||this.password?this.username+(this.password?":"+this.password:"")+"@":"";return this.protocol+"//"+t+this.host+this.pathname+this.search+this.hash},set:function(e){e=e.toString();var n=new t(e);this._parts=r({},n._parts)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this.protocol+"//"+this.host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this._parts.password},set:function(t){t=t.toString(),this._parts.password=encodeURIComponent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathname",{get:function(){return this._parts.path?this._parts.path:"/"},set:function(t){t=t.toString(),0!==t.length&&"/"===t.charAt(0)||(t="/"+t),this._parts.path=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this._parts.port},set:function(t){var e=parseInt(t);isNaN(e)?this._parts.port="0":this._parts.port=Math.max(0,e%Math.pow(2,16)).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._parts.protocol+":"},set:function(t){t=t.toString(),0!==t.length&&(":"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),this._parts.protocol=encodeURIComponent(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this._parts.query},set:function(t){t=t.toString(),"?"!==t.charAt(0)&&(t="?"+t),this._parts.query=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){return this._parts.username},set:function(t){t=t.toString(),this._parts.username=encodeURIComponent(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchParams",{get:function(){var t=this,e=new o(this.search);return["append","delete","set"].forEach(function(n){var r=e[n];e[n]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.apply(e,n),t.search=e.toString()}}),e},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.href},t}();a.patterns={protocol:"(?:([^:/?#]+):)",authority:"(?://([^/?#]*))",path:"([^?#]*)",query:"(\\?[^#]*)",hash:"(#.*)",authentication:"(?:([^:]*)(?::([^@]*))?@)",hostname:"([^:]+)",port:"(?::(\\d+))"},e.URL=a,a.init()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){try{var n=t.getLinkRedirectHref(),r=t.toJSON();if(Object(c.n)(r))return n;var i=new u.URL(n),o=i.searchParams.has(v),a=o?i.searchParams.get(v):n;r.overrideDfpUrl&&(a=r.affiliateLink);var s=new u.URL(a),l=!!r.skippedDfp,h=!!r.inGracePeriod;return _.build(r,l,h,e).apply(s),o?(i.searchParams.set(v,s.toString()),i.toString()):s.toString()}catch(t){return f.a.captureException(t),null}}function o(t){var e=new u.URL(t);return e.searchParams.has(v)&&(e=new u.URL(e.searchParams.get(v))),_.extract(e)}n.d(e,"a",function(){return y}),e.b=i,e.c=o;var a=n(0),s=n.n(a),c=n(10),u=n(16),l=(n.n(u),n(5)),f=n.n(l),h=n(7),d=n(103),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=(d.a,"adurl"),g={REFERRAL:"referral",RETENTION:"retention",OTHER:"other"},m={MOBILE:"mobile",DESKTOP:"desktop",OTHER:"other"},y={ANCHOR_TEXT:"anchor_text",CREATIVE:"creative",HEADER:"header_link",FOOTER:"footer_link"},_=function(){function t(){r(this,t)}return p(t,[{key:"apply",value:function(e){var n=this;s.a.each(t.KEYS,function(t){var r="utm_"+t,i=n[t];i&&!e.searchParams.has(r)&&e.searchParams.set(r,i)})}},{key:"isEmpty",value:function(){return s.a.isEmpty(this)}}],[{key:"build",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3],o=new t;o.source="worldsense",s.a.isEmpty(e.anchorText)||(o.term=e.anchorText);var a=e.utmCampaign||e.advertiser;switch(a&&(o.campaign=a),e.type){case c.i.sponsored:if(Object(c.n)(e))throw new Error("Wrongly building params for CPA link.");o.medium=g.REFERRAL;break;case c.i.retention:o.medium=g.RETENTION;break;default:o.medium=g.OTHER}var u=[];i&&u.push(i);var l=void 0;return l=d.a.isMobile()?m.MOBILE:d.a.isDesktopScreen()?m.DESKTOP:m.OTHER,u.push(l),n&&u.push("adtest"),r&&u.push("grace"),e.format===h.c.INLINE_ASTERISK&&u.push("bold"),o.content=u.join("."),o}},{key:"extract",value:function(e){var n={};return s.a.each(t.KEYS,function(t){var r="utm_"+t;if(e.searchParams.has(r)){var i=e.searchParams.get(r);n[t]=i}}),n}}]),t}();_.KEYS=["source","term","campaign","medium","content"]},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={MODIFIED:"wsl:modified",REFRESHED:"wsl:refreshed",INSTALL:"wsl:view-installed",INTERACTION:"wsl:interaction",SYNC:"wsl:hyperlinker-sync"}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return l()(t).data(w)}function c(t){return Object(v.a)(t).get().map(function(t,e){return s(t)})}n.d(e,"b",function(){return E}),e.d=s,e.c=c,n.d(e,"a",function(){return S});var u=n(4),l=n.n(u),f=n(13),h=n.n(f),d=n(39),p=n(10),v=n(27),g=n(17),m=n(7),y=n(40),_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},w="format-view",E="data-wsl-kind",C={buildRedirectUrl:g.b},x={tagName:"span",className:["wsl-inline-container",p.f,p.e].join(" ")},S=function(t){function e(){i(this,e);var t=o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.clickSource=g.a.CREATIVE,t._href=null,t}return a(e,t),_(e,[{key:"format",value:function(){return this.model?this.model.format():m.b}},{key:"events",value:function(){var t;return t={},r(t,"click ."+p.a,Object(d.a)(this.onClick)),r(t,"mousedown ."+p.a,"onMouseDown"),r(t,"touchstart ."+p.a,"onMouseDown"),t}},{key:"initialize",value:function(){var t=this;this.$el.attr(E,this.model.kind()),m.i(this.el,this.model.format()),this.$el.data(w,this),this.listenTo(this.model,"destroy",this.remove),this.$el.one(y.a,function(){return t.onConcussion()})}},{key:"remove",value:function(){return this.$link.data(w,null),b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"template",value:function(){throw new Error("No template selected for "+this)}},{key:"templateData",value:function(){var t=this.model.toJSON();return t._is=t._is||{},t.rel=p.c[t.kind],t.formatName=m.c[t.format],t._is[t.formatName]=!0,t._is[t.kind]=!0,t}},{key:"render",value:function(){var t=this.templateData(),e=this.template();return this.$el.html(e(t)),this.buildHref(),this}},{key:"install",value:function(t){this.setLink(t),this.$link.data(w,this),this.$link.removeClass(p.f)}},{key:"buildHref",value:function(){this._href=C.buildRedirectUrl(this.model,this.clickSource),this._href&&this.model.isFinalUrlOverrideEnabled()&&this.$("."+p.a).attr("href",this._href)}},{key:"setLink",value:function(t){this._linkEl=t,this.buildHref()}},{key:"onMouseDown",value:function(t){t.target.href&&this._href&&(t.target.href=this._href)}},{key:"onClick",value:function(t){if(1===t.which&&t.target.href&&this.model)return this.model.onClick(this.clickSource,t.target.href)}},{key:"onConcussion",value:function(){this.$link.hasClass(p.e)&&(this.model&&this.model.onConcussion(),this.$link.removeClass(p.e)),this.$el.removeClass(p.e)}},{key:"className",get:function(){return x.className}},{key:"tagName",get:function(){return x.tagName}},{key:"$link",get:function(){return this._linkEl||l()()}}]),e}(h.a.View)},function(t,e,n){var r=n(106);r.Template=n(107).Template,r.template=r.Template,t.exports=r},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=window,o=function(){function t(){n(this,t)}return r(t,[{key:"document",get:function(){return i.document}},{key:"JSON",get:function(){return i.JSON}},{key:"pageXOffset",get:function(){return i.pageXOffset}},{key:"pageYOffset",get:function(){return i.pageYOffset}},{key:"ws$",set:function(t){i.ws$=t}}]),t}();t.exports=new o},function(t,e,n){var r;!function(i){function o(t,e,n,r){var i,o,a,s,c,u,l,f=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!r&&((e?e.ownerDocument||e:W)!==D&&I(e),e=e||D,L)){if(11!==h&&(c=_t.exec(t)))if(i=c[1]){if(9===h){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&H(e,a)&&a.id===i)return n.push(a),n}else{if(c[2])return tt.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&x.getElementsByClassName&&e.getElementsByClassName)return tt.apply(n,e.getElementsByClassName(i)),n}if(x.qsa&&!K[t+" "]&&(!M||!M.test(t))){if(1!==h)f=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(Ct,xt):e.setAttribute("id",s=$),u=T(t),o=u.length;o--;)u[o]="#"+s+" "+v(u[o]);l=u.join(","),f=bt.test(t)&&d(e.parentNode)||e}if(l)try{return tt.apply(n,f.querySelectorAll(l)),n}catch(t){}finally{s===$&&e.removeAttribute("id")}}}return N(t.replace(ut,"$1"),e,n,r)}function a(){function t(n,r){return e.push(n+" ")>S.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function s(t){return t[$]=!0,t}function c(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function u(t,e){for(var n=t.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=e}function l(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function f(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function h(t){return s(function(e){return e=+e,s(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function d(t){return t&&void 0!==t.getElementsByTagName&&t}function p(){}function v(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function g(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=z++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,c){var u,l,f,h=[V,s];if(c){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,c))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(f=e[$]||(e[$]={}),l=f[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=l[o])&&u[0]===V&&u[1]===s)return h[2]=u[2];if(l[o]=h,h[2]=t(e,n,c))return!0}return!1}}function m(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function y(t,e,n){for(var r=0,i=e.length;r<i;r++)o(t,e[r],n);return n}function _(t,e,n,r,i){for(var o,a=[],s=0,c=t.length,u=null!=e;s<c;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),u&&e.push(s)));return a}function b(t,e,n,r,i,o){return r&&!r[$]&&(r=b(r)),i&&!i[$]&&(i=b(i,o)),s(function(o,a,s,c){var u,l,f,h=[],d=[],p=a.length,v=o||y(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?v:_(v,h,t,s,c),m=n?i||(o?t:p||r)?[]:a:g;if(n&&n(g,m,s,c),r)for(u=_(m,d),r(u,[],s,c),l=u.length;l--;)(f=u[l])&&(m[d[l]]=!(g[d[l]]=f));if(o){if(i||t){if(i){for(u=[],l=m.length;l--;)(f=m[l])&&u.push(g[l]=f);i(null,m=[],u,c)}for(l=m.length;l--;)(f=m[l])&&(u=i?nt(o,f):h[l])>-1&&(o[u]=!(a[u]=f))}}else m=_(m===a?m.splice(p,m.length):m),i?i(null,a,m,c):tt.apply(a,m)})}function w(t){for(var e,n,r,i=t.length,o=S.relative[t[0].type],a=o||S.relative[" "],s=o?1:0,c=g(function(t){return t===e},a,!0),u=g(function(t){return nt(e,t)>-1},a,!0),l=[function(t,n,r){var i=!o&&(r||n!==A)||((e=n).nodeType?c(t,n,r):u(t,n,r));return e=null,i}];s<i;s++)if(n=S.relative[t[s].type])l=[g(m(l),n)];else{if(n=S.filter[t[s].type].apply(null,t[s].matches),n[$]){for(r=++s;r<i&&!S.relative[t[r].type];r++);return b(s>1&&m(l),s>1&&v(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ut,"$1"),n,s<r&&w(t.slice(s,r)),r<i&&w(t=t.slice(r)),r<i&&v(t))}l.push(n)}return m(l)}function E(t,e){var n=e.length>0,r=t.length>0,i=function(i,a,s,c,u){var l,f,h,d=0,p="0",v=i&&[],g=[],m=A,y=i||r&&S.find.TAG("*",u),b=V+=null==m?1:Math.random()||.1,w=y.length;for(u&&(A=a===D||a||u);p!==w&&null!=(l=y[p]);p++){if(r&&l){for(f=0,a||l.ownerDocument===D||(I(l),s=!L);h=t[f++];)if(h(l,a||D,s)){c.push(l);break}u&&(V=b)}n&&((l=!h&&l)&&d--,i&&v.push(l))}if(d+=p,n&&p!==d){for(f=0;h=e[f++];)h(v,g,a,s);if(i){if(d>0)for(;p--;)v[p]||g[p]||(g[p]=Q.call(c));g=_(g)}tt.apply(c,g),u&&!i&&g.length>0&&d+e.length>1&&o.uniqueSort(c)}return u&&(V=b,A=m),v};return n?s(i):i}var C,x,S,R,k,T,O,N,A,j,P,I,D,F,L,M,B,U,H,$="sizzle"+1*new Date,W=i.document,V=0,z=0,q=a(),G=a(),K=a(),Y=function(t,e){return t===e&&(P=!0),0},J={}.hasOwnProperty,X=[],Q=X.pop,Z=X.push,tt=X.push,et=X.slice,nt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",at="\\["+it+"*("+ot+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ot+"))|)"+it+"*\\]",st=":("+ot+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",ct=new RegExp(it+"+","g"),ut=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ft=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(st),pt=new RegExp("^"+ot+"$"),vt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+rt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Et=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},St=function(){I()},Rt=g(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{tt.apply(X=et.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(t){tt={apply:X.length?function(t,e){Z.apply(t,et.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=o.support={},k=o.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=o.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:W;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,F=D.documentElement,L=!k(D),W!==D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",St,!1):n.attachEvent&&n.attachEvent("onunload",St)),x.attributes=c(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=c(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=yt.test(D.getElementsByClassName),x.getById=c(function(t){return F.appendChild(t).id=$,!D.getElementsByName||!D.getElementsByName($).length}),x.getById?(S.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(S.filter.ID=function(t){var e=t.replace(wt,Et);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},S.find.ID=function(t,e){if(void 0!==e.getElementById&&L){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),S.find.TAG=x.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=x.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&L)return e.getElementsByClassName(t)},B=[],M=[],(x.qsa=yt.test(D.querySelectorAll))&&(c(function(t){F.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||M.push("\\["+it+"*(?:value|"+rt+")"),t.querySelectorAll("[id~="+$+"-]").length||M.push("~="),t.querySelectorAll(":checked").length||M.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||M.push(".#.+[+~]")}),c(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&M.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),F.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=yt.test(U=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&c(function(t){x.disconnectedMatch=U.call(t,"*"),U.call(t,"[s!='']:x"),B.push("!=",st)}),M=M.length&&new RegExp(M.join("|")),B=B.length&&new RegExp(B.join("|")),e=yt.test(F.compareDocumentPosition),H=e||yt.test(F.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===W&&H(W,t)?-1:e===D||e.ownerDocument===W&&H(W,e)?1:j?nt(j,t)-nt(j,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===D?-1:e===D?1:i?-1:o?1:j?nt(j,t)-nt(j,e):0;if(i===o)return l(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?l(a[r],s[r]):a[r]===W?-1:s[r]===W?1:0},D):D},o.matches=function(t,e){return o(t,null,null,e)},o.matchesSelector=function(t,e){if((t.ownerDocument||t)!==D&&I(t),e=e.replace(ht,"='$1']"),x.matchesSelector&&L&&!K[e+" "]&&(!B||!B.test(e))&&(!M||!M.test(e)))try{var n=U.call(t,e);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return o(e,D,null,[t]).length>0},o.contains=function(t,e){return(t.ownerDocument||t)!==D&&I(t),H(t,e)},o.attr=function(t,e){(t.ownerDocument||t)!==D&&I(t);var n=S.attrHandle[e.toLowerCase()],r=n&&J.call(S.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==r?r:x.attributes||!L?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},o.escape=function(t){return(t+"").replace(Ct,xt)},o.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},o.uniqueSort=function(t){var e,n=[],r=0,i=0;if(P=!x.detectDuplicates,j=!x.sortStable&&t.slice(0),t.sort(Y),P){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return j=null,t},R=o.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=R(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=R(e);return n},S=o.selectors={cacheLength:50,createPseudo:s,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Et),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||o.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&o.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return vt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=o.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(ct," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,c){var u,l,f,h,d,p,v=o!==a?"nextSibling":"previousSibling",g=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!c&&!s,_=!1;if(g){if(o){for(;v;){for(h=e;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=g,f=h[$]||(h[$]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),u=l[t]||[],d=u[0]===V&&u[1],_=d&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[v]||(_=d=0)||p.pop();)if(1===h.nodeType&&++_&&h===e){l[t]=[V,d,_];break}}else if(y&&(h=e,f=h[$]||(h[$]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),u=l[t]||[],d=u[0]===V&&u[1],_=d),!1===_)for(;(h=++d&&h&&h[v]||(_=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++_||(y&&(f=h[$]||(h[$]={}),l=f[h.uniqueID]||(f[h.uniqueID]={}),l[t]=[V,_]),h!==e)););return(_-=i)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,e){var n,r=S.pseudos[t]||S.setFilters[t.toLowerCase()]||o.error("unsupported pseudo: "+t);return r[$]?r(e):r.length>1?(n=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?s(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)i=nt(t,o[a]),t[i]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:s(function(t){var e=[],n=[],r=O(t.replace(ut,"$1"));return r[$]?s(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:s(function(t){return function(e){return o(t,e).length>0}}),contains:s(function(t){return t=t.replace(wt,Et),function(e){return(e.textContent||e.innerText||R(e)).indexOf(t)>-1}}),lang:s(function(t){return pt.test(t||"")||o.error("unsupported lang: "+t),t=t.replace(wt,Et).toLowerCase(),function(e){var n;do{if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===F},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:f(!1),disabled:f(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[n<0?n+e:n]}),even:h(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:h(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},S.pseudos.nth=S.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[C]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(C);for(C in{submit:!0,reset:!0})S.pseudos[C]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(C);p.prototype=S.filters=S.pseudos,S.setFilters=new p,T=o.tokenize=function(t,e){var n,r,i,a,s,c,u,l=G[t+" "];if(l)return e?0:l.slice(0);for(s=t,c=[],u=S.preFilter;s;){n&&!(r=lt.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(i=[])),n=!1,(r=ft.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ut," ")}),s=s.slice(n.length));for(a in S.filter)!(r=vt[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?o.error(t):G(t,c).slice(0)},O=o.compile=function(t,e){var n,r=[],i=[],o=K[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=w(e[n]),o[$]?r.push(o):i.push(o);o=K(t,E(i,r)),o.selector=t}return o},N=o.select=function(t,e,n,r){var i,o,a,s,c,u="function"==typeof t&&t,l=!r&&T(t=u.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&L&&S.relative[o[1].type]){if(!(e=(S.find.ID(a.matches[0].replace(wt,Et),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=vt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!S.relative[s=a.type]);)if((c=S.find[s])&&(r=c(a.matches[0].replace(wt,Et),bt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&v(o)))return tt.apply(n,r),n;break}}return(u||O(t,l))(r,e,!L,n,!e||bt.test(t)&&d(e.parentNode)||e),n},x.sortStable=$.split("").sort(Y).join("")===$,x.detectDuplicates=!!P,I(),x.sortDetached=c(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),c(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||u("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&c(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||u("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),c(function(t){return null==t.getAttribute("disabled")})||u(rt,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null});var kt=i.Sizzle;o.noConflict=function(){return i.Sizzle===o&&(i.Sizzle=kt),o},void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)}(window)},function(t,e,n){(function(e){function r(t){return"object"==typeof t&&null!==t}function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function o(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function c(t){return void 0===t}function u(t){return"function"==typeof t}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function f(t){return"[object String]"===Object.prototype.toString.call(t)}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){if(!l(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function p(){try{return new ErrorEvent(""),!0}catch(t){return!1}}function v(){try{return new DOMError(""),!0}catch(t){return!1}}function g(){try{return new DOMException(""),!0}catch(t){return!1}}function m(){if(!("fetch"in q))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function y(){if(!m())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function _(){return"function"==typeof PromiseRejectionEvent}function b(t){function e(e,n){var r=t(e)||e;return n?n(r)||r:r}return e}function w(t,e){var n,r;if(c(t.length))for(n in t)S(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function E(t,e){return e?(w(e,function(e,n){t[e]=n}),t):t}function C(t){return!!Object.isFrozen&&Object.isFrozen(t)}function x(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"…"}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function R(t){for(var e,n=[],r=0,i=t.length;r<i;r++)e=t[r],f(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function k(t){var e=[];return w(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function T(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}}function O(){var t=q.crypto||q.msCrypto;if(!c(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function N(t){for(var e,n=[],r=0,i=0,o=" > ".length;t&&r++<5&&!("html"===(e=A(t))||r>1&&i+n.length*o+e.length>=80);)n.push(e),i+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function A(t){var e,n,r,i,o,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&f(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)r=s[o],(i=t.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function j(t,e){return!!(!!t^!!e)}function P(t,e){return c(t)&&c(e)}function I(t,e){return!j(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&!P(t.stacktrace,e.stacktrace)&&D(t.stacktrace,e.stacktrace))}function D(t,e){if(j(t,e))return!1;var n=t.frames,r=e.frames;if(n.length!==r.length)return!1;for(var i,o,a=0;a<n.length;a++)if(i=n[a],o=r[a],i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function F(t,e,n,r){if(null!=t){var i=t[e];t[e]=n(i),t[e].__raven__=!0,t[e].__orig__=i,r&&r.push([t,e,i])}}function L(t,e){if(!h(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)}function M(t){return~-encodeURI(t).split(/%..|./).length}function B(t){return M(JSON.stringify(t))}function U(t){if("string"==typeof t)return x(t,40);if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}function H(t,e){return 0===e?U(t):l(t)?Object.keys(t).reduce(function(n,r){return n[r]=H(t[r],e-1),n},{}):Array.isArray(t)?t.map(function(t){return H(t,e-1)}):U(t)}function $(t,e,n){if(!l(t))return t;e="number"!=typeof e?G:e,n="number"!=typeof e?K:n;var r=H(t,e);return B(z(r))>n?$(t,e-1):r}function W(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(t=t.filter(function(t){return"string"==typeof t}),0===t.length)return"[object has no keys]";if(e="number"!=typeof e?Y:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"…"}return""}function V(t,e){function n(t){return h(t)?t.map(function(t){return n(t)}):l(t)?Object.keys(t).reduce(function(e,r){return i.test(r)?e[r]=o:e[r]=n(t[r]),e},{}):t}if(!h(e)||h(e)&&0===e.length)return t;var r,i=R(e),o="********";try{r=JSON.parse(z(t))}catch(e){return t}return n(r)}var z=n(30),q="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},G=3,K=51200,Y=40;t.exports={isObject:r,isError:i,isErrorEvent:o,isDOMError:a,isDOMException:s,isUndefined:c,isFunction:u,isPlainObject:l,isString:f,isArray:h,isEmptyObject:d,supportsErrorEvent:p,supportsDOMError:v,supportsDOMException:g,supportsFetch:m,supportsReferrerPolicy:y,supportsPromiseRejectionEvent:_,wrappedCallback:b,each:w,objectMerge:E,truncate:x,objectFrozen:C,hasKey:S,joinRegExp:R,urlencode:k,uuid4:O,htmlTreeAsString:N,htmlElementAsString:A,isSameException:I,isSameStacktrace:D,parseUrl:T,fill:F,safeJoin:L,serializeException:$,serializeKeysForMessage:W,sanitize:V}}).call(e,n(6))},function(t,e,n){"use strict";var r,i;r=[n(3),n(4),n(0),n(31),n(2),n(93),n(32),n(5),n(26),n(15),n(33),n(96)],void 0!==(i=function(t,e,n,r,i,o,a,s,c,u,l,f){function h(t){return n.each(t,function(e,r){n.has(a.defaults,r)&&(t["publisherModel."+r]=e,delete t[r])}),t}function d(t){return n.each(t,function(e,r){n.isBoolean(b[r])&&n.isString(e)&&(t[r]="true"===e)}),t}function p(t){return n.compose(d,h)(t)}function v(t){var e={};return n.each(r(t).params,function(t,n){var r=u.QUERY_PARAM_PREFIX,i=n.indexOf(r);0===i&&(n=n.substring(i+r.length,n.length),e[n]=t)}),p(e)}function g(t){var r=e(t.body).attr(u.HYPERLINKER_OPTIONS_ATTRIBUTE),i={};return n.isEmpty(r)||(i=JSON.parse(r)),p(i)}function m(t){return p(n.omit({propertyId:w(t,u.PROPERTY_ID_ATTRIBUTE)||w(t,u.LEGACY_PROPERTY_ID_ATTRIBUTE),readyState:w(t,u.READYSTATE_ATTRIBUTE),readyStateTimeout:w(t,u.READYSTATE_TIMEOUT_ATTRIBUTE)},n.isUndefined))}var y={},_=i.get("ui/options/main.js"),b=y.defaults=o.DEFAULTS;y.PROPERTY_ID_KEY=o.PROPERTY_ID_KEY,y.isDevelopmentVersion=n.constant(o.isDevelopmentVersion);var w=function(t,r){var i=e("script["+r+"]",t);if(0!==i.length){var o=i.last().attr(r);if(!n.isEmpty(o))return o}};n.isObject(l)&&n.isFunction(l.fetchExtensionOptions)?y.fetchExtensionOptions=function(){return l.fetchExtensionOptions()}:y.fetchExtensionOptions=t.method(function(t){var n=e(t.body).attr(u.EXTENSION_OVERRIDE_ATTRIBUTE);try{return JSON.parse(n)}catch(t){return{}}});var E={"ws-rbs":{"publisherModel.readyState":c.complete}},C=t.method(function(t,e){var r={doc:t,docUrl:e,referrer:t.referrer,urlCandidatesJSON:f.computeURLCandidates(t,e)},i=v(e),o=m(t),a=g(t);return y.fetchExtensionOptions(t).then(function(t){var e=n.extend(r,o,a,t,i),s=e[y.PROPERTY_ID_KEY],c=n.extend({},b,E[s],e);return _.debug("Merged options",c),c})}),x={doc:document,docUrl:document.URL};return y.init=function(t,e){return Object.assign(x,{doc:t,docUrl:e}),y.fetch()},y.fetch=function(){return C(x.doc,x.docUrl)},y.exposeExtensionOptions=function(t){return y.fetchExtensionOptions(t).then(function(n){var r=JSON.stringify(n);return e(t.body).attr(u.EXTENSION_OVERRIDE_ATTRIBUTE,r),null}).catch(function(t){return _.error("Could not export extension options to the body",t),null})},y.visibleForTesting={defaultDoc:x,optionsDefaults:b,optionsFromUrl:v,optionsFromBody:g,optionsFromScript:m},y}.apply(e,r))&&(t.exports=i)},function(t,e,n){!function(e,r){t.exports=function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){"use strict";(function(t){function r(){return(0|65536*(1+Math.random())).toString(16).substring(1)}function i(){return""+r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}function o(t){return(0,s.result)(t,"localStorage")||(0,s.result)(t.collection,"localStorage")}function a(){return(0,s.isUndefined)(window)?t:window}Object.defineProperty(e,"__esModule",{value:!0}),e.guid=i,e.getLocalStorage=o,e.getWindow=a;var s=n(1)}).call(e,n(6))},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ajaxSync,r=(0,c.getLocalStorage)(t);return!n&&r?s.sync:u}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorage=void 0;var i=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(4),s=n(5),c=n(0);o.default.LocalStorage=a.LocalStorage;var u=o.default.sync;o.default.sync=function(t,e,n){return r(e,n).apply(this,[t,e,n])},e.LocalStorage=a.LocalStorage},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorage=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=n(0),s={serialize:function(t){return(0,o.isObject)(t)?JSON.stringify(t):t},deserialize:function(t){return t&&JSON.parse(t)}};e.LocalStorage=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if(r(this,t),this.name=e,this.serializer=n,!this.localStorage)throw"Backbone.localStorage: Environment does not support localStorage.";var i=this._getItem(this.name);this.records=i&&i.split(",")||[]}return i(t,[{key:"localStorage",value:function(){return(0,a.getWindow)().localStorage}},{key:"save",value:function(){this._setItem(this.name,this.records.join(","))}},{key:"create",value:function(t){return t.id||0===t.id||(t.id=(0,a.guid)(),t.set(t.idAttribute,t.id)),this._setItem(this._itemName(t.id),this.serializer.serialize(t)),this.records.push(t.id.toString()),this.save(),this.find(t)}},{key:"update",value:function(t){this._setItem(this._itemName(t.id),this.serializer.serialize(t));var e=t.id.toString();return(0,o.contains)(this.records,e)||(this.records.push(e),this.save()),this.find(t)}},{key:"find",value:function(t){return this.serializer.deserialize(this._getItem(this._itemName(t.id)))}},{key:"findAll",value:function(){var t=this;return(0,o.chain)(this.records).map(function(e){return t.serializer.deserialize(t._getItem(t._itemName(e)))}).filter(function(t){return null!=t}).value()}},{key:"destroy",value:function(t){this._removeItem(this._itemName(t.id));var e=(0,o.without)(this.records,t);return this.records=e,this.save(),t}},{key:"_clear",value:function(){var t=this.localStorage(),e=new RegExp("^"+this.name+"-");t.removeItem(this.name);for(var n in t)e.test(n)&&t.removeItem(n);this.records.length=0}},{key:"_storageSize",value:function(){return this.localStorage().length}},{key:"_getItem",value:function(t){return this.localStorage().getItem(t)}},{key:"_itemName",value:function(t){return this.name+"-"+t}},{key:"_setItem",value:function(t,e){this.localStorage().setItem(t,e)}},{key:"_removeItem",value:function(t){this.localStorage().removeItem(t)}}]),t}()},function(t,e,n){"use strict";function r(){return a.default.$?(0,s.result)(a.default.$,"Deferred",!1):(0,s.result)(a.default,"Deferred",!1)}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,c.getLocalStorage)(e),o=void 0,a=void 0,u=r();try{switch(t){case"read":o=(0,s.isUndefined)(e.id)?i.findAll():i.find(e);break;case"create":o=i.create(e);break;case"patch":case"update":o=i.update(e);break;case"delete":o=i.destroy(e)}}catch(t){a=22===t.code&&0===i._storageSize()?"Private browsing is unsupported":t.message}return o?(n.success&&n.success.call(e,o,n),u&&u.resolve(o)):(a=a||"Record Not Found",n.error&&n.error.call(e,a,n),u&&u.reject(a)),n.complete&&n.complete.call(e,o),u&&u.promise()}Object.defineProperty(e,"__esModule",{value:!0}),e.sync=i;var o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(1),c=n(0)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){t.exports=n(3)}])}(n(0),n(13))}()},function(t,e,n){"use strict";function r(t,e){var n=u.a.has(v,e)?e:v.default;return p.debug("Waiting for readyState",n),new s.a(function(e,r){function i(t){switch(n){case"interactive":if("complete"===t||"interactive"===t)return!0;break;case"complete":if("complete"===t)return!0;break;default:if("complete"===t||"interactive"===t)return!0}return!1}function o(n){i(n.target.readyState)&&e(t)}p.time("ReadyState "+n),u.a.defer(function(){i(t.readyState)?e(t):(t.addEventListener("readystatechange",o),t.addEventListener("DOMContentLoaded",function(){e(t)}),t.addEventListener("load",function(){e(t)}),t.addEventListener("error",function(t){r(new Error("Error waiting for ready state:"+(t?t.message:"")))}))})}).tap(function(){p.timeEnd("ReadyState "+n)})}function i(t,e,n){var i="now"===n?0:Number(n);return u.a.isFinite(i)?r(e,t).timeout(i).catch(s.a.TimeoutError,function(){return p.debug("docReadyPromise timed out after "+n+" ms, moving on anyway."),s.a.resolve(e)}):r(e,t)}function o(t,e,n){var r=t.contents()[0];if(r.body&&r.body.firstChild)return i(v.complete,r,e);var a=n?2*n:1;if(a>=e){var c=e+(n||0),u=new Error("Iframe timed out with no src/srcdoc after "+c+"ms, moving on anyway.");return p.debug(u),f.a.captureException(u),s.a.resolve(r)}return s.a.delay(a).then(function(){return o(t,e-a,a)})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"VALID_WAIT_READYSTATES",function(){return v}),n.d(e,"interactive",function(){return g}),n.d(e,"complete",function(){return m}),n.d(e,"defaultValue",function(){return y}),e.docReadyPromise=i,n.d(e,"onInteractive",function(){return _}),n.d(e,"onComplete",function(){return b}),e.onIframeComplete=o;var a=n(3),s=n.n(a),c=n(0),u=n.n(c),l=n(5),f=n.n(l),h=n(2),d=n.n(h),p=d.a.get("readystate.js"),v={interactive:"interactive",complete:"complete",default:"interactive"},g=v.interactive,m=v.complete,y=v.default,_=u.a.partial(i,v.interactive),b=u.a.partial(i,v.complete)},function(t,e,n){"use strict";function r(t,e){return"["+t+(u.a.isUndefined(e)?"":'*="'+e+'"')+"]"}function i(t,e){return s()(t).find(e).addBack(e)}function o(t,e){return i(t,r(l.b,e))}e.a=o;var a=n(4),s=n.n(a),c=n(0),u=n.n(c),l=n(10)},function(t,e,n){"use strict";t.exports=function(t){function e(e,n,s){return function(c){var u=s._boundValue();t:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return o(n).call(u,c)}else if("function"==typeof f){var h=o(f).call(u,c);if(h===a)return h;if(h)return o(n).call(u,c)}else if(r.isObject(c)){for(var d=i(f),p=0;p<d.length;++p){var v=d[p];if(f[v]!=c[v])continue t}return o(n).call(u,c)}}return t}}var r=n(1),i=n(12).keys,o=r.tryCatch,a=r.errorObj;return e}},function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new u(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){for(var a=arguments.length,c=new Array(Math.max(a-1,0)),u=1;u<a;++u)c[u-1]=arguments[u];t._fulfill(c)}else t._fulfill(r);t=null}}}var a=n(1),s=a.maybeWrapAsError,c=n(8),u=c.OperationalError,l=n(12),f=/^(?:name|message|stack|cause)$/;t.exports=o},function(t,e){function n(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e,n,r){return JSON.stringify(t,o(e,r),n)}function i(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function o(t,e){var r=[],o=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,e)).join(".")+"]"}),function(a,s){if(r.length>0){var c=n(r,this);~c?r.splice(c+1):r.push(this),~c?o.splice(c,1/0,a):o.push(a),~n(r,s)&&(s=e.call(this,a,s))}else r.push(s);return null==t?s instanceof Error?i(s):s:t.call(this,a,s)}}e=t.exports=r,e.getSerialize=o},function(t,e){function n(t,e){var n=t.match(e);return n?n[1]:""}t.exports=function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t={},n=e.search.replace(/^\?/,"").split("&"),r=n.length,i=0,o=void 0;i<r;i++)n[i]&&(o=n[i].split("="),t[o[0]]=o[1]);return t}(),file:n(e.pathname,/\/([^\/?#]+)$/i),hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:n(e.href,/tps?:\/\/[^\/]+(.+)/),segments:e.pathname.replace(/^\//,"").split("/")}}},function(t,e,n){"use strict";var r,i;r=[n(2),n(15)],void 0!==(i=function(t,e){var n=t.get("publishermodel.js"),r={},i=r.defaults={propertyId:"me",readyState:e.DEFAULT_READYSTATE,readyStateTimeout:e.DEFAULT_READYSTATE_TIMEOUT_MS};return n.debug("Default publisher options:",i),r}.apply(e,r))&&(t.exports=i)},function(t,e){},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}function i(t,e){var n=(e||document).createElement("a");return n.href=t,n.href}e.b=r,e.a=i},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(3),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,t),this.disableNativeSendBeacon=e}return a(t,[{key:"sendPOST",value:function(e,n){if(navigator.sendBeacon&&!this.disableNativeSendBeacon)return navigator.sendBeacon(e.href,n.toString())?o.a.resolve(new Response):o.a.reject(new Error("send beacon failed"));if(window.fetch){var r={method:"POST",mode:"no-cors",keepalive:!0,credentials:"include",body:n.toString()};return o.a.resolve(window.fetch(e.href,r))}return o.a.reject(new Error(t.missingPolyfillError))}},{key:"sendGET",value:function(e){var n={method:"GET",mode:"no-cors",keepalive:!0,credentials:"include"};return window.fetch?o.a.resolve(window.fetch(e.href,n)):o.a.reject(new Error(t.missingPolyfillError))}}]),t}();e.a=s,s.missingPolyfillError="no window.fetch implementation available."},function(t,e,n){"use strict";var r=n(0),i=n.n(r),o=window.CustomEvent;try{new o("test")}catch(t){o=function(t,e){i.a.isUndefined(e)&&(e={}),i.a.defaults(e,{bubbles:!1,cancellable:!1,detail:void 0});var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancellable,e.detail),n},o.prototype=window.Event.prototype}e.a=o},function(t,e,n){"use strict";function r(t){return!t||o.a.isEmpty(t)||-1===t.startNode&&!t.startNodeSelector&&-1===t.endNode&&!t.endNodeSelector&&-1===t.startOffset&&-1===t.endOffset&&!t.regexpSelector&&!t.originalText}e.a=r;var i=n(0),o=n.n(i)},function(t,e,n){"use strict";function r(t){var e=t[_],n=null;return e in d.c&&(n=l.a.isFinite(+e)?+e:d.c[e]),n}function i(t,e,n){return c.a.try(function(){var e=r(n);null!==e&&(y.warn("Applying format override: "+d.c[e]),Object(d.j)(e)),m.b.install(t)})}function o(t){Object(p.d)(t.el)||a(t.model).install(t.$el)}function a(t){var e=t.format();if(Object(d.g)(e))return new v.a({model:t});if(e===d.c.DISTRIBUTION)return new g.a({model:t});throw new Error("No view for format: "+d.c[e])}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=i,e.install=o,e.newView=a;var s=n(3),c=n.n(s),u=n(0),l=n.n(u),f=n(2),h=n.n(f),d=n(7),p=n(19),v=n(104),g=n(109),m=n(40);n.d(e,"allViews",function(){return p.c}),n.d(e,"KIND_ATTR",function(){return p.b});var y=h.a.get("linkpreview/main"),_="format"},function(t,e,n){"use strict";function r(t,e,n){if(t.target instanceof HTMLAnchorElement){var r=t.target,i=a.a.try(function(){return e(t)}),o=r.target;if(""!==o&&"_self"!==o&&"_top"!==o)u.debug("Link target is a different frame, continuing...");else if(i.isPending()){t.preventDefault();var s=r.href;i.timeout(n).finally(function(){u.debug("Hijacked handler finished, continuing..."),f.assign(s)}).catch(a.a.TimeoutError,function(t){return u.debug("Hijacked handler time out, continuing...",t),null}).catch(function(t){return u.error("Error in hijacked handler",t),null})}else i.isRejected()&&u.error("Error in hijacked handler",i.reason)}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return function(n){try{return r(n,t.bind(this),e)}catch(t){u.error("Error handling hijacked event",n,t)}}}e.a=i;var o=n(3),a=n.n(o),s=n(2),c=n.n(s),u=c.a.get("lib/hijacker"),l=250,f={logger:u,assign:function(t){window.location.assign(t)}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return p}n.d(e,"a",function(){return m}),n.d(e,"b",function(){return y});var o=n(4),a=n.n(o),s=n(0),c=n.n(s),u=n(10),l=n(7),f=n(18),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("passiveTest",null,e)}catch(t){}return t}(),p={top:0,right:0,bottom:16,left:0},v={getFormat:l.d,borderForFormat:i},g="wsl:change:visible-link",m="wsl:concussion",y=function(){function t(e){r(this,t),this.doc=e,this.visibleEl=null,this.$body=a()(e.body),this.targetWindow=e.defaultView,this.uninstall=this.uninstall.bind(this),this.onScroll=c.a.debounce(this.rescan.bind(this),t.SCROLL_DEBOUNCE_MS)}return h(t,[{key:"rescan",value:function(){var t=this.visibleEl,e=this.findVisible();t!==e&&(this.visibleEl=e,c.a.isElement(e)?a()(e).trigger(g):c.a.isElement(t)&&this.clear())}},{key:"onChange",value:function(t){this.$body.on(g,t)}},{key:"offChange",value:function(t){this.$body.off(g,t)}},{key:"install",value:function(){this.onScroll&&this.uninstall(),this.$body.data(t.INSTANCE_ATTR,this),this.targetWindow.addEventListener("scroll",this.onScroll,!!d&&{passive:!0});var e=a()(this.doc);e.one("unload",this.uninstall),e.on(f.a.REFRESHED,this.onScroll)}},{key:"uninstall",value:function(){this.onScroll&&this.targetWindow.removeEventListener("scroll",this.onScroll),this.$body.off(g),this.$body.data(t.INSTANCE_ATTR,null),a()(this.doc).off(f.a.REFRESHED,this.onScroll)}},{key:"getRect",value:function(t){if(t.getBoundingClientRect)return t.getBoundingClientRect();var e=a()(t),n=e.offset(),r=a()(this.targetWindow);return n.left-=r.scrollLeft(),n.top-=r.scrollTop(),n.right=n.left+e.width(),n.bottom=n.top+e.height(),n}},{key:"contains",value:function(t){var e=v.getFormat(t),n=v.borderForFormat(e),r=this.getRect(t);return r.top>=n.top&&r.left>=n.left&&r.bottom<=this.height-n.bottom&&r.right<=this.width-n.right}},{key:"findVisible",value:function(){var e=this.$body.find(t.eventSelector),n=c.a.filter(e,this.contains,this);return a()(n).trigger(m),c.a.first(n)}},{key:"clear",value:function(){this.$body.trigger(g)}},{key:"height",get:function(){return this.targetWindow.hasOwnProperty("innerHeight")?this.targetWindow.innerHeight:this.doc.documentElement.clientHeight}},{key:"width",get:function(){return this.targetWindow.hasOwnProperty("innerWidth")?this.targetWindow.innerWidth:this.doc.documentElement.clientWidth}}],[{key:"install",value:function(e){var n=t.get(e);return n||(n=new t(e),n.install()),n}},{key:"get",value:function(e){return a()(e.body).data(t.INSTANCE_ATTR)}}]),t}();y.INSTANCE_ATTR="wsl-viewport-tracker",y.SCROLL_DEBOUNCE_MS=55,y.COLLAPSED_HEIGHT=47,y.EXPANDED_HEIGHT_NATIVE=230,y.BOTTOM_MARGIN=16,y.eventSelector="."+u.f},function(t,e,n){"use strict";function r(t){return t.replace(/[\s\uFEFF\xA0]+/g," ")}function i(t){if(!t)return!1;var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t).display;return"none"===n||n.startsWith("inline")}e.b=r,e.a=i},function(t,e,n){"use strict";function r(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="7" height="7" viewBox="0 0 7 7"><path d="M.081 5.245a.601.601 0 0 0 .507.261c.094 0 .2-.02.295-.073L2.91 4.409v2.069c0 .292.259.522.589.522.33 0 .59-.23.59-.522V4.409l2.027 1.034a.584.584 0 0 0 .295.073c.2 0 .4-.094.507-.26.165-.252.07-.565-.212-.711L4.679 3.5l2.028-1.034c.283-.147.377-.46.212-.71-.165-.252-.519-.335-.802-.189L4.09 2.591V.522C4.09.23 3.83 0 3.5 0c-.33 0-.59.23-.59.522v2.069L.884 1.557C.6 1.41.234 1.494.08 1.745c-.165.25-.07.564.212.71L2.321 3.5.293 4.534c-.27.147-.377.46-.212.71z" fill=\''+t+"' /></svg>"}function i(t){var e=r(t);return'.wsl-anchor[data-wsl-format="2"]:after, .wsl-anchor[data-wsl-format="3"]:after, .wsl-asterisk:before {\n  background-image: url(data:image/svg+xml;chatset=utf-8,'+f.a.escape(e)+");\n}\n."+h+" {\n  border-color: "+t+"!important;\n}"}function o(t){var e={},n=u()(".wsl-inline-container a.wsl-preview-inline-link",t).first();return n.length>0&&(e.asteriskColor=n.css("color")),e}function a(t,e){var n=t.createElement("style");n.setAttribute("type","text/css"),n.id=d,n.textContent=i(e.asteriskColor);var r=t.getElementById(d);r?u()(r).replaceWith(n):u()(n).appendTo(t.body)}function s(t){var e=o(t);return!!e.asteriskColor&&(a(t,e),!0)}n.d(e,"a",function(){return h}),e.b=s;var c=n(4),u=n.n(c),l=n(22),f=n.n(l),h="wsl-border-color-override",d="wsl_icon_colors"},function(t,e,n){var r,i;!function(o,a){r=o,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i)}(function(){function t(t,e){var n=typeof t[e];return n==b||!(n!=_||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=_||!t[e])}function n(t,e){return typeof t[e]!=w}function r(t){return function(e,n){for(var r=n.length;r--;)if(!t(e,n[r]))return!1;return!0}}function i(t){return t&&R(t,S)&&T(t,x)}function o(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function a(e){typeof console!=w&&t(console,"log")&&console.log(e)}function s(t,e){A&&e?alert(t):a(t)}function c(t){P.initialized=!0,P.supported=!1,s("Rangy is not supported in this environment. Reason: "+t,P.config.alertOnFail)}function u(t){s("Rangy warning: "+t,P.config.alertOnWarn)}function l(t){return t.message||t.description||String(t)}function f(){if(A&&!P.initialized){var e,n=!1,r=!1;t(document,"createRange")&&(e=document.createRange(),R(e,C)&&T(e,E)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void c("No body element found");if(s&&t(s,"createTextRange")&&(e=s.createTextRange(),i(e)&&(r=!0)),!n&&!r)return void c("Neither Range nor TextRange are available");P.initialized=!0,P.features={implementsDomRange:n,implementsTextRange:r};var u,f;for(var h in N)(u=N[h])instanceof v&&u.init(u,P);for(var d=0,p=F.length;d<p;++d)try{F[d](P)}catch(t){f="Rangy init listener threw an exception. Continuing. Detail: "+l(t),a(f)}}}function h(t,e,n){n&&(t+=" in module "+n.name),P.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function d(t,e,n,r){t[e]=function(){return h(e,n,r),t[n].apply(t,j.toArray(arguments))}}function p(t){t=t||window,f();for(var e=0,n=L.length;e<n;++e)L[e](t)}function v(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function g(t,e,n){var r=new v(t,e,function(e){if(!e.initialized){e.initialized=!0;try{n(P,e),e.supported=!0}catch(e){var r="Module '"+t+"' failed to load: "+l(e);a(r),e.stack&&a(e.stack)}}});return N[t]=r,r}function m(){}function y(){}var _="object",b="function",w="undefined",E=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],x=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],R=r(t),k=r(e),T=r(n),O=[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var n=0,r=t.length;n<r;++n)e(t[n],n)},N={},A=typeof window!=w&&typeof document!=w,j={isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:R,areHostObjects:k,areHostProperties:T,isTextRange:i,getBody:o,forEach:O},P={version:"1.3.1-dev",initialized:!1,isBrowser:A,supported:!0,util:j,features:{},modules:N,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof!1==w}};P.fail=c,P.warn=u;var I;!{}.hasOwnProperty?c("hasOwnProperty not supported"):(j.extend=I=function(t,e,n){var r,i;for(var o in e)e.hasOwnProperty(o)&&(r=t[o],i=e[o],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&I(r,i,!0),t[o]=i);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},j.createOptions=function(t,e){var n={};return I(n,e),t&&I(n,t),n}),A||c("Rangy can only run in a browser"),function(){var t;if(A){var e=document.createElement("div");e.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(t){return n.call(t,0)})}catch(t){}}t||(t=function(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t[n];return e}),j.toArray=t}();var D;A&&(t(document,"addEventListener")?D=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?D=function(t,e,n){t.attachEvent("on"+e,n)}:c("Document does not have required addEventListener or attachEvent method"),j.addListener=D);var F=[];j.deprecationNotice=h,j.createAliasForDeprecatedMethod=d,P.init=f,P.addInitListener=function(t){P.initialized?t(P):F.push(t)};var L=[];P.addShimListener=function(t){L.push(t)},A&&(P.shim=P.createMissingNativeApi=p,d(P,"createMissingNativeApi","shim")),v.prototype={init:function(){for(var t,e,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(e=n[r],!((t=N[e])&&t instanceof v))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){P.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){P.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},P.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var r=g(t,n,e);P.initialized&&P.supported&&r.init()},P.createCoreModule=function(t,e,n){g(t,e,n)},P.RangePrototype=m,P.rangePrototype=new m,P.selectionPrototype=new y,P.createCoreModule("DomUtil",[],function(t,e){function n(t){var e;return typeof t.namespaceURI==A||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function r(t){var e=t.parentNode;return 1==e.nodeType?e:null}function i(t){for(var e=0;t=t.previousSibling;)++e;return e}function o(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function a(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(F(r,n))return n;return null}function s(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function c(t,e){return s(t,e,!0)}function u(t,e,n){for(var r,i=n?t:t.parentNode;i;){if((r=i.parentNode)===e)return i;i=r}return null}function l(t){var e=t.nodeType;return 3==e||4==e||8==e}function f(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function h(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function d(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),h(r,t),n)for(var o,a=0;o=n[a++];)o.node==t&&o.offset>e?(o.node=r,o.offset-=e):o.node==t.parentNode&&o.offset>i(t)&&++o.offset;return r}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=A)return t.ownerDocument;if(typeof t.document!=A)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function v(t){var n=p(t);if(typeof n.defaultView!=A)return n.defaultView;if(typeof n.parentWindow!=A)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=A)return t.contentDocument;if(typeof t.contentWindow!=A)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function m(t){if(typeof t.contentWindow!=A)return t.contentWindow;if(typeof t.contentDocument!=A)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&j.isHostMethod(t,"setTimeout")&&j.isHostObject(t,"document")}function _(t,e,n){var r;if(t?j.isHostProperty(t,"nodeType")?r=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):p(t):y(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r}function b(t){for(var e;e=t.parentNode;)t=e;return t}function w(t,n,r,o){var s,c,l,f,h;if(t==r)return n===o?0:n<o?-1:1;if(s=u(r,t,!0))return n<=i(s)?-1:1;if(s=u(t,r,!0))return i(s)<o?-1:1;if(!(c=a(t,r)))throw new Error("comparePoints error: nodes have no common ancestor");if(l=t===c?c:u(t,c,!0),f=r===c?c:u(r,c,!0),l===f)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=c.firstChild;h;){if(h===l)return-1;if(h===f)return 1;h=h.nextSibling}}function E(t){try{return t.parentNode,!1}catch(t){return!0}}function C(t){if(!t)return"[No node]";if(L&&E(t))return"[Broken node]";if(l(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+i(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function x(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n}function S(t,e,n){var r=P(t),i=t.createElement("div");i.contentEditable=""+!!n,e&&(i.innerHTML=e);var o=r.firstChild;return o?r.insertBefore(i,o):r.appendChild(i),i}function R(t){return t.parentNode.removeChild(t)}function k(t){this.root=t,this._next=t}function T(t){return new k(t)}function O(t,e){this.node=t,this.offset=e}function N(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var A="undefined",j=t.util,P=j.getBody;j.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),j.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var I=document.createElement("div");j.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!j.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),j.isHostProperty(I,"innerHTML")||e.fail("Element is missing innerHTML property");var D=document.createTextNode("test");j.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"]||!j.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!j.areHostProperties(D,["data"]))||e.fail("Incomplete Text Node implementation");var F=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},L=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var n=e.firstChild;e.innerHTML="<br />",L=E(n),t.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=A?M=function(t,e){return v(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=A?M=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:e.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},O.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},N.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},N.prototype.toString=function(){return this.message},t.dom={arrayContains:F,isHtmlNamespace:n,parentElement:r,getNodeIndex:i,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:c,getClosestAncestorIn:u,isCharacterDataNode:l,isTextOrCommentNode:f,insertAfter:h,splitDataNode:d,getDocument:p,getWindow:v,getIframeWindow:m,getIframeDocument:g,getBody:P,isWindow:y,getContentDocument:_,getRootContainer:b,comparePoints:w,isBrokenNode:E,inspectNode:C,getComputedStyleProperty:M,createTestElement:S,removeNode:R,fragmentFromNodeChildren:x,createIterator:T,DomPosition:O},t.DOMException=N}),P.createCoreModule("DomRange",["DomUtil"],function(t,e){function n(t,e){return 3!=t.nodeType&&(H(t,e.startContainer)||H(t,e.endContainer))}function r(t){return t.document||$(t.startContainer)}function i(t){return K(t.startContainer)}function o(t){return new L(t.parentNode,U(t))}function a(t){return new L(t.parentNode,U(t)+1)}function s(t,e,n){var r=11==t.nodeType?t.firstChild:t;return B(e)?n==e.length?D.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:V(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function c(t,e,n){if(S(t),S(e),r(e)!=r(t))throw new M("WRONG_DOCUMENT_ERR");var i=W(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=W(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?i<=0&&o>=0:i<0&&o>0}function u(t){for(var e,n,i,o=r(t.range).createDocumentFragment();n=t.next();){if(e=t.isPartiallySelectedSubtree(),n=n.cloneNode(!e),e&&(i=t.getSubtreeIterator(),n.appendChild(u(i)),i.detach()),10==n.nodeType)throw new M("HIERARCHY_REQUEST_ERR");o.appendChild(n)}return o}function l(t,e,n){var r,i;n=n||{stop:!1};for(var o,a;o=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(o))return void(n.stop=!0);if(a=t.getSubtreeIterator(),l(a,e,n),a.detach(),n.stop)return}else for(r=D.createIterator(o);i=r.next();)if(!1===e(i))return void(n.stop=!0)}function f(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),f(e),e.detach()):t.remove()}function h(t){for(var e,n,i=r(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(h(n)),n.detach()):t.remove(),10==e.nodeType)throw new M("HIERARCHY_REQUEST_ERR");i.appendChild(e)}return i}function d(t,e,n){var r,i=!(!e||!e.length),o=!!n;i&&(r=new RegExp("^("+e.join("|")+")$"));var a=[];return l(new v(t,!1),function(e){if((!i||r.test(e.nodeType))&&(!o||n(e))){var s=t.startContainer;if(e!=s||!B(s)||t.startOffset!=s.length){var c=t.endContainer;e==c&&B(c)&&0==t.endOffset||a.push(e)}}}),a}function p(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+D.inspectNode(t.startContainer)+":"+t.startOffset+", "+D.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function v(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&B(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||B(this.sc)?z(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||B(this.ec)?z(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function g(t){return function(e,n){for(var r,i=n?e:e.parentNode;i;){if(r=i.nodeType,G(t,r))return i;i=i.parentNode}return null}}function m(t,e){if(it(t,e))throw new M("INVALID_NODE_TYPE_ERR")}function y(t,e){if(!G(e,t.nodeType))throw new M("INVALID_NODE_TYPE_ERR")}function _(t,e){if(e<0||e>(B(t)?t.length:t.childNodes.length))throw new M("INDEX_SIZE_ERR")}function b(t,e){if(nt(t,!0)!==nt(e,!0))throw new M("WRONG_DOCUMENT_ERR")}function w(t){if(rt(t,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function E(t,e){if(!t)throw new M(e)}function C(t,e){return e<=(B(t)?t.length:t.childNodes.length)}function x(t){return!!t.startContainer&&!!t.endContainer&&!(Y&&(D.isBrokenNode(t.startContainer)||D.isBrokenNode(t.endContainer)))&&K(t.startContainer)==K(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function S(t){if(!x(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function R(t,e){S(t);var n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,a=n===i;B(i)&&o>0&&o<i.length&&V(i,o,e),B(n)&&r>0&&r<n.length&&(n=V(n,r,e),a?(o-=r,i=n):i==n.parentNode&&o>=U(n)&&o++,r=0),t.setStartAndEnd(n,r,i,o)}function k(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function T(t){t.START_TO_START=ut,t.START_TO_END=lt,t.END_TO_END=ft,t.END_TO_START=ht,t.NODE_BEFORE=dt,t.NODE_AFTER=pt,t.NODE_BEFORE_AND_AFTER=vt,t.NODE_INSIDE=gt}function O(t){T(t),T(t.prototype)}function N(t,e){return function(){S(this);var n,r,i=this.startContainer,o=this.startOffset,s=this.commonAncestorContainer,c=new v(this,!0);i!==s&&(n=z(i,s,!0),r=a(n),i=r.node,o=r.offset),l(c,w),c.reset();var u=t(c);return c.detach(),e(this,i,o,i,o),u}}function A(e,r){function i(t,e){return function(n){y(n,X),y(K(n),Q);var r=(t?o:a)(n);(e?s:c)(this,r.node,r.offset)}}function s(t,e,n){var i=t.endContainer,o=t.endOffset;e===t.startContainer&&n===t.startOffset||(K(e)==K(i)&&1!=W(e,n,i,o)||(i=e,o=n),r(t,e,n,i,o))}function c(t,e,n){var i=t.startContainer,o=t.startOffset;e===t.endContainer&&n===t.endOffset||(K(e)==K(i)&&-1!=W(e,n,i,o)||(i=e,o=n),r(t,i,o,e,n))}var u=function(){};u.prototype=t.rangePrototype,e.prototype=new u,F.extend(e.prototype,{setStart:function(t,e){m(t,!0),_(t,e),s(this,t,e)},setEnd:function(t,e){m(t,!0),_(t,e),c(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],i=e,o=n;switch(t.length){case 3:o=t[2];break;case 4:i=t[2],o=t[3]}r(this,e,n,i,o)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:i(!0,!0),setStartAfter:i(!1,!0),setEndBefore:i(!0,!1),setEndAfter:i(!1,!1),collapse:function(t){S(this),t?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){m(t,!0),r(this,t,0,t,q(t))},selectNode:function(t){m(t,!1),y(t,X);var e=o(t),n=a(t);r(this,e.node,e.offset,n.node,n.offset)},extractContents:N(h,r),deleteContents:N(f,r),canSurroundContents:function(){S(this),w(this.startContainer),w(this.endContainer);var t=new v(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},splitBoundaries:function(){R(this)},splitBoundariesPreservingPositions:function(t){R(this,t)},normalizeBoundaries:function(){S(this);var t,e=this.startContainer,n=this.startOffset,i=this.endContainer,o=this.endOffset,a=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(i=t,o=t.length,t.appendData(e.data),J(e))},s=function(t){var r=t.previousSibling;if(r&&r.nodeType==t.nodeType){e=t;var a=t.length;if(n=r.length,t.insertData(0,r.data),J(r),e==i)o+=n,i=e;else if(i==t.parentNode){var s=U(t);o==s?(i=t,o=a):o>s&&o--}}},c=!0;if(B(i))o==i.length?a(i):0==o&&(t=i.previousSibling)&&t.nodeType==i.nodeType&&(o=t.length,e==i&&(c=!1),t.appendData(i.data),J(i),i=t);else{if(o>0){var u=i.childNodes[o-1];u&&B(u)&&a(u)}c=!this.collapsed}if(c){if(B(e))0==n?s(e):n==e.length&&(t=e.nextSibling)&&t.nodeType==e.nodeType&&(i==t&&(i=e,o+=e.length),e.appendData(t.data),J(t));else if(n<e.childNodes.length){var l=e.childNodes[n];l&&B(l)&&s(l)}}else e=i,n=o;r(this,e,n,i,o)},collapseToPoint:function(t,e){m(t,!0),_(t,e),this.setStartAndEnd(t,e)}}),O(e)}function j(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:D.getCommonAncestor(t.startContainer,t.endContainer)}function P(t,e,n,r,i){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=i,t.document=D.getDocument(e),j(t)}function I(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,j(this)}var D=t.dom,F=t.util,L=D.DomPosition,M=t.DOMException,B=D.isCharacterDataNode,U=D.getNodeIndex,H=D.isOrIsAncestorOf,$=D.getDocument,W=D.comparePoints,V=D.splitDataNode,z=D.getClosestAncestorIn,q=D.getNodeLength,G=D.arrayContains,K=D.getRootContainer,Y=t.features.crashyTextNodes,J=D.removeNode;v.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,B(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!B(n)||n!==this.sc&&n!==this.ec?n.parentNode&&J(n):(t=n===this.sc?this.so:0,e=n===this.ec?this.eo:n.length,t!=e&&n.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new I(r(this.range));var e=this._current,n=e,i=0,o=e,a=q(e);H(e,this.sc)&&(n=this.sc,i=this.so),H(e,this.ec)&&(o=this.ec,a=this.eo),P(t,n,i,o,a)}return new v(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var X=[1,3,4,5,7,8,10],Q=[2,9,11],Z=[5,6,10,12],tt=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],nt=g([9,11]),rt=g(Z),it=g([6,10,12]),ot=document.createElement("style"),at=!1;try{ot.innerHTML="<b>x</b>",at=3==ot.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=at;var st=at?function(t){var e=this.startContainer,n=$(e);if(!e)throw new M("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:B(e)&&(r=D.parentElement(e)),r=null===r||"HTML"==r.nodeName&&D.isHtmlNamespace($(r).documentElement)&&D.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1),r.innerHTML=t,D.fragmentFromNodeChildren(r)}:function(t){var e=r(this),n=e.createElement("body");return n.innerHTML=t,D.fragmentFromNodeChildren(n)},ct=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ut=0,lt=1,ft=2,ht=3,dt=0,pt=1,vt=2,gt=3;F.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){S(this),b(this.startContainer,e.startContainer);var n,r,i,o,a=t==ht||t==ut?"start":"end",s=t==lt||t==ut?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],i=e[s+"Container"],o=e[s+"Offset"],W(n,r,i,o)},insertNode:function(t){if(S(this),y(t,tt),w(this.startContainer),H(t,this.startContainer))throw new M("HIERARCHY_REQUEST_ERR");var e=s(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){S(this);var t,e;if(this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&B(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=r(this).createDocumentFragment(),e.appendChild(t),e;var n=new v(this,!0);return t=u(n),n.detach(),t},canSurroundContents:function(){S(this),w(this.startContainer),w(this.endContainer);var t=new v(this,!0),e=t._first&&n(t._first,this)||t._last&&n(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,et),!this.canSurroundContents())throw new M("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);s(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new I(r(this)),n=ct.length;n--;)t=ct[n],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&B(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new v(this,!0);return l(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,n=U(t);if(!e)throw new M("NOT_FOUND_ERR");var r=this.comparePoint(e,n),i=this.comparePoint(e,n+1);return r<0?i>0?vt:dt:i>0?pt:gt},comparePoint:function(t,e){return S(this),E(t,"HIERARCHY_REQUEST_ERR"),b(t,this.startContainer),W(t,e,this.startContainer,this.startOffset)<0?-1:W(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:st,toHtml:function(){return k(this)},intersectsNode:function(t,e){if(S(this),K(t)!=i(this))return!1;var n=t.parentNode,r=U(t);if(!n)return!0;var o=W(n,r,this.endContainer,this.endOffset),a=W(n,r+1,this.startContainer,this.startOffset);return e?o<=0&&a>=0:o<0&&a>0},isPointInRange:function(t,e){return S(this),E(t,"HIERARCHY_REQUEST_ERR"),b(t,this.startContainer),W(t,e,this.startContainer,this.startOffset)>=0&&W(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return c(this,t,!1)},intersectsOrTouchesRange:function(t){return c(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=W(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=W(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==W(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==W(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new M("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==gt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,q(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(n.length>0){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),d(this,t,e)},getDocument:function(){return r(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var n=r(this),i=t.createRange(n);e=e||D.getBody(n),i.selectNodeContents(e);var o=this.intersection(i),a=0,s=0;return o&&(i.setEnd(o.startContainer,o.startOffset),a=i.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,i,o,a,s=[e],c=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!c&&t.start>=n&&t.start<=i&&(this.setStart(r,t.start-n),c=!0),c&&t.end>=n&&t.end<=i&&(this.setEnd(r,t.end-n),u=!0),n=i;else for(a=r.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(t){return I.rangesEqual(this,t)},isValid:function(){return x(this)},inspect:function(){return p(this)},detach:function(){}}),A(I,P),F.extend(I,{rangeProperties:ct,RangeIterator:v,copyComparisonConstants:O,createPrototypeRange:A,inspect:p,toHtml:k,getRangeDocument:r,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=I}),P.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,r,i=t.dom,o=t.util,a=i.DomPosition,s=t.DomRange,c=i.getBody,u=i.getContentDocument,l=i.isCharacterDataNode;if(t.features.implementsDomRange&&function(){function r(t){for(var e,n=h.length;n--;)e=h[n],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function a(t,e,n,r,i){var o=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==r||t.endOffset!=i,s=!t.equals(t.nativeRange);(o||a||s)&&(t.setEnd(r,i),t.setStart(e,n))}var l,f,h=s.rangeProperties;n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,r(this)},s.createPrototypeRange(n,a),l=n.prototype,l.selectNode=function(t){this.nativeRange.selectNode(t),r(this)},l.cloneContents=function(){return this.nativeRange.cloneContents()},l.surroundContents=function(t){this.nativeRange.surroundContents(t),r(this)},l.collapse=function(t){this.nativeRange.collapse(t),r(this)},l.cloneRange=function(){return new n(this.nativeRange.cloneRange())},l.refresh=function(){r(this)},l.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");c(document).appendChild(d);var p=document.createRange();p.setStart(d,0),p.setEnd(d,0);try{p.setStart(d,1),l.setStart=function(t,e){this.nativeRange.setStart(t,e),r(this)},l.setEnd=function(t,e){this.nativeRange.setEnd(t,e),r(this)},f=function(t){return function(e){this.nativeRange[t](e),r(this)}}}catch(t){l.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}r(this)},l.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}r(this)},f=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(r){this.nativeRange[e](n),this.nativeRange[t](n)}r(this)}}}l.setStartBefore=f("setStartBefore","setEndBefore"),l.setStartAfter=f("setStartAfter","setEndAfter"),l.setEndBefore=f("setEndBefore","setStartBefore"),l.setEndAfter=f("setEndAfter","setStartAfter"),l.selectNodeContents=function(t){this.setStartAndEnd(t,0,i.getNodeLength(t))},p.selectNodeContents(d),p.setEnd(d,3);var v=document.createRange();v.selectNodeContents(d),v.setEnd(d,4),v.setStart(d,2),-1==p.compareBoundaryPoints(p.START_TO_END,v)&&1==p.compareBoundaryPoints(p.END_TO_START,v)?l.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:l.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var g=document.createElement("div");g.innerHTML="123";var m=g.firstChild,y=c(document);y.appendChild(g),p.setStart(m,1),p.setEnd(m,2),p.deleteContents(),"13"==m.data&&(l.deleteContents=function(){this.nativeRange.deleteContents(),r(this)},l.extractContents=function(){var t=this.nativeRange.extractContents();return r(this),t}),y.removeChild(g),y=null,o.isHostMethod(p,"createContextualFragment")&&(l.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),c(document).removeChild(d),l.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var f=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var r=n.parentElement();n=t.duplicate(),n.collapse(!1);var o=n.parentElement(),a=r==o?r:i.getCommonAncestor(r,o);return a==e?a:i.getCommonAncestor(e,a)},h=function(t){return 0==t.compareEndPoints("StartToEnd",t)},d=function(t,e,n,r,o){var s=t.duplicate();s.collapse(n);var c=s.parentElement();if(i.isOrIsAncestorOf(e,c)||(c=e),!c.canHaveHTML){var u=new a(c.parentNode,i.getNodeIndex(c));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var f=i.getDocument(c).createElement("span");f.parentNode&&i.removeNode(f);for(var h,d,p,v,g,m=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==c?o.nodeIndex:0,_=c.childNodes.length,b=_,w=b;w==_?c.appendChild(f):c.insertBefore(f,c.childNodes[w]),s.moveToElementText(f),0!=(h=s.compareEndPoints(m,t))&&y!=b;){if(-1==h){if(b==y+1)break;y=w}else b=b==y+1?y:w;w=Math.floor((y+b)/2),c.removeChild(f)}if(g=f.nextSibling,-1==h&&g&&l(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",t);var E;if(/[\r\n]/.test(g.data)){var C=s.duplicate(),x=C.text.replace(/\r\n/g,"\r").length;for(E=C.moveStart("character",x);-1==(h=C.compareEndPoints("StartToEnd",C));)E++,C.moveStart("character",1)}else E=s.text.length;v=new a(g,E)}else d=(r||!n)&&f.previousSibling,p=(r||n)&&f.nextSibling,v=p&&l(p)?new a(p,0):d&&l(d)?new a(d,d.data.length):new a(c,i.getNodeIndex(f));return i.removeNode(f),{boundaryPosition:v,nodeInfo:{nodeIndex:w,containerElement:c}}},p=function(t,e){var n,r,o,a,s=t.offset,u=i.getDocument(t.node),f=c(u).createTextRange(),h=l(t.node);return h?(n=t.node,r=n.parentNode):(a=t.node.childNodes,n=s<a.length?a[s]:null,r=t.node),o=u.createElement("span"),o.innerHTML="&#feff;",n?r.insertBefore(o,n):r.appendChild(o),f.moveToElementText(o),f.collapse(!e),r.removeChild(o),h&&f[e?"moveStart":"moveEnd"]("character",s),f};r=function(t){this.textRange=t,this.refresh()},r.prototype=new s(document),r.prototype.refresh=function(){var t,e,n,r=f(this.textRange);h(this.textRange)?e=t=d(this.textRange,r,!0,!0).boundaryPosition:(n=d(this.textRange,r,!0,!1),t=n.boundaryPosition,e=d(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var v=function(t){if(t.collapsed)return p(new a(t.startContainer,t.startOffset),!0);var e=p(new a(t.startContainer,t.startOffset),!0),n=p(new a(t.endContainer,t.endOffset),!1),r=c(s.getRangeDocument(t)).createTextRange();return r.setEndPoint("StartToStart",e),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=v,r.prototype.toTextRange=function(){return v(this)},t.WrappedTextRange=r,!t.features.implementsDomRange||t.config.preferTextRange){var g=function(t){return t("return this;")()}(Function);void 0===g.Range&&(g.Range=r),t.createNativeRange=function(t){return t=u(t,e,"createNativeRange"),c(t).createTextRange()},t.WrappedRange=r}}t.createRange=function(n){return n=u(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=u(t,e,"createRangyRange"),new s(t)},o.createAliasForDeprecatedMethod(t,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(t,"createIframeRangyRange","createRangyRange"),t.addShimListener(function(e){var n=e.document;void 0===n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),P.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function r(t,n){if(t){if(R.isWindow(t))return t;if(t instanceof m)return t.win;var r=R.getContentDocument(t,e,n);return R.getWindow(r)}return window}function i(t){return r(t,"getWinSelection").getSelection()}function o(t){return r(t,"getDocSelection").document.selection}function a(t){var e=!1;return t.anchorNode&&(e=1==R.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function s(t,e,n){var r=n?"end":"start",i=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[i+"Container"],t.focusOffset=e[i+"Offset"]}function c(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function u(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function l(e){var n;return e instanceof O?(n=t.createNativeRange(e.getDocument()),n.setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof N?n=e.nativeRange:P.implementsDomRange&&e instanceof R.getWindow(e.startContainer).Range&&(n=e),n}function f(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;e<n;++e)if(!R.isAncestorOf(t[0],t[e]))return!1;return!0}function h(t){var n=t.getNodes();if(!f(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function d(t){return!!t&&void 0!==t.text}function p(t,e){var n=new N(e);t._ranges=[n],s(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function v(e){if(e._ranges.length=0,"None"==e.docSelection.type)u(e);else{var n=e.docSelection.createRange();if(d(n))p(e,n);else{e.rangeCount=n.length;for(var r,i=I(n.item(0)),o=0;o<e.rangeCount;++o)r=t.createRange(i),r.selectNode(n.item(o)),e._ranges.push(r);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,s(e,e._ranges[e.rangeCount-1],!1)}}}function g(t,n){for(var r=t.docSelection.createRange(),i=h(n),o=I(r.item(0)),a=D(o).createControlRange(),s=0,c=r.length;s<c;++s)a.add(r.item(s));try{a.add(i)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),v(t)}function m(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function _(t,e){for(var n,r,i=Q.length;i--;)if(n=Q[i],r=n.selection,"deleteAll"==e)y(r);else if(n.win==t)return"delete"==e?(Q.splice(i,1),!0):r;return"deleteAll"==e&&(Q.length=0),null}function b(t,n){for(var r,i=I(n[0].startContainer),o=D(i).createControlRange(),a=0,s=n.length;a<s;++a){r=h(n[a]);try{o.add(r)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),v(t)}function w(t,e){if(t.win.document!=I(e))throw new A("WRONG_DOCUMENT_ERR")}function E(e){return function(n,r){var i;this.rangeCount?(i=this.getRangeAt(0),i["set"+(e?"Start":"End")](n,r)):(i=t.createRange(this.win.document),i.setStartAndEnd(n,r)),this.setSingleRange(i,this.isBackward())}}function C(t){var e=[],n=new j(t.anchorNode,t.anchorOffset),r=new j(t.focusNode,t.focusOffset),i="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var o=0,a=t.rangeCount;o<a;++o)e[o]=O.inspect(t.getRangeAt(o));return"["+i+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}t.config.checkSelectionRanges=!0;var x,S,R=t.dom,k=t.util,T=k.isHostMethod,O=t.DomRange,N=t.WrappedRange,A=t.DOMException,j=R.DomPosition,P=t.features,I=R.getDocument,D=R.getBody,F=O.rangesEqual,L=T(window,"getSelection"),M=k.isHostObject(document,"selection");P.implementsWinGetSelection=L,P.implementsDocSelection=M;var B=M&&(!L||t.config.preferTextRange);if(B)x=o,t.isSelectionValid=function(t){var e=r(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||I(n.createRange().parentElement())==e};else{if(!L)return e.fail("Neither document.selection or window.getSelection() detected."),!1;x=i,t.isSelectionValid=function(){return!0}}t.getNativeSelection=x;var U=x();if(!U)return e.fail("Native selection was null (possibly issue 138?)"),!1;var H=t.createNativeRange(document),$=D(document),W=k.areHostProperties(U,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=W;var V=T(U,"extend");P.selectionHasExtend=V;var z="number"==typeof U.rangeCount;P.selectionHasRangeCount=z;var q=!1,G=!0,K=V?function(e,n){var r=O.getRangeDocument(n),i=t.createRange(r);i.collapseToPoint(n.endContainer,n.endOffset),e.addRange(l(i)),e.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(U,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof U.rangeCount&&P.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var n=e.rangeCount,r=n>1,i=[],o=a(e),s=0;s<n;++s)i[s]=e.getRangeAt(s);var c=R.createTestElement(document,"",!1),u=c.appendChild(document.createTextNode("   ")),l=document.createRange();if(l.setStart(u,1),l.collapse(!0),e.removeAllRanges(),e.addRange(l),G=1==e.rangeCount,e.removeAllRanges(),!r){var f=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(f&&parseInt(f[1])>=36)q=!1;else{var h=l.cloneRange();l.setStart(u,0),h.setEnd(u,3),h.setStart(u,2),e.addRange(l),e.addRange(h),q=2==e.rangeCount}}for(R.removeNode(c),e.removeAllRanges(),s=0;s<n;++s)0==s&&o?K?K(e,i[s]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(i[s])):e.addRange(i[s])}}(),P.selectionSupportsMultipleRanges=q,P.collapsedNonEditableSelectionsSupported=G;var Y,J=!1;$&&T($,"createControlRange")&&(Y=$.createControlRange(),k.areHostProperties(Y,["item","add"])&&(J=!0)),P.implementsControlRange=J,S=W?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed};var X;T(U,"getRangeAt")?X=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:W&&(X=function(e){var n=I(e.anchorNode),r=t.createRange(n);return r.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),r}),m.prototype=t.selectionPrototype;var Q=[],Z=function(t){if(t&&t instanceof m)return t.refresh(),t;t=r(t,"getNativeSelection");var e=_(t),n=x(t),i=M?o(t):null;return e?(e.nativeSelection=n,e.docSelection=i,e.refresh()):(e=new m(n,i,t),Q.push({win:t,selection:e})),e};t.getSelection=Z,k.createAliasForDeprecatedMethod(t,"getIframeSelection","getSelection");var tt=m.prototype;if(!B&&W&&k.areHostMethods(U,["removeAllRanges","addRange"])){tt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)};var et=function(t,e){K(t.nativeSelection,e),t.refresh()};tt.addRange=z?function(e,r){if(J&&M&&"Control"==this.docSelection.type)g(this,e);else if(n(r)&&V)et(this,e);else{var i;q?i=this.rangeCount:(this.removeAllRanges(),i=0);var o=l(e).cloneRange();try{this.nativeSelection.addRange(o)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(t.config.checkSelectionRanges){var a=X(this.nativeSelection,this.rangeCount-1);a&&!F(a,e)&&(e=new N(a))}this._ranges[this.rangeCount-1]=e,s(this,e,it(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(t,e){n(e)&&V?et(this,t):(this.nativeSelection.addRange(l(t)),this.refresh())},tt.setRanges=function(t){if(J&&M&&t.length>1)b(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(T(U,"empty")&&T(H,"select")&&J&&B))return e.fail("No means of selecting a Range or TextRange was found"),!1;tt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=I(this.anchorNode);else if("Control"==this.docSelection.type){var e=this.docSelection.createRange();e.length&&(t=I(e.item(0)))}t&&(D(t).createTextRange().select(),this.docSelection.empty())}}catch(t){}u(this)},tt.addRange=function(e){"Control"==this.docSelection.type?g(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,e,!1))},tt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?b(this,t):e&&this.addRange(t[0])}}tt.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var nt;if(B)nt=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=D(e.win.document).createTextRange(),n.collapse(!0)),"Control"==e.docSelection.type?v(e):d(n)?p(e,n):u(e)};else if(T(U,"getRangeAt")&&"number"==typeof U.rangeCount)nt=function(e){if(J&&M&&"Control"==e.docSelection.type)v(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,r=e.rangeCount;n<r;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));s(e,e._ranges[e.rangeCount-1],it(e.nativeSelection)),e.isCollapsed=S(e)}else u(e)};else{if(!W||"boolean"!=typeof U.isCollapsed||"boolean"!=typeof H.collapsed||!P.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;nt=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=X(n,0),t._ranges=[e],t.rangeCount=1,c(t),t.isCollapsed=S(t)):u(t)}}tt.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(nt(this),t){var i=e.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!F(e[i],this._ranges[i]))return!0;return!1}};var rt=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,i=n.length;r<i;++r)F(e,n[r])||t.addRange(n[r]);t.rangeCount||u(t)};tt.removeRange=J&&M?function(t){if("Control"==this.docSelection.type){for(var e,n=this.docSelection.createRange(),r=h(t),i=I(n.item(0)),o=D(i).createControlRange(),a=!1,s=0,c=n.length;s<c;++s)e=n.item(s),e!==r||a?o.add(n.item(s)):a=!0;o.select(),v(this)}else rt(this,t)}:function(t){rt(this,t)};var it;!B&&W&&P.implementsDomRange?(it=a,tt.isBackward=function(){return it(this)}):it=tt.isBackward=function(){return!1},tt.isBackwards=tt.isBackward,tt.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},tt.collapse=function(e,n){w(this,e);var r=t.createRange(e);r.collapseToPoint(e,n),this.setSingleRange(r),this.isCollapsed=!0},tt.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},tt.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},tt.selectAllChildren=function(e){w(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},tt.deleteFromDocument=function(){if(J&&M&&"Control"==this.docSelection.type){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),R.removeNode(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},tt.eachRange=function(t,e){for(var n=0,r=this._ranges.length;n<r;++n)if(t(this.getRangeAt(n)))return e},tt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},tt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},tt.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(r){n.push(r[t].apply(r,e||[]))}),n},tt.setStart=E(!0),tt.setEnd=E(!1),t.rangePrototype.select=function(t){Z(this.getDocument()).setSingleRange(this,t)},tt.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},tt.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},tt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},tt.moveToBookmark=function(e){for(var n,r,i=[],o=0;n=e.rangeBookmarks[o++];)r=t.createRange(this.win),r.moveToBookmark(n),i.push(r);e.backward?this.setSingleRange(i[0],"backward"):this.setRanges(i)},tt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},tt.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},tt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(O.toHtml(e))}),t.join("")},P.implementsTextRange&&(tt.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(d(r))return r;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),tt.getName=function(){return"WrappedSelection"},tt.inspect=function(){return C(this)},tt.detach=function(){_(this.win,"delete"),y(this)},m.detachAll=function(){_(null,"deleteAll")},m.inspect=C,m.isDirectionBackward=n,t.Selection=m,t.selectionPrototype=tt,t.addShimListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return Z(t)}),t=null})});var M=!1,B=function(t){M||(M=!0,!P.initialized&&P.config.autoInitialize&&f())};return A&&("complete"==document.readyState?B():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",B,!1),D(window,"load",B))),P})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(45).a(document,document.URL,window)},function(t,e,n){"use strict";function r(t){return I.error("Failed fetching hyperlinks: ",t),b.a.captureException(t),null}function i(t,e,n){try{var r=n?{detail:n}:void 0,i=new w.a(e,r);t.dispatchEvent(i)}catch(t){I.error(t)}}function o(t,e){var n=v.a.result(t,"publisherModel.readyState",N.DEFAULT_READYSTATE),r=v.a.result(t,"publisherModel.readyStateTimeout",N.DEFAULT_READYSTATE_TIMEOUT_MS);return E.docReadyPromise(n,e,r).tap(function(){L.recordEvent("DocumentLoad")})}function a(t,e){var n=JSON.stringify(e).replace(/,/g," ").replace(/[{}"]/g,"");I.info("Hyperlinks report: "+n),i(t,A.a.REFRESHED,e)}function s(t){var e=d()(t).data(D);return e?e.collection.fetchAsync().then(function(){return e.render()}).tap(function(e){return a(t,e)}).catch(r):(I.debug("View is not installed yet"),f.a.resolve())}function c(t,e,n){var i=t.docUrl,s=!!t.xp4354||"gclid"in y()(i).params;return f.a.try(function(){var a=x.createCollection(e,t);s&&n.addEventListener("beforeunload",function(){return L.recordEvent("unload"),L.trackPing({eventName:"leave",permalink:a._permalink||i,nonce:a._nonce||"<empty>"}),null});var c=a.fetchAsync().tap(function(){L.recordEvent("collectionFetch")}).catch(function(t){return r(t),a});return f.a.join(c,o(t,e)).thenReturn(a)}).then(function(t){return t.scan().then(function(e){if(!v.a.isEmpty(e))return I.debug("Scanned "+e.length+" links."),L.recordEvent("refetchScannedLinks"),t.fetchAsync().catchReturn(t)}).thenReturn(t)}).tap(function(n){return k.initialize(e,n,t)}).then(function(n){var r=j.a({collection:n,el:e.body,dfp:t.dfp,docUrl:i});return d()(e).data(D,r),r.render().tap(function(t){var n=t.inserted>0?"firstRenderingSuccess":"firstRenderingEmpty";L.recordEvent(n),a(e,t)})}).catch(function(t){L.recordEvent("firstRenderingFailure"),r(t)})}function u(t,e,n,r){v.a.each(y()(e).params,function(t,e){e===N.QUERY_PARAM_PREFIX+"jsLogLevel"&&(I.info("Setting javascript logging level to",t,"from query params"),R.a.setLevel(t))});var i=n.frameElement;if(i&&!i.hasAttribute(N.HYPERLINKER_FRIENDLY_IFRAME))return I.debug("Bailing out under friendly iframe",i),!1;if("ws$"in n)return I.debug("Another instance hyperlinker.js is already executing. Exiting..."),!1;n.ws$=d.a;var o=function(e){return I.time("runHyperlinker"),e.xp2723&&t.body.setAttribute("data-wsl-2723",e.xp2723.replace(/,/g," ")),c(e,t,n).thenReturn(!0).finally(function(){I.timeEnd("runHyperlinker")})};return F[A.a.SYNC]=function(){s(t)},t.addEventListener(A.a.SYNC,F[A.a.SYNC]),F[A.a.MODIFIED]=function(){s(t)},t.addEventListener(A.a.MODIFIED,F[A.a.MODIFIED]),O.a.init(t,e).then(function(t){var e=v.a.extend({},t,r);return I.debug("Final merged hyperlinker options:",e),C.a("ui/hyperlinker/hyperlinker.js",o,e)})}e.a=u;var l=n(3),f=n.n(l),h=n(4),d=n.n(h),p=n(0),v=n.n(p),g=n(14),m=n(31),y=n.n(m),_=n(5),b=n.n(_),w=n(36),E=n(26),C=n(97),x=n(99),S=n(2),R=n.n(S),k=n(38),T=n(24),O=n.n(T),N=n(15),A=n(18),j=n(112),P=n(119),I=(n.n(P),R.a.get("hyperlinker.js")),D="hyperlinksview",F={},L={dispatchEvent:i,documentListeners:F,hyperlinkcollection:x,linkpreview:k,logger:I,recordEvent:g.b,refreshHyperlinks:s,trackPing:g.d}},function(t,e,n){"use strict";(function(e){t.exports=function(){function r(){}function i(t,e){if(null==t||t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+p.classString(e))}function o(t){t!==w&&i(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function c(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var u,l=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},h=function(t){return o.reject(new _(t))},d={},p=n(1);u=p.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},p.notEnumerableProp(o,"_getDomain",u);var v=n(12),g=n(47),m=new g;v.defineProperty(o,"_async",{value:m});var y=n(8),_=o.TypeError=y.TypeError;o.RangeError=y.RangeError;var b=o.CancellationError=y.CancellationError;o.TimeoutError=y.TimeoutError,o.OperationalError=y.OperationalError,o.RejectionError=y.OperationalError,o.AggregateError=y.AggregateError;var w=function(){},E={},C={},x=n(52)(o,w),S=n(53)(o,w,x,h,r),R=n(54)(o),k=R.create,T=n(55)(o,R),O=(T.CapturedTrace,n(56)(o,x,C)),N=n(28)(C),A=n(29),j=p.errorObj,P=p.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!p.isObject(o))return h("Catch statement predicate: expecting an object but got "+p.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,N(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+p.classString(t);arguments.length>1&&(n+=", "+p.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?h("expecting a function but got "+p.classString(t)):this.all()._then(t,void 0,void 0,E,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new S(this).promise()},o.prototype.error=function(t){return this.caught(p.originatesFromRejection,t)},o.getNewLibraryCopy=t.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=P(t)(A(e,n));return r===j&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new S(t).promise()},o.cast=function(t){var e=x(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+p.classString(t));return m.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(w),c=this._target(),l=c._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!=(50397184&l)){var h,d,v=c._settlePromiseCtx;0!=(33554432&l)?(d=c._rejectionHandler0,h=t):0!=(16777216&l)?(d=c._fulfillmentHandler0,h=e,c._unsetRejectionIsUnhandled()):(v=c._settlePromiseLateCancellationObserver,d=new b("late cancellation observer"),c._attachExtraTrace(d),h=e),m.invoke(v,c,{handler:null===f?h:"function"==typeof h&&p.domainBind(f,h),promise:s,receiver:r,value:d})}else c._addCallbacks(t,e,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){m.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==d)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=d),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:p.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:p.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:p.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=x(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0==(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var c=new b("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}},o.prototype._rejectCallback=function(t,e,n){var r=p.ensureErrorObject(t),i=r===t;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+p.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==w){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;e===E?n&&"number"==typeof n.length?o=P(t).apply(this._boundValue(),n):(o=j,o.e=new _("cannot .spread() a non-array: "+p.classString(n))):o=P(t).call(e,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===C?r._reject(n):o===j?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof O&&n.isFinallyHandler()?(n.cancelPromise=t,P(e).call(n,i)===j&&t._reject(j.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof S?t._cancel():n.cancel()):"function"==typeof e?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(c&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():m.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return m.fatalError(t,p.isNode);(65535&e)>0?m.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){return T.deprecated("Promise.defer","new Promise"),{promise:new o(w),resolve:a,reject:s}},p.notEnumerableProp(o,"_makeSelfResolutionError",l),n(57)(o,w,x,h,T),n(58)(o,w,x,T),n(59)(o,S,h,T),n(60)(o),n(61)(o),n(62)(o,S,x,w,m,u),o.Promise=o,o.version="3.5.1",n(63)(o,S,h,x,w,T),n(64)(o),n(65)(o,h,x,k,w,T),n(66)(o,w,T),n(67)(o,h,w,x,r,T),n(68)(o),n(69)(o,w),n(70)(o,S,x,h),n(71)(o,w,x,h),n(72)(o,S,h,x,w,T),n(73)(o,S,T),n(74)(o,S,h),n(75)(o,w),n(76)(o,w),n(77)(o),p.toFastProperties(o),p.toFastProperties(o.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new o(w)),T.setBounds(g.firstLineError,p.lastLineError),o}}).call(e,n(11))},function(t,e,n){"use strict";(function(e){function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=c}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var s;try{throw new Error}catch(t){s=t}var c=n(48),u=n(51),l=n(1);r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(r.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},r.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},r.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s}).call(e,n(11))},function(t,e,n){"use strict";(function(e,r,i){var o,a=n(1),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var u=e.setImmediate,l=r.nextTick;o=a.isRecentNode?function(t){u.call(e,t)}:function(t){l.call(r,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var f=c.resolve();o=function(t){f.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:s:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){t.classList.toggle("foo"),n=!1}).observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),i()}}();t.exports=o}).call(e,n(6),n(11),n(49).setImmediate)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=n(21),o=i.setImmediate,a=i.clearImmediate,s=Function.prototype.apply;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(50),e.setImmediate=o,e.clearImmediate=a},function(t,e,n){(function(t,e){var r=n(21);!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[c]=r,s(c),c++}function i(t){delete u[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=u[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var s,c=1,u={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;s=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),h.setImmediate=r,h.clearImmediate=i}}(void 0===r?void 0===t?this:t:r)}).call(e,n(6),n(11))},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,r(this,0,this,e,this._front+this._length&e-1)},t.exports=i},function(t,e,n){"use strict";t.exports=function(t,e){function r(n,r){if(l(n)){if(n instanceof t)return n;var i=o(n);if(i===u){r&&r._pushContext();var c=t.reject(i.e);return r&&r._popContext(),c}if("function"==typeof i){if(a(n)){var c=new t(e);return n._then(c._fulfill,c._reject,void 0,c,null),c}return s(n,i,r)}}return n}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return u.e=t,u}}function a(t){try{return f.call(t,"_promise0")}catch(t){return!1}}function s(n,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,f,!0),s=null)}var s=new t(e),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=c.tryCatch(r).call(n,o,a);return f=!1,s&&h===u&&(s._rejectCallback(h.e,!0,!0),s=null),l}var c=n(1),u=c.errorObj,l=c.isObject,f={}.hasOwnProperty;return r}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function s(n){var r=this._promise=new t(e);n instanceof t&&r._propagateFrom(n,3),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var c=n(1);return c.isArray,c.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var u=s._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=c.asArray(s))){var l=i("expecting an array or an iterable object but got "+c.classString(s)).reason();return void this._promise._rejectCallback(l,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(a(o)));this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var c=r(e[s],i);c instanceof t?(c=c._target(),a=c._bitField):a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},function(t,e,n){"use strict";t.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,c=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=c,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},function(t,e,n){"use strict";(function(e){t.exports=function(t,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+B.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?B.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function c(){return this._onCancelField}function u(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function p(){this._trace=new j(this._peekContext())}function v(t,e){if(U(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=x(t);B.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),B.notEnumerableProp(t,"__stackCleaned__",!0)}}}function g(t,e,n,r,i){if(void 0===t&&null!==e&&J){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),c=E(s),u=c.length-1;u>=0;--u){var l=c[u];if(!$.test(l)){var f=l.match(W);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0)for(var h=c[0],u=0;u<s.length;++u)if(s[u]===h){u>0&&(a="\n"+s[u-1]);break}}var d="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(d,!0,e)}}function m(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),y(n)}function y(e,n,r){if(at.warnings){var i,o=new M(e);if(n)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=x(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||S(o,"",!0)}}function _(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var c=r[s];if(e[i]!==c)break;e.pop(),i--}e=r}}function E(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||V.test(r),o=i&&rt(r);i&&!o&&(q&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function C(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||V.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function x(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?C(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:E(e)}}function S(t,e,n){if("undefined"!=typeof console){var r;if(B.isObject(t)){var i=t.stack;r=e+z(i,t)}else r=e+String(t);"function"==typeof D?D(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function R(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){L.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||i||S(n,"Unhandled rejection "):et(t,r)}function k(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():B.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+T(e)+">, no stack trace)"}function T(t){return t.length<41?t:t.substr(0,38)+"..."}function O(){return"function"==typeof ot}function N(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function A(t,e){if(O()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,c=0;c<i.length;++c){var u=N(i[c]);if(u){n=u.fileName,a=u.line;break}}for(var c=0;c<o.length;++c){var u=N(o[c]);if(u){r=u.fileName,s=u.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(H.test(t))return!0;var e=N(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function j(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,j),e>32&&this.uncycle()}var P,I,D,F=t._getDomain,L=t._async,M=n(8).Warning,B=n(1),U=B.canAttachTrace,H=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,$=/\((?:timers\.js):\d+:\d+\)/,W=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,V=null,z=null,q=!1,G=!(0==B.env("BLUEBIRD_DEBUG")||!B.env("BLUEBIRD_DEBUG")&&"development"!==B.env("NODE_ENV")),K=!(0==B.env("BLUEBIRD_WARNINGS")||!G&&!B.env("BLUEBIRD_WARNINGS")),Y=!(0==B.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!B.env("BLUEBIRD_LONG_STACK_TRACES")),J=0!=B.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(K||!!B.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){R("rejectionHandled",P,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),R("unhandledRejection",I,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,e,n){return y(t,e,n||this)},t.onPossiblyUnhandledRejection=function(t){var e=F();I="function"==typeof t?null===e?t:B.domainBind(e,t):void 0},t.onUnhandledRejectionHandled=function(t){var e=F();P="function"==typeof t?null===e?t:B.domainBind(e,t):void 0};var X=function(){};t.longStackTraces=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&O()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace;at.longStackTraces=!0,X=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=n,r.deactivateLongStackTraces(),L.enableTrampoline(),at.longStackTraces=!1},t.prototype._captureStackTrace=p,t.prototype._attachExtraTrace=v,r.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return at.longStackTraces&&O()};var Q=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return B.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!B.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return B.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!B.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),B.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!B.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return B.isNode?function(){return e.emit.apply(e,arguments)}:B.global?function(t){var e="on"+t.toLowerCase(),n=B.global[e];return!!n&&(n.apply(B.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Z.apply(null,arguments)}catch(t){L.throwLater(t),e=!0}var n=!1;try{n=Q(t,tt[t].apply(null,arguments))}catch(t){L.throwLater(t),n=!0}return n||e};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&X()),"warnings"in e){var n=e.warnings;at.warnings=!!n,J=at.warnings,B.isObject(n)&&"wForgottenReturn"in n&&(J=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!at.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=l,t.prototype._propagateFrom=f,t.prototype._onCancel=c,t.prototype._setOnCancel=u,t.prototype._attachCancellationCallback=s,t.prototype._execute=a,nt=f,at.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!at.monitoring?(at.monitoring=!0,t.prototype._fireEvent=et):!e.monitoring&&at.monitoring&&(at.monitoring=!1,t.prototype._fireEvent=o)),t},t.prototype._fireEvent=o,t.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,e){};var nt=h,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;B.inherits(j,Error),r.CapturedTrace=j,j.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;s<t-1?(c._parent=e[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},j.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=x(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(E(i.stack.split("\n"))),i=i._parent;w(r),b(r),B.notEnumerableProp(t,"stack",_(n,r)),B.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():k(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,V=t,z=e;var n=Error.captureStackTrace;return rt=function(t){return H.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return V=/@/,z=e,q=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(z=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?k(e):e.toString()},null):(V=t,z=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(D=function(t){console.warn(t)},B.isNode&&e.stderr.isTTY?D=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:B.isNode||"string"!=typeof(new Error).stack||(D=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:K,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&t.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return d},checkForgottenReturns:g,setBounds:A,warn:y,deprecated:m,CapturedTrace:j,fireDomEvent:Q,fireGlobalEvent:Z}}}).call(e,n(11))},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function a(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return u.call(this,this.promise._target()._settledValue())}function c(t){if(!a(this,t))return h.e=t,h}function u(n){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),n);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var d=e(l,i);if(d instanceof t){if(null!=this.cancelPromise){if(d._isCancelled()){var p=new f("late cancellation observer");return i._attachExtraTrace(p),h.e=p,h}d.isPending()&&d._attachCancellationCallback(new o(this))}return d._then(s,c,void 0,this,void 0)}}}return i.isRejected()?(a(this),h.e=n,h):(a(this),n)}var l=n(1),f=t.CancellationError,h=l.errorObj,d=n(28)(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,u,u)},t.prototype.tap=function(t){return this._passThrough(t,1,u)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,u);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!l.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(d(i,s,this),1,void 0,u)},i}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){var a=n(1),s=a.tryCatch;t.method=function(n){if("function"!=typeof n)throw new t.TypeError("expecting a function but got "+a.classString(n));return function(){var r=new t(e);r._captureStackTrace(),r._pushContext();var i=s(n).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+a.classString(n));var r=new t(e);r._captureStackTrace(),r._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];c=a.isArray(u)?s(n).apply(l,u):s(n).call(l,u)}else c=s(n)();var f=r._popContext();return o.checkForgottenReturns(c,f,"Promise.try",r),r._resolveFromSyncValue(c),r},t.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var u=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,a,void 0,l,h),u._then(s,c,void 0,l,h),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o=n(1),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},function(t,e,n){"use strict";t.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},function(t,e,n){"use strict";t.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){var s,c=n(1),u=c.canEvaluate,l=c.tryCatch,f=c.errorObj;if(u){for(var h=[],d=[],p=[],v=0;v<8;++v)h.push(function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",a="var promise;\n"+n.map(function(t){return"                                                         \n                promise = "+t+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=n.join(", "),c="Holder$"+e,u="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return u=u.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",u)(l,f,t,o)}(v+1)),d.push(function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))}(v+1)),p.push(function(t){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,t))}(v+1));s=function(t){this._reject(t)}}t.join=function(){var n,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(n=arguments[o],o<=8&&u)){var l=new t(i);l._captureStackTrace();for(var f=h[o-1],v=new f(n),g=d,m=0;m<o;++m){var y=r(arguments[m],l);if(y instanceof t){y=y._target();var _=y._bitField;0==(50397184&_)?(y._then(g[m],s,void 0,l,v),p[m](y,v),v.asyncNeeded=!1):0!=(33554432&_)?g[m].call(l,y._value(),v):0!=(16777216&_)?l._reject(y._reason()):l._cancel()}else g[m].call(l,y,v)}if(!l._isFateSealed()){if(v.asyncNeeded){var b=a();null!==b&&(v.fn=c.domainBind(b,v.fn))}l._setAsyncGuaranteed(),l._setOnCancel(v)}return l}for(var w=arguments.length,E=new Array(w),C=0;C<w;++C)E[C]=arguments[C];n&&E.pop();var l=new e(E).promise();return void 0!==n?l.spread(n):l}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=u();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function c(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var u=t._getDomain,l=n(1),f=l.tryCatch,h=l.errorObj,d=t._async;l.inherits(s,e),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(n<0){if(n=-1*n-1,r[n]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var u=this._promise,l=this._callback,d=u._boundValue();u._pushContext();var p=f(l).call(d,e,n,o),v=u._popContext();if(a.checkForgottenReturns(p,v,null!==s?"Promise.filter":"Promise.map",u),p===h)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof t){g=g._target();var m=g._bitField;if(0==(50397184&m))return c>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}r[n]=p}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(t,e){return c(this,t,e,null)},t.map=function(t,e,n,r){return c(t,e,n,r)}}},function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function e(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+l.classString(e)+" has no method '"+l.toString(n)+"'";throw new t.TypeError(i)}return r}function r(t){return e(t,this.pop()).apply(t,this)}function a(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var c,u,l=n(1),f=l.canEvaluate,h=l.isIdentifier,d=function(t){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,t))(e)},p=function(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))},v=function(t,e,n){var r=n[t];if("function"!=typeof r){if(!h(t))return null;if(r=e(t),n[t]=r,++n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};c=function(t){return v(t,d,i)},u=function(t){return v(t,p,o)},t.prototype.call=function(t){for(var e=arguments.length,n=new Array(Math.max(e-1,0)),i=1;i<e;++i)n[i-1]=arguments[i];if(f){var o=c(t);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(t),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(t){var e;if("number"==typeof t)e=s;else if(f){var n=u(t);e=null!==n?n:a}else e=a;return this._then(e,void 0,void 0,t,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function c(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(e,n){function i(){if(a>=u)return l._fulfill();var o=c(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(t){return s(t)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,u=e.length,l=new t(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function h(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function d(t){this.length=t,this.promise=null,this[t-1]=null}var p=n(1),v=n(8).TypeError,g=n(1).inherits,m=p.errorObj,y=p.tryCatch,_={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},g(f,l),f.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},d.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var n=arguments.length;if(n<2)return e("you must pass at least 2 arguments to Promise.using");var i=arguments[n-1];if("function"!=typeof i)return e("expecting a function but got "+p.classString(i));var o,s=!0;2===n&&Array.isArray(arguments[0])?(o=arguments[0],n=o.length,s=!1):(o=arguments,n--);for(var c=new d(n),f=0;f<n;++f){var v=o[f];if(l.isDisposer(v)){var g=v;v=v.promise(),v._setDisposable(g)}else{var _=r(v);_ instanceof t&&(v=_._then(h,null,null,{resources:c,index:f},void 0))}c[f]=v}for(var b=new Array(c.length),f=0;f<b.length;++f)b[f]=t.resolve(c[f]).reflect();var w=t.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return m.e=n.error(),m;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}E._pushContext(),i=y(i);var r=s?i.apply(void 0,t):i(t),o=E._popContext();return a.checkForgottenReturns(r,o,"Promise.using",E),r}),E=w.lastly(function(){var e=new t.PromiseInspection(w);return u(c,e)});return c.promise=E,E._setOnCancel(c),E},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=n(1),c=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(t){return l(+this).thenReturn(t)},l=t.delay=function(n,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(u,null,null,n,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(e),s=setTimeout(function(){a._fulfill()},+n),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new c("operation timed out"):new c(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(t,e){t=+t;var n,s,c=new i(setTimeout(function(){n.isPending()&&f(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,c,void 0),n._setOnCancel(c)):n=this._then(o,a,void 0,c,void 0),n}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=d(n[o])(e);if(r._popContext(),a===h){r._pushContext();var s=t.reject(h.e);return r._popContext(),s}var c=i(a,r);if(c instanceof t)return c}return null}function c(e,n,i,o){if(a.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var u=n(8),l=u.TypeError,f=n(1),h=f.errorObj,d=f.tryCatch,p=[];f.inherits(c,o),c.prototype._isResolved=function(){return null===this._promise},c.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},c.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=d(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},c.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=d(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=d(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},c.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},c.prototype.promise=function(){return this._promise},c.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},c.prototype._continue=function(e){var n=this._promise;if(e===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=c,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));p.push(t)},t.spawn=function(n){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new c(n,this),i=r.promise();return r._run(t.spawn),i}}},function(t,e,n){"use strict";t.exports=function(t){function e(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===c&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===c&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===c&&a.throwLater(i.e)}var o=n(1),a=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(t,n){if("function"==typeof t){var o=r;void 0!==n&&Object(n).spread&&(o=e),this._then(o,i,void 0,this,t)}return this}}},function(t,e,n){"use strict";t.exports=function(t,e){function r(t){return!w.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function o(t,e,n){var r=d.getDataPropertyOrDefault(t,e+n,_);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=d.inheritedDataKeys(t),c=[],u=0;u<s.length;++u){var l=s[u],f=t[l],h=r===E||E(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,h)||c.push(l,f)}return a(c,e,n),c}function c(n,r,i,o,a,s){function c(){var i=r;r===h&&(i=this);var o=new t(e);o._captureStackTrace();var a="string"==typeof l&&this!==u?this[l]:n,c=p(o,s);try{a.apply(i,v(arguments,c))}catch(t){o._rejectCallback(g(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var u=function(){return this}(),l=n;return"string"==typeof l&&(n=o),d.notEnumerableProp(c,"__isPromisified__",!0),c}function u(t,e,n,r,i){for(var o=new RegExp(C(e)+"$"),a=s(t,e,o,n),c=0,u=a.length;c<u;c+=2){var l=a[c],f=a[c+1],p=l+e;if(r===T)t[p]=T(l,h,l,f,e,i);else{var v=r(f,function(){return T(l,h,l,f,e,i)});d.notEnumerableProp(v,"__isPromisified__",!0),t[p]=v}}return d.toFastProperties(t),t}function l(t,e,n){return T(t,e,void 0,t,null,n)}var f,h={},d=n(1),p=n(29),v=d.withAppended,g=d.maybeWrapAsError,m=d.canEvaluate,y=n(8).TypeError,_={__isPromisified__:!0},b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+b.join("|")+")$"),E=function(t){return d.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},C=function(t){return t.replace(/([$])/,"\\$")},x=function(t){for(var e=[t],n=Math.max(0,t-1-3),r=t-1;r>=n;--r)e.push(r);for(var r=t+1;r<=3;++r)e.push(r);return e},S=function(t){return d.filledRange(t,"_arg","")},R=function(t){return d.filledRange(Math.max(t,3),"_arg","")},k=function(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0};f=function(n,r,i,o,a,s){function c(t){var e,n=S(t).join(", "),i=t>0?", ":"";return e=f?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===r?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n",e.replace("{{args}}",n).replace(", ",i)}var u=Math.max(0,k(o)-1),l=x(u),f="string"==typeof n||r===h,m="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",y="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+s+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var t="",e=0;e<l.length;++e)t+="case "+l[e]+":"+c(l[e]);return t+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",f?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",m);return y=y.replace("Parameters",R(u)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",y)(t,o,r,v,g,p,d.tryCatch,d.errorObj,d.notEnumerableProp,e)};var T=m?f:c;t.promisify=function(t,e){if("function"!=typeof t)throw new y("expecting a function but got "+d.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,a=l(t,n,o);return d.copyDescriptors(t,a,r),a},t.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=E);var o=e.promisifier;if("function"!=typeof o&&(o=T),!d.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=d.inheritedDataKeys(t),s=0;s<a.length;++s){var c=t[a[s]];"constructor"!==a[s]&&d.isClass(c)&&(u(c.prototype,r,i,o,n),u(c,r,i,o,n))}return u(t,r,i,o,n)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return u(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=n(1),u=c.isObject,l=n(12);"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};c.inherits(o,e),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=h(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return a(this)},t.props=function(t){return a(t)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){function o(n,o){var c=r(n);if(c instanceof t)return s(c);if(null===(n=a.asArray(n)))return i("expecting an array or an iterable object but got "+a.classString(n));var u=new t(e);void 0!==o&&u._propagateFrom(o,3);for(var l=u._fulfill,f=u._reject,h=0,d=n.length;h<d;++h){var p=n[h];(void 0!==p||h in n)&&t.cast(p)._then(l,f,void 0,u,null)}return u}var a=n(1),s=function(t){return t.then(function(e){return o(e,t)})};t.race=function(t){return o(t,void 0)},t.prototype.race=function(){return o(this,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=h();this._fn=null===a?n:d.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function u(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+d.classString(e)):new s(t,e,n,i).promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=p(n._fn);r._pushContext();var o;(o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=t._getDomain,d=n(1),p=d.tryCatch;d.inherits(s,e),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(c,c,void 0,n,this)},t.prototype.reduce=function(t,e){return u(this,t,e,null)},t.reduce=function(t,e,n,r){return u(t,e,n,r)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.constructor$(t)}var o=t.PromiseInspection;n(1).inherits(i,e),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=n(1),s=n(8).RangeError,c=n(8).AggregateError,u=a.isArray,l={};a.inherits(i,e),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new c,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return o(t,e)},t.prototype.some=function(t){return o(this,t)},t._SomePromiseArray=i}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},function(t,e,n){"use strict";t.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},function(t,e,n){"use strict";t.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},function(t,e,n){var r=n(9);!function(t){function e(t){return t._zid||(t._zid=h++)}function n(t,n,o,a){if(n=r(n),n.ns)var s=i(n.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||s.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in _||!!e}function a(t){return b[t]||y&&_[t]||t}function s(n,i,s,c,l,h,d){var p=e(n),v=g[p]||(g[p]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var i=r(e);i.fn=s,i.sel=l,i.e in b&&(s=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return i.fn.apply(this,arguments)}),i.del=h;var p=h||s;i.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=c;var e=p.apply(n,t._args==f?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},i.i=v.length,v.push(i),"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,d))})}function c(t,r,i,s,c){var u=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,i,s).forEach(function(e){delete g[u][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,c))})})}function u(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(x,function(t,r){var i=n[t];e[t]=function(){return this[r]=w,i&&i.apply(n,arguments)},e[r]=E}),e.timeStamp||(e.timeStamp=Date.now()),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function l(t){var e,n={originalEvent:t};for(e in t)C.test(e)||t[e]===f||(n[e]=t[e]);return u(n,t)}var f,h=1,d=Array.prototype.slice,p=t.isFunction,v=function(t){return"string"==typeof t},g={},m={},y="onfocusin"in window,_={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",t.event={add:s,remove:c},t.proxy=function(n,r){var i=2 in arguments&&d.call(arguments,2);if(p(n)){var o=function(){return n.apply(r,i?i.concat(d.call(arguments)):arguments)};return o._zid=e(n),o}if(v(r))return i?(i.unshift(n[r],n),t.proxy.apply(null,i)):t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var w=function(){return!0},E=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var a,u,h=this;return e&&!v(e)?(t.each(e,function(t,e){h.on(t,n,r,e,o)}),h):(v(n)||p(i)||!1===i||(i=r,r=n,n=f),i!==f&&!1!==r||(i=r,r=f),!1===i&&(i=E),h.each(function(f,h){o&&(a=function(t){return c(h,t.type,i),i.apply(this,arguments)}),n&&(u=function(e){var r,o=t(e.target).closest(n,h).get(0);if(o&&o!==h)return r=t.extend(l(e),{currentTarget:o,liveFired:h}),(a||i).apply(o,[r].concat(d.call(arguments,1)))}),s(h,e,i,r,n,u||a)}))},t.fn.off=function(e,n,r){var i=this;return e&&!v(e)?(t.each(e,function(t,e){i.off(t,n,e)}),i):(v(n)||p(r)||!1===r||(r=n,n=f),!1===r&&(r=E),i.each(function(){c(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=v(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=n,this.each(function(){e.type in _&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(a,s){i=l(v(e)?t.Event(e):e),i._args=r,i.target=s,t.each(n(s,e.type||e),function(t,e){if(o=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){v(t)||(e=t,t=e.type);var n=document.createEvent(m[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),u(n)}}(r)},function(t,e,n){var r=n(9);!function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){if(t.global)return e(n||_,r,i)}function r(e){e.global&&0==t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;if(!1===e.beforeSend.call(r,t,e)||!1===n(e,r,"ajaxBeforeSend",[t,e]))return!1;n(e,r,"ajaxSend",[t,e])}function a(t,e,r,i){var o=r.context;r.success.call(o,t,"success",e),i&&i.resolveWith(o,[t,"success",e]),n(r,o,"ajaxSuccess",[e,r,t]),c("success",e,r)}function s(t,e,r,i,o){var a=i.context;i.error.call(a,r,e,t),o&&o.rejectWith(a,[r,e,t]),n(i,a,"ajaxError",[r,i,t||e]),c(e,r,i)}function c(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function u(t,e,n){if(n.dataFilter==l)return t;var r=n.context;return n.dataFilter.call(r,t,e)}function l(){}function f(t){return t&&(t=t.split(";",2)[0]),t&&(t==x?"html":t==C?"json":w.test(t)?"script":E.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=h(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function v(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,c){o=t.type(c),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(c.name,c.value):"array"==o||!r&&"object"==o?v(e,c,r,n):e.add(n,c)})}var g,m,y=+new Date,_=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,E=/^(?:text|application)\/xml/i,C="application/json",x="text/html",S=/^\s*$/,R=_.createElement("a");R.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,i,c=e.jsonpCallback,u=(t.isFunction(c)?c():c)||"Zepto"+y++,l=_.createElement("script"),f=window[u],h=function(e){t(l).triggerHandler("error",e||"abort")},d={abort:h};return n&&n.promise(d),t(l).on("load error",function(o,c){clearTimeout(i),t(l).off().remove(),"error"!=o.type&&r?a(r[0],d,e,n):s(null,c||"error",d,e,n),window[u]=f,r&&t.isFunction(f)&&f(r[0]),f=r=void 0}),!1===o(d,e)?(h("abort"),d):(window[u]=function(){r=arguments},l.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),_.head.appendChild(l),e.timeout>0&&(i=setTimeout(function(){h("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:C,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:l},t.ajax=function(e){var n,i,c=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(g in t.ajaxSettings)void 0===c[g]&&(c[g]=t.ajaxSettings[g]);r(c),c.crossDomain||(n=_.createElement("a"),n.href=c.url,n.href=n.href,c.crossDomain=R.protocol+"//"+R.host!=n.protocol+"//"+n.host),c.url||(c.url=window.location.toString()),(i=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,i)),d(c);var v=c.dataType,y=/\?.+=\?/.test(c.url);if(y&&(v="jsonp"),!1!==c.cache&&(e&&!0===e.cache||"script"!=v&&"jsonp"!=v)||(c.url=h(c.url,"_="+Date.now())),"jsonp"==v)return y||(c.url=h(c.url,c.jsonp?c.jsonp+"=?":!1===c.jsonp?"":"callback=?")),t.ajaxJSONP(c,p);var b,w=c.accepts[v],E={},C=function(t,e){E[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,k=c.xhr(),T=k.setRequestHeader;if(p&&p.promise(k),c.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",w||"*/*"),(w=c.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(w)),(c.contentType||!1!==c.contentType&&c.data&&"GET"!=c.type.toUpperCase())&&C("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(m in c.headers)C(m,c.headers[m]);if(k.setRequestHeader=C,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=l,clearTimeout(b);var e,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==x){if(v=v||f(c.mimeType||k.getResponseHeader("content-type")),"arraybuffer"==k.responseType||"blob"==k.responseType)e=k.response;else{e=k.responseText;try{e=u(e,v,c),"script"==v?(0,eval)(e):"xml"==v?e=k.responseXML:"json"==v&&(e=S.test(e)?null:t.parseJSON(e))}catch(t){n=t}if(n)return s(n,"parsererror",k,c,p)}a(e,k,c,p)}else s(k.statusText||null,k.status?"error":"abort",k,c,p)}},!1===o(k,c))return k.abort(),s(null,"abort",k,c,p),k;var O=!("async"in c)||c.async;if(k.open(c.type,c.url,O,c.username,c.password),c.xhrFields)for(m in c.xhrFields)k[m]=c.xhrFields[m];for(m in E)T.apply(k,E[m]);return c.timeout>0&&(b=setTimeout(function(){k.onreadystatechange=l,k.abort(),s(null,"timeout",k,c,p)},c.timeout)),k.send(c.data?c.data:null),k},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,a=e.split(/\s/),s=p(e,n,r),c=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(e){o.html(i?t("<div>").html(e.replace(b,"")).find(i):e),c&&c.apply(o,arguments)},t.ajax(s),this};var k=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(e)+"="+k(n))},v(r,e,n),r.join("&").replace(/%20/g,"+")}}(r)},function(t,e,n){var r=n(9);!function(t){function e(n){var r=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],i="pending",o={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return e(function(e){t.each(r,function(r,i){var s=t.isFunction(n[r])&&n[r];a[i[1]](function(){var n=s&&s.apply(this,arguments);if(n&&t.isFunction(n.promise))n.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var r=this===o?e.promise():this,a=s?[n]:arguments;e[i[0]+"With"](r,a)}})}),n=null}).promise()},promise:function(e){return null!=e?t.extend(e,o):o}},a={};return t.each(r,function(t,e){var n=e[2],s=e[3];o[e[1]]=n.add,s&&n.add(function(){i=s},r[1^t][2].disable,r[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=n.fireWith}),o.promise(a),n&&n.call(a,a),a}var n=Array.prototype.slice;t.when=function(r){var i,o,a,s=n.call(arguments),c=s.length,u=0,l=1!==c||r&&t.isFunction(r.promise)?c:0,f=1===l?r:e(),h=function(t,e,r){return function(o){e[t]=this,r[t]=arguments.length>1?n.call(arguments):o,r===i?f.notifyWith(e,r):--l||f.resolveWith(e,r)}};if(c>1)for(i=new Array(c),o=new Array(c),a=new Array(c);u<c;++u)s[u]&&t.isFunction(s[u].promise)?s[u].promise().done(h(u,a,s)).fail(f.reject).progress(h(u,o,i)):--l;return l||f.resolveWith(a,s),f.promise()},t.Deferred=e}(r)},function(t,e,n){var r=n(9);!function(t){t.Callbacks=function(e){e=t.extend({},e);var n,r,i,o,a,s,c=[],u=!e.once&&[],l=function(t){for(n=e.memory&&t,r=!0,s=o||0,o=0,a=c.length,i=!0;c&&s<a;++s)if(!1===c[s].apply(t[0],t[1])&&e.stopOnFalse){n=!1;break}i=!1,c&&(u?u.length&&l(u.shift()):n?c.length=0:f.disable())},f={add:function(){if(c){var r=c.length,s=function(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&s(n)})};s(arguments),i?a=c.length:n&&(o=r,l(n))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var r;(r=t.inArray(n,c,r))>-1;)c.splice(r,1),i&&(r<=a&&--a,r<=s&&--s)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return a=c.length=0,this},disable:function(){return c=u=n=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,n||f.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!c||r&&!u||(e=e||[],e=[t,e.slice?e.slice():e],i?u.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments)},fired:function(){return!!r}};return f}}(r)},function(t,e,n){n(9),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e,n){try{return t(e,n)}catch(t){return null}}}}()},function(t,e,n){var r=n(9);!function(t){function e(e,r){var c=e[s],u=c&&i[c];if(void 0===r)return u||n(e);if(u){if(r in u)return u[r];var l=a(r);if(l in u)return u[l]}return o.call(t(e),r)}function n(e,n,o){var c=e[s]||(e[s]=++t.uuid),u=i[c]||(i[c]=r(e));return void 0!==n&&(u[a(n)]=o),u}function r(e){var n={};return t.each(e.attributes||c,function(e,r){0==r.name.indexOf("data-")&&(n[a(r.name.replace("data-",""))]=t.zepto.deserializeValue(r.value))}),n}var i={},o=t.fn.data,a=t.camelCase,s=t.expando="Zepto"+ +new Date,c=[];t.fn.data=function(r,i){return void 0===i?t.isPlainObject(r)?this.each(function(e,i){t.each(r,function(t,e){n(i,t,e)})}):0 in this?e(this[0],r):void 0:this.each(function(){n(this,r,i)})},t.data=function(e,n,r){return t(e).data(n,r)},t.hasData=function(e){var n=e[s],r=n&&i[n];return!!r&&!t.isEmptyObject(r)},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[s],r=n&&i[n];r&&t.each(e||r,function(t){delete r[e?a(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(r)},function(t,e,n){var r=n(9);!function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=n.apply(this,arguments);return t.prevObject=this,t}})}(r)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(e){var r=n(87),i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),t.exports=a,t.exports.Client=r}).call(e,n(6))},function(t,e,n){(function(e){function r(){return+new Date}function i(t,e){return y(e)?function(n){return e(n,t)}:e}function o(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!m(V),this._hasNavigator=!m(z),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:W.SENTRY_RELEASE&&W.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:F()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=W.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=W.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}var a=n(88),s=n(30),c=n(89),u=n(90),l=n(23),f=l.isErrorEvent,h=l.isDOMError,d=l.isDOMException,p=l.isError,v=l.isObject,g=l.isPlainObject,m=l.isUndefined,y=l.isFunction,_=l.isString,b=l.isArray,w=l.isEmptyObject,E=l.each,C=l.objectMerge,x=l.truncate,S=l.objectFrozen,R=l.hasKey,k=l.joinRegExp,T=l.urlencode,O=l.uuid4,N=l.htmlTreeAsString,A=l.isSameException,j=l.isSameStacktrace,P=l.parseUrl,I=l.fill,D=l.supportsFetch,F=l.supportsReferrerPolicy,L=l.serializeKeysForMessage,M=l.serializeException,B=l.sanitize,U=n(91).wrapMethod,H="source protocol user pass host port path".split(" "),$=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,W="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},V=W.document,z=W.navigator;o.prototype={VERSION:"3.25.2",debug:!1,TraceKit:a,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var r=n._globalOptions;e&&E(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:r[t]=e}),n.setDSN(t),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=k(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&k(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&k(r.whitelistUrls),r.includePaths=k(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=C(i,o):!1!==o&&(o=i),r.autoBreadcrumbs=o;var s={tryCatch:!0},c=r.instrument;return"[object Object]"==={}.toString.call(c)?c=C(s,c):!1!==c&&(c=s),r.instrument=c,a.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(a.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(r+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+i+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return y(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],o=arguments.length,a=!t||t&&!1!==t.deep;for(n&&y(n)&&n.apply(this,arguments);o--;)r[o]=a?i.wrap(t,arguments[o]):arguments[o];try{return e.apply(this,r)}catch(e){throw i._ignoreNextOnError(),i.captureException(e,t),e}}var i=this;if(m(e)&&!y(t))return t;if(y(t)&&(e=t,t=void 0),!y(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var o in e)R(e,o)&&(r[o]=e[o]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=e,r},uninstall:function(){return a.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),W.addEventListener&&W.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return W.removeEventListener&&W.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=C({trimHeadFrames:0},e||{}),f(t)&&t.error)t=t.error;else{if(h(t)||d(t)){var n=t.name||(h(t)?"DOMError":"DOMException"),r=t.message?n+": "+t.message:n;return this.captureMessage(r,C(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(p(t))t=t;else{if(!g(t))return this.captureMessage(t,C(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var i=a.computeStackTrace(t);this._handleStackInfo(i,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=C(t,{message:"Non-Error exception captured with keys: "+L(n),fingerprint:[c(n)],extra:t.extra||{}});return r.extra.__serialized__=M(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{},t+="";var n,r=C({message:t},e);try{throw new Error(t)}catch(t){n=t}n.name=null;var i=a.computeStackTrace(n),o=b(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var s=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||e&&e.stacktrace){r.fingerprint=null==r.fingerprint?t:r.fingerprint,e=C({trimHeadFrames:0},e),e.trimHeadFrames+=1;var c=this._prepareFrames(i,e);r.stacktrace={frames:c.reverse()}}return r.fingerprint&&(r.fingerprint=b(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(t){var e=C({timestamp:r()/1e3},t);if(y(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(v(n)&&!w(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(s(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=i(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=i(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=i(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!(!this._hasJSON||!this._globalServer&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var t=W.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(V){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new u("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new u("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(e),i+="&dsn="+r(n);var o=t.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var a=this._getGlobalServer(this._parseDSN(n)),s=V.createElement("script");s.async=!0,s.src=a+"/api/embed/error-page/"+i,(V.head||V.body).appendChild(s)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),V.createEvent?(n=V.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=V.createEventObject(),n.eventType=t);for(r in e)R(e,r)&&(n[r]=e[r]);if(V.createEvent)V.dispatchEvent(n);else try{V.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var r;try{r=N(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=t._keypressTimeout;i||t._breadcrumbEventHandler("input")(e),clearTimeout(i),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=P(this._location.href),r=P(e),i=P(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function t(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return y(a)&&(i[0]=e.wrap(a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var e=this,n=e._wrappedBuiltIns,r=this._globalOptions.autoBreadcrumbs;I(W,"setTimeout",t,n),I(W,"setInterval",t,n),W.requestAnimationFrame&&I(W,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},n);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<i.length;o++)!function(t){var i=W[t]&&W[t].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(I(i,"addEventListener",function(n){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap(o.handleEvent))}catch(t){}var c,u,l;return r&&r.dom&&("EventTarget"===t||"Node"===t)&&(u=e._breadcrumbEventHandler("click"),l=e._keypressEventHandler(),c=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?u(t):"keypress"===e?l(t):void 0}}),n.call(this,i,e.wrap(o,void 0,c),a,s)}},n),I(i,"removeEventListener",function(t){return function(e,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,i)}},n))}(i[o])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&y(n[t])&&I(n,t,function(t){return e.wrap(t)})}var e=this,n=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in W){var i=W.XMLHttpRequest&&W.XMLHttpRequest.prototype;I(i,"open",function(t){return function(n,r){return _(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},r),I(i,"send",function(n){return function(){function r(){if(i.__raven_xhr&&4===i.readyState){try{i.__raven_xhr.status_code=i.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:i.__raven_xhr})}}for(var i=this,o=["onload","onerror","onprogress"],a=0;a<o.length;a++)t(o[a],i);return"onreadystatechange"in i&&y(i.onreadystatechange)?I(i,"onreadystatechange",function(t){return e.wrap(t,void 0,r)}):i.onreadystatechange=r,n.apply(this,arguments)}},r)}n.xhr&&D()&&I(W,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in W&&o instanceof W.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t})}},r),n.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",e._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",e._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",e._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",e._keypressEventHandler())));var o=W.chrome,a=o&&o.app&&o.app.runtime,s=!a&&W.history&&W.history.pushState&&W.history.replaceState;if(n.location&&s){var c=W.onpopstate;W.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),c)return c.apply(this,arguments)};var u=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};I(W.history,"pushState",u,r),I(W.history,"replaceState",u,r)}if(n.console&&"console"in W&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};E(["debug","info","warn","error","log"],function(t,e){U(console,e,l)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;E(this._plugins,function(e,n){var r=n[0],i=n[1];r.apply(t,[t].concat(i))})},_parseDSN:function(t){var e=$.exec(t),n={},r=7;try{for(;r--;)n[H[r]]=e[r]||""}catch(e){throw new u("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new u("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(E(t.stack,function(e,i){var o=n._normalizeFrame(i,t.url);o&&r.push(o)}),e&&e.trimHeadFrames))for(var i=0;i<e.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,i,o){var a=(t?t+": ":"")+(e||"");if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(a)){var s;if(i&&i.length?(n=i[0].filename||n,i.reverse(),s={frames:i}):n&&(s={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n))){var c=C({exception:{values:[{type:t,value:e,stacktrace:s}]},transaction:n},o);this._send(c)}}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=x(t.message,e)),t.exception){var n=t.exception.values[0];n.value=x(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=x(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=x(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,i=["to","from","url"],o=0;o<t.values.length;++o)if(n=t.values[o],n.hasOwnProperty("data")&&v(n.data)&&!S(n.data)){r=C({},n.data);for(var a=0;a<i.length;++a)e=i[a],r.hasOwnProperty(e)&&r[e]&&(r[e]=x(r[e],this._globalOptions.maxUrlLength));t.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&z.userAgent&&(t.headers={"User-Agent":z.userAgent}),W.location&&W.location.href&&(t.url=W.location.href),this._hasDocument&&V.referrer&&(t.headers||(t.headers={}),t.headers.Referer=V.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?j(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||A(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=D()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||2*this._backoffDuration||1e3,this._backoffStart=r()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},i=this._getHttpData();if(i&&(n.request=i),t.trimHeadFrames&&delete t.trimHeadFrames,t=C(n,t),t.tags=C(C({},this._globalContext.tags),t.tags),t.extra=C(C({},this._globalContext.extra),t.extra),t.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||w(t[e]))&&delete t[e]}),y(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!w(t)&&(!y(e.shouldSendCallback)||e.shouldSendCallback(t)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_sanitizeData:function(t){return B(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return O()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup()){if(t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:t,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:a}),e&&e()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:t,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),e&&e(r)}})}},_makeRequest:function(t){var e=t.url+"?"+T(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),D()){r.body=s(t.data);var i=C({},this._fetchDefaults),o=C(i,r);return n&&(o.headers=n),W.fetch(e,o).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var a=W.XMLHttpRequest&&new W.XMLHttpRequest;a&&("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+a.status);e.request=a,t.onError(e)}}:(a=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(a.onload=t.onSuccess),t.onError&&(a.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=a,t.onError(e)})),a.open("POST",e),n&&E(n,function(t,e){a.setRequestHeader(t,e)}),a.send(s(t.data)))},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){m(e)?delete this._globalContext[t]:this._globalContext[t]=C(this._globalContext[t]||{},e)}},o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,t.exports=o}).call(e,n(6))},function(t,e,n){(function(e){function r(){return"undefined"==typeof document||null==document.location?"":document.location.href}function i(){return"undefined"==typeof document||null==document.location?"":(document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),document.location.origin)}var o=n(23),a={collectWindowErrors:!0,debug:!1},s="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},c=[].slice,u="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;a.report=function(){function t(t){h(),y.push(t)}function e(t){for(var e=y.length-1;e>=0;--e)y[e]===t&&y.splice(e,1)}function n(){d(),y=[]}function i(t,e){var n=null;if(!e||a.collectWindowErrors){for(var r in y)if(y.hasOwnProperty(r))try{y[r].apply(null,[t].concat(c.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function f(t,e,n,s,c){var f=null,h=o.isErrorEvent(c)?c.error:c,d=o.isErrorEvent(t)?t.message:t;if(w)a.computeStackTrace.augmentStackTraceWithInitialElement(w,e,n,d),p();else if(h&&o.isError(h))f=a.computeStackTrace(h),i(f,!0);else{var v,m={url:e,line:n,column:s},y=void 0;if("[object String]"==={}.toString.call(d)){var v=d.match(l);v&&(y=v[1],d=v[2])}m.func=u,f={name:y,message:d,url:r(),stack:[m]},i(f,!0)}return!!g&&g.apply(this,arguments)}function h(){m||(g=s.onerror,s.onerror=f,m=!0)}function d(){m&&(s.onerror=g,m=!1,g=void 0)}function p(){var t=w,e=_;_=null,w=null,b=null,i.apply(null,[t,!1].concat(e))}function v(t,e){var n=c.call(arguments,1);if(w){if(b===t)return;p()}var r=a.computeStackTrace(t);if(w=r,b=t,_=n,setTimeout(function(){b===t&&p()},r.incomplete?2e3:0),!1!==e)throw t}var g,m,y=[],_=null,b=null,w=null;return v.subscribe=t,v.unsubscribe=e,v.uninstall=n,v}(),a.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,n,o,a=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.stack.split("\n"),d=[],p=(/^(.*) is undefined$/.exec(t.message),0),v=h.length;p<v;++p){if(n=a.exec(h[p])){var g=n[2]&&0===n[2].indexOf("native"),m=n[2]&&0===n[2].indexOf("eval");m&&(e=f.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),o={url:g?null:n[2],func:n[1]||u,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(h[p]))o={url:n[2],func:n[1]||u,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=c.exec(h[p])))continue;var m=n[3]&&n[3].indexOf(" > eval")>-1;m&&(e=l.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==p||n[5]||void 0===t.columnNumber||(d[0].column=t.columnNumber+1),o={url:n[3],func:n[1]||u,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!o.func&&o.line&&(o.func=u),o.url&&"blob:"===o.url.substr(0,5)){var y=new XMLHttpRequest;if(y.open("GET",o.url,!1),y.send(null),200===y.status){var _=y.responseText||"";_=_.slice(-300);var b=_.match(/\/\/# sourceMappingURL=(.*)$/);if(b){var w=b[1];"~"===w.charAt(0)&&(w=i()+w.slice(1)),o.url=w.slice(0,-4)}}}d.push(o)}return d.length?{name:t.name,message:t.message,url:r(),stack:d}:null}}function e(t,e,n,r){var i={url:e,line:n};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=u),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,i){for(var s,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],h={},d=!1,p=n.caller;p&&!d;p=p.caller)if(p!==o&&p!==a.report){if(c={url:null,func:u,line:null,column:null},p.name?c.func=p.name:(s=l.exec(p.toString()))&&(c.func=s[1]),void 0===c.func)try{c.func=s.input.substring(0,s.input.indexOf("{"))}catch(t){}h[""+p]?d=!0:h[""+p]=!0,f.push(c)}i&&f.splice(0,i);var v={name:t.name,message:t.message,url:r(),stack:f};return e(v,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),v}function o(e,i){var o=null;i=null==i?0:+i;try{if(o=t(e))return o}catch(t){if(a.debug)throw t}try{if(o=n(e,i+1))return o}catch(t){if(a.debug)throw t}return{name:e.name,message:e.message,url:r()}}return o.augmentStackTraceWithInitialElement=e,o.computeStackTraceFromStackProp=t,o}(),t.exports=a}).call(e,n(6))},function(t,e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e){return t<<e|t>>>32-e}function i(t,e,i,o,a,s){return n(r(n(n(e,t),n(o,s)),a),i)}function o(t,e,n,r,o,a,s){return i(e&n|~e&r,t,e,o,a,s)}function a(t,e,n,r,o,a,s){return i(e&r|n&~r,t,e,o,a,s)}function s(t,e,n,r,o,a,s){return i(e^n^r,t,e,o,a,s)}function c(t,e,n,r,o,a,s){return i(n^(e|~r),t,e,o,a,s)}function u(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var r,i,u,l,f,h=1732584193,d=-271733879,p=-1732584194,v=271733878;for(r=0;r<t.length;r+=16)i=h,u=d,l=p,f=v,h=o(h,d,p,v,t[r],7,-680876936),v=o(v,h,d,p,t[r+1],12,-389564586),p=o(p,v,h,d,t[r+2],17,606105819),d=o(d,p,v,h,t[r+3],22,-1044525330),h=o(h,d,p,v,t[r+4],7,-176418897),v=o(v,h,d,p,t[r+5],12,1200080426),p=o(p,v,h,d,t[r+6],17,-1473231341),d=o(d,p,v,h,t[r+7],22,-45705983),h=o(h,d,p,v,t[r+8],7,1770035416),v=o(v,h,d,p,t[r+9],12,-1958414417),p=o(p,v,h,d,t[r+10],17,-42063),d=o(d,p,v,h,t[r+11],22,-1990404162),h=o(h,d,p,v,t[r+12],7,1804603682),v=o(v,h,d,p,t[r+13],12,-40341101),p=o(p,v,h,d,t[r+14],17,-1502002290),d=o(d,p,v,h,t[r+15],22,1236535329),h=a(h,d,p,v,t[r+1],5,-165796510),v=a(v,h,d,p,t[r+6],9,-1069501632),p=a(p,v,h,d,t[r+11],14,643717713),d=a(d,p,v,h,t[r],20,-373897302),h=a(h,d,p,v,t[r+5],5,-701558691),v=a(v,h,d,p,t[r+10],9,38016083),p=a(p,v,h,d,t[r+15],14,-660478335),d=a(d,p,v,h,t[r+4],20,-405537848),h=a(h,d,p,v,t[r+9],5,568446438),v=a(v,h,d,p,t[r+14],9,-1019803690),p=a(p,v,h,d,t[r+3],14,-187363961),d=a(d,p,v,h,t[r+8],20,1163531501),h=a(h,d,p,v,t[r+13],5,-1444681467),v=a(v,h,d,p,t[r+2],9,-51403784),p=a(p,v,h,d,t[r+7],14,1735328473),d=a(d,p,v,h,t[r+12],20,-1926607734),h=s(h,d,p,v,t[r+5],4,-378558),v=s(v,h,d,p,t[r+8],11,-2022574463),p=s(p,v,h,d,t[r+11],16,1839030562),d=s(d,p,v,h,t[r+14],23,-35309556),h=s(h,d,p,v,t[r+1],4,-1530992060),v=s(v,h,d,p,t[r+4],11,1272893353),p=s(p,v,h,d,t[r+7],16,-155497632),d=s(d,p,v,h,t[r+10],23,-1094730640),h=s(h,d,p,v,t[r+13],4,681279174),v=s(v,h,d,p,t[r],11,-358537222),p=s(p,v,h,d,t[r+3],16,-722521979),d=s(d,p,v,h,t[r+6],23,76029189),h=s(h,d,p,v,t[r+9],4,-640364487),v=s(v,h,d,p,t[r+12],11,-421815835),p=s(p,v,h,d,t[r+15],16,530742520),d=s(d,p,v,h,t[r+2],23,-995338651),h=c(h,d,p,v,t[r],6,-198630844),v=c(v,h,d,p,t[r+7],10,1126891415),p=c(p,v,h,d,t[r+14],15,-1416354905),d=c(d,p,v,h,t[r+5],21,-57434055),h=c(h,d,p,v,t[r+12],6,1700485571),v=c(v,h,d,p,t[r+3],10,-1894986606),p=c(p,v,h,d,t[r+10],15,-1051523),d=c(d,p,v,h,t[r+1],21,-2054922799),h=c(h,d,p,v,t[r+8],6,1873313359),v=c(v,h,d,p,t[r+15],10,-30611744),p=c(p,v,h,d,t[r+6],15,-1560198380),d=c(d,p,v,h,t[r+13],21,1309151649),h=c(h,d,p,v,t[r+4],6,-145523070),v=c(v,h,d,p,t[r+11],10,-1120210379),p=c(p,v,h,d,t[r+2],15,718787259),d=c(d,p,v,h,t[r+9],21,-343485551),h=n(h,i),d=n(d,u),p=n(p,l),v=n(v,f);return[h,d,p,v]}function l(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function f(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){return l(u(f(t),8*t.length))}function d(t,e){var n,r,i=f(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(f(e)),512+8*e.length),l(u(a.concat(r),640))}function p(t){var e,n,r="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=r.charAt(e>>>4&15)+r.charAt(15&e);return i}function v(t){return unescape(encodeURIComponent(t))}function g(t){return h(v(t))}function m(t){return p(g(t))}function y(t,e){return d(v(t),v(e))}function _(t,e){return p(y(t,e))}function b(t,e,n){return e?n?y(e,t):_(e,t):n?g(t):m(t)}t.exports=b},function(t,e){function n(t){this.name="RavenConfigError",this.message=t}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},function(t,e,n){var r=n(23),i=function(t,e,n){var i=t[e],o=t;if(e in t){var a="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),s=r.safeJoin(t," "),c={level:a,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(s="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),c.extra.arguments=t.slice(1),n&&n(s,c)):n&&n(s,c),i&&Function.prototype.apply.call(i,o,t)}}};t.exports={wrapMethod:i}},function(t,e,n){var r,i;!function(o){"use strict";var a={};a.VERSION="1.4.1";var s,c={},u=function(t,e){return function(){return e.apply(t,arguments)}},l=function(){var t,e,n=arguments,r=n[0];for(e=1;e<n.length;e++)for(t in n[e])t in r||!n[e].hasOwnProperty(t)||(r[t]=n[e][t]);return r},f=function(t,e){return{value:t,name:e}};a.DEBUG=f(1,"DEBUG"),a.INFO=f(2,"INFO"),a.TIME=f(3,"TIME"),a.WARN=f(4,"WARN"),a.ERROR=f(8,"ERROR"),a.OFF=f(99,"OFF");var h=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};h.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var e=this.context.filterLevel;return t.value>=e.value},debug:function(){this.invoke(a.DEBUG,arguments)},info:function(){this.invoke(a.INFO,arguments)},warn:function(){this.invoke(a.WARN,arguments)},error:function(){this.invoke(a.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(a.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(a.TIME,[t,"end"])},invoke:function(t,e){s&&this.enabledFor(t)&&s(e,l({level:t},this.context))}};var d=new h({filterLevel:a.OFF});!function(){var t=a;t.enabledFor=u(d,d.enabledFor),t.debug=u(d,d.debug),t.time=u(d,d.time),t.timeEnd=u(d,d.timeEnd),t.info=u(d,d.info),t.warn=u(d,d.warn),t.error=u(d,d.error),t.log=t.info}(),a.setHandler=function(t){s=t},a.setLevel=function(t){d.setLevel(t);for(var e in c)c.hasOwnProperty(e)&&c[e].setLevel(t)},a.getLevel=function(){return d.getLevel()},a.get=function(t){return c[t]||(c[t]=new h(l({name:t},d.context)))},a.createDefaultHandler=function(t){t=t||{},t.formatter=t.formatter||function(t,e){e.name&&t.unshift("["+e.name+"]")};var e={},n=function(t,e){Function.prototype.apply.call(t,console,e)};return"undefined"==typeof console?function(){}:function(r,i){r=Array.prototype.slice.call(r);var o,s=console.log;i.level===a.TIME?(o=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(o):e[o]=(new Date).getTime():console.timeEnd?console.timeEnd(o):n(s,[o+": "+((new Date).getTime()-e[o])+"ms"])):(i.level===a.WARN&&console.warn?s=console.warn:i.level===a.ERROR&&console.error?s=console.error:i.level===a.INFO&&console.info?s=console.info:i.level===a.DEBUG&&console.debug&&(s=console.debug),t.formatter(r,i),n(s,r))}},a.useDefaults=function(t){a.setLevel(t&&t.defaultLevel||a.DEBUG),a.setHandler(a.createDefaultHandler(t))},r=a,void 0!==(i="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=i)}()},function(t,e,n){"use strict";function r(){return new c.a(function(t){j.fetch({async:!0,success:function(e,n){t(j.resetDefaults(n))},error:function(){t(j.resetDefaults())}})})}function i(){return new c.a(function(t){j.attributes=l.a.pick(j.attributes,j.idAttribute),j.fetch({async:!0,success:function(e){E.debug("Fetched saved options: ",e.attributes),t(e.overrides())},error:function(e){E.error("Resolving options with defaults due to error",e),t(j.overrides())}})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"DEFAULTS",function(){return x}),n.d(e,"PROPERTY_ID_KEY",function(){return R}),n.d(e,"isDevelopmentVersion",function(){return T}),n.d(e,"languages",function(){return N}),n.d(e,"anchorPredictorModels",function(){return A}),n.d(e,"instance",function(){return j}),e.reinstall=r,e.fetchPromise=i,n.d(e,"visibleForTesting",function(){return P});var o=n(13),a=n.n(o),s=n(3),c=n.n(s),u=n(0),l=n.n(u),f=n(94),h=n.n(f),d=n(2),p=n.n(d),v=n(32),g=n.n(v),m=n(95),y=n.n(m),_=n(15),b=n(33),w=(n.n(b),n(25)),E=(n.n(w),p.a.get("optionsmodel.js")),C=l.a.extend({},y.a),x={adtest:!1,alwaysRun:!1,annoySearchOnly:!1,blockHyperlinkerCdnScript:!1,city:"",contextualizedSearch:"DISABLED",debug:!1,delayedDfpImpressions:!0,dfp:!0,environment:"prod",hycoHeaderKey:"X-Worldsense-Options",hyperlinkerScript:_.ScriptMode.DISABLED,hyperlinkerScriptUrl:"",hyperlinksHost:"api.worldsense.com",jsLogLevel:"INFO",language:"",localHyperlinks:!1,mixerHost:"dl.worldsense.com",modelName:"Handcrafted.WorldsenseAnchor",omitFormat:!1,sentryDSN:"prod",simple:!1,skipCache:!1,sponsored:!0,useFakeSuggestions:!1,useSearchAPI:!0,xp4348:!1,xp4354:!1};l.a.each(g.a.defaults,function(t,e){x["publisherModel."+e]=t}),l.a.extend(x,C.defaults);var S=b?b.extensionDefaults:null;l.a.isObject(S)&&l.a.extend(x,b.extensionDefaults),"string"!=typeof n.h||l.a.isEmpty(n.h)||(x.release=n.h),S||"dev"===x.release||(Math.random()<.1&&(x.xp4354=!0),Math.random()<.5&&(x.xp4348=!0));var R="publisherModel.propertyId",k=C.overrides||{},T=C.defaults&&C.defaults.environment===x.environment,O=a.a.Model.extend({localStorage:new a.a.LocalStorage("worldsense-linker-options"),defaults:l.a.omit(x,function(t,e){return 0===e.indexOf("publisherModel.")}),overrides:function(){return l.a.omit(this.attributes,this.idAttribute)},get:function(t){return t in this.attributes?this.attributes[t]:this.defaults[t]},_clearRedundant:function(t){return l.a.pick(t,function(t,e){return!("environment"===e||e!==this.idAttribute&&(t===this.defaults[e]||l.a.isString(t)&&l.a.isEmpty(t)))},this)},resetDefaults:function(t){var e=this.pick(this.idAttribute);if(t){var n=this._clearRedundant(t);l.a.extend(e,n)}return E.debug("Resetting option defaults. old =",t," new=",e),this._saveAsync(e).bind(this).tap(function(){this.trigger("reset")})},_saveAsync:function(t){t||(t=this.attributes),this.attributes=this._clearRedundant(t);var e={wait:!0,async:!0};return c.a.resolve(this.save(null,e)).bind(this).then(function(){return E.debug("Saved options: ",this.attributes),this.overrides()}).catch(function(t){throw E.error(t),t})},saveChanged:function(){return this._saveAsync(this.attributes)},resetDevMode:function(){return this.resetDefaults(k)}}),N=[{language:"pt-BR"},{language:"en-US"}],A=[{name:"Handcrafted.WorldsenseAnchor",description:"Handcrafted algorithm using model hierarchies and keyword exact matching.",hyperparams:""},{name:"RandomForest.Model",description:"A spark ml trained random forest model.",hyperparams:""},{name:"Handcrafted.Random",description:"Flips a coin per ngram.",hyperparams:"0.5"},{name:"Handcrafted.Vocabulary",description:"Handcrafted algorithm using only vocabulary signals from Redis.",hyperparams:""},{name:"Handcrafted.Segmentation",description:"Handcrafted algorithm using only Segmentation signals",hyperparams:""},{name:"Handcrafted.DeepLearning",description:"Handcrafted algorithm using only Deep Learning signals",hyperparams:""},{name:"LogisticRegression.Model",description:"A spark ml trained logistic regression model.",hyperparams:""},{name:"DecisionTree.Model",description:"A ml spark trained Decision Tree tuned towards debuggability",hyperparams:""}],j=new O({id:"app"+x.environment}),P={DEFAULTS:x,DEV_MODE_OVERRIDES:k,instance:j,chromeapi:h.a,Model:O}},function(t,e,n){"use strict";var r,i;r=[n(0)],void 0!==(i=function(t){function e(){throw new Error("Not implemented")}var n={};if(!window||t.isUndefined(window.chrome)||t.isObject(window.mocha)?(n.runtime={getManifest:function(){return{name:"WorldSenseLinker",version:"0.0.0"}},sendMessage:e,id:t.uniqueId("test"),getURL:t.identity},n.identity={}):(n.runtime=chrome.runtime,n.tabs=chrome.tabs,n.identity=chrome.identity,n.extension=chrome.extension,t.isUndefined(chrome.management)||(n.management=chrome.management)),t.isObject(n.identity)||(n.identity={}),t.defaults(n.identity,{getProfileUserInfo:e,removeCachedAuthToken:e,getRedirectURL:e,launchWebAuthFlow:e}),t.isObject(n.tabs)||(n.tabs={}),t.defaults(n.tabs,{query:e,sendMessage:e}),t.isObject(n.runtime)||(n.runtime={}),t.isObject(n.runtime.onMessage)||(n.runtime.onMessage={}),t.isFunction(n.runtime.onMessage.addListener)||(n.runtime.onMessage.addListener=e),t.isObject(n.management)||(n.management={}),!t.isFunction(n.management.getSelf)){var r={installType:"test"};n.management.getSelf=function(e){t.isFunction(e)&&e(r)}}if(t.isUndefined(n.management.ExtensionInstallType)){var i={DEVELOPMENT:"development"};n.management.ExtensionInstallType=i}return n}.apply(e,r))&&(t.exports=i)},function(t,e){},function(t,e,n){"use strict";function r(t,e){return!!u.a.has(f,t)&&-1===h.indexOf(e)}function i(t){return u.a.isString(t)&&u.a.isEmpty(t)}function o(t,e){var n=[];return s()("link",t).each(function(t,e){if(!u.a.isEmpty(e.rel)){var o=e.rel.toUpperCase();if(r(o,e.type)){var a={url:e.href,urltype:f[o],media:e.media,reltype:e.type,hreflang:e.hreflang};n.push(u.a.omit(a,i))}}}),s()('meta[property="og:url"]',t).each(function(e,r){var i=Object(l.a)(r.content,t);n.push({url:i,urltype:f.OG})}),n.push({url:e,urltype:f.DOCUMENT}),JSON.stringify({candidates:n})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"URL_TYPE",function(){return f}),e.computeURLCandidates=o;var a=n(4),s=n.n(a),c=n(0),u=n.n(c),l=n(34),f={UNKNOWN:0,BOOKMARK:1,CANONICAL:2,OG:3,DOCUMENT:4,AMPHTML:5,ALTERNATE:6},h=["application/rss+xml","application/atom+xml","application/json+oembed","text/xml+oembed","application/xml+oembed"]},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(3),i=n.n(r),o=n(0),a=n.n(o),s=n(2),c=n.n(s),u=n(98),l=n(14);i.a.config({longStackTraces:!0,warnings:!0});var f=c.a.get("appcontext.js"),h=i.a.method(function(t,e,n){if(n=n||{},a.a.has(n,"jsLogLevel")&&(c.a.setLevel(n.jsLogLevel),f.debug("Updated JavaScript logging level to",n.jsLogLevel,"for app",t)),a.a.has(n,"sentryDSN")){var r="prod"===n.sentryDSN?u.a.prod:u.a.staging,i=a.a.extend({logger:t},a.a.pick(n,"logger","release"));f.debug("Initializing Raven for",t,"with sentry DSN",r,"and raven options",i),u.b(r,i)}return f.debug("Initializing ErrorTracker for "+t),l.a(n),e(n)})},function(t,e,n){"use strict";function r(t,e){e=o.a.defaults(e||{},u),s.a.config(t,e)}n.d(e,"a",function(){return c}),e.b=r;var i=n(0),o=n.n(i),a=n(5),s=n.n(a),c={prod:"https://67d3d808425d4939889b4306565f8609@app.getsentry.com/70025",staging:"https://f6edb3f894814487b184fd20e7df3850@app.getsentry.com/70026"},u={collectWindowErrors:!1,ignoreErrors:[s.a.IGNORE_ERROR_REGEX],ignoreUrls:[/localhost:6765/,/localhost:9876/]}},function(t,e,n){"use strict";function r(t,e){return new k(null,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"HyperlinkCollection",function(){return k}),e.createCollection=r,n.d(e,"visibleForTesting",function(){return T});var i=n(13),o=n.n(i),a=n(3),s=n.n(a),c=n(4),u=n.n(c),l=n(0),f=n.n(l),h=n(2),d=n.n(h),p=n(5),v=n.n(p),g=n(100),m=n.n(g),y=n(34),_=n(24),b=n.n(_),w=n(27),E=n(10),C=n(101),x=n(16),S=(n.n(x),n(25)),R=(n.n(S),d.a.get("hyperlinkcollection.js")),k=o.a.Collection.extend({model:C.a,constructor:function(t,e,n){return this.doc=e,this.docUrl=null,this.delayedDfpImpressions=null,this.localStorage=null,this.hyperlinksUrl=null,this._permalinksUrl=null,this._propertyId=null,this._permalink=null,this._nonce=null,this._updateProperties(n),this.xp4348=!!n.xp4348,o.a.Collection.call(this,t,n)},_updateUrls:function(t){var e=new x.URL("https://worldsense.com/");e.host=t.hyperlinksHost;var n=new x.URL(e.href);n.pathname="/worldsense/permalinks",this._permalinksUrl=n,R.debug("Updated Permalinks REST endpoint: "+this._permalinksUrl.href);var r=new x.URL(e.href),i=y.b(this.docUrl);r.pathname="/worldsense/hyperlinks/"+this._propertyId+"/"+i,f.a.has(t,"urlCandidatesJSON")&&r.searchParams.set("uc",t.urlCandidatesJSON),r.searchParams.set("release",t.release),f.a.isEmpty(t.referrer)||r.searchParams.set("referrer",t.referrer),t.adtest&&r.searchParams.set("wsl.adtest","on");try{new x.URL(this.docUrl).searchParams.forEach(function(t,e){e.startsWith("wsl")&&r.searchParams.set(e,t)})}catch(t){R.debug("Failed parsing the document URL",t)}this.where({scanned:!0}).forEach(function(t){r.searchParams.append("anchorIds",t.id)}),this.hyperlinksUrl=r,R.debug("Updated Hyperlinks REST endpoint: "+this.hyperlinksUrl.href)},_updateProperties:function(t){if(f.a.isEmpty(t.docUrl))throw new Error("A valid document URL is a required attribute");if(this.docUrl=t.docUrl,f.a.isEmpty(t[b.a.PROPERTY_ID_KEY]))throw new Error("A valid property ID is a required attribute");this._propertyId=t[b.a.PROPERTY_ID_KEY],this.delayedDfpImpressions=t.delayedDfpImpressions,this._updateUrls(t),this.localStorage=new o.a.LocalStorage(this.hyperlinksUrl.pathname)},_ensurePermalink:s.a.method(function(t){var e=this;if(t.localHyperlinks||this._permalink)return null;if(f.a.isObject(m.a)&&f.a.isFunction(m.a.sendRequest))return m.a.sendRequest("wsmixer.insertPermalink",{contentType:"application/json",data:t.urlCandidatesJSON,method:"PUT",url:this._permalinksUrl.href}).tap(function(t){e._permalink=t.permalink});throw new Error("Cannot insert permalink: no backend.")}),parse:function(t){if(f.a.isArray(t))return t;this._permalink=t.permalink,this._nonce=t.nonce;var e=t.links||[],n=this.delayedDfpImpressions?t.impressions||[]:[],r=this.where({scanned:!0}).map(function(t){return t.get("anchorId")});return f.a.foldl(n,function(e,n,i){return n.anchorId=e[i].payload.anchorId,n.nonce=t.nonce,n.scanned=f.a.contains(r,n.anchorId),f.a.extend(e[i],n),e},e,this)},updateCollection:function(){return b.a.fetch().bind(this).tap(this._updateProperties)},fetchAsync:function(){return this.updateCollection().bind(this).then(function(t){return t.url=this.hyperlinksUrl.href,t.collection=this,t.remove=!0,this.fetch(t)})},scan:s.a.method(function(){var t=this,e=w.a(this.doc.body),n=[];return e.each(function(e,r){var i=Number(u()(r).attr(E.b)),o=t.get(i);o||(o=new C.a({anchorId:i,scanned:!0},{collection:t,parse:!0}),t.add(o),n.push(o))}),n}),authenticate:s.a.method(function(t){return f.a.isObject(m.a)&&f.a.isFunction(m.a.authenticate)?m.a.authenticate(t):t}),createAsync:function(t){var e=this;return this.updateCollection().then(function(t){return e.authenticate(t)}).tap(function(t){return e._ensurePermalink(t)}).then(function(n){return e._create(t,n)})},_create:function(t,e){var n=this;return new s.a(function(r,i){e=e||{},f.a.extend(e,{async:!0,wait:!0,success:function(t,e){R.debug("Created model ",t,"with response",e),r(t)},reject:i});var o=f.a.pick(t,"anchorId");o.payload=t;var a=n.create(o,e);f.a.isEmpty(a.validationError)||i(new Error(a.validationError))})},removeAsync:function(t){return this.updateCollection().bind(this).then(function(e){return e=f.a.extend(e,{async:!0,wait:!0}),s.a.join(this._getModelForRemoval(t),this.authenticate(e))}).spread(function(t,e){var n=t.toJSON();return s.a.resolve(t.destroy(e)).return(n)})},sync:function(t,e,n){return n.localHyperlinks||(n.ajaxSync=!0),o.a.sync.apply(this,[t,e,n])},_getModelForRemoval:s.a.method(function(t){var e=this.get(t);if(!e)throw new Error("Attempting to remove nonexistent model with anchorId "+t);return e})}),T={server:m.a,Raven:v.a}},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=f.a.omit(t,"payload");return"payload"in t&&Object.assign(e,t.payload,t.payload.embed),e}n.d(e,"a",function(){return A});var s=n(13),c=n.n(s),u=n(25),l=(n.n(u),n(0)),f=n.n(l),h=n(2),d=n.n(h),p=n(102),v=n(7),g=n(10),m=n(16),y=(n.n(m),n(17)),_=n(14),b=n(37),w=n(18),E=n(5),C=n.n(E),x=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),R=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},k=d.a.get("ui/hyperlinker/model"),T=["advertiser","affiliateLink","anchorId","anchorText","call","costType","customCreativePosition","displayLink","format","googleConversionLabel","hoverText","language","link","overrideDfpUrl","position","rate","sponsoredSource","sponsoredText","type","utmCampaign"],O=["description","thumbnailHeight","thumbnailUrl","thumbnailWidth","title"],N={trackPing:_.d,trackError:_.c,recordEvent:_.b},A=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a(t),n));return o.concussionPromise=null,o.clickPromise=null,o.url=function(){var t=new m.URL(o._collection.hyperlinksUrl.href),e=t.pathname;return"/"!==e.charAt(e.length-1)&&(e+="/"),e+=encodeURIComponent(o.get(o.idAttribute)),t.pathname=e,t.href},o}return o(e,t),S(e,[{key:"impression",value:function(){return this.pick("adwordsConversionId","adwordsClickConversionLabel","adwordsConcussionConversionLabel")}},{key:"defaults",value:function(){return{call:"Saiba mais:",format:v.b}}},{key:"anchorId",value:function(){return Number(this.get(this.idAttribute))}},{key:"call",value:function(){return this.get("call")}},{key:"format",value:function(){var t=Object(v.h)();return null!==t?t:this.get("format")}},{key:"kind",value:function(){var t=this.get("type");return g.i[t]}},{key:"position",value:function(){return this.get("position")}},{key:"setPosition",value:function(t){return this.set("position",t),this}},{key:"anchorText",value:function(){return this.get("anchorText")}},{key:"language",value:function(){return this.get("language")}},{key:"rate",value:function(){return this.get("rate")||0}},{key:"customCreativePosition",value:function(){return this.get("customCreativePosition")}},{key:"setCustomCreativePosition",value:function(t){return Object(b.a)(t)&&(t=null),this.set("customCreativePosition",t),this}},{key:"isFinalUrlOverrideEnabled",value:function(){return this.collection&&this._collection.xp4348}},{key:"parsedCreative",value:function(){return this.get("parsedCreative")}},{key:"getLinkRedirectHref",value:function(){var t=this.parsedCreative();return t?t.click_url+encodeURIComponent(t.dest_url):this.get("affiliateLink")||this.get("link")}},{key:"validate",value:function(t){if(!f.a.has(t,this.idAttribute))return"Attribute "+this.idAttribute+" is required";if(!f.a.isObject(t.position))return"Payload is missing a position";if(!f.a.has(g.i,t.type))return"Payload has invalid type: "+t.type;if(Object(v.g)(t.format)){if(f.a.isEmpty(t.description))return"Empty embed description.";if(f.a.isEmpty(t.title))return"Empty embed title."}return null}},{key:"parse",value:function(t){if(t=a(t),!f.a.isEmpty(t.creative)){var e=t.creative,n=e.slice(e.lastIndexOf("{"),e.lastIndexOf("}")+1);t.parsedCreative=JSON.parse(n)}return Object(b.a)(t.customCreativePosition)&&(t.customCreativePosition=null),t.format||(t.format=v.b),t}},{key:"toJSON",value:function(){var t=R(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"toJSON",this).call(this);return t.kind=this.kind(),t.format=this.format(),t.call=this.call(),t.linkTarget=g.d[t.kind],t.type!==g.i.sponsored||t.sponsoredText||(t.sponsoredText="Patrocinado"),t}},{key:"toRequestData",value:function(){var t=this.pick(T);t.embed=this.pick(O),t.call=this.call(),t.format=this.format(),t.position=this.position();var e=this.customCreativePosition();return Object(b.a)(e)||(t.customCreativePosition=e),t}},{key:"sync",value:function(t,e,n){return n.localHyperlinks||(n.ajaxSync=!0),"create"!==t&&"update"!==t&&"patch"!==t||(n.localHyperlinks?e.has("creationEpochMilliseconds")||e.set("creationEpochMilliseconds",f.a.now()):(n.data=JSON.stringify(e.toRequestData()),n.contentType="application/json")),c.a.sync.apply(this,[t,e,n])}},{key:"track",value:function(t,e,n){N.recordEvent(t+"@"+this.anchorId());var r={eventName:t,sourceName:e};void 0!==n&&(r.destinationUrl=n),this.trackRequest(r)}},{key:"sendToAdwords",value:function(t,e){return e.adwordsConversionId?t.sendToAdwords(e):t.sendToWsAdwords()}},{key:"trackConversion",value:function(t,e,n){var r=this,i=f.a.now(),o=this.get("advertiser")||"",a=this.get("utmCampaign")||"",s=this.get("costType")===g.k.CPM?this.rate()/1e3:0,c=this._collection._propertyId,u=this.format(),l=n&&n.URL&&new m.URL(n.URL)||null,h=n&&n.referrer&&new m.URL(n.referrer)||null,d=n&&n.title,v=new p.a(t,u,c,o,a,s,l,d,h),y=this.impression();return this.sendToAdwords(v,y).then(function(t){return[t,t?"success":"failure"]}).timeout(1e4,"sendToAdwords timed out").catch(function(t){return k.debug("sendToAdwords() failed",t),N.trackError(t,r.anchorId()),C.a.captureException(t),[!1,t.message]}).then(function(n){var o=x(n,2),a=o[0],u=o[1],l=f.a.now(),h="click"===t?y.adwordsClickConversionLabel:y.adwordsConcussionConversionLabel,d={eventName:"conversion",sourceName:e,eventData:{interaction:t,label:h||"<empty>",latency:l-i,status:u,value:s}};r.trackRequest(d);var p=Object.assign({anchorId:r.anchorId(),propertyId:c},d.eventData);return r.trigger(w.a.INTERACTION,p,r),a}).catch(function(t){return k.error("Error tracking interaction",t),C.a.captureException(t),!1})}},{key:"onClick",value:function(t,e){return this.clickPromise||(this.track("click",t,e),this.clickPromise=this.trackConversion("click",t,this._collection.doc)),this.clickPromise}},{key:"onConcussion",value:function(){return this.concussionPromise||(this.track("concussion",y.a.CREATIVE),this.concussionPromise=this.trackConversion("concussion",y.a.CREATIVE,this._collection.doc)),this.concussionPromise}},{key:"trackRequest",value:function(t){if(!this.has("nonce"))return void k.debug("Nonce is not set, tracking will be skipped.");var e=this.get("trackSignature")||"<no_signature>",n=f.a.mapObject(t.eventData,function(t){return String(t)}),r={permalink:this._collection._permalink||this._collection.docUrl,propertyId:this._collection._propertyId,nonce:this.get("nonce"),anchorId:this.anchorId(),eventName:t.eventName,sourceName:t.sourceName,signature:e,eventData:n},i=Object(y.c)(window.location.href);if(f.a.each(i,function(t,e){r.eventData["in_"+e]=String(t)}),t.destinationUrl){var o=Object(y.c)(t.destinationUrl);f.a.each(o,function(t,e){r.eventData["utm_"+e]=String(t)})}N.trackPing(r)}},{key:"_collection",get:function(){return this.collection}}]),e}(c.a.Model);A.visibleForTesting=N,Object.assign(A.prototype,{idAttribute:"anchorId"})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return(new u.a).sendGET(t).thenReturn(!0)}n.d(e,"a",function(){return g});var o,a=n(3),s=n.n(a),c=n(7),u=n(35),l=n(2),f=n.n(l),h=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=f.a.get("lib/conversiontracker");!function(t){t[t.REDIRECT=3]="REDIRECT",t[t.SCRIPT=4]="SCRIPT"}(o||(o={}));var v={fetch:i},g=function(){function t(e,n,i,o,a,s,c,u,l){r(this,t),this.interaction=e,this.format=n,this.propertyId=i,this.advertiser=o,this.campaign=a,this.currencyValue=s,this.url=c,this.title=u,this.referrer=l}return d(t,[{key:"sendToWsAdwords",value:function(){return this.sendToAdwords({adwordsConversionId:t.WsAdwordsAccountConversionId})}},{key:"sendToAdwords",value:function(t){var e=this;return this.sendToServer(t).tap(function(t){p.debug("sendToAdwords finished: "+t,e)}).tapCatch(function(t){p.debug("sendToAdwords failed",t,e)})}},{key:"sendToWsGoogleAnalytics",value:function(){var e=t.randomId(),n=t.randomId(),r=t.randomId()+"."+t.randomId(),i=new URL("https://www.google-analytics.com/"),o=new URLSearchParams;o.set("v","1"),o.set("tid","UA-115470908-1"),o.set("t","event"),o.set("ec",c.c[this.format].toLowerCase()),o.set("ea",this.interaction),o.set("el",this.encodeConversionAsFakeReferrer()),o.set("aip","1"),o.set("dl",this.url.href),o.set("dt",this.title),o.set("_u","4GAAgQAB~"),o.set("jid",e),o.set("gjid",n),o.set("cid",r),o.set("z",t.randomId());var a=new URL("https://stats.g.doubleclick.net/r/collect"),l=new URLSearchParams;a.searchParams.set("tid","UA-115470908-1"),l.set("t","dc"),l.set("v","1"),l.set("aip","1"),l.set("jid",e),l.set("gjid",n),l.set("cid",r),l.set("_u","4GAAgQAB~"),l.set("z",t.randomId());var f=new u.a;return s.a.all([f.sendPOST(i,o),f.sendPOST(a,l)]).then(function(t){var e=h(t,2),n=e[0],r=e[1];return n.ok&&r.ok})}},{key:"sendToServer",value:function(e){var n=e.adwordsConversionId.startsWith("AW-")?e.adwordsConversionId.substr(3):e.adwordsConversionId,r=this.buildAdwordsParams(e),i=r.label?t.conversionEndpoint:t.viewthroughConversionEndpoint,o=new URL(i+n+"/");for(var a in r)o.searchParams.set(a,r[a]);return v.fetch(o)}},{key:"buildEventData",value:function(){return{event_category:this.advertiser+"|"+c.c[this.format].toLowerCase(),event_label:this.propertyId}}},{key:"buildAdwordsParams",value:function(e){var n={async:1,cv:9,fmt:o.REDIRECT,frm:0,guid:"ON",num:1,random:t.randomId(),resp:"GooglemKTybQhCsO",rfmt:o.REDIRECT,tiba:this.title};n.ref=this.encodeConversionAsFakeReferrer(),n.url=this.url.href,n.fst=+new Date;var r="click"===this.interaction?e.adwordsClickConversionLabel:e.adwordsConcussionConversionLabel;r&&(n.label=r),n.value=this.currencyValue.toFixed(2);var i=this.buildEventData();n.data="event="+this.interaction;for(var a in i)n.data=n.data+";"+a+"="+i[a];return n}},{key:"encodeConversionAsFakeReferrer",value:function(){var t=new URL("https://www.worldsense.com/events/v1/"),e=t.searchParams;return e.set("advertiser",this.advertiser),e.set("format",c.c[this.format].toLowerCase()),e.set("propertyId",this.propertyId),this.url&&e.set("url",this.url.href),this.referrer&&e.set("rhn",this.referrer.hostname),e.set("interaction",this.interaction),e.set("z","dummy"),t.href}}],[{key:"randomId",value:function(){return Math.floor(1e9*Math.random()).toString()}}]),t}();g.WsAdwordsAccountConversionId="854727886",g.conversionEndpoint="https://www.googleadservices.com/pagead/conversion/",g.viewthroughConversionEndpoint="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=n.n(i),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/,c=/MSIE (\d+\.\d+)/,u=/WebKit\//i,l=/\bFirefox\//,f=/bot|spider|crawl/i,h=function(){function t(e,n){r(this,t),this.win=e,this.userAgent=n}return a(t,[{key:"isMobile",value:function(){return s.test(this.userAgent)}},{key:"isPhoneScreen",value:function(){return this.matchesMedia("screen and (max-device-width: 414px)")}},{key:"isLargePhoneScreen",value:function(){return this.matchesMedia("screen and (min-device-width: 415px) and (max-device-width: 767px)")}},{key:"isDesktopScreen",value:function(){return this.win.screen&&this.win.screen.availWidth>=900}},{key:"isWebkit",value:function(){return u.test(this.userAgent)}},{key:"isFirefox",value:function(){return l.test(this.userAgent)}},{key:"isRobot",value:function(){return f.test(this.userAgent)}},{key:"isOldIE",value:function(){return c.test(this.userAgent)}},{key:"matchesMedia",value:function(t){if(!o.a.isFunction(this.win.matchMedia))return!1;var e=this.win.matchMedia(t);return e&&e.matches}}]),t}(),d=new h(window,navigator.userAgent);e.a=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return!!t&&(3===t.nodeType||8===t.nodeType||!t.nodeName.match(/br/i)&&!!Object(h.a)(t)&&u.a.every(t.childNodes,a))}function s(t){for(var e=t;a(e.nextSibling);)e=e.nextSibling;return e}n.d(e,"a",function(){return y});var c=n(0),u=n.n(c),l=n(19),f=n(7),h=n(41),d=n(42),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},g=n(105),m=n(108),y=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),p(e,[{key:"initialize",value:function(){v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.render()}},{key:"templateData",value:function(){var t=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"templateData",this).call(this);return t.format===f.c.NOTE&&(t.hoverText="Nota patrocinada gerada por Worldsense",t.sponsoredText="Nota patrocinada"),t}},{key:"template",value:function(){switch(this.format()){case f.c.NOTE:return m;default:return g}}},{key:"install",value:function(t){v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"install",this).call(this,t);for(var n=s(this.$link[0]);!n.nextSibling&&Object(h.a)(n.parentNode);)n=s(n.parentNode);var r=this.detachTrailingSpaces(n);this.$el.insertAfter(n),r&&this.$el.after(r)}},{key:"detachTrailingSpaces",value:function(t){for(var e=t;e.childNodes.length>0;)e=e.lastChild;if(3!==e.nodeType)return null;var n=e.textContent,r=n.match(/\s+$/);if(!r)return null;var i=r[0];return e.textContent=n.slice(0,n.length-i.length),this.$el.prop("ownerDocument").createTextNode(i)}},{key:"className",get:function(){var t=v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"className",this);return this.format()===f.c.NOTE&&(t+=" "+d.a),t}}]),e}(l.a)},function(t,e,n){var r=n(20);t.exports=function(){var t=new r.Template({code:function(t,e,n){var r=this;return r.b(n=n||""),r.s(r.d("_is.INLINE_ASTERISK",t,e,1),t,e,0,24,76,"{{ }}")&&(r.rs(t,e,function(t,e,n){n.b('  <i data-kind="'),n.b(n.v(n.f("kind",t,e,0))),n.b('" class="wsl-asterisk"></i>')}),t.pop()),r.s(r.d("_is.INLINE_ASTERISK",t,e,1),t,e,1,0,0,"")||(r.b("\n"+n),r.b('  <i data-kind="'),r.b(r.v(r.f("kind",t,e,0))),r.b('" class="wsl-icon"></i>'),r.b("\n"+n)),r.b('<span data-kind="'),r.b(r.v(r.f("kind",t,e,0))),r.b('" class="wsl-preview-call">'),r.b(r.v(r.f("call",t,e,0))),r.b("</span>"),r.b("\n"+n),r.b('<a class="wsl-anchor wsl-preview-inline-link"'),r.b("\n"+n),r.b('   rel="'),r.b(r.v(r.f("rel",t,e,0))),r.b('" href="'),r.b(r.v(r.f("link",t,e,0))),r.b('" target="'),r.b(r.v(r.f("linkTarget",t,e,0))),r.b('" title="'),r.b(r.v(r.f("hoverText",t,e,0))),r.b('"'),r.b("\n"+n),r.b("  >"),r.b(r.v(r.f("title",t,e,0))),r.b("</a>"),r.b("\n"+n),r.s(r.d("_is.sponsored",t,e,1),t,e,0,426,484,"{{ }}")&&(r.rs(t,e,function(t,e,n){n.b('<span class="wsl-sponsored-text">'),n.b(n.v(n.f("sponsoredText",t,e,0))),n.b("</span>")}),t.pop()),r.b("\n"),r.fl()},partials:{},subs:{}},'{{#_is.INLINE_ASTERISK}}\n  <i data-kind="{{kind}}" class="wsl-asterisk"></i>{{/_is.INLINE_ASTERISK}}{{^_is.INLINE_ASTERISK}}\n  <i data-kind="{{kind}}" class="wsl-icon"></i>\n{{/_is.INLINE_ASTERISK}}\n<span data-kind="{{kind}}" class="wsl-preview-call">{{call}}</span>\n<a class="wsl-anchor wsl-preview-inline-link"\n   rel="{{rel}}" href="{{link}}" target="{{linkTarget}}" title="{{hoverText}}"\n  >{{title}}</a>\n{{#_is.sponsored}}\n<span class="wsl-sponsored-text">{{sponsoredText}}</span>{{/_is.sponsored}}\n',r);return t.render.apply(t,arguments)}},function(t,e,n){!function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function r(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var r=1,i=t.length;r<i;r++)if(e.charAt(n+r)!=t.charAt(r))return!1;return!0}function i(e,n,r,s){var c=[],u=null,l=null,f=null;for(l=r[r.length-1];e.length>0;){if(f=e.shift(),l&&"<"==l.tag&&!(f.tag in w))throw new Error("Illegal content in < super tag.");if(t.tags[f.tag]<=t.tags.$||o(f,s))r.push(f),f.nodes=i(e,f.tag,r,s);else{if("/"==f.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+f.n);if(u=r.pop(),f.n!=u.n&&!a(f.n,u.n,s))throw new Error("Nesting error: "+u.n+" vs. "+f.n);return u.end=f.i,c}"\n"==f.tag&&(f.last=0==e.length||"\n"==e[0].tag)}c.push(f)}if(r.length>0)throw new Error("missing closing tag: "+r.pop().n);return c}function o(t,e){for(var n=0,r=e.length;n<r;n++)if(e[n].o==t.n)return t.tag="#",!0}function a(t,e,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==t&&n[r].o==e)return!0}function s(t){var e=[];for(var n in t)e.push('"'+u(n)+'": function(c,p,t,i) {'+t[n]+"}");return"{ "+e.join(",")+" }"}function c(t){var e=[];for(var n in t.partials)e.push('"'+u(n)+'":{name:"'+u(t.partials[n].name)+'", '+c(t.partials[n])+"}");return"partials: {"+e.join(",")+"}, subs: "+s(t.subs)}function u(t){return t.replace(y,"\\\\").replace(v,'\\"').replace(g,"\\n").replace(m,"\\r").replace(_,"\\u2028").replace(b,"\\u2029")}function l(t){return~t.indexOf(".")?"d":"f"}function f(t,e){var n="<"+(e.prefix||""),r=n+t.n+E++;return e.partials[r]={name:t.n,partials:{}},e.code+='t.b(t.rp("'+u(r)+'",c,p,"'+(t.indent||"")+'"));',r}function h(t,e){e.code+="t.b(t.t(t."+l(t.n)+'("'+u(t.n)+'",c,p,0)));'}function d(t){return"t.b("+t+");"}var p=/\S/,v=/\"/g,g=/\n/g,m=/\r/g,y=/\\/g,_=/\u2028/,b=/\u2029/;t.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},t.scan=function(i,o){function a(){d.length>0&&(v.push({tag:"_t",text:new String(d)}),d="")}function s(){for(var e=!0,n=y;n<v.length;n++)if(!(e=t.tags[v[n].tag]<t.tags._v||"_t"==v[n].tag&&null===v[n].text.match(p)))return!1;return e}function c(t,e){if(a(),t&&s())for(var n,r=y;r<v.length;r++)v[r].text&&((n=v[r+1])&&">"==n.tag&&(n.indent=v[r].text.toString()),v.splice(r,1));else e||v.push({tag:"\n"});g=!1,y=v.length}var u=i.length,l=0,f=null,h=null,d="",v=[],g=!1,m=0,y=0,_="{{",b="}}";for(o&&(o=o.split(" "),_=o[0],b=o[1]),m=0;m<u;m++)0==l?r(_,i,m)?(--m,a(),l=1):"\n"==i.charAt(m)?c(g):d+=i.charAt(m):1==l?(m+=_.length-1,h=t.tags[i.charAt(m+1)],f=h?i.charAt(m+1):"_v","="==f?(m=function(t,e){var r="="+b,i=t.indexOf(r,e),o=n(t.substring(t.indexOf("=",e)+1,i)).split(" ");return _=o[0],b=o[o.length-1],i+r.length-1}(i,m),l=0):(h&&m++,l=2),g=m):r(b,i,m)?(v.push({tag:f,n:n(d),otag:_,ctag:b,i:"/"==f?g-_.length:m+b.length}),d="",m+=b.length-1,l=0,"{"==f&&("}}"==b?m++:e(v[v.length-1]))):d+=i.charAt(m);return c(g,!0),v};var w={_t:!0,"\n":!0,$:!0,"/":!0};t.stringify=function(e,n,r){return"{code: function (c,p,i) { "+t.wrapMain(e.code)+" },"+c(e)+"}"};var E=0;t.generate=function(e,n,r){E=0;var i={code:"",subs:{},partials:{}};return t.walk(e,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},t.wrapMain=function(t){return'var t=this;t.b(i=i||"");'+t+"return t.fl();"},t.template=t.Template,t.makeTemplate=function(t,e,n){var r=this.makePartials(t);return r.code=new Function("c","p","i",this.wrapMain(t.code)),new this.template(r,e,this,n)},t.makePartials=function(t){var e,n={subs:{},partials:t.partials,name:t.name};for(e in n.partials)n.partials[e]=this.makePartials(n.partials[e]);for(e in t.subs)n.subs[e]=new Function("c","p","t","i",t.subs[e]);return n},t.codegen={"#":function(e,n){n.code+="if(t.s(t."+l(e.n)+'("'+u(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',t.walk(e.nodes,n),n.code+="});c.pop();}"},"^":function(e,n){n.code+="if(!t.s(t."+l(e.n)+'("'+u(e.n)+'",c,p,1),c,p,1,0,0,"")){',t.walk(e.nodes,n),n.code+="};"},">":f,"<":function(e,n){var r={partials:{},code:"",subs:{},inPartial:!0};t.walk(e.nodes,r);var i=n.partials[f(e,n)];i.subs=r.subs,i.partials=r.partials},$:function(e,n){var r={subs:{},code:"",partials:n.partials,prefix:e.n};t.walk(e.nodes,r),n.subs[e.n]=r.code,n.inPartial||(n.code+='t.sub("'+u(e.n)+'",c,p,i);')},"\n":function(t,e){e.code+=d('"\\n"'+(t.last?"":" + i"))},_v:function(t,e){e.code+="t.b(t.v(t."+l(t.n)+'("'+u(t.n)+'",c,p,0)));'},_t:function(t,e){e.code+=d('"'+u(t.text)+'"')},"{":h,"&":h},t.walk=function(e,n){for(var r,i=0,o=e.length;i<o;i++)(r=t.codegen[e[i].tag])&&r(e[i],n);return n},t.parse=function(t,e,n){return n=n||{},i(t,"",[],n.sectionTags||[])},t.cache={},t.cacheKey=function(t,e){return[t,!!e.asString,!!e.disableLambda,e.delimiters,!!e.modelGet].join("||")},t.compile=function(e,n){n=n||{};var r=t.cacheKey(e,n),i=this.cache[r];if(i){var o=i.partials;for(var a in o)delete o[a].instance;return i}return i=this.generate(this.parse(this.scan(e,n.delimiters),e,n),e,n),this.cache[r]=i}}(e)},function(t,e,n){!function(t){function e(t,e,n){var r;return e&&"object"==typeof e&&(void 0!==e[t]?r=e[t]:n&&e.get&&"function"==typeof e.get&&(r=e.get(t))),r}function n(t,e,n,r,i,o){function a(){}function s(){}a.prototype=t,s.prototype=t.subs;var c,u=new a;u.subs=new s,u.subsText={},u.buf="",r=r||{},u.stackSubs=r,u.subsText=o;for(c in e)r[c]||(r[c]=e[c]);for(c in r)u.subs[c]=r[c];i=i||{},u.stackPartials=i;for(c in n)i[c]||(i[c]=n[c]);for(c in i)u.partials[c]=i[c];return u}function r(t){return String(null===t||void 0===t?"":t)}function i(t){return t=r(t),l.test(t)?t.replace(o,"&amp;").replace(a,"&lt;").replace(s,"&gt;").replace(c,"&#39;").replace(u,"&quot;"):t}t.Template=function(t,e,n,r){t=t||{},this.r=t.code||this.r,this.c=n,this.options=r||{},this.text=e||"",this.partials=t.partials||{},this.subs=t.subs||{},this.buf=""},t.Template.prototype={r:function(t,e,n){return""},v:i,t:r,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},ep:function(t,e){var r=this.partials[t],i=e[r.name];if(r.instance&&r.base==i)return r.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[t].base=i,r.subs){e.stackText||(e.stackText={});for(key in r.subs)e.stackText[key]||(e.stackText[key]=void 0!==this.activeSub&&e.stackText[this.activeSub]?e.stackText[this.activeSub]:this.text);i=n(i,r.subs,r.partials,this.stackSubs,this.stackPartials,e.stackText)}return this.partials[t].instance=i,i},rp:function(t,e,n,r){var i=this.ep(t,n);return i?i.ri(e,n,r):""},rs:function(t,e,n){var r=t[t.length-1];if(!f(r))return void n(t,e,this);for(var i=0;i<r.length;i++)t.push(r[i]),n(t,e,this),t.pop()},s:function(t,e,n,r,i,o,a){var s;return(!f(t)||0!==t.length)&&("function"==typeof t&&(t=this.ms(t,e,n,r,i,o,a)),s=!!t,!r&&s&&e&&e.push("object"==typeof t?t:e[e.length-1]),s)},d:function(t,n,r,i){var o,a=t.split("."),s=this.f(a[0],n,r,i),c=this.options.modelGet,u=null;if("."===t&&f(n[n.length-2]))s=n[n.length-1];else for(var l=1;l<a.length;l++)o=e(a[l],s,c),void 0!==o?(u=s,s=o):s="";return!(i&&!s)&&(i||"function"!=typeof s||(n.push(u),s=this.mv(s,n,r),n.pop()),s)},f:function(t,n,r,i){for(var o=!1,a=null,s=!1,c=this.options.modelGet,u=n.length-1;u>=0;u--)if(a=n[u],void 0!==(o=e(t,a,c))){s=!0;break}return s?(i||"function"!=typeof o||(o=this.mv(o,n,r)),o):!i&&""},ls:function(t,e,n,i,o){var a=this.options.delimiters;return this.options.delimiters=o,this.b(this.ct(r(t.call(e,i)),e,n)),this.options.delimiters=a,!1},ct:function(t,e,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(t,this.options).render(e,n)},b:function(t){this.buf+=t},fl:function(){var t=this.buf;return this.buf="",t},ms:function(t,e,n,r,i,o,a){var s,c=e[e.length-1],u=t.call(c);return"function"==typeof u?!!r||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,n,s.substring(i,o),a)):u},mv:function(t,e,n){var i=e[e.length-1],o=t.call(i);return"function"==typeof o?this.ct(r(o.call(i)),i,n):o},sub:function(t,e,n,r){var i=this.subs[t];i&&(this.activeSub=t,i(e,n,this,r),this.activeSub=!1)}};var o=/&/g,a=/</g,s=/>/g,c=/\'/g,u=/\"/g,l=/[&<>\"\']/,f=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(e)},function(t,e,n){var r=n(20);t.exports=function(){var t=new r.Template({code:function(t,e,n){var r=this;return r.b(n=n||""),r.b('<div class="wsl-note-title">'),r.b("\n"+n),r.b("  "),r.s(r.d("_is.sponsored",t,e,1),t,e,0,49,128,"{{ }}")&&(r.rs(t,e,function(t,e,n){n.b('<span class="wsl-sponsored-text" title="'),n.b(n.v(n.f("hoverText",t,e,0))),n.b('">'),n.b(n.v(n.f("sponsoredText",t,e,0))),n.b("</span>")}),t.pop()),r.b("\n"+n),r.b('  <i data-kind="'),r.b(r.v(r.f("kind",t,e,0))),r.b('" class="wsl-asterisk"></i>'),r.b("\n"+n),r.b("  <span>"),r.b(r.v(r.f("title",t,e,0))),r.b("</span>"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b('<div data-kind="'),r.b(r.v(r.f("kind",t,e,0))),r.b('" class="wsl-note-call">'),r.b("\n"+n),r.b('  <a class="wsl-anchor wsl-preview-inline-link"'),r.b("\n"+n),r.b('     rel="'),r.b(r.v(r.f("rel",t,e,0))),r.b('" href="'),r.b(r.v(r.f("link",t,e,0))),r.b('" target="'),r.b(r.v(r.f("linkTarget",t,e,0))),r.b('" title="'),r.b(r.v(r.f("hoverText",t,e,0))),r.b('"'),r.b("\n"+n),r.b("    >+ "),r.b(r.v(r.f("call",t,e,0))),r.b("</a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<div class="wsl-note-title">\n  {{#_is.sponsored}}<span class="wsl-sponsored-text" title="{{hoverText}}">{{sponsoredText}}</span>{{/_is.sponsored}}\n  <i data-kind="{{kind}}" class="wsl-asterisk"></i>\n  <span>{{title}}</span>\n</div>\n<div data-kind="{{kind}}" class="wsl-note-call">\n  <a class="wsl-anchor wsl-preview-inline-link"\n     rel="{{rel}}" href="{{link}}" target="{{linkTarget}}" title="{{hoverText}}"\n    >+ {{call}}</a>\n</div>\n',r);return t.render.apply(t,arguments)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.d(e,"a",function(){return p});var a=n(19),s=n(17),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},l=n(110),f=n(111),h="História patrocinada via WorldSense",d=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.clickSource=s.a.FOOTER,t}return o(e,t),c(e,[{key:"initialize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.render()}},{key:"templateData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"templateData",this).call(this);return t.hoverText=h,t}},{key:"template",value:function(){return f}},{key:"install",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setLink",this).call(this,t);var n=this.model.get("customCreativeRange");n&&n.insertNode(this.el)}},{key:"className",get:function(){return"wsl-distribution wsl-distribution-footer"}}]),e}(a.a),p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.clickSource=s.a.HEADER,n.footer=new d(t),n}return o(e,t),c(e,[{key:"initialize",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.render()}},{key:"templateData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"templateData",this).call(this);return t.hoverText=h,t}},{key:"template",value:function(){return l}},{key:"install",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"install",this).call(this,t),this.$el.appendTo(t),this.footer.install(t)}},{key:"className",get:function(){return"wsl-distribution wsl-distribution-header"}}]),e}(a.a)},function(t,e,n){var r=n(20);t.exports=function(){var t=new r.Template({code:function(t,e,n){var r=this;return r.b(n=n||""),r.b("<span class='wsl-preview-call' title='"),r.b(r.v(r.f("hoverText",t,e,0))),r.b("'>"),r.b(r.v(r.f("title",t,e,0))),r.s(r.f("title",t,e,1),t,e,1,0,0,"")||r.b("Conteúdo original com distribuição patrocinada por"),r.b("</span>"),r.b("\n"+n),r.b('<a class="wsl-anchor wsl-preview-inline-link"'),r.b("\n"+n),r.b('   rel="'),r.b(r.v(r.f("rel",t,e,0))),r.b('" href="'),r.b(r.v(r.f("link",t,e,0))),r.b('" target="'),r.b(r.v(r.f("linkTarget",t,e,0))),r.b('" title="'),r.b(r.v(r.f("hoverText",t,e,0))),r.b('"'),r.b("\n"+n),r.b("  ><img src='"),r.b(r.v(r.f("thumbnailUrl",t,e,0))),r.b("' width='"),r.b(r.v(r.f("thumbnailWidth",t,e,0))),r.b("' height='"),r.b(r.v(r.f("thumbnailHeight",t,e,0))),r.b("' /></a>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<span class='wsl-preview-call' title='{{hoverText}}'>{{title}}{{^title}}Conteúdo original com distribuição patrocinada por{{/title}}</span>\n<a class=\"wsl-anchor wsl-preview-inline-link\"\n   rel=\"{{rel}}\" href=\"{{link}}\" target=\"{{linkTarget}}\" title=\"{{hoverText}}\"\n  ><img src='{{thumbnailUrl}}' width='{{thumbnailWidth}}' height='{{thumbnailHeight}}' /></a>\n",r);return t.render.apply(t,arguments)}},function(t,e,n){var r=n(20);t.exports=function(){var t=new r.Template({code:function(t,e,n){var r=this;return r.b(n=n||""),r.b('<a class="wsl-anchor wsl-preview-inline-link"'),r.b("\n"+n),r.b('   rel="'),r.b(r.v(r.f("rel",t,e,0))),r.b('" href="'),r.b(r.v(r.f("link",t,e,0))),r.b('" target="'),r.b(r.v(r.f("linkTarget",t,e,0))),r.b('" title="'),r.b(r.v(r.f("hoverText",t,e,0))),r.b('"'),r.b("\n"+n),r.b("  ><img src='"),r.b(r.v(r.f("thumbnailUrl",t,e,0))),r.b("' width='"),r.b(r.v(r.f("thumbnailWidth",t,e,0))),r.b("' height='"),r.b(r.v(r.f("thumbnailHeight",t,e,0))),r.b("' /></a>"),r.b("\n"+n),r.b("<span class='wsl-preview-call' title='"),r.b(r.v(r.f("hoverText",t,e,0))),r.b("'>"),r.b(r.v(r.f("description",t,e,0))),r.s(r.f("description",t,e,1),t,e,1,0,0,"")||r.b("Conteúdo original com distribuição patrocinada por"),r.b("</span>"),r.b("\n"),r.fl()},partials:{},subs:{}},"<a class=\"wsl-anchor wsl-preview-inline-link\"\n   rel=\"{{rel}}\" href=\"{{link}}\" target=\"{{linkTarget}}\" title=\"{{hoverText}}\"\n  ><img src='{{thumbnailUrl}}' width='{{thumbnailWidth}}' height='{{thumbnailHeight}}' /></a>\n<span class='wsl-preview-call' title='{{hoverText}}'>{{description}}{{^description}}Conteúdo original com distribuição patrocinada por{{/description}}</span>\n",r);return t.render.apply(t,arguments)}},function(t,e,n){"use strict";function r(t){return new O(t)}e.a=r;var i=n(3),o=n.n(i),a=n(13),s=n.n(a),c=n(4),u=n.n(c),l=n(0),f=n.n(l),h=n(2),d=n.n(h),p=n(39),v=n(10),g=n(27),m=n(113),y=n(17),_=n(7),b=n(38),w=n(36),E=n(18),C=n(37),x=n(42),S=n(118),R=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=d.a.get("ui/hyperlinker/view.js"),T=s.a.View.extend({tagName:function(){return this.model&&_.f(this.model.format())?"div":this.model&&!_.e(this.model.format())?"b":"a"},events:function(){return{mousedown:"onMouseDown",click:"onClick"}},initialize:function(t){this._href=null,this.doc=t.doc,this.report={result:"pending"},this.listenTo(this.model,"change",this.onModelChanged),this.listenTo(this.model,"remove destroy",this.remove),this.listenTo(this.model,E.a.INTERACTION,this.onInteraction),this._shouldRemove=!1},remove:function(){return this.$el.data("view",void 0),s.a.View.prototype.remove.apply(this,arguments)},_removeElement:function(){if(this._shouldRemove){var t=f.a.toArray(this.el.childNodes);this.$el.replaceWith(t)}else v.l(this.$el)},onInteraction:function(t){if(f.a.isFunction(this.el.dispatchEvent)){var e=new w.a(E.a.INTERACTION,{detail:t,bubbles:!0});this.el.dispatchEvent(e)}else this.$el.trigger(E.a.INTERACTION,t)},onModelChanged:function(t){var e=Object.keys(t.changed);1==e.length&&"concussed"===e[0]?this.onConcussed(t.changed.concussed):this.render()},render:function(){this.$el.data("view",this);var t=this.model.toJSON();v.m(this.$el,t),this._href=y.b(this.model,y.a.ANCHOR_TEXT),this._href&&this.model.isFinalUrlOverrideEnabled()&&(this.el.href=this._href,this._href=null)},onConcussed:function(t){t&&this.model.onConcussion()},resolveConflicts:function(t){var e=this;return this._ranges().tap(function(n){var r=R(n,2),i=r[0],o=r[1];e._resolveConflict(i,t,"range"),o&&e._resolveConflict(o,t,"customCreativeRange"),e.model.set({range:i,customCreativeRange:o})}).catch(function(t){return e._onError(t)}).thenReturn(this)},_onError:function(t){var e=t.message||t.toString();k.debug("Link injection failed with: "+e,t),this.report.result=this.model.get("range")?"dropped":"pruned",this.model.collection.remove(this.model)},_resolveConflict:function(t,e,n){var r=t.toString();f.a.has(e,r)||(e[r]=[]);var i=this.model.id,o=f.a.find(e[r],function(e){var n=e.range;return e.id!==i&&0===t.compareBoundaryPoints(Range.START_TO_START,n)&&0===t.compareBoundaryPoints(Range.END_TO_END,n)});if(o)throw new Error("Range "+n+" for "+i+" conflicts with model "+o.id);return e[r].push({id:this.model.get(this.model.idAttribute),range:t}),t},_injectIfPending:function(){return"pending"!==this.report.result?o.a.resolve(this.report):this._inject(this.model.get("range")).bind(this).catch(this._onError).thenReturn(this.report)},_inject:o.a.method(function(t){if(this.model.get("scanned")){var e=this.doc.createElement(this.tagName());e.innerHTML=this.el.innerHTML,this.el.parentNode.replaceChild(e,this.el),this.setElement(e),this.render(),this.report.result="preexisting"}else if(_.f(this.model.format()))this.render(),t.insertNode(this.el),this._shouldRemove=!0,this.report.result="inserted";else{var n=u()(t.commonAncestorContainer).closest("A");if(n.text()===this.model.anchorText())this.setElement(n[0]),this.render();else{if(n.length>0)throw new Error("Nested anchor with mismatched text for "+this.model.id);this.render(),t.surroundContents(this.el),this._shouldRemove=!0}this.report.result="inserted"}b.install(this),this.$el.trigger(E.a.INSTALL)}),_ranges:o.a.method(function(){if(!this.model.isValid())throw new Error("Validation failed for "+this.model.id+": "+this.model.validationError);var t=this.model.position(),e=this._deserialize(t,"position"),n=this.model.customCreativePosition(),r=Object(C.a)(n)?o.a.resolve(null):this._deserialize(n,"customCreativePosition");return o.a.join(e,r)}),_deserialize:function(t,e){var n=this,r=this.model.anchorId();return m.a(t||{},this.doc,r).then(function(i){if(!f.a.isObject(i)){var o=void 0;try{o=JSON.stringify(t)}catch(e){k.debug("Unexpected error serializing position",e),o=t.originalText}throw new Error('Position "'+e+'" is invalid for '+r+": cannot deserialize "+o)}if(i.collapsed&&!_.f(n.model.format()))throw new Error("Format "+n.model.format()+" does not support collapsed range for "+n.model.id);return i})},onMouseDown:function(t){this._href&&t.target.href&&(t.target.href=this._href)},onClick:p.a(function(t){if(1===t.which&&this.model&&_.e(this.model.format()))return this.model.onClick(y.a.ANCHOR_TEXT,t.target.href)})},{get:function(t,e){e=e||document;var n=f.a.isFinite(t)?g.a(e.body,t):t;return u()(n).data("view")}}),O=s.a.View.extend({initialize:function(t){this.doc=u()(t.el).prop("ownerDocument"),this.docUrl=t.docUrl,this._useDfp=t.dfp},newView:function(t){var e=t.get(t.idAttribute),n=T.get(e);if(!n){var r={doc:this.doc,docUrl:this.docUrl,model:t};t.get("scanned")&&(r.el=g.a(this.doc.body,e)),n=new T(r)}return n},_injectHyperlinks:function(){k.time("injectHyperlinks time");var t={},e=f.a.sortBy(this.collection.models,function(t){return-t.get("creationEpochMilliseconds")||0});return o.a.mapSeries(e,f.a.bind(this.newView,this)).mapSeries(function(e){return e.model.get("scanned")?e:e.resolveConflicts(t)}).mapSeries(function(t){return t._injectIfPending()}).then(function(t){var e=f.a.countBy(t,"result");return f.a.defaults(e,{inserted:0,pruned:0,dropped:0})}).tap(function(t){k.timeEnd("injectHyperlinks time"),k.debug("Injected",t.inserted,"hyperlinks. Dropped",t.dropped,"hyperlinks. Pruned",t.pruned,"hyperlinks.")}).catch(function(t){throw k.debug("Injection failed",t),t})},_injectIconStyles:o.a.method(function(){return x.b(this.doc)}),render:o.a.method(function(){return this._injectHyperlinks().bind(this).then(function(t){var e=this._useDfp?O.applyDfpToLinks(this.doc,this.collection):o.a.resolve(0);return o.a.join(t,e,this._injectIconStyles())}).spread(function(t,e){return t.dfpTracked=e,t})})},{applyDfpToLinks:function(t,e){return S.a(t,e.models)}})},function(t,e,n){"use strict";function r(t,e){if(!C.a.isObject(t))return P.debug("Native range is not an object"),!1;var n=R.b(t.toString()),r=R.b(e.originalText);return n===r||(P.debug('Range text mismatch. Native range text "',n,'" does not equal serialized range text "',r,'".'),!1)}function i(t,e){if(!r(t,e)){var n;try{n=JSON.stringify(e)}catch(t){n=e.originalText}throw new Error("Failed to retrieve a native DOM range with matching text from serialized range: "+n)}return t}function o(t){t.moveStart("character",1),t.moveStart("character",-1),t.moveEnd("character",-1),t.moveEnd("character",1)}function a(t){if(t.canSurroundContents())return void P.debug("Range can already surround contents with a DOM node");var e=t.toString(),n=t.getNodes([3]);if(0===n.length)throw new Error('Abnormal state for range over "'+e+'": no text nodes found');if(t.selectNode(n[0],n[n.length-1]),t.findText(e,{withinRange:t}),!t.canSurroundContents())throw new Error('Failed to contract range over "'+e+'"');P.debug("Successfully contracted range to surround contents with a DOM node")}function s(t,e,n){var r=n.startOffset,s=n.endOffset;if(!C.a.isNumber(r)||r<0)throw new Error("Start offset is non-numeric or negative");if(!C.a.isNumber(s)||s<0)throw new Error("End offset is non-numeric or negative");var c=n.startNodeSelector,u=w()(c,e);if(0===u.length)return P.debug("Null content node with CSS selector:",c),null;var l=t.createRange(e);return l.selectCharacters(u[0],r,s),o(l),a(l),i(l.nativeRange,n)}function c(t){var e=_.a.tokenize(t)[0];return C.a.pluck(e,"value")}function u(t){var e=c(t);return e.pop(),e.join("").trim()}function l(t){return c(t).shift()}function f(t,e,n){for(var s=n.startNodeSelector,c=n.regexpSelector,f=[s],h=s;f.length<3&&!C.a.isEmpty(h);)h=u(h),f.push(h);C.a.isEmpty(s)||f.push(l(s)),f.push("body");var d=null;return C.a.find(C.a.uniq(f),function(i){if(C.a.isEmpty(i))return!1;var s=w()(i,e);return 1===s.length&&(P.debug("Performing regexp search under unique CSS selector",i),d=A.a(t,e,c,s[0]),C.a.isObject(d))?(o(d),a(d),r(d.nativeRange,n)):(P.debug("Discarding CSS selector",i,"with element length",s.length),!1)}),i(C.a.isObject(d)?d.nativeRange:null,n)}function h(t){var e=t.regexpSelector;if(C.a.isEmpty(e))throw new Error('Invalid pattern for regexp selection: "'+e+'"');return e}function d(t){var e=t.startNodeSelector,n=t.endNodeSelector;if(C.a.isEmpty(e))throw new Error("Start node CSS selector is empty");if(C.a.isEmpty(n))throw new Error("End node CSS selector is empty");if(e!==n)throw new Error("Multi-node start and end selectors are not supported");return e}function p(t,e,n){var r=n.startOffset,i=n.startNodeSelector,o=w()(i,e);if(0===o.length)throw new Error('No content node with CSS selector: "'+i+'"');var a=t.createRange(e);return a.selectCharacters(o[0],r,r),a.collapse(),a}function v(t,e,n){return""===n.originalText&&n.startNodeSelector===n.endNodeSelector&&n.startOffset===n.endOffset?(P.debug("Range is collapsed, returning a collapsed range."),p(t,e,n)):s(t,e,n)}function g(t,e,n,r){n=n||document,P.debug("Attempting to deserialize",e);var i=null,o=null,a=null,s={thisArg:this,logger:P,options:{fingerprint:["{{ default }}",e.originalText]}};return o=N.a.capturing(d,s)(e),a=N.a.capturing(h,s)(e),t.noMutation(function(){if(!C.a.isNull(o))try{i=v(t,n,e)}catch(t){P.debug("CSS selector-offset flow failed with",t)}if(!C.a.isNull(a))try{i=i||f(t,n,e)}catch(t){j.c(t,r),P.debug("Regexp selector flow failed with",t)}}),i}function m(t,e,n){return P.time("rangedeserializer.deserialize"),T()().then(function(r){return g(r,t,e,n)}).tap(function(){P.timeEnd("rangedeserializer.deserialize")})}e.a=m;var y=n(22),_=n.n(y),b=n(4),w=n.n(b),E=n(0),C=n.n(E),x=n(2),S=n.n(x),R=n(41),k=n(114),T=n.n(k),O=n(5),N=n.n(O),A=n(116),j=n(14),P=S.a.get("rangedeserializer.js")},function(t,e,n){"use strict";var r,i;r=[n(3),n(0),n(26),n(43),n(115)],void 0!==(i=function(t,e,n,r){if(r.config.autoInitialize)throw new Error('rangy.config.autoInitialize is true and this module relies on auto-initialization being explicitly turned off. Ensure that the global "rangyAutoInitialize" is false before importing rangy-core');return e.once(function(){return new t(function(t,i){r.addInitListener(e.partial(t,r)),n.onInteractive(document).then(function(){return r.init(),null}).catch(function(t){i(t)})})})}.apply(e,r))&&(t.exports=i)},function(t,e,n){var r,i,o;!function(a,s){i=[n(43)],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(function(t){return t.createModule("TextRange",["WrappedSelection"],function(t,e){function n(t,e){function n(t,e,n){s.push({start:t,end:e,isWord:n})}for(var r,i,o,a=t.join(""),s=[],c=0;r=e.wordRegex.exec(a);){if(i=r.index,o=i+r[0].length,i>c&&n(c,i,!1),e.includeTrailingSpace)for(;tt.test(t[o]);)++o;n(i,o,!0),c=o}return c<t.length&&n(c,t.length,!1),s}function r(t,e){for(var n=t.slice(e.start,e.end),r={isWord:e.isWord,chars:n,toString:function(){return n.join("")}},i=0,o=n.length;i<o;++i)n[i].token=r;return r}function i(t,e,n){for(var i,o=n(t,e),a=[],s=0;i=o[s++];)a.push(r(t,i));return a}function o(t){var e=t||"",n="string"==typeof e?e.split(""):e;return n.sort(function(t,e){return t.charCodeAt(0)-e.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}function a(t){var e,n;return t?(e=t.language||et,n={},K(n,ot[e]||ot[et]),K(n,t),n):ot[et]}function s(t,e){var n=Y(t,e);return e.hasOwnProperty("wordOptions")&&(n.wordOptions=a(n.wordOptions)),e.hasOwnProperty("characterOptions")&&(n.characterOptions=Y(n.characterOptions,rt)),n}function c(t,e){var n=lt(t,"display",e),r=t.tagName.toLowerCase();return"block"==n&&$&&ft.hasOwnProperty(r)?ft[r]:n}function u(t){for(var e=p(t),n=0,r=e.length;n<r;++n)if(1==e[n].nodeType&&"none"==c(e[n]))return!0;return!1}function l(t){var e;return 3==t.nodeType&&(e=t.parentNode)&&"hidden"==lt(e,"visibility")}function f(t){return t&&(1==t.nodeType&&!/^(inline(-block|-table)?|none)$/.test(c(t))||9==t.nodeType||11==t.nodeType)}function h(t){return q.isCharacterDataNode(t)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(t.nodeName)}function d(t){for(var e=[];t.parentNode;)e.unshift(t.parentNode),t=t.parentNode;return e}function p(t){return d(t).concat([t])}function v(t){for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}function g(t,e){return!e&&t.hasChildNodes()?t.firstChild:v(t)}function m(t){var e=t.previousSibling;if(e){for(t=e;t.hasChildNodes();)t=t.lastChild;return t}var n=t.parentNode;return n&&1==n.nodeType?n:null}function y(t){if(!t||3!=t.nodeType)return!1;var e=t.data;if(""===e)return!0;var n=t.parentNode;if(!n||1!=n.nodeType)return!1;var r=lt(t.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(e)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(e)&&"pre-line"==r}function _(t){return""===t.data||!!y(t)&&(!t.parentNode||!!u(t))}function b(t){var e=t.nodeType;return 7==e||8==e||u(t)||/^(script|style)$/i.test(t.nodeName)||l(t)||_(t)}function w(t){var e=t.nodeType;return 7==e||8==e||/^(script|style)$/i.test(t.nodeName)||_(t)}function E(t,e){var n=t.nodeType;return 7==n||8==n||1==n&&"none"==c(t,e)}function C(){this.store={}}function x(t,e,n){return function(r){var i=this.cache;if(i.hasOwnProperty(t))return ht++,i[t];dt++;var o=e.call(this,n?this[n]:this,r);return i[t]=o,o}}function S(t,e){this.node=t,this.session=e,this.cache=new C,this.positions=new C}function R(t,e){this.offset=e,this.nodeWrapper=t,this.node=t.node,this.session=t.session,this.cache=new C}function k(){return"[Position("+q.inspectNode(this.node)+":"+this.offset+")]"}function T(){return N(),gt=new mt}function O(){return gt||T()}function N(){gt&&gt.detach(),gt=null}function A(t,n,r,i){function o(){var t=null;return n?(t=s,c||(s=s.previousVisible(),c=!s||r&&s.equals(r))):c||(t=s=s.nextVisible(),c=!s||r&&s.equals(r)),c&&(s=null),t}r&&(n?b(r.node)&&(r=t.previousVisible()):b(r.node)&&(r=r.nextVisible()));var a,s=t,c=!1,u=!1;return{next:function(){if(u)return u=!1,a;for(var t;t=o();)if(t.getCharacter(i))return a=t,t;return null},rewind:function(){if(!a)throw e.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");u=!0},dispose:function(){t=r=null}}}function j(t,e,n){function r(t){for(var e,n,r=[],i=t?o:a,s=!1,c=!1;e=i.next();){if(n=e.character,Z.test(n))c&&(c=!1,s=!0);else{if(s){i.rewind();break}c=!0}r.push(e)}return r}var o=A(t,!1,null,e),a=A(t,!0,null,e),s=n.tokenizer,c=r(!0),u=r(!1).reverse(),l=i(u.concat(c),n,s),f=c.length?l.slice(yt(l,c[0].token)):[],h=u.length?l.slice(0,yt(l,u.pop().token)+1):[];return{nextEndToken:function(){for(var t,e;1==f.length&&!(t=f[0]).isWord&&(e=r(!0)).length>0;)f=i(t.chars.concat(e),n,s);return f.shift()},previousStartToken:function(){for(var t,e;1==h.length&&!(t=h[0]).isWord&&(e=r(!1)).length>0;)h=i(e.reverse().concat(t.chars),n,s);return h.pop()},dispose:function(){o.dispose(),a.dispose(),f=h=null}}}function P(t,e,n,r,i){var o,a,s,c,u=0,l=t,f=Math.abs(n);if(0!==n){var h=n<0;switch(e){case V:for(a=A(t,h,null,r);(o=a.next())&&u<f;)++u,l=o;s=o,a.dispose();break;case z:for(var d=j(t,r,i),p=h?d.previousStartToken:d.nextEndToken;(c=p())&&u<f;)c.isWord&&(++u,l=h?c.chars[0]:c.chars[c.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+e+"' not implemented")}h?(l=l.previousVisible(),u=-u):l&&l.isLeadingSpace&&!l.isTrailingSpace&&(e==z&&(a=A(t,!1,null,r),s=a.next(),a.dispose()),s&&(l=s.previousVisible()))}return{position:l,unitsMoved:u}}function I(t,e,n,r){var i=t.getRangeBoundaryPosition(e,!0),o=t.getRangeBoundaryPosition(e,!1);return A(r?o:i,!!r,r?i:o,n)}function D(t,e,n){for(var r,i=[],o=I(t,e,n);r=o.next();)i.push(r);return o.dispose(),i}function F(e,n,r){var i=t.createRange(e.node);return i.setStartAndEnd(e.node,e.offset,n.node,n.offset),!i.expand("word",{wordOptions:r})}function L(t,e,n,r,i){function o(t,e){var n=v[t].previousVisible(),r=v[e-1];return{startPos:n,endPos:r,valid:!i.wholeWordsOnly||F(n,r,i.wordOptions)}}for(var a,s,c,u,l,f,h=nt(i.direction),d=A(t,h,t.session.getRangeBoundaryPosition(r,h),i.characterOptions),p="",v=[],g=null;a=d.next();)if(s=a.character,n||i.caseSensitive||(s=s.toLowerCase()),h?(v.unshift(a),p=s+p):(v.push(a),p+=s),n){if(l=e.exec(p))if(c=l.index,u=c+l[0].length,f){if(!h&&u<p.length||h&&c>0){g=o(c,u);break}}else f=!0}else if(-1!=(c=p.indexOf(e))){g=o(c,c+e.length);break}return f&&(g=o(c,u)),d.dispose(),g}function M(t){return function(){var e=!!gt,n=O(),r=[n].concat(G.toArray(arguments)),i=t.apply(this,r);return e||N(),i}}function B(t,e){return M(function(n,r,i,o){typeof i==W&&(i=r,r=V),o=s(o,st);var a=t;e&&(a=i>=0,this.collapse(!a));var c=P(n.getRangeBoundaryPosition(this,a),r,i,o.characterOptions,o.wordOptions),u=c.position;return this[a?"setStart":"setEnd"](u.node,u.offset),c.unitsMoved})}function U(t){return M(function(e,n){n=Y(n,rt);for(var r,i=I(e,this,n,!t),o=0;(r=i.next())&&Z.test(r.character);)++o;i.dispose();var a=o>0;return a&&this[t?"moveStart":"moveEnd"]("character",t?o:-o,{characterOptions:n}),a})}function H(t){return M(function(e,n){var r=!1;return this.changeEachRange(function(e){r=e[t](n)||r}),r})}var $,W="undefined",V="character",z="word",q=t.dom,G=t.util,K=G.extend,Y=G.createOptions,J=q.getBody,X=/^[ \t\f\r\n]+$/,Q=/^[ \t\f\r]+$/,Z=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,tt=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,et="en",nt=t.Selection.isDirectionBackward,rt={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},it={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0},ot={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:n}},at={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},st={wordOptions:null,characterOptions:null},ct={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},ut={wordOptions:null,characterOptions:null,direction:"forward"},lt=q.getComputedStyleProperty;!function(){var t=document.createElement("table"),e=J(document);e.appendChild(t),$="block"==lt(t,"display"),e.removeChild(t)}();var ft={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};C.prototype={get:function(t){return this.store.hasOwnProperty(t)?this.store[t]:null},set:function(t,e){return this.store[t]=e}};var ht=0,dt=0,pt={getPosition:function(t){var e=this.positions;return e.get(t)||e.set(t,new R(this,t))},toString:function(){return"[NodeWrapper("+q.inspectNode(this.node)+")]"}};S.prototype=pt,K(pt,{isCharacterDataNode:x("isCharacterDataNode",q.isCharacterDataNode,"node"),getNodeIndex:x("nodeIndex",q.getNodeIndex,"node"),getLength:x("nodeLength",q.getNodeLength,"node"),containsPositions:x("containsPositions",h,"node"),isWhitespace:x("isWhitespace",y,"node"),isCollapsedWhitespace:x("isCollapsedWhitespace",_,"node"),getComputedDisplay:x("computedDisplay",c,"node"),isCollapsed:x("collapsed",b,"node"),isIgnored:x("ignored",E,"node"),isIgnorableTextContainer:x("isIgnorableTextContainer",w,"node"),next:x("nextPos",g,"node"),previous:x("previous",m,"node"),getTextNodeInfo:x("textNodeInfo",function(t){var e=null,n=!1,r=lt(t.parentNode,"whiteSpace"),i="pre-line"==r;return i?(e=Q,n=!0):"normal"!=r&&"nowrap"!=r||(e=X,n=!0),{node:t,text:t.data,spaceRegex:e,collapseSpaces:n,preLine:i}},"node"),hasInnerText:x("hasInnerText",function(t,e){for(var n=this.session,r=n.getPosition(t.parentNode,this.getNodeIndex()+1),i=n.getPosition(t,0),o=e?r:i,a=e?i:r;o!==a;){if(o.prepopulateChar(),o.isDefinitelyNonEmpty())return!0;o=e?o.previousVisible():o.nextVisible()}return!1},"node"),isRenderedBlock:x("isRenderedBlock",function(t){for(var e=t.getElementsByTagName("br"),n=0,r=e.length;n<r;++n)if(!b(e[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:x("trailingSpace",function(t){if("br"==t.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var e=t.lastChild;e;){if(!E(e))return 1==e.nodeType?this.session.getNodeWrapper(e).getTrailingSpace():"";e=e.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:x("leadingSpace",function(t){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var vt={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var t=this;if(!t.prepopulatedChar){var e=t.node,n=t.offset,r="",i="EMPTY",o=!1;if(n>0)if(3==e.nodeType){var a=e.data,s=a.charAt(n-1),c=t.nodeWrapper.getTextNodeInfo(),u=c.spaceRegex;c.collapseSpaces?u.test(s)?n>1&&u.test(a.charAt(n-2))||(c.preLine&&"\n"===a.charAt(n)?(r=" ",i="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(r=" ",i="COLLAPSIBLE_SPACE")):(r=s,i="NON_SPACE",o=!0):(r=s,i="UNCOLLAPSIBLE_SPACE",o=!0)}else{var l=e.childNodes[n-1];if(l&&1==l.nodeType&&!b(l)&&("br"==l.tagName.toLowerCase()?(r="\n",t.isBr=!0,i="COLLAPSIBLE_SPACE",o=!1):t.checkForTrailingSpace=!0),!r){var f=e.childNodes[n];f&&1==f.nodeType&&!b(f)&&(t.checkForLeadingSpace=!0)}}t.prepopulatedChar=!0,t.character=r,t.characterType=i,t.isCharInvariant=o}},isDefinitelyNonEmpty:function(){var t=this.characterType;return"NON_SPACE"==t||"UNCOLLAPSIBLE_SPACE"==t},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();t&&(this.isTrailingSpace=!0,this.character=t,this.characterType="COLLAPSIBLE_SPACE"),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();e&&(this.isLeadingSpace=!0,this.character=e,this.characterType="COLLAPSIBLE_SPACE"),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(t){for(var e=this;e=e.previousVisible();)if(""!==e.getCharacter(t))return e;return null},getCharacter:function(t){function e(){return h||(u=d.getPrecedingUncollapsedPosition(t),h=!0),u}this.resolveLeadingAndTrailingSpaces();var n=this.character,r=o(t.ignoreCharacters),i=""!==n&&r.indexOf(n)>-1;if(this.isCharInvariant)return i?"":n;var a=["character",t.includeSpaceBeforeBr,t.includeBlockContentTrailingSpace,t.includePreLineTrailingSpace,r].join("_"),s=this.cache.get(a);if(null!==s)return s;var c,u,l="",f="COLLAPSIBLE_SPACE"==this.characterType,h=!1,d=this;return f&&("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type?l="\n":" "==n&&(!e()||u.isTrailingSpace||"\n"==u.character||" "==u.character&&"COLLAPSIBLE_SPACE"==u.characterType)||("\n"==n&&this.isLeadingSpace?e()&&"\n"!=u.character&&(l="\n"):(c=this.nextUncollapsed())&&(c.isBr?this.type="TRAILING_SPACE_BEFORE_BR":c.isTrailingSpace&&"\n"==c.character?this.type="TRAILING_SPACE_IN_BLOCK":c.isLeadingSpace&&"\n"==c.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==c.character?("TRAILING_SPACE_BEFORE_BR"!=this.type||t.includeSpaceBeforeBr)&&("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||t.includeSpaceBeforeBlock)&&("TRAILING_SPACE_IN_BLOCK"==this.type&&c.isTrailingSpace&&!t.includeBlockContentTrailingSpace||("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=c.type||t.includePreLineTrailingSpace)&&("\n"==n?c.isTrailingSpace?this.isTrailingSpace||this.isBr&&(c.type="TRAILING_LINE_BREAK_AFTER_BR",e()&&u.isLeadingSpace&&!u.isTrailingSpace&&"\n"==u.character?c.character="":c.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):l="\n":" "==n&&(l=" "))):l=n))),r.indexOf(l)>-1&&(l=""),this.cache.set(a,l),l},equals:function(t){return!!t&&this.node===t.node&&this.offset===t.offset},inspect:k,toString:function(){return this.character}};R.prototype=vt,K(vt,{next:x("nextPos",function(t){var e=t.nodeWrapper,n=t.node,r=t.offset,i=e.session;if(!n)return null;var o,a,s;return r==e.getLength()?(o=n.parentNode,a=o?e.getNodeIndex()+1:0):e.isCharacterDataNode()?(o=n,a=r+1):(s=n.childNodes[r],i.getNodeWrapper(s).containsPositions()?(o=s,a=0):(o=n,a=r+1)),o?i.getPosition(o,a):null}),previous:x("previous",function(t){var e,n,r,i=t.nodeWrapper,o=t.node,a=t.offset,s=i.session;return 0==a?(e=o.parentNode,n=e?i.getNodeIndex():0):i.isCharacterDataNode()?(e=o,n=a-1):(r=o.childNodes[a-1],s.getNodeWrapper(r).containsPositions()?(e=r,n=q.getNodeLength(r)):(e=o,n=a-1)),e?s.getPosition(e,n):null}),nextVisible:x("nextVisible",function(t){var e=t.next();if(!e)return null;var n=e.nodeWrapper,r=e.node,i=e;return n.isIgnorableTextContainer()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:x("nextUncollapsed",function(t){for(var e=t;e=e.nextVisible();)if(e.resolveLeadingAndTrailingSpaces(),""!==e.character)return e;return null}),previousVisible:x("previousVisible",function(t){var e=t.previous();if(!e)return null;var n=e.nodeWrapper,r=e.node,i=e;return n.isIgnorableTextContainer()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var gt=null,mt=function(){function t(t){var e=new C;return{get:function(n){var r=e.get(n[t]);if(r)for(var i,o=0;i=r[o++];)if(i.node===n)return i;return null},set:function(n){var r=n.node[t];(e.get(r)||e.set(r,[])).push(n)}}}function e(){this.initCaches()}var n=G.isHostProperty(document.documentElement,"uniqueID");return e.prototype={initCaches:function(){this.elementCache=n?function(){var t=new C;return{get:function(e){return t.get(e.uniqueID)},set:function(e){t.set(e.node.uniqueID,e)}}}():t("tagName"),this.textNodeCache=t("data"),this.otherNodeCache=t("nodeName")},getNodeWrapper:function(t){var e;switch(t.nodeType){case 1:e=this.elementCache;break;case 3:e=this.textNodeCache;break;default:e=this.otherNodeCache}var n=e.get(t);return n||(n=new S(t,this),e.set(n)),n},getPosition:function(t,e){return this.getNodeWrapper(t).getPosition(e)},getRangeBoundaryPosition:function(t,e){var n=e?"start":"end";return this.getPosition(t[n+"Container"],t[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},e}();K(q,{nextNode:g,previousNode:m});var yt=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return n;return-1};K(t.rangePrototype,{moveStart:B(!0,!1),moveEnd:B(!1,!1),move:B(!0,!0),trimStart:U(!0),trimEnd:U(!1),trim:M(function(t,e){var n=this.trimStart(e),r=this.trimEnd(e);return n||r}),expand:M(function(t,e,n){var r=!1;n=s(n,ct);var i=n.characterOptions;if(e||(e=V),e==z){var o,a,c=n.wordOptions,u=t.getRangeBoundaryPosition(this,!0),l=t.getRangeBoundaryPosition(this,!1),f=j(u,i,c),h=f.nextEndToken(),d=h.chars[0].previousVisible();return o=this.collapsed?h:j(l,i,c).previousStartToken(),a=o.chars[o.chars.length-1],d.equals(u)||(this.setStart(d.node,d.offset),r=!0),a&&!a.equals(l)&&(this.setEnd(a.node,a.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(V,1,n)}),text:M(function(t,e){return this.collapsed?"":D(t,this,Y(e,rt)).join("")}),selectCharacters:M(function(t,e,n,r,i){var o={characterOptions:i};e||(e=J(this.getDocument())),this.selectNodeContents(e),this.collapse(!0),this.moveStart("character",n,o),this.collapse(!0),this.moveEnd("character",r-n,o)}),toCharacterRange:M(function(t,e,n){e||(e=J(this.getDocument()));var r,i,o=e.parentNode,a=q.getNodeIndex(e),s=-1==q.comparePoints(this.startContainer,this.endContainer,o,a),c=this.cloneRange();return s?(c.setStartAndEnd(this.startContainer,this.startOffset,o,a),r=-c.text(n).length):(c.setStartAndEnd(o,a,this.startContainer,this.startOffset),r=c.text(n).length),i=r+this.text(n).length,{start:r,end:i}}),findText:M(function(e,n,r){r=s(r,at),r.wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var i=nt(r.direction),o=r.withinRange;o||(o=t.createRange(this.getDocument()),o.selectNodeContents(this.getDocument()));var a=n,c=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):c=!0;var u=e.getRangeBoundaryPosition(this,!i),l=o.comparePoint(u.node,u.offset);-1===l?u=e.getRangeBoundaryPosition(o,!0):1===l&&(u=e.getRangeBoundaryPosition(o,!1));for(var f,h=u,d=!1;;)if(f=L(h,a,c,o,r)){if(f.valid)return this.setStartAndEnd(f.startPos.node,f.startPos.offset,f.endPos.node,f.endPos.offset),!0;h=i?f.startPos:f.endPos}else{if(!r.wrap||d)return!1;o=o.cloneRange(),h=e.getRangeBoundaryPosition(o,!i),o.setBoundary(u.node,u.offset,i),d=!0}}),pasteHtml:function(t){if(this.deleteContents(),t){var e=this.createContextualFragment(t),n=e.lastChild;this.insertNode(e),this.collapseAfter(n)}}}),K(t.selectionPrototype,{expand:M(function(t,e,n){this.changeEachRange(function(t){t.expand(e,n)})}),move:M(function(t,e,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var o=this.getRangeAt(0);r||(r={}),r.characterOptions=Y(r.characterOptions,it),i=o.move(e,n,r),this.setSingleRange(o)}return i}),trimStart:H("trimStart"),trimEnd:H("trimEnd"),trim:H("trim"),selectCharacters:M(function(e,n,r,i,o,a){var s=t.createRange(n);s.selectCharacters(n,r,i,a),this.setSingleRange(s,o)}),saveCharacterRanges:M(function(t,e,n){for(var r=this.getAllRanges(),i=r.length,o=[],a=1==i&&this.isBackward(),s=0,c=r.length;s<c;++s)o[s]={characterRange:r[s].toCharacterRange(e,n),backward:a,characterOptions:n};return o}),restoreCharacterRanges:M(function(e,n,r){this.removeAllRanges();for(var i,o,a,s=0,c=r.length;s<c;++s)o=r[s],a=o.characterRange,i=t.createRange(n),i.selectCharacters(n,a.start,a.end,o.characterOptions),this.addRange(i,o.backward)}),text:M(function(t,e){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(e);return n.join("")})}),t.innerText=function(e,n){var r=t.createRange(e);return r.selectNodeContents(e),r.text(n)},t.createWordIterator=function(t,e,n){var r=O();n=s(n,ut);var i=r.getPosition(t,e),o=j(i,n.characterOptions,n.wordOptions),a=nt(n.direction);return{next:function(){return a?o.previousStartToken():o.nextEndToken()},dispose:function(){o.dispose(),this.next=function(){}}}},t.noMutation=function(t){t(O()),N()},t.noMutation.createEntryPointFunction=M,t.textRange={isBlockNode:f,isCollapsedWhitespaceNode:_,createPosition:M(function(t,e,n){return t.getPosition(e,n)})}}),t})},function(t,e,n){"use strict";function r(t,e,n,r){s.time("createRangeFromRegexpSelector");var i=t.createRange(e);i.selectNode(e.body);var o=t.createRange(e);o.selectNodeContents(r||e.body);var a=null,c=0,u=new RegExp(n);try{for(;i.findText(u,{withinRange:o});)a=i.cloneRange(),i.collapse(!1),c+=1}catch(t){if(!/getComputedStyle/.test(t.message))throw t;s.debug("Swallowing exception due to lack of window object associated with document.")}if(1!==c)return null;var l=u.exec(a.text());return l&&4===l.length?(a.moveStart("character",l[1].length),a.moveEnd("character",-1*l[3].length),s.timeEnd("createRangeFromRegexpSelector"),s.debug("Created range successfully from pattern",n),a):(s.error("Failed to extract capturing groups for regexp",u,"applied over text",a.text()),null)}e.a=r;var i=n(2),o=n.n(i),a=n(117),s=(n.n(a),o.a.get("regexpselector.js"))},function(t,e,n){"use strict";var r,i;r=[n(3),n(4),n(0),n(2)],void 0!==(i=function(t,e,n,r){var i=r.get("util.js"),o={};return o.echo=function(t){return i.debug("Echo test function called"),t},o.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},o.strEndsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},o.strStartsWith=function(t,e){return 0===t.indexOf(e)},o.randomNodeId=function(){return"id"+Math.random().toFixed(12).toString().replace(".","0").substr(0,14)},o.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},o.createWordRegExp=function(t,e){var n=/^[\u00C0-\u017F]/.test(t),r=/[\u00C0-\u017F]$/.test(t),i=o.escapeRegExp(t),a=(n?"":"\\b")+i+(r?"":"\\b");return new RegExp(a,e)},o.MAX_SAFE_INTEGER=Number.hasOwnProperty("MAX_SAFE_INTEGER")?Number.MAX_SAFE_INTEGER:9007199254740991,o.randomInt=function(t,e,n){if(t=void 0!==t?t:0,e=void 0!==e?e:o.MAX_SAFE_INTEGER,n)return t+Math.floor(n()*(Number(e)-t+1));var r=new Uint32Array(2);window.crypto.getRandomValues(r);var i=Math.pow(2,21)-1;return((r[0]&i)*Math.pow(2,32)+r[1])%(e-t+1)+t},o.extractBody=function(t){var e=/<body.*?>([\s\S]*)<\/body>/.exec(t);return n.isObject(e)&&2===e.length&&n.isString(e[1])?e[1]:t},o.noopPromise=t.method(n.noop),o}.apply(e,r))&&(t.exports=i)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=new y.URL(t);return e.pathname=e.pathname.replace("trackclk","trackimp"),e}function s(t){var e=["pli","ord"],n=t.href.match(b);if(!f.a.isEmpty(n)&&e.every(function(e){return t.searchParams.has(e)})){var r=new y.URL(f.a.first(n));r.protocol="https";var i=r.searchParams;return i.set("cn","display"),i.set("c",19),i.set("mc","imp"),i.set("PluID",0),i.set("rtu",-1),e.forEach(function(e){i.set(e,t.searchParams.get(e))}),r}return null}function c(t){var e=t.anchorId(),n=t.parsedCreative();if(!n)return _.debug("skipping model without parsed creative",e),[];var r=[{anchorId:e,url:n.view_url}];try{var i=new y.URL(n.dest_url),o=null;b.test(i.href)?o=s(i):w.test(i.href)&&(o=a(i)),f.a.isNull(o)||r.push({anchorId:e,url:o.href})}catch(t){_.debug("Failed appending the custom tracking URL for "+e,t),m.a.captureException(t)}return r}function u(t,e){return d.a.map(e,c).then(function(t){return f.a.flatten(t)}).map(function(e){return new d.a(function(n,r){var i=e.anchorId,o=t.createElement("iframe");o.frameBorder="0",o.width="0",o.height="0",o.onload=f.a.partial(n,{anchorId:i,iframe:o}),o.onerror=function(){r(new E(i,"Failed tracker iframe creation"))},o.src=e.url,_.debug("Dispatching impression "+o.src+" for anchor ID "+i),t.body.appendChild(o)}).reflect()}).map(function(t){return t.isFulfilled()?{value:t.value()}:{error:t.reason()}}).tap(function(t){var e=f.a.chain(t).pluck("error").compact().value();if(e.length>0){_.debug(e);var n=f.a.pluck(e,"anchorId").join(", ");m.a.captureException(new Error("Failed impression tracking for anchor ID(s) "+n))}}).then(function(t){var e=f.a.chain(t).pluck("value").compact();return e.pluck("iframe").invoke("remove"),e.pluck("anchorId").uniq().value().length})}e.a=u;var l=n(0),f=n.n(l),h=n(3),d=n.n(h),p=n(2),v=n.n(p),g=n(5),m=n.n(g),y=n(16),_=(n.n(y),v.a.get("app/ui/hyperlinker/impressions")),b=/^https?:\/\/bs\.serving-sys\.com\/serving\/adServer\.bs/,w=/^https:\/\/ad\.doubleclick\.net\/ddm\/trackclk\//,E=function(t){function e(t,n){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),e}(Error)},function(t,e,n){var r=n(120);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0};i.transform=void 0,i.insertInto=void 0,n(122)(r,i),r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(121)(!1),e.push([t.i,'.wsl-anchor[data-wsl-format="1"]:after,.wsl-icon:before{display:inline-block;height:1em;width:1em;margin:0 0 0 .3em;vertical-align:middle;content:"";background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 360.284 360.27601\' height=\'360.276\' width=\'360.284\'%3E%3Cg fill=\'%2340bfb3\'%3E%3Cpath d=\'M44.114 335.383c-10.596 0-19.221-8.637-19.221-19.22V70.772c0-10.607 8.625-19.221 19.22-19.221h120.951V26.659H44.114C19.79 26.66 0 46.44 0 70.773v245.39c0 24.322 19.79 44.113 44.114 44.113h245.389c24.335 0 44.113-19.79 44.113-44.114v-118.66h-24.88v118.66c0 10.584-8.626 19.221-19.233 19.221H44.113z\'/%3E%3Cpath d=\'M325.057 0H221.868v24.88h94.136L94.511 250.635l17.75 17.441L335.39 40.661v100.033h24.893V35.215C360.284 10.868 349.416 0 325.057 0\'/%3E%3C/g%3E%3C/svg%3E");background-size:cover;position:relative}.wsl-icon:before{top:-1px;font-size:.66em}.wsl-icon[data-kind=sponsored]:before,.wsl-sponsored-link[data-wsl-format="1"]:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 360.284 360.27601\' height=\'360.276\' width=\'360.284\'%3E%3Cg fill=\'%23f68b11\'%3E%3Cpath d=\'M44.114 335.383c-10.596 0-19.221-8.637-19.221-19.22V70.772c0-10.607 8.625-19.221 19.22-19.221h120.951V26.659H44.114C19.79 26.66 0 46.44 0 70.773v245.39c0 24.322 19.79 44.113 44.114 44.113h245.389c24.335 0 44.113-19.79 44.113-44.114v-118.66h-24.88v118.66c0 10.584-8.626 19.221-19.233 19.221H44.113z\'/%3E%3Cpath d=\'M325.057 0H221.868v24.88h94.136L94.511 250.635l17.75 17.441L335.39 40.661v100.033h24.893V35.215C360.284 10.868 349.416 0 325.057 0\'/%3E%3C/g%3E%3C/svg%3E")}.wsl-anchor[data-wsl-format="2"]:after,.wsl-anchor[data-wsl-format="3"]:after,.wsl-asterisk:before{display:inline-block;font-size:.4375em;line-height:normal;height:1em;width:1em;margin:.5em 0 0;vertical-align:top;content:"";background-size:contain}.wsl-anchor.wsl-sponsored-link[data-wsl-format="2"]:after,.wsl-anchor.wsl-sponsored-link[data-wsl-format="3"]:after,.wsl-asterisk[data-kind=sponsored]:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width=\'7\' height=\'7\' viewBox=\'0 0 7 7\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Ctitle%3EAsterist%3C/title%3E%3Cpath d=\'M.081 5.245a.601.601 0 0 0 .507.261c.094 0 .2-.02.295-.073L2.91 4.409v2.069c0 .292.259.522.589.522.33 0 .59-.23.59-.522V4.409l2.027 1.034a.584.584 0 0 0 .295.073c.2 0 .4-.094.507-.26.165-.252.07-.565-.212-.711L4.679 3.5l2.028-1.034c.283-.147.377-.46.212-.71-.165-.252-.519-.335-.802-.189L4.09 2.591V.522C4.09.23 3.83 0 3.5 0c-.33 0-.59.23-.59.522v2.069L.884 1.557C.6 1.41.234 1.494.08 1.745c-.165.25-.07.564.212.71L2.321 3.5.293 4.534c-.27.147-.377.46-.212.71z\' fill=\'%23FFA700\'/%3E%3C/svg%3E")}body[data-wsl-2723] .wsl-concussion-pending .wsl-icon:before,body[data-wsl-2723] a.wsl-anchor.wsl-concussion-pending:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 360.284 360.27601\' height=\'360.276\' width=\'360.284\'%3E%3Cg fill=\'%23999\'%3E%3Cpath d=\'M44.114 335.383c-10.596 0-19.221-8.637-19.221-19.22V70.772c0-10.607 8.625-19.221 19.22-19.221h120.951V26.659H44.114C19.79 26.66 0 46.44 0 70.773v245.39c0 24.322 19.79 44.113 44.114 44.113h245.389c24.335 0 44.113-19.79 44.113-44.114v-118.66h-24.88v118.66c0 10.584-8.626 19.221-19.233 19.221H44.113z\'/%3E%3Cpath d=\'M325.057 0H221.868v24.88h94.136L94.511 250.635l17.75 17.441L335.39 40.661v100.033h24.893V35.215C360.284 10.868 349.416 0 325.057 0\'/%3E%3C/g%3E%3C/svg%3E")}.wsl-anchor[data-wsl-format="0"]:after,.wsl-anchor[data-wsl-format="1"]:after{top:-.5em;font-size:.53em}.wsl-asterisk,.wsl-inline-container[data-wsl-format="2"] .wsl-preview-call,b.wsl-anchor{font-weight:bolder}div.wsl-adunit,div.wsl-adunit>*{display:inline;visibility:hidden;position:absolute}.wsl-inline-container{display:inline!important;white-space:nowrap!important}.wsl-distribution[data-wsl-kind=sponsored],.wsl-inline-container[data-wsl-kind=sponsored]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none}.wsl-inline-container[data-wsl-format="1"],.wsl-inline-container[data-wsl-format="2"] .wsl-preview-inline-link{font-style:italic!important}.wsl-inline-container[data-wsl-format="1"]:before,.wsl-inline-container[data-wsl-format="2"]:before{content:" (";display:inline}.wsl-inline-container[data-wsl-format="1"]:after,.wsl-inline-container[data-wsl-format="2"]:after{content:")";display:inline}.wsl-inline-container a,.wsl-inline-container span{display:inline!important;white-space:normal!important}.wsl-inline-container .wsl-note-title span.wsl-sponsored-text{width:auto!important;width:fit-content!important}.wsl-inline-container .wsl-sponsored-text:before{display:inline;content:"\\2013   "}.wsl-inline-container[data-wsl-format="3"]{display:block!important;border-width:1px!important;border-left-style:solid!important;margin:1em 0!important;padding:.5em 1em!important}.wsl-note-title{padding-bottom:1em!important}.wsl-inline-container[data-wsl-format="3"] .wsl-sponsored-text:before{display:none}.wsl-inline-container[data-wsl-format="3"] .wsl-sponsored-text{float:right;font-weight:bolder!important;font-size:80%!important;line-height:140%!important;margin-left:1em!important;color:inherit;text-transform:uppercase}body[data-wsl-2723~=parens] .wsl-inline-container:after,body[data-wsl-2723~=parens] .wsl-inline-container:before{content:""}body[data-wsl-2723] .wsl-inline-container .wsl-sponsored-text,body[data-wsl-2723] a.wsl-anchor{transition:all .5s ease-in}body[data-wsl-2723~=font] .wsl-inline-container.wsl-concussion-pending .wsl-anchor,body[data-wsl-2723~=font] a.wsl-anchor.wsl-concussion-pending{font-family:inherit!important;font-size:inherit!important;font-weight:inherit!important}body[data-wsl-2723~=link] .wsl-inline-container.wsl-concussion-pending .wsl-anchor,body[data-wsl-2723~=link] a.wsl-anchor.wsl-concussion-pending{text-decoration:inherit!important;cursor:inherit!important}body[data-wsl-2723~=color] .wsl-inline-container.wsl-concussion-pending .wsl-anchor,body[data-wsl-2723~=color] a.wsl-anchor.wsl-concussion-pending{color:inherit!important}body[data-wsl-2723] .wsl-inline-container .wsl-sponsored-text:before{display:none}body[data-wsl-2723] .wsl-inline-container .wsl-sponsored-text{font-style:normal!important;display:inline-block!important;color:#f68b11!important;border:1px solid!important;text-transform:uppercase!important;border-radius:.3em!important;font-size:.58em!important;line-height:1em!important;padding:4px!important;vertical-align:middle}body[data-wsl-2723~=color] .wsl-concussion-pending.wsl-inline-container .wsl-sponsored-text{color:inherit!important}.wsl-anchor[data-wsl-format="4"]{clear:both;display:block;font-weight:400}.wsl-distribution{display:flex;flex-direction:row;justify-content:start;align-items:center;align-content:end}.wsl-distribution .wsl-preview-call{text-transform:uppercase;overflow:hidden;text-overflow:ellipsis;font-size:90%}.wsl-distribution>*{margin-left:2vw}.wsl-distribution>:first-child{margin-left:0}',""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(l(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s=o[1],c=o[2],u=o[3],l={css:s,media:c,sourceMap:u};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(t,e){var n=m(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=m(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),u(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=_++;n=y||(y=s(e)),r=f.bind(null,n,u,!1),i=f.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),r=d.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=h.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},v=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){return document.querySelector(t)},m=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=g.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),y=null,_=0,b=[],w=n(123);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=v()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=p[s.id];c.refs--,o.push(c)}t&&r(i(t,e),e);for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete p[c.id]}}}};var E=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}}]);
//# sourceMappingURL=hyperlinker.2946d6d1e94000aa5954.js.map