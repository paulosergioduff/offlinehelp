(function(){var ha={scope:{},getGlobal:function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c}};ha.global=ha.getGlobal(this);ha.initSymbol=function(){ha.global.Symbol||(ha.global.Symbol=ha.Symbol);ha.initSymbol=function(){}};ha.symbolCounter_=0;ha.Symbol=function(c){return"jscomp_symbol_"+c+ha.symbolCounter_++};ha.initSymbolIterator=function(){ha.initSymbol();ha.global.Symbol.iterator||(ha.global.Symbol.iterator=ha.global.Symbol("iterator"));ha.initSymbolIterator=function(){}};
ha.makeIterator=function(c){ha.initSymbolIterator();if(c[ha.global.Symbol.iterator])return c[ha.global.Symbol.iterator]();if(!(c instanceof Array||"string"==typeof c||c instanceof String))throw new TypeError(c+" is not iterable");var e=0;return{next:function(){return e==c.length?{done:!0}:{done:!1,value:c[e++]}}}};ha.arrayFromIterator=function(c){for(var e,l=[];!(e=c.next()).done;)l.push(e.value);return l};ha.arrayFromIterable=function(c){return c instanceof Array?c:ha.arrayFromIterator(ha.makeIterator(c))};
ha.arrayFromArguments=function(c){for(var e=[],l=0;l<c.length;l++)e.push(c[l]);return e};ha.inherits=function(c,e){function l(){}l.prototype=e.prototype;c.prototype=new l;c.prototype.constructor=c;for(var n in e)if(ha.global.Object.defineProperties){var w=ha.global.Object.getOwnPropertyDescriptor(e,n);void 0!==w&&ha.global.Object.defineProperty(c,n,w)}else c[n]=e[n]};var sa={};
function ya(c){for(var e=window.frameElement,l=window;e;)e=e.ownerDocument,l=e.defaultView,(c||function(){})(e),e=l.frameElement;return l}function za(c,e){var l=e||document,n=c.split("/").join("\\/");return Array.prototype.map.call(l.querySelectorAll(n),function(c){return c})}sa.eachDocument=ya;sa.find=za;sa.findRecursiveUp=function(c){var e=za(c);ya(function(l){e=e.concat(za(c,l))});return e};var Ba={};function Fa(c,e,l,n){(function(w){var I=this,J=arguments;c[e]=function(){var c;n&&(c=w.apply(I,J));l.apply(I,J);n||(c=w.apply(I,J));return c}})(c[e])}Ba.hookBefore=function(c,e,l){Fa(c,e,l,!0)};Ba.hookAfter=function(c,e,l){Fa(c,e,l,!1)};(function(){function c(){}function e(){}function l(){function b(){var b=window.frameElement,a=window;for(m=0;b;)m++,a=b.ownerDocument.defaultView,b=a.frameElement;return a}function d(b){return new RegExp("[\\[]"+b+"[\\]]","gi")}function a(b){return encodeURIComponent(b).replace(/[!'()*]/g,function(b){return"%"+b.charCodeAt(0).toString(16)})}function f(b,d,m){if(-1===b.indexOf(d))return b;var c=b.substr(b.indexOf(d),b.indexOf("]",b.indexOf(d))-b.indexOf(d)+1),u=0<=c.indexOf("|")?parseInt(c.split("|")[1].slice(0,
-1),10):0;b=0===u?b.replace(c,a(m)):b.replace(c,a(m.substr(0,u)));0<=b.indexOf(d)&&(b=f(b,d,m));return b}var u={},D={timeOffset:0,assetUri:"",pageUri:"",pageTitle:"",techVersion:"",videoData:{}},c={},m=0;u.errorCode=function(b,f){if(!f)return b;c.ERRORCODE=a(f);return b.replace(d("(errorcode)"),a(f))};u.w=function(k){if(!k)return k;var u;if(u=D.timeOffset){var W=new Date(null);W.setSeconds(u);u=W.toISOString().substr(11,8)+".000"}else u=!1;c.CONTENTPLAYHEAD=a(u||"00:00:00.000");k=k.replace(d("(contentplayhead)"),
a(u||"00:00:00.000"));if(u=D.assetUri)k=k.replace(d("(asseturi)"),a(u)),k=f(k,"[ASSETURI",u),c.ASSETURI=a(u);if(u=D.pageUri)k=k.replace(d("(pageuri)"),a(u)),k=f(k,"[PAGEURI",u),c.PAGEURI=a(u);if(u=D.pageTitle)k=k.replace(d("(pagetitle)"),a(u)),c.PAGETITLE=a(u);if(u=D.techVersion)k=k.replace(d("(techversion|sdk_version)"),a(u)),c.TECHVERSION=a(u);u=d("(cachebusting|cache_?buster|rand(om|num))");W=a(Math.round(1E8*Math.random()));c.CACHEBUSTING=W;c.CACHEBUSTER=W;k=k.replace(u,W);W=new Date;u=W.toISOString();
W=W.getTimezoneOffset()/60;W=W.toString().split("");2===W.length&&W.splice(1,0,"0");W=W.join("");u=u.replace("Z",W);c.TIMESTAMP=a(u);k=k.replace(d("(timestamp)"),a(u));u="Unknown OS";-1!=navigator.appVersion.indexOf("Win")&&(u="Windows");-1!=navigator.appVersion.indexOf("Mac")&&(u="MacOS");-1!=navigator.appVersion.indexOf("X11")&&(u="UNIX");-1!=navigator.appVersion.indexOf("Linux")&&(u="Linux");k=k.replace(d("(USERAGENT)"),a(navigator.userAgent));k=k.replace(d("(OS)"),u);k=k.replace(d("(os_version|OSVERSION)"),
"unknown");c.USERAGENT=a(navigator.userAgent);c.OS=u;c.OSVERSION="unknown";b();c.FRAMEDEPTH=m;k=k.replace(d("(FRAMEDEPTH)"),m);if(u=D.videoData)k=k.replace(d("(dimension)"),a(u.width+"x"+u.height)),k=k.replace(d("(player_width|PLAYERWIDTH)"),a(u.width)),k=k.replace(d("(player_height|PLAYERHEIGHT)"),a(u.height)),c.PLAYERWIDTH=a(u.width),c.PLAYERHEIGHT=a(u.height);u=b().innerWidth||b().document.documentElement.clientWidth||b().document.body.clientWidth;W=b().innerHeight||b().document.documentElement.clientHeight||
b().document.body.clientHeight;c.SCREENRES=a(u+"x"+W);k=k.replace(d("(screen_res|screenres)"),a(u+"x"+W));u=g.bb();c.ALLOWINSWIPE=a(u);k=k.replace(d("(ALLOWINSWIPE)"),u);u=g.bb();c.FIF=a(u);k=k.replace(d("(FIF)"),u);return k.trim()};u.getCurrentModel=function(){var b={};Object.keys(c).forEach(function(a){b["["+a+"]"]=c[a]});return b};u.setValueFor=function(b,a){D[b]=a;c[b.toUpperCase()]&&(c[b.toUpperCase()]=a)};(function(){var a=b().location.href,d=b().document.title;window.Gc&&(a=window.context.location.href,
d=window.context.Sc);u.setValueFor("pageUri",a);u.setValueFor("pageTitle",d);u.setValueFor("techVersion",[E.IDENTIFIER,E.API_VERSION,E.API_BUILD].join("|"))})();return u}function n(b,d,a){function f(b,a){var d={};e.prototype.apply(this);var f=function(b,a){var d=-1!==String(b).indexOf("onTrack")?a:null,d=null===d?b:"AdVideo"+(d[0].toUpperCase()+d.slice(1));"AdVideoResume"===d&&(d="AdVideoPlay");"AdVideoImpression"===d&&(d="AdImpression");"AdVideoSkip"===d&&(d="AdSkipped");this.dispatchEvent(d,a)}.bind(this);
d.adManager=b;d.handshakeVersion=function(){return"2.0"};d.initAd=function(a,d,u,c,m,D){if(D&&D.rules)for(a=D.rules.length-1;0<=a;a--)g.eb(D.rules[a])&&b.addRuleToRuleSet(D.rules[a]);b.registerGlobalEventDispatcher(f)};d.startAd=function(){b.start()};d.stopAd=function(){b.destroy()};d.skipAd=function(){this.dispatchEvent("AdSkipped");b.skipAd()}.bind(this);d.resizeAd=function(d,f,u){a.style.width=parseInt(d,10)+"px";a.style.height=parseInt(f,10)+"px";b.resize(d,f,u)};d.pauseAd=function(){b.pauseAd()};
d.resumeAd=function(){b.resumeAd()};d.expandAd=function(){};d.collapseAd=function(){};d.setAdVolume=function(a){b.setAdVolume(a)};d.getAdVolume=function(){return b.getAdVolume()};d.getSlot=function(){return b.getSlot()};d.getVideoSlot=function(){return b.getVideoSlot()};d.subscribe=function(b,a,d){this.addEventListener(a,b,d);return b}.bind(this);d.unsubscribe=function(b,a){this.removeEventListener(a,b)}.bind(this);return d}if(!b.getAttribute("data-ois-instance-id")){b.setAttribute("data-ois-instance-id",
h.length);var u=null;d.displaySlot&&d.displaySlot.nodeType&&(u=d.displaySlot);"string"===typeof d.displaySlot&&(u=g.find(d.displaySlot)[0]||null);var c=new S(b,u),u=new J(d),c=new I(c,u),U=new f(c,b),m={adManager:c,config:u};p.forEach(function(a){a(U,b,d,m)});h.push({da:U,element:b,dc:d,adManager:c,v:u});(a||Function)()}return h[b.getAttribute("data-ois-instance-id")].da}function w(b){function d(b){var a=0,d=0;try{if(b.offsetParent)for(a=b.offsetLeft,d=b.offsetTop;(b=b.offsetParent)&&"BODY"!==b.tagName.toUpperCase();)a+=
b.offsetLeft,d+=b.offsetTop}catch(f){}return{left:a,top:d}}var a={i:{width:0,height:0,left:0,top:0},f:{width:0,height:0,left:0,top:0},R:!1,A:0,Ma:0,Na:0,La:0},f=[],u="ois_"+g.Ra().split("-").join(""),c,U;this.K=function(){"undefined"==typeof U&&(U=window.self===window.top?window.self:window.top);if("undefined"==typeof c)try{c=U.document}catch(g){c=window.document}a.i={width:c.documentElement.clientWidth||U.innerWidth||c.body.clientWidth,height:c.documentElement.clientHeight||U.innerHeight||c.body.clientHeight,
left:U.scrollX||c.documentElement.scrollLeft||c.body.scrollLeft,top:U.scrollY||c.documentElement.scrollTop||c.body.scrollTop};var m=d(b);if(window.self!==window.top)try{var k;a:{var A=top.document.getElementsByTagName("iframe"),W;for(W in A)try{if(A[W].contentWindow[u]){k=A[W];break a}}catch(g){}k=void 0}var H=d(k);m.left+=H.left;m.top+=H.top}catch(g){}a.f={width:b.offsetWidth,height:b.offsetHeight,left:m.left,top:m.top};a.i.left>=a.f.left+a.f.width||a.i.top>=a.f.top+a.f.height||a.f.left>=a.i.left+
a.i.width||a.f.top>=a.i.top+a.i.height?(a.A=0,a.R=!1):0>=a.f.width||0>=a.f.height?(a.A=0,a.R=!1):a.f.left>=a.i.left&&a.f.top>=a.i.top&&a.f.left+a.f.width<=a.i.left+a.i.width&&a.f.top+a.f.height<=a.i.top+a.i.height?(a.A=100,a.R=!0):(m=a.f.width,k=a.f.height,a.f.left<a.i.left?m=a.f.width-(a.i.left-a.f.left):a.f.left+a.f.width>a.i.width+a.i.left&&(m=a.i.width-(a.f.left-a.i.left)),a.f.top<a.i.top?k=a.f.height-(a.i.top-a.f.top):a.f.top+a.f.height>a.i.height+a.i.top&&(k=a.i.height-(a.f.top-a.i.top)),a.A=
Math.floor(m*k/(a.f.width*a.f.height)*100),0<a.A&&(a.R=!0));1==a.R?(a.Ma+=.25,a.Na=.25):a.Na=0;a.La+=.25;f.push(a.R);return a};window[u]=u}function I(b,d){function a(){x.b(1010);x.b(1020);x.b(1030);x.b("AdCompanionsDetected");x.b("AdLoaded");x.b("AdSlotStarted",W);x.b("AdSlotComplete",W);x.b("START_LINEAR",W);x.b("START_NONLINEAR",W);x.b("AdStopped",W);b.b("CONTROLS_ON",W);b.b("CONTROLS_OFF",W);b.g("play,pause,ended,timeupdate,volumechange,error,durationchange",U)}function f(){e=b.h("currentSrc");
t=b.h("currentSrcType");g.B(b.h("currentSrc"))&&(d.Uc=g.tc(b.h("currentSrc")));r.log(101,e)}function u(){return e?b.h("currentSrc")==e:!0}function c(a){a="object"===typeof a?a.info:a;!1!==a&&(a=!0);r.log(100,a);b.setControls(a)}function U(a){"timeupdate"!=a.type&&r.log(101,a.type);switch(a.type){case 1030:var U=b.h("currentTime");0!=U&&u()&&(ca=Number(Number(U).toFixed(1)));m(!1);c(!1);k(!0);break;case 1020:m()?y&&A():(e&&0<e.length&&b.ha({url:e,type:t},null==ca||0==ca||y?!1:ca,y),y&&A(),m(!0),c(!0),
k(!1))}if(!0===k())switch(a.type){case "play":case "error":if(!q&&"error"===a.type&&(r.log(102,b.h("error")),x&&!x.ba())){x.na(!1,401);break}if(a=p.$(0))f(),e&&b.M(),x.startAd(a);!0===q&&(q=!1,f(),k(!1))}else switch(a.type){case "error":r.log(102,a.type,b.h("src"));!x||u()&&!x.ba()||x.ba()||x.na();break;case "timeupdate":a=b.h("duration");U=b.h("currentTime");!k()&&U>d.overlayDelay&&U<a-5&&u()&&(p.vc(a),a=p.$(U))&&("fixedroll"==a.type&&(f(),x.startAd(a)),"overlay"!=a.type||g.Ja&&null===b.getVideoSlot().getAttribute("webkit-playsinline")||
x.startAd(a));a=b.h("duration");U=b.h("currentTime");U<a&&U>a-1&&u()&&g.I&&(p.Ob(a)?(B=1,(a=p.$(a))?(f(),x.startAd(a)):(x.ba()&&x.ca(),A())):Ka=!0);break;case "ended":if(!g.I&&u()&&(y=!0,(a=p.$(b.h("duration")))?(f(),x.startAd(a)):(x.ba()&&x.ca(),A()),b.M()),u()&&g.I&&1==B)B=2;else if(u()&&g.I&&2==B||Ka)A(),B=3}}function m(b){if(void 0!=b)h=b;else return h}function k(b){if(void 0!=b)H=b;else return H}function A(){r.log(104);b.M();if(d.onFinish)d.onFinish();a()}function W(a){if(ja[a.type])ja[a.type](a);
switch(a.type){case "AdSlotStarted":b.lb(!0);break;case "AdSlotComplete":b.lb(!1);break;case "AdStopped":p.$b()&&W({type:"BLOCK_DONE"})}}var H=!0,h=!1,ja={},x,p,e,t,ca=null,y=!1,B=!1,Ka=!1,q=!0,l=new g.j.s;this.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher;this.destroy=function(){x&&(r.log(105),x.wb()&&x.ca(),a())};this.start=function(){var a=b.h("currentSrc");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&k()&&!a?U({type:"play"}):b.O()};this.onAdLoadCompleteCallback=function(b){x&&
x.a("AdLoaded",g.D(b)?b:function(){})};this.setControllerEvents=function(b){ja=b};this.Lb=function(){return b.Lb()};this.pauseAd=function(){x.pauseAd()};this.resumeAd=function(){x.resumeAd()};this.resize=function(a,d,f){var k=document.createEvent("HTMLEvents");k.initEvent("resize",!0,!1);b.getVideoSlot().dispatchEvent(k);x.resizeAd(a,d,f)};this.addRuleToRuleSet=function(b){x.addRuleToRuleSet(b)};this.removeRules=function(b){return x.removeRules(b)};this.setAutoplay=function(b){x.setAutoplay(b)};this.startLinear=
function(b){x.startLinear(b)};this.setVpaidAd=function(b){x.setVpaidAd(b)};this.triggerEvent=function(b,a){l.triggerEvent(b,a)};this.clickThrough=function(){x.clickThrough()};this.trackingController=function(){return x.trackingController()};this.skipAd=function(){x.skipAd()};this.setAdVolume=function(b){x.setAdVolume(b)};this.getAdVolume=function(){return x.getAdVolume()};this.startAd=function(b){x.startAd(b)};this.getAdConfig=function(){return x.getAdConfig()};this.isVPAID=function(){return x.isVPAID()};
this.getSlot=function(){return x.getSlot()};this.getVideoSlot=function(){return x.getVideoSlot()};this.startAds=function(b){x.startAds(b)};this.trackErrorAndRestartAd=function(b){x.na(!0);p.reset();(b=p.$(b||0))&&"fixedroll"==b.type&&(1<b.tag.length&&0===b.urls.length&&(b.urls.unshift(b.tag),b.limit=b.urls.length),x.ca())};r.log(109,E.API_VERSION);p=new O(d);x=new F(b,d);x.registerGlobalEventDispatcher(l.C);b.registerGlobalEventDispatcher(l.C);x.a(1010,c);x.a(1020,U);x.a(1030,U);x.a("AdCompanionsDetected",
function(b){r.log(103);if(d.onCompanion)d.onCompanion(b.info);d.companionCallback&&d.companionCallback(b.info)});x.a("AdSlotStarted",W);x.a("AdSlotComplete",W);x.a("START_LINEAR",W);x.a("START_NONLINEAR",W);x.a("AdStopped",W);b.a("CONTROLS_ON",W);b.a("CONTROLS_OFF",W);b.m("play,pause,ended,timeupdate,volumechange,error,durationchange",U)}function J(b){function d(){for(var b in m)"undefined"!==typeof k[b]&&(k[b]=a(m[b],k.ea[b]))}function a(b,d){switch(typeof d){case "number":return!b||isNaN(parseInt(b,
10))?d:parseInt(b,10);case "object":for(var f in d)b[f]=b[f]?a(b[f],d[f]):d[f];break;default:if(void 0===b||null===b)return d}return b}function f(){4==A.readyState&&(200==A.status?u():k.H&&k.H(k))}function u(){k.ma({});if(k.onConfigLoaded)k.onConfigLoaded(k)}function c(){k.H&&k.H(k)}var U={key:"",adResponse:"",preroll:"",midroll:"",postroll:"",overlay:"",fixedroll:"",fixedrolls:[],overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,customControls:!1,urlhandler:"",blockInsecureURL:!0,maxWrapperDepth:10,
prefetchBuffets:!1,adVerification:{meetrics:!1},skipButtonPosition:"top",skipButtonText:"Skip this Ad",styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"left",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",borderRadius:"3px"},buttonStyle:{width:"80px",height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",borderRadius:"3px",lineHeight:"0px",textAlign:"center"}},
onCompanion:null,companionCallback:null,onTrack:function(){},onFinish:null,vpaidSingleVideoSlotMode:!0,qb:"",vastExtensions:{},ib:!0},m=b,k=this;k.ea=U;var A;this.Jb=function(){return k};this.ma=function(b){m=b;d();g.ab(b)&&(k.onConfigLoaded=b.onConfigLoaded,k.H=b.H,k.gb(b.externalConfigXml))};this.gb=function(b){b=g.urlEnrichment.w(b);A=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest;window.XDomainRequest?(A.onload=u,A.onerror=c,A.open("GET",b)):(A.open("GET",b,!0),A.onreadystatechange=
f);A.send()};this.H=this.onConfigLoaded=null;this.id="test";(function(){k.ea=U;for(var b in k.ea)k[b]=k.ea[b]})();d();g.ab(b)&&(k.onConfigLoaded=b.onConfigLoaded,k.H=b.H,k.gb(b.externalConfigXml))}function X(){function b(b){var d=a.filter(function(a){return a.hasOwnProperty(b)});if(!(1>=d.length)){var f=a.filter(function(a){return!a.hasOwnProperty(b)}),d=d.map(function(a){return a[b]}).join("|");if(-1===d.indexOf("true")||-1===d.indexOf("false")){var c={};c[b]=d;f.push(c)}a=f}}var d=new g.j.s;g.Mb();
var a=[],f=g.Ib();this.a=d.a;this.b=d.b;this.registerGlobalEventDispatcher=d.registerGlobalEventDispatcher;this.addRule=function(d){if("type"===Object.keys(d).shift()||"format"===Object.keys(d).shift())a.push(d);else return b("type"),b("format"),b("scalable"),b("maintainaspectratio"),a=a.concat([d]).reduce(function(b,a,d){var f=Object.keys(a).shift();f in b.keys?b.result[b.keys[f]]=a:(b.keys[f]=d,b.result.push(a));return b},{result:[],keys:{}}).result,this};this.removeRule=function(b){a=a.filter(function(a){return Object.keys(a).shift()!==
b})};this.Wa=function(){b("type");b("format");b("scalable");b("maintainaspectratio");return a};this.ac=function(){a.push({delivery:"progressive"});for(var b in f)f.hasOwnProperty(b)&&a.push({type:f[b].Da});a.push({type:g.la});a.push({format:window.ois.MediaFileFormat.WIDE});a.push({width:5E3});a.push({bitrate:g.xa()||5E3});a.push({apiFramework:"VPAID"})};this.ac()}function S(b,d){function a(a){"play"!==a.type||b.commercial||(e=!1);"pause"!==a.type||b.commercial||(e=!0)}function f(){ca.m(b,"timeupdate,ended",
u);if(!1===ja){r.log(805);ca.g(b,"timeupdate,ended",u);U(H);b.load();x();var a=b.play();void 0!==a&&a.then(function(){},function(){});fa=!1}}function u(a){"timeupdate"===a.type&&0<b.seekable.length&&(ja=!0,b.seekable.end(0)>=b.duration&&6E3!==b.duration&&100!==b.duration&&(r.log(803,b.duration),b.currentTime=b.duration,ca.g(b,"timeupdate",u)));"ended"===a.type&&(r.log(804,a.type),U(H),b.load(),x(),a=b.play(),void 0!==a&&a.then(function(){},function(){}),ca.g(b,"ended",u),fa=!1)}function c(){try{b.seekable.end(0)>=
h&&0<b.currentTime&&(b.currentTime=h,ca.g(b,"timeupdate",c),r.log(801,h))}catch(a){r.log(802,a)}}function U(a){a=g.Y(a);if(g.rb)for(var d=b.getElementsByTagName("source"),f=a.split("."),k,f=f[f.length-1],u=0;u<d.length;u++)if(k=d[u].src.split("."),k=k[k.length-1],k===f){d[u].src=a;return}b.src=a}function m(b,a){var d=null;window.getComputedStyle?d=parseFloat(window.getComputedStyle(b,"").getPropertyValue(a)):b.currentStyle&&(d=parseFloat(b.currentStyle[a]));return d?d.toFixed(2)+"px":null}function k(b){y.triggerEvent(5010,
b.type||void 0)}function A(){b.muted&&!1===t?(t=!0,y.triggerEvent(5020,!0)):b.muted||!0!==t||(t=!1,y.triggerEvent(5020,!1))}var h,H,fa=!1,ja=!1,x,p,e,t=!1,ca,y=new g.j.s;this.h=function(a){if(a)switch(a){case "currentTime":return b.currentTime;case "duration":return b.duration;case "currentSrc":return b.currentSrc;case "currentSrcType":return"-unused-";case "src":return b.src;case "controls":return b.controls;case "paused":return b.paused;case "volume":return b.volume;case "error":return b.error;
default:return null}return{currentTime:b.currentTime,duration:b.duration,currentSrc:b.currentSrc,src:b.src,controls:b.controls,paused:b.paused,volume:b.volume,error:b.error}};this.lb=function(a){b&&(b.commercial=a)};this.l=function(a){if(a)switch(a){case "width":return Math.round(b.getBoundingClientRect().width);case "height":return Math.round(b.getBoundingClientRect().height);case "top":return Math.round(b.getBoundingClientRect().top-document.body.getBoundingClientRect().top);case "left":return Math.round(b.getBoundingClientRect().left-
document.body.getBoundingClientRect().left);default:return null}return{width:Math.round(b.getBoundingClientRect().width),height:Math.round(b.getBoundingClientRect().height),top:Math.round(b.getBoundingClientRect().top-document.body.getBoundingClientRect().top),left:Math.round(b.getBoundingClientRect().left-document.body.getBoundingClientRect().left)}};this.M=function(){var a=b.pause();void 0!==a&&a.then(function(){},function(){})};this.O=function(){if(!e){var a=b.play();void 0!==a&&a.then(function(){},
function(){})}};this.ha=function(a,d,k){r.log(806,a,d,k);H=g.eb(a)?a.url:a;p||(b.width||b.style.width||(b.style.width=m(b,"width")||"100%"),b.height||b.style.height||(b.style.height=m(b,"height")||"100%"),p=!0);g.I&&fa?f():(U(H),b.load(),d&&(h=d,ca.m(b,"timeupdate",c)),k||(a=b.play(),void 0!==a&&a.then(function(){},function(){})))};this.nc=function(b,a){r.log(807,b);fa=b;x=a};this.setControls=function(a){b.controls=a};this.getParent=function(){return d||b.parentNode};this.jb=function(){ca.g(b,"click",
void 0)};this.m=function(a,d){ca.m(b,a,d)};this.g=function(a,d){ca.g(b,a,d)};this.getVideoSlot=function(){return b};this.a=y.a;this.b=y.b;this.registerGlobalEventDispatcher=y.registerGlobalEventDispatcher;this.destroy=function(){ca.g(b,"mousedown",void 0);ca.g(b,"timeupdate",c);ca.g(b,"volumechange",A);ca.g(b,"timeupdate,ended",u);ca.g(window,"resize,orientationchange",k);ca.g(document,"mozfullscreenchange,webkitfullscreenchange",k);ca.g(b,"pause play",a)};ca=new g.j.Event;ca.m(window,"resize,orientationchange",
k);ca.m(document,"mozfullscreenchange,webkitfullscreenchange",k);b.muted&&(t=!0);ca.m(b,"volumechange",A);ca.m(b,"pause play",a)}function Q(b){function d(){U.triggerEvent("AdStopped",void 0)}function a(b,a,d){A||(A=b);h||(h=a);H||(H=d)}function f(b){p=b?new window[t](A,h,ja,H,k):new E.extensions[x](A,h,ja,H,k);g.D(p.a)&&(p.a("PAUSEAD",fa),p.a("RESUMEAD",fa));c.push(p)}var u,c=[],U=new g.j.s,m,k=this,A,h,H,fa,ja,x,p,e,r,t,y;this.a=U.a;this.b=U.b;this.aa=function(b,d,k){a(b,d,k);if(u&&!(1>u.length))for(b=
0;b<u.length;b++)ja=u[b],x=ja.attributes[0].value,E.extensions[x]?f(!1):(e=h.v.vastExtensions,r=Object.getOwnPropertyNames(e),r.forEach(function(b){t=e[b].className||b;y=e[b].src;t===x&&(window[t]&&"function"===typeof window[t]?f(!0):y&&(b=g.createElement("script",{type:"text/javascript"}),document.head.appendChild(b),b.addEventListener("load",function(){f(!0)},!1),b.src=y))}))};this.destroy=function(){if(0<c.length)for(var b=0;b<c.length;b++)c[b].destroy&&c[b].destroy();m&&m.b("AdStopped",d);fa=
H=h=A=!1};this.onResize=function(){if(0<c.length)for(var a=0;a<c.length;a++)c[a].setViewport({width:b.l("width"),height:b.l("height")})};this.setup=function(b,a,f){u=b;fa=a;m=f;m.a("AdStopped",d);return k}}function F(b,d){function a(b){if(!C)return!1;if((b="fixedroll"===b?C.ya():C.ga())&&b.StaticResource){var a=b.attributes.apiFramework?b.attributes.apiFramework:"UNKNOWN";if(-1!=g.la.indexOf(b.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==a.toUpperCase())return r.log(T),!0}else if(b&&b.apiFramework&&
"VPAID"==b.apiFramework.toUpperCase())return!0;return!1}function f(){clearInterval(O);J=!1;O=setInterval(function(){M.Pb();var b=(new Date).getTime();void 0==w&&(w=b);b=parseInt(b-w,10)/1E3;C.nb(b);b>parseInt(d.overlayDuration,10)&&l()},250);J=!0;L.wa()}function c(b){L&&(b.info?L.Qa():L.callUnmuteTracker())}function D(a){a.info&&"fullscreen"===a.info&&L.callTracker("fullscreen");a.info&&"exitFullscreen"===a.info&&L.callTracker("exitFullscreen");K&&K.resizeAd(b.l("width"),b.l("height"),void 0);oa.onResize()}
function U(b){var a=b.type;"pause"===a&&b.target.currentTime>=b.target.duration||("play"===a&&0<b.target.currentTime&&(a="resume"),b=K?!0:!1,L&&!b&&L.callTracker(a))}function m(a){n();C=new ba(d,b);C.wc(pa);M=new R(b,C);M.a("AdClickThru",H);M.a("AdClickThruReject",H);M.a(2020,H);M.registerGlobalEventDispatcher(aa.C);C.a(3010,H);C.a(3020,H);C.a(3030,H);C.a(3035,H);C.a(3050,H);C.a(3040,H);C.a(7E3,H);C.registerGlobalEventDispatcher(function(b){"AdTagSkipDetected"===b&&(I=!0,r.log(5100))});C.registerGlobalEventDispatcher(aa.C);
b.m("play",U);b.m("pause",U);b.a(5020,c);b.a(5010,D);z("AdSlotStart");"fixedroll"===F?C.fb(P.urls.shift(),P.responseXML):"overlay"===F&&a&&(null!==ga?(ga.nonLinearsTracker.impression=[],ga.gotLinear=!1,ga.companion=[],ga.companionsAsString=null,C.bc(ga),ga=null):C.fb(a))}function k(){H({type:"RESUMEAD"})}function A(){L.Bb();B()}function h(d){z(1030);a("fixedroll")?ea?K&&K.resumeAd():(K.startAd(),v=ea=!0,b.g("ended",B)):(b.nc(ka,t),b.ha(C.za(),d,!1),b.m("loadeddata",function ua(){b.g("loadeddata",
ua);z("AdStarted")}),ka=!1,t());qa||(qa=!0,z("AdSlotStarted"));z("START_LINEAR")}function H(Z){r.log(201,Z.type);L||(L=new V(b,d,C,F),L.registerGlobalEventDispatcher(aa.C),L.a("AdCapped"));L.Fa(C);switch(Z.type){case "PAUSEAD":if(!J&&!v)break;S=!0;z("AdPaused",!0);K?K.pauseAd():(b.M(),b.m("play",k));z(1010,!0);M.Sa();break;case "RESUMEAD":if(!J&&!v)break;S=!1;z("AdPlaying",!0);K&&(K.resumeAd(),z("onTrack","play"));if(S||b.h("paused"))b.g("play",k),b.O();M.Db();z(1010,!1);b.setControls(!1);break;case 3010:L.Fa(C);
Z="fixedroll"===F?C.ya():C.ga();a("fixedroll")||z("AdLoaded",C.c());var c=C.J(),u=c.icons&&0<c.icons.length;C.c()&&c&&u&&(r.log(5050),aa.triggerEvent(4300,c.icons));z("AdMediaSelected",Z);e();"overlay"===F&&C.c().gotNonLinear?(M.Ub(),Z=C.Kb(),G(Z),M.mc(Z),a("overlay")&&p("overlay"),f(),z("START_NONLINEAR")):"fixedroll"==F&&C.za()?(M.aa(),M.Ea(),I&&M.Vb(),M.a("SKIP",A),a("fixedroll")&&(M.Tb(),p("fixedroll"),na&&K.kb(na),b.g("ended",B),K.a("AdLoaded",function va(){K.b("AdLoaded",va);ra&&(K.startAd(),
ea=!0)})),ra&&h()):"fixedroll"!==F&&"overlay"!==F||ja(200);oa.aa(M,C,L);break;case "AdClickThru":da();break;case "AdClickThruReject":b.setControls(!1);b.O();break;case 3020:c=!1;Z.info&&(c=Z.info.silent);c||(r.log(202,Z.info),aa.triggerEvent("AdError",Z.info||Z.type));fa(Z.info||Z.type);c||q();break;case 2020:r.log(203);L.yb();l();break;case 3030:ga=Z.info;break;case 3035:oa.setup(Z.info,H,wa);break;case 3050:L.callCustomTracker(Z.info,"cappedImpression");break;case 3040:L.va(302);break;case 7E3:ja(303)}}
function fa(b){var a=b.errorCode||b;b=b.errorURLTemplates;r.log(202,a);L&&L.va({info:{errorCode:a,errorURLTemplates:b}})}function ja(b){fa(b);aa.triggerEvent("AdSlotComplete");l()}function x(b){r.log(950,b.type);switch(b.type){case 6010:null!==L&&L.va(901);K&&(K.b(6010,x),K=null);B();break;case 6020:z(1030);break;case 6030:z(1020);break;case 6040:case 6050:B();break;case 6060:da(b.info)}}function p(a){K=new Y;K.a(6010,x);K.a(6020,x);K.a(6030,x);K.a(6040,x);K.a(6050,x);K.a(6060,x);K.a("AdVideoComplete",
x);K.a(6070,c);K.registerGlobalEventDispatcher(aa.C);"overlay"===a?K.aa(C.ga(),M,b,L,C):K.Sb(C.ya(),M,b,L,C)}function e(){var b=C.c().creatives.filter(function(b){return"companion"===b.type}).shift();b&&z("AdCompanionsDetected",b)}function t(){clearInterval(ia);v=!1;b.m("ended",B);ia=setInterval(function(){var a=(new Date).getTime();void 0==La&&(La=a);var a=b.h("currentTime"),d=b.h("duration");L&&L.handleTracking();Number.isFinite(d)&&C&&(C.nb(d-a),C.totalTime!==d&&C.lc(d))},250);v=!0}function ca(){if(C.xb()){r.log(5003);
M&&M.destroy();M=new R(b,C);M.a("AdClickThru",H);M.a("AdClickThruReject",H);M.a(2020,H);M.registerGlobalEventDispatcher(aa.C);oa.destroy();if(K){K.stopAd();setTimeout(function(){K=null;ea=!1;C.ia()},500);return}C.ia();return!0}return!1}function y(){L&&(!1===L.Cb()?setTimeout(y,16):(L.b("AdCapped"),L=null,q()))}function B(){b.g("ended",B);K&&(K.b(6050,B),K=null,ea=!1);L?(L.handleTracking(),y()):q()}function q(){clearInterval(ia);v=!1;z("AdStopped",C.c());ca()||(M&&M.destroy(),C.destroy(),M=E.Ha=null,
C=E.Ga=null,oa.destroy(),qa=!1,z("AdSlotStopped"),z("AdSlotComplete"),z(1020))}function l(){r.log(204,F);r.log(5005);n();g.urlEnrichment.setValueFor("errorCode","");K?K.stopAd():"overlay"==F||J?(r.log(205,F),d.ra&&(d.overlayDuration=d.ra,delete d.ra),clearInterval(O),J=!1,w=void 0,M.jc(),C.destroy(),M=E.Ha=null,C=E.Ga=null,g.pa&&z(1010,!0)):"fixedroll"===F&&(clearInterval(ia),v=!1,La=void 0,M.destroy(),C.destroy(),M=E.Ha=null,C=E.Ga=null,oa.destroy(),z("AdSlotComplete"),z(1020))}function n(){M&&(M.b("AdClickThru"),
M.b("AdClickThruReject"),M.b(2020));C&&(C.b(3010),C.b(3020),C.b(3030),C.b(3035),C.b(3050),C.b(3040),C.b(7E3),C.G());b.g("play",U);b.g("pause",U);b.g("ended",B);b.b(5020,c);b.b(5010,D)}function z(b,a){aa.triggerEvent(b,a)}function G(b){b&&b.attributes&&b.attributes.minSuggestedDuration&&15<g.U(b.attributes.minSuggestedDuration)&&g.U(b.attributes.minSuggestedDuration)>d.overlayDuration&&(d.ra=d.overlayDuration,d.overlayDuration=g.U(b.attributes.minSuggestedDuration))}function da(a){var d="_blank";window.envBlocked&&
(d="_self");L.Pa();var f=C.J();if("fixedroll"===F&&(f.videoClickThroughURLTemplate||a)){a=a||f.videoClickThroughURLTemplate;if(!a||0===a.length||0===a.trim().length){k();return}d=window.open(a,d);null!==d&&"undefined"!==typeof d&&(z(1010,!0),M.Sa())}else"overlay"===F&&(C.c().nonLinearsVideoclicks.url||a)&&(a=a||C.c().nonLinearsVideoclicks.url,window.open(a,d));b.setControls(!1);z("AdClickThru",!0)}var aa=new g.j.s,L,M,C,K,ia,La,v=!1,O,w,J=!1,P,F,ga=null,I=!1,S,ka=!1,pa=new X,oa=new Q(b),wa=this,ra=
!0,qa=!1,na=null,ea=!1;this.startLinear=function(b){h(b)};this.startAd=function(b){F=(P=b)&&b.type?b.type:!1;return P?("fixedroll"===F?(!0===J&&l(),ka=!0,m()):"overlay"===F&&P.urls[0]&&m(P.urls[0]),!0):!1};this.a=aa.a;this.b=aa.b;this.registerGlobalEventDispatcher=aa.registerGlobalEventDispatcher;this.G=aa.G;this.na=function(b,a){var d=a||400;try{r.log(202,d),aa.triggerEvent("AdError",{errorCode:d}),fa(d)}catch(f){}b||B()};this.ca=function(){b.destroy();l()};this.ba=function(){return J};this.wb=function(){return J||
v};this.pauseAd=function(){H({type:"PAUSEAD"})};this.resumeAd=function(){H({type:"RESUMEAD"})};this.setAutoplay=function(b){ra=b};this.addRuleToRuleSet=function(b){pa&&pa.addRule(b)};this.removeRules=function(b){if(pa)return pa.removeRule(b)};this.setVpaidAd=function(b){na=b};this.setAdVolume=function(b){K&&K.setAdVolume(b)};this.getAdVolume=function(){return K?K.getAdVolume():b.h("volume")};this.clickThrough=function(){if(!(C&&C.c()&&C.c().variant&&"commercial"!==C.c().variant&&"sponsored"!==C.c().variant||
.5>b.h("currentTime"))){if("fixedroll"===F){var a=C.J().videoClickThroughURLTemplate;if(!a||0===a.length||0===a.trim().length)return}H({type:"PAUSEAD"});da()}};this.trackingController=function(){L||(L=new V(b,d,C,"fixedroll"),L.registerGlobalEventDispatcher(aa.C),L.a("AdCapped"));L.Fa(C);return L};this.resizeAd=function(b,a,d){K&&K.resizeAd(b,a,d)};this.skipAd=function(){K?K.skipAd():A()};this.getAdConfig=function(){return P};this.isVPAID=function(){return K?!0:!1};this.getVideoSlot=function(){return K?
K.getVideoSlot():b.getVideoSlot()};this.getSlot=function(){return K?K.getSlot():document.createElement("div")};this.startAds=function(b){C||(F="unknown",m());F="fixedroll";C.kc(b);C.ia()}}function ba(b,d){function a(b){r.log(301,b.type);A&&A.c()&&(fa=A.c());switch(b.type){case 4200:f(4200,b.info);break;case 7E3:h.triggerEvent(7E3);break;case "AdTagParsed":f("AdTagParsed",b.info);if(fa.ads.length>ca&&fa.ads[ca].errorCode){f(3020,fa.ads[ca]);break}(b=k())?b&&t.fileURL&&(fa.ads[ca].creatives.filter(function(b){return"linear"===
b.type}).shift().supportedMediaFiles=e.Aa(),f(3010)):(fa.ads[ca].errorCode=403,f(3020,fa.ads[ca]));break;case 4030:ja=!0;x++;c(fa.$c);break;case "VAST-error":b.info&&b.info.rc||f(3020,b.info);break;case 4040:f(3030,g.clone(fa));break;case 4050:f(3035,fa.extensions);break;case 4100:f(3050,b.info)}}function f(b,a){h.triggerEvent(b,a)}function c(b){var a;window.XDomainRequest?(r.log(303),a=new window.XDomainRequest):(r.log(304),a=new XMLHttpRequest);H=a;g.urlEnrichment.setValueFor("videoData",d.l());
b=g.urlEnrichment.w(b);window.XDomainRequest?(H.onload=U,H.onerror=m,H.open("GET",b)):(H.open("GET",b,!0),g.pc(b)&&(H.withCredentials=!0),H.onreadystatechange=D);H.send()}function D(){4==H.readyState&&(200==H.status?U():m())}function U(){var b=H.responseText;!1===ja?(A=new P,A.registerGlobalEventDispatcher(h.C),A.a("AdTagParsed",a),A.a("VAST-error",a),A.a(4030,a),A.a(4040,a),A.a(4050,a),A.a(4100,a),A.a(7E3,a)):!0===ja&&(ja=!1);A.hb(b)}function m(){f(3020,300)}function k(){e=new E.MediaSelector(y,
p);e.Eb().sc();if(0<e.Aa().length){var b=g.xa()||5E3,a=e.Aa().reduce(function(a,d){return Math.abs(d.bitrate-b)<Math.abs(a.bitrate-b)?d:a});a.fileURL=g.Y(a.fileURL);t.url=a.fileURL;t.type=a.mimeType;t.index=0;g.extend(t,a);"string"===typeof t.fileURL&&(g.urlEnrichment.setValueFor("assetUri",t.fileURL),t.fileURL=g.urlEnrichment.w(t.fileURL));return!0}g.urlEnrichment.setValueFor("assetUri",null);t.url=null;return!1}var A=null,h=new g.j.s,H,fa={ads:[],videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},
nonLinearsTracker:[],nonLinears:[],extensions:[],companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,isCombi:!1,Nc:[]},ja=!1,x=0,p=new X,e=null,t={url:null,index:null,type:null},ca=0,y=this;this.wc=function(b){p=b};this.v=b;this.ja=void 0;this.totalTime=fa.duration;this.fb=function(f,k){A=new P(b);A.a("AdTagParsed",a);A.a(4200,a);A.a("VAST-error",a);g.urlEnrichment.setValueFor("videoData",d.l());window.macroModel=g.urlEnrichment.getCurrentModel;A.fc(k?null:
f,k)};this.ga=function(){return this.c().creatives.filter(function(b){return"nonlinear"===b.type}).shift()};this.J=function(){return this.c().creatives.filter(function(b){return"linear"===b.type}).shift()};this.Kb=function(){return this.ga()};this.ya=function(){return t};this.za=function(){return t.fileURL};this.nb=function(b){this.totalTime=fa.duration;this.ja=fa.duration-b;f("AdRemainingTimeChange")};this.lc=function(b){this.totalTime=b;f("AdDurationChange")};this.bc=function(b){fa=g.clone(b);f(3010)};
this.destroy=function(){r.log(5006);null!==A&&(A.b("VAST-error"),A.b("AdTagParsed"),A.b(4030),A.b(4040),A.b(4100),A.b(7E3),A.G(),A=null);h=null};this.a=h.a;this.b=h.b;this.registerGlobalEventDispatcher=h.registerGlobalEventDispatcher;this.G=h.G;this.c=function(){return fa.ads[ca]};this.kc=function(b){ca=-1;fa.ads=b};this.ia=function(){ca++;a({type:"AdTagParsed",info:fa})};this.xb=function(){return ca<fa.ads.length-1}}function R(b,d){function a(){var a=b.l();ca="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;";
t="display:block;position:absolute;overflow:hidden;width:15px;height:15px;top:0px;left:"+a.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function f(a){var d=b.l("width"),f=b.l("height");if(e.width===d&&e.height===f)return a;r.log(401);a.P=parseInt(a.width,10);a.L=parseInt(a.height,10);a.ratio=a.P/a.L;e.width=d;e.height=f;"true"===a.scalable&&
"true"===a.maintainAspectRatio?a.P/d>=a.L/(f/5)?(a.P=d,a.L=a.P/a.ratio):(a.L=f/5,a.P=a.L*a.ratio):"true"===a.scalable&&"false"===a.maintainAspectRatio&&(a.L=f/5,a.P=d);a.width=Math.floor(a.P);a.height=Math.floor(a.L);return a}function c(a,d){var f=b.l();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=f.top+(f.height-d.height)+"px";a.style.left=f.left+(f.width/2-d.width/2)+"px"}function D(){return g.createElement("div",{id:"closeButton"+Math.round(1E6*Math.random()),style:t})}function U(){y&&
(n=b.h("duration"),z=b.h("currentTime"),1>=n&&(n=d.c().duration),y.update(z,n))}function m(){r.log(402);p.triggerEvent("AdClickThru",void 0)}function k(){q.onmousedown=function(){r.log(403);p.triggerEvent(2020,void 0)}}function A(){q.style.left=parseInt(B.style.width,10)-15+"px"}function h(){if(B){var a=f(E);E=a;if(L){var a=B,d=b.l();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=d.top;a.style.left=d.left}else c(B,a);A()}}function H(){d.v.styles.closeButtonStyle&&g.qa(q,d.v.styles.closeButtonStyle)}
function fa(){setTimeout(function(){aa&&aa.setViewport(b.l());y&&y.setViewport(b.l());h()},50)}function ja(){p.triggerEvent("SKIP",void 0)}var x=b.getParent(),p=new g.j.s,e={},t,ca,y,B,q,E,l={},z,n,da,aa,L=!1,M=new w(b.getParent());this.aa=function(){r.log(404);a();q=D();H();b.a(5010,fa)};this.Tb=function(){da=g.createElement("div",{id:"vpaidSlot"+Math.round(1E6*Math.random()),style:"position:absolute;width:100%;height:100%;display:none"});(b.getParent().querySelector("video")||b.getParent()).insertAdjacentElement("afterend",
da);var a=b.l();["left","top","width","height"].forEach(function(b){var d=a[b];if("left"===b||"top"===b)d=0;da.style[b]=""+d+"px"})};this.Ub=function(){r.log(405);e={width:0,height:0};a();b.a(5010,fa)};this.Vb=function(){y=new v(x,d);y.setViewport(b.l());y.hide();y.a("SKIP",ja)};this.Pb=function(){h()};this.Ea=function(){d.a("AdRemainingTimeChange",U)};this.mc=function(a){g.pa&&!d.v.customControls&&b.setControls(!1);var aa=f(a.attributes),M=g.createElement("div",{id:"overlay"+Math.round(1E6*Math.random()),
style:ca}),U=null,h;h=b.l();E=aa;c(M,aa);if(a.StaticResource){var aa=a.resourceAttributes.creativeType.toLowerCase(),y=a.attributes.apiFramework?a.attributes.apiFramework:"UNKNOWN";-1!=g.la.indexOf(aa)&&"VPAID"==y.toUpperCase()?(L=!0,da=g.createElement("div",{id:"vpaidSlot"+Math.round(1E6*Math.random()),style:"width:100%;height:100%"}),M.style.top=0,M.style.left=0,M.style.width=h.width+"px",M.style.height=h.height+"px",M.style.display="none",M.appendChild(da)):(-1!=g.la.indexOf(aa)?U=g.createElement("script",
{src:a.StaticResource}):0<=aa.search(/^image|jpeg|gif|png/i)&&(U=g.createElement("img",{src:a.StaticResource,style:"width:100%;height:100%"})),null!=U&&M.appendChild(U))}else a.IFrameResource?(h=g.createElement("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),U=g.createElement("iframe",{id:"nonLinearIFrame",src:a.IFrameResource,style:"width:100%;height:100%"}),M.appendChild(h),M.appendChild(U)):a.HTMLResource&&(U=g.createElement("div",{style:"width:100%;height:100%"}),
U.innerHTML=a.HTMLResource,M.appendChild(U));B=M;q=D();H();A();B.appendChild(q);x.appendChild(B);B.firstChild.addEventListener("mousedown",m,!1);k()};this.jc=function(){g.pa&&!d.v.customControls&&b.setControls(!0);try{x.removeChild(B)}catch(a){r.log(406)}b.b(5010)};this.destroy=function(){b.b(5010);d.b("AdRemainingTimeChange");y&&y.destroy();da&&x.removeChild(da);aa&&aa.destroy();p=null;b.jb()};this.Xa=function(){return da};this.Ya=function(){b.l()};this.qc=function(){B?(B.removeChild(q),B.firstChild.removeEventListener("mousedown",
m,!1),B.style.display="block"):(b.jb(),da.style.display="block")};this.cc=function(a){var d=["left","top","width","height"],f=b.l();B&&(L?d.forEach(function(b){B.style[b]=""+f[b]+"px"}):a?(Object.getOwnPropertyNames(l).length||d.forEach(function(b){l[b]=B.style[b]}),d.forEach(function(b){B.style[b]=""+f[b]+"px"})):d.forEach(function(b){B.style[b]=l[b]}))};this.Ba=function(){return b.getParent()};this.K=function(){return M.K()};this.Sa=function(){y&&y.hide()};this.Db=function(){y&&y.show()};this.a=
p.a;this.b=p.b;this.registerGlobalEventDispatcher=p.registerGlobalEventDispatcher}function v(b,d){function a(){D.triggerEvent("SKIP")}function f(b){if(m.parent){var a=parseInt(window.getComputedStyle(m,null).getPropertyValue("height"),10),d="top"===c.skipButtonPosition?0:b.top+b.height-a,f=parseInt(window.getComputedStyle(m,null).getPropertyValue("width"),10);b="left"===A?0:b.width-f;m.style.width=f+"px";m.style.height=a+"px";m.style.top=d+"px";m.style.left=b+"px"}}var c=d.v,D=new g.j.s,U={},m,k=
c.styles,A,h=!1;this.update=function(b,a){if(!h){var f=g.ec(d.za().skipoffset,a);b>=f&&(this.show(),h=!0)}};this.show=function(){m.style.display="block";f(U)};this.hide=function(){m.style.display="none"};this.destroy=function(){b.removeChild(m)};this.setViewport=function(b){U=b;f(U)};this.a=D.a;this.b=D.b;m=function(){var d=g.createElement("div",{id:"adSkipButton"+Math.round(1E6*Math.random()),style:"position:absolute;overflow:hidden;display:none;cursor:pointer;white-space: nowrap"});d.innerHTML=
"&nbsp;"+c.skipButtonText+"&nbsp;";g.qa(d,k.colorScheme);g.qa(d,k.fontStyle);A=d.style.textAlign="right"===k.fontStyle.textAlign?"left":"right";d.addEventListener(g.Yb?"touchstart":"mousedown",a,!1);b&&b.appendChild(d);return d}()}function O(b){function d(b,a){function d(){for(var b=f.createElement(arguments[0]),a=1;a<arguments.length;a++){var k=arguments[a];if(k.split)k=f.createTextNode(k);else if("[object Object]"===Object.prototype.toString.call(k)){Object.keys(k).forEach(function(a){return b.setAttribute(a,
k[a])});continue}else if("[object Array]"===Object.prototype.toString.call(k)){k.forEach(function(a){b.appendChild(a)});continue}b.appendChild(k)}return b}var f=document.implementation.createDocument(null,"VAST",null);f.documentElement.setAttribute("version","3.0");b.map(function(b,c){var u=d("Ad",c<a?{sequence:c+1,fallbackOnNoAd:!0,fallbackType:"waterfall",allowMultipleAds:!1}:{},d("Wrapper",d("VASTAdTagURI",b)));f.documentElement.appendChild(u)});return f}function a(b,a){var d="";"string"==typeof b&&
(b={urls:[b]});if("string"==typeof b.urls||"string"==typeof b.tag)d=b.urls||b.tag,b.urls=[d];b.offset=a;return b}function f(a){if(b.overlay){for(var d=[],f=0;f<b.fixedrolls.length;f++){var c={urls:[b.overlay],offset:b.fixedrolls[f].offset+b.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1};c.offset<a&&d.push(c)}for(f=0;f<d.length;f++)b.fixedrolls.push(d[f]);b.fixedrolls.some(function(b){return 0==b.offset})||b.fixedrolls.push({urls:[b.overlay],offset:b.overlayDelay,limit:1,count:1,
interval:-1,type:"overlay",requested:!1})}}function c(){b.fixedrolls.sort(function(b,a){return b.offset>a.offset?1:b.offset<a.offset?-1:0})}var D=!1;this.vc=function(a){if(!D){for(var d=0;d<b.fixedrolls.length;d++){var k=b.fixedrolls[d];"string"==typeof k.offset&&(k.offset=parseInt(k.offset,10)/100*a)}d=[];for(k=0;k<b.fixedrolls.length;k++){var A=b.fixedrolls[k];if(5<=A.interval)for(var h=A.offset+A.interval;h<a-5;){var H=g.clone(A);H.offset=h;d.push(H);h+=A.interval}}b.fixedrolls=b.fixedrolls.concat(d);
if(a<b.minDurationForMidrolls){for(d=0;d<b.fixedrolls.length;d++)k=b.fixedrolls[d],0<k.offset&&k.offset<a&&b.fixedrolls.splice(d,1);r.log(602)}f(a);c();D=!0}};this.$=function(a){a:{for(var d=0;d<b.fixedrolls.length;d++){var f=b.fixedrolls[d],c=a-f.offset;if(f.offset<=a&&2>=c&&!f.requested){f.requested=!0;a=f;break a}}a=!1}return a};this.reset=function(){for(var a=0;a<b.fixedrolls.length;a++)b.fixedrolls[a].requested=!1};this.$b=function(){return!0===b.fixedrolls[b.fixedrolls.length-1].requested};
this.Ob=function(a){return b.fixedrolls[b.fixedrolls.length-1].offset==a&&!1===b.fixedrolls[b.fixedrolls.length-1].requested};(function(){b.fixedrolls||(b.fixedrolls=[]);b.adResponse?b.fixedrolls.push({offset:0,responseXML:b.adResponse}):b.preroll&&(b.preroll=a(b.preroll,0),b.fixedrolls.push(b.preroll));b.midroll&&(b.midroll=a(b.midroll,"50%"),b.fixedrolls.push(b.midroll));b.postroll&&(b.postroll=a(b.postroll,"100%"),b.fixedrolls.push(b.postroll));b.overlay&&g.clone(b.overlay);for(var f=0;f<b.fixedrolls.length;f++){var c=
b.fixedrolls[f];if("string"==typeof c||0>parseInt(c.offset,10))r.log(601,c.offset);else{"object"==typeof c.tag&&(c.urls=c.tag);var k="";if("string"==typeof c.tag||"string"==typeof c.urls)k=c.tag||c.urls,c.urls=[k];if(c.count){k=c.urls[0];c.urls=[];for(var u=0;u<c.count;u++)c.urls.push(k.replace("[count]",u+1))}else c.count=1;"object"!=typeof c||"object"!=typeof c.urls||c.limit||(c.limit=c.urls.length);c.interval||(c.interval=-1);c.urls&&1<c.urls.length&&!c.responseXML&&(c.responseXML=d(c.urls,c.limit));
c.urls||(c.urls=[]);c.requested=!1;c.type="fixedroll"}}})()}function V(b,d,a,f){function c(b,a,d){if(b&&!isNaN(a)&&!isNaN(d)&&e)for(var f in b){var k=0===f.indexOf("progress-"),u=b[f].uc,x=k?parseFloat(f.split("progress-")[1]):NaN;k&&-1<f.indexOf("%")&&(x*=d/100);k&&!u&&x<=a&&(m(b[f],f,{}),b[f].uc=!0)}}function D(b,a,f){b&&a&&d.onTrack&&g.D(d.onTrack)&&(d.onTrack(b,a,f?f:""),h(f)&&(d.onTrack("capped",a),W.triggerEvent("AdCapped",void 0)));W.triggerEvent("onTrack",b)}function h(b){var a=g.isArray(b)?
Number(b[0]):Number(b);b="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(b){return b==a});var d=["100","101","300","303","310"].some(function(b){return b==a});return b||d}function m(b,a,c){if(-1!==["impression","creativeView","start","error"].indexOf(a)||e)if(e||(e=!0),-1!==["start"].indexOf(a)&&(q=!0),-1===["mute","unmute"].indexOf(a)||q)if(-1===["complete","error"].indexOf(a)||t||(t=!0),-1!==["complete","error"].indexOf(a)||!t){var u=x.some(function(b){return b===a});u&&H[a]||
("progress"!==a&&(D(a,f,c),u&&(H[a]=d.ib?!0:!1)),b&&("progress"!==a&&r.log(701,a),k.Z(b,a,c)))}}var k=this,A=a&&a.c()&&0<a.c().creatives.length?a.J().trackingEvents:[],W=new g.j.s,H={},fa=0,p=0,x="close closeLinear skip impression creativeView start firstQuartile midpoint thirdQuartile complete".split(" "),e=!1,t=!1,q=!1,E=0;k.createTracker=function(b){var f,c;0!==(b.url||"").length&&(a&&g.urlEnrichment.setValueFor("timeOffset",a.totalTime-a.ja),c=g.urlEnrichment.w(b.url),c=g.Y(c),(b.trackEvent&&
"error"===b.trackEvent||b.trackEvent&&"adPodErrorTracker"===b.trackEvent)&&b.info&&(c=g.urlEnrichment.errorCode(c,isNaN(b.info)?b.info.errorCode:b.info)),"https:"!==window.location.protocol||"https:"===window.location.protocol&&0!==(c+"").indexOf("http://")||!d.blockInsecureURL)&&(f=new Image,f.onload=k.createTrackerDone.bind(b,c),f.onerror=k.createTrackerDone.bind(b,c),E++,f.src=c)};k.createTrackerDone=function(){E--};k.Z=function(b,a,d){for(var f=0;f<b.length;f++)"string"===typeof b[f]&&k.createTracker({url:g.Y(b[f]),
trackEvent:a,info:d})};k.Ab=function(){a&&a.c()&&a.c().errorURLTemplatesAdPod&&a.c().errorURLTemplatesAdPod.map(function(b){"preImpression"!==b.triggerOn||b.tracked||(b.tracked=!0,k.Z(b.errorURLTemplates,"adPodErrorTracker",b.errorCode))})};k.zb=function(){a&&a.c()&&a.c().errorURLTemplatesAdPod&&a.c().errorURLTemplatesAdPod.map(function(b){"postComplete"!==b.triggerOn||b.tracked||(b.tracked=!0,k.Z(b.errorURLTemplates,"adPodErrorTracker",b.errorCode))})};k.Rb=function(){return a&&a.c()&&a.c().errorURLTemplatesAdPod?
0<a.c().errorURLTemplatesAdPod.filter(function(b){return"postComplete"===b.triggerOn&&!b.tracked}).length:!1};k.Qa=function(){m(A.mute,"mute")};k.callUnmuteTracker=function(){m(A.unmute,"unmute")};k.va=function(b){var d,f,c=!1;b&&b.info&&(f=b.info.errorURLTemplates,d=b.info.errorCode,c=b.info.rc);if(a&&a.c()&&a.c().errorURLTemplates||f)c?k.Z(f||a.c().errorURLTemplates,"error",d||b):m(f||a.c().errorURLTemplates,"error",d||b)};k.Bb=function(){m(A.skip,"skip")};k.yb=function(){m(A.close,"close")};k.Pa=
function(){m(a.J().videoClickTrackingURLTemplates,"clickTracking")};k.wa=function(){r.log(701,"Impression, CreativeView");k.Ab();a&&a.c()&&m(a.c().impressionURLTemplates,"impression");m(A.creativeView,"creativeView")};k.callTracker=function(b){m(A[b],b)};k.Ic=function(b){b.split("|").forEach(function(b){m(A[b.toLowerCase()],b)})};k.callCustomTracker=function(b,a){var c=[];g.isArray(b)?c=b:c.push(b);var u=x.some(function(b){return b===a});u&&H[a]||("progress"!==a&&(D(a,f),u&&(H[a]=d.ib?!0:!1)),c&&
("progress"!==a&&r.log(701,a),k.Z(c,a,void 0)))};k.Cb=function(){return 0>=E&&!k.Rb()};k.Fa=function(b){f="fixedroll";A=(a=b)&&b.c()&&0<a.c().creatives.length?b.J().trackingEvents:[];t=!1};k.handleTracking=function(a){var g;a="fixedroll"===f?b.h("currentTime"):a;var D="fixedroll"===f?b.h("duration"):parseInt(d.overlayDuration,10);a=+(Math.round(a+"e+1")+"e-1");D=+(Math.round(D+"e+1")+"e-1");p=a;"fixedroll"===f&&(fa+.3<p&&(fa=p,m(A.timeupdate,"timeupdate")),c(A,a,D));if(!(isNaN(D)||!isNaN(D)&&0>=D)){if(a>=
D)g="complete";else if(a>=D/(4/3))g="thirdQuartile";else if(a>=D/2)g="midpoint";else if(a>=D/4)g="firstQuartile";else if(a)k.wa(),m(A.start,"start");else return;x.some(function(b){return b===g})&&H[g]||!g||(m(A[g],g),"complete"===g&&k.zb())}};k.a=W.a;k.b=W.b;k.registerGlobalEventDispatcher=W.registerGlobalEventDispatcher;return k}function P(b){function d(b){var a=["flv","flash"],d=["rtmp"];b&&b.ads&&b.ads.map(function(b){b.creatives.map(function(b){b.mediaFiles&&(b.mediaFiles=b.mediaFiles.filter(function(b){var f=
0===a.filter(function(a){return-1<(b.mimeType||"").toLowerCase().indexOf(a)}).length,c=0===d.filter(function(a){return-1<(b.fileURL||"").toLowerCase().indexOf(a)}).length;return f&&c}))})})}function a(b){c.triggerEvent("VAST-error",b)}function f(b){k=D.c();switch(b.type){case "AdTagParsed":(k=D.c())&&k.$a&&k.$a.length&&(r.log(5050),c.triggerEvent(4300,k.$a));c.triggerEvent("AdTagParsed",k);break;case 4030:c.triggerEvent(4030);break;case "VAST-error":1020===b.info&&c.triggerEvent(7E3);c.triggerEvent("VAST-error",
b.info);break;case 4040:c.triggerEvent(4040);break;case 4100:c.triggerEvent(4100);break;case 4200:r.log(5052);c.triggerEvent(4200,b.info);break;case "AdTagSkipDetected":c.triggerEvent("AdTagSkipDetected",b.info)}}var c=new g.j.s,D=new window.VASTParser,h=null,m=null,k=null,A=null,W=null;D.addURLTemplateFilter(g.urlEnrichment.w);this.a=c.a;this.b=c.b;this.registerGlobalEventDispatcher=c.registerGlobalEventDispatcher;this.G=c.G;this.ia=function(){};this.c=function(){return W};this.fc=function(f,k){var g=
{withCredentials:!0};g.blockInsecureURL=b.blockInsecureURL;g.maxWrapperDepth=b.maxWrapperDepth;g.prefetchBuffets=b.prefetchBuffets;b.urlhandler&&(g.urlhandler=window[b.urlhandler]);!f&&k&&(g.response=k);D.addEventListener("VAST-error",a);D.parse(f,g,function(b,f){if(b)c.triggerEvent("VAST-error"),D.removeEventListener("VAST-error",a);else if(!b&&f){W=f;var k=W.ads.filter(function(b){return!1===b.fetched});(function(b){var a=k.length,d=0;if(0===a)return b();for(var f=0;f<k.length;f++){var c=k[f],u=
W.ads.indexOf(c);c.fetch(function(f){0<f.ads.length&&(W.ads[u]=f.ads[0]);d++;d>=a&&b()})}})(function(){d(W);c.triggerEvent("AdTagParsed",W)})}},[])};this.hb=function(b){h=b;var a;a:{a=h;try{if(window.DOMParser)A=(new DOMParser).parseFromString(a,"application/xml");else{var d=new ActiveXObject("Microsoft.XMLDOM");d.async=!1;d.loadXML(a);A=d}}catch(k){a=!1;break a}a=!0}a?(m=A.getElementsByTagName("VAST")[0].getAttribute("version"),m=null!==m&&""!==m&&m.length?m.charAt(0):""):c.triggerEvent("VAST-error");
if(!D){a=null;switch(m){case "2":a=E.Bc;break;case "3":a=E.Cc;break;default:c.triggerEvent("VAST-error",102)}a&&(D=null,D=new a,D.a("AdTagParsed",f),D.a("VAST-error",f),D.a(4030,f),D.a(4040,f),D.a(4050,f),D.a(4100,f),D.a(4200,f),D.a("AdTagSkipDetected",f))}D.hb(b)}}function Y(){function b(){P=g.createElement("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden;"});P.onload=d;S.insertBefore(P,S.firstChild)}function d(){P.sa=(P.contentDocument||
P.contentWindow.document).getElementsByTagName("body")[0];P.Jc=P.sa.parentNode.parentNode;var b=g.createElement("script",{type:"text/javascript"});b.innerHTML="var inDapIF = true;";P.sa.appendChild(b);R=g.createElement("div",{id:ba,style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none;"});S.appendChild(R);R=document.getElementById(ba)||S.ownerDocument.getElementById(ba);X=g.createElement("video",{id:ra,style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none;"});
S.appendChild(X);X=document.getElementById(ra)||S.ownerDocument.getElementById(ra);ga=g.createElement("div",{id:wa,style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"});S.appendChild(ga);ga=document.getElementById(wa)||S.ownerDocument.getElementById(wa);Q=new z(X,qa,R,ea,ua.v.vpaidSingleVideoSlotMode);-1<T.indexOf(".swf")||(b=g.createElement("script",{src:g.urlEnrichment.w(T)}),b.onload=function(){a()},b.onerror=function(){ia(6010)},P.sa.appendChild(b))}function a(){if(!N){var b=
P.contentWindow.getVPAIDAd;if(g.D(b))N=b();else return}if(f(N)){r.log(961,N.handshakeVersion("2.0"));-1==="1.1,2.0".indexOf(N.handshakeVersion("2.0"))&&ia(6010);var b={AdParameters:I},a={slot:ga,videoSlot:Q.Va(),videoSlotCanAutoPlay:!0,source:T};c();w=new G;w.oc(function(){r.log(1E3);ia(6010)});var d=function(b){if(!b)return!1;var a=b.style.width;b=/scale|transform/gi.test(b.style.cssText);return!!parseInt(a,10)&&-1===a.indexOf("%")&&!b},k,da;d(ga)?(k=parseInt(ga.style.width,10),da=parseInt(ga.style.height,
10)):d(S)?(k=parseInt(S.style.width,10),da=parseInt(S.style.height,10)):d(S.parentNode)&&(k=parseInt(S.parentNode.style.width,10),da=parseInt(S.parentNode.style.height,10));var Z=ea.getVideoSlot();d(Z)?(k=parseInt(Z.style.width,10),da=parseInt(Z.style.height,10)):d(Z.parentNode)&&(k=parseInt(Z.parentNode.style.width,10),da=parseInt(Z.parentNode.style.height,10));va.initAd(k,da,"normal",300,b,a)}else r.log(962)}function f(b){for(var a="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe getAdLinear".split(" "),
d=0;d<a.length;d++)if(!g.D(b[a[d]]))return!1;return!0}function c(){var b={AdStarted:D,AdStopped:h,AdSkipped:m,AdLoaded:k,AdLinearChange:A,AdSizeChange:W,AdExpandedChange:H,AdSkippableStateChange:p,AdDurationChange:e,AdRemainingTimeChange:x,AdVolumeChange:t,AdImpression:q,AdClickThru:E,AdInteraction:ca,AdVideoStart:y,AdVideoFirstQuartile:B,AdVideoMidpoint:l,AdVideoThirdQuartile:n,AdVideoComplete:V,AdUserAcceptInvitation:v,AdUserMinimize:Y,AdUserClose:da,AdPaused:aa,AdPlaying:L,AdError:M,AdLog:C},a;
for(a in b)N.subscribe(b[a],a,va)}function D(){r.log(967);Z.callTracker("creativeView");N.getAdLinear()&&(Q.show(),X.volume=ea.h("volume"),J=X.volume);ia("AdStarted")}function h(){clearTimeout(Ea);if(N){var b={AdStarted:D,AdStopped:h,AdSkipped:m,AdLoaded:k,AdLinearChange:A,AdSizeChange:W,AdExpandedChange:H,AdSkippableStateChange:p,AdDurationChange:e,AdRemainingTimeChange:x,AdVolumeChange:t,AdImpression:q,AdClickThru:E,AdInteraction:ca,AdVideoStart:y,AdVideoFirstQuartile:B,AdVideoMidpoint:l,AdVideoThirdQuartile:n,
AdVideoComplete:V,AdUserAcceptInvitation:v,AdUserMinimize:Y,AdUserClose:da,AdPaused:aa,AdPlaying:L,AdError:M,AdLog:C},a;for(a in b)N.unsubscribe(b[a],a)}r.log(966);Q.hide();"nonLinear"===Ca&&ea.h("paused")&&ea.O();ia(6050)}function m(){r.log(965);Z.callTracker("skip");va.stopAd()}function k(){r.log(964);w.log("onadloaded");ia("AdLoaded",ua.c())}function A(){r.log(951,N.getAdLinear());N.getAdLinear()?(ea.M(),Q.show()):(Q.hide(),ea.O())}function W(){r.log(952,N.getAdWidth(),N.getAdHeight())}function H(){r.log(953,
N.getAdExpanded());na.cc(N.getAdExpanded());N.getAdExpanded()?(ea.M(),Z.callTracker("expand")):(ea.O(),Z.callTracker("collapse"))}function p(){r.log(954,N.getAdSkippableState());ia("AdSkippableStateChange",N.getAdSkippableState())}function e(){r.log(955,N.getAdDuration())}function x(){r.log(956,N.getAdRemainingTime())}function t(){r.log(957,N.getAdVolume());0<N.getAdVolume()&&0===J?(Z.callUnmuteTracker(),J=N.getAdVolume()):0===N.getAdVolume()&&0<J&&(J=0,Z.Qa())}function q(){r.log(963);Z.wa()}function E(b,
a,d){r.log(968,b,a,d);d||!d&&!b?(Sa=g.Xb(b)?b:void 0,ga.addEventListener("mousedown",K,!1),Q.m("play",K),Q.pause(),r.log(402),Q&&Q.setControls(!0),ia(6060,Sa)):Z.Pa()}function ca(b){r.log(972,b);Z.callTracker("interaction")}function y(){r.log(973);Z.callTracker("start")}function B(){r.log(974);Z.callTracker("firstQuartile")}function l(){r.log(975);Z.callTracker("midpoint")}function n(){r.log(976);Z.callTracker("thirdQuartile")}function V(){r.log(977);Z.callTracker("complete");clearTimeout(Ea);Ea=
setTimeout(function(){C("Force stop after video completion.");va.stopAd()},2E3)}function v(){r.log(978);Z.callTracker("acceptInvitation")}function Y(){r.log(979);Z.callTracker("collapse")}function da(){r.log(981);Z.callTracker("close");ia(6040)}function aa(){r.log(980);w.log("onadpaused");F||Z.callTracker("pause");ia("AdPaused");F=!0}function L(){r.log(982);w.log("onadplaying");F&&Z.callTracker("resume");ia("AdPlaying");F=!1}function M(b){r.log(958,b);ia(6010,b)}function C(b){r.log(959,b)}function K(){if(Q){Q.g("play",
K);var b=Q.play();void 0!==b&&b.then(function(){},function(){})}ga.removeEventListener("mousedown",K,!1)}function ia(b,a){O.triggerEvent(b,a)}var J,O=new g.j.s,w;J=void 0;var F=!1,P,T,I,ga,S,X,Q,R,ba="videoSlotBackground"+Math.round(1E6*Math.random()),wa="vpaidSlot"+Math.round(1E6*Math.random()),ra="videoSlot"+Math.round(1E6*Math.random()),qa,na,ea,Z,Ca,ua,Sa,va=this,Ea=null,N;this.aa=function(a,d,f,c,k){T=a.StaticResource;I=a.adParameters;na=d;ea=f;Z=c;S=d.Xa();qa=ea.getVideoSlot();ua=k;F=!1;d.Ba();
b();Ca="nonLinear"};this.Sb=function(a,d,f,c,k){r.log(1001,k.v.vpaidSingleVideoSlotMode);T=a.fileURL;I=a.adParameters;na=d;ea=f;Z=c;S=d.Xa();qa=ea.getVideoSlot();ua=k;F=!1;d.Ba();b();Ca="linear"};this.initAd=function(b,a,d,f,c,k){F=!1;r.log(1002,b,a,d,f,c,k);N.initAd(b,a,d,f,c,k)};this.startAd=function(){r.log(1003);N&&(na.qc(),N.startAd())};this.pauseAd=function(){r.log(1004);N&&N.pauseAd&&N.pauseAd()};this.resumeAd=function(){r.log(1006);N&&N.resumeAd&&N.resumeAd()};this.stopAd=function(){r.log(1008);
clearTimeout(Ea);N&&N.stopAd()};this.setAdVolume=function(b){r.log(1009,b);N&&N.setAdVolume&&N.setAdVolume(b)};this.getAdVolume=function(){return N&&N.setAdVolume?N.getAdVolume():-1};this.resizeAd=function(b,a,d){r.log(1010,b,a,d);N&&(Q&&"linear"===Ca?(N.resizeAd(b,a,d),S.style.cssText+="width:"+parseInt(b,10)+"px;height:"+parseInt(a,10)+"px;"):N.resizeAd(b,a,d))};this.expandAd=function(){r.log(1011);N.expandAd()};this.collapseAd=function(){r.log(1012);N.collapseAd()};this.skipAd=function(){r.log(1013);
N.getAdSkippableState()&&N.skipAd()};this.Ea=function(){r.log("Called dead code updateCountdown() in VPAIDBridge#639")};this.kb=function(b){b&&(r.log(1015),N=b,Q?a():setTimeout(this.kb.bind(this,b),50))};this.getSlot=function(){return ga};this.getVideoSlot=function(){return Q.Va()};this.a=O.a;this.b=O.b;this.registerGlobalEventDispatcher=O.registerGlobalEventDispatcher}function G(){function b(b,c){d.forEach(function(g){"INITAD"===g.event&&(g.active=!0,g.V=c,g.X=b,g.o=window.setTimeout(function(){d.forEach(function(b){"INITAD"===
b.event&&b.active&&(b.active=!1,window.clearTimeout(b.o),a.map(function(a){if(a.time>=b.V&&a.time<=b.V+b.timeout)return a}).some(function(a){return a.event===b.fa?!0:!1})||b.X())})},g.timeout))})}var d=[{active:!1,event:"INITAD",fa:"ONADLOADED",timeout:4E3,o:null,V:null,X:null},{active:!1,event:"RESIZEAD",fa:"ONADSIZECHANGED",timeout:1E3,o:null,V:null,X:null},{active:!1,event:"PAUSEAD",fa:"ONADPAUSED",timeout:100,o:null,V:null,X:null},{active:!1,event:"RESUMEAD",fa:"ONADPLAYING",timeout:100,o:null,
V:null,X:null}],a=[];this.log=function(b){a.push({time:(new Date).getTime(),event:b.toUpperCase()})};this.oc=function(d){var c=(new Date).getTime();b(d,c);a.push({time:c,event:"INITAD"})}}function z(b,d,a,f,c){var D=new g.j.s,h,m,k;this.l=function(b){if(c)return f.l(b);if(b)switch(b){case "width":return g.getWidth(k);case "height":return g.getHeight(k);case "top":return k.offsetTop;case "left":return k.offsetLeft;default:return null}return{width:g.getWidth(k),height:g.getHeight(k),top:k.offsetTop,
left:k.offsetLeft}};this.show=function(){c||(k.style.display="block",a.style.display="block",d.style.visibility="hidden")};this.hide=function(){c||(d.style.visibility="visible",k.style.display="none",a.style.display="none")};this.Ea=function(){};this.pause=function(){k.pause()};this.play=function(){var b=k.play();void 0!==b&&b.then(function(){},function(){})};this.setControls=function(b){c?f.setControls(b):k.controls=b};this.m=function(b,a){m.m(k,b,a)};this.g=function(b,a){m.g(k,b,a)};this.a=D.a;
this.b=D.b;this.Va=function(){return h};this.getSlot=function(){return k};(function(){m=new g.j.Event;c?(k=d,a.parentNode.removeChild(a),b.parentNode.removeChild(b),h=new q(k),h=g.extend(h,{ob:function(b){f.ha({url:b})},setControls:function(b){f.setControls(b)},mb:function(b){f.ha({url:f.h.currentSrc},b)},load:function(){},play:function(){f.O()},pause:function(){f.M()}})):(k=b,h=new q(k))})()}function q(b){function d(b,a,d,f){var c=Object.getOwnPropertyDescriptor(b,a);if(c&&c.configurable){var k;
if(c.get||c.set)k=c;else{var u=c.value;k={get:function(){return u},set:function(b){u=b}}}var g=d?function(){return d.call(this,a,k)}:k.get,D=f?function(b){f.call(this,a,b,k)}:k.set;Object.defineProperty(b,a,{get:k.get?g:void 0,set:k.set?D:void 0,enumerable:c.enumerable,configurable:!0})}}function a(b){if("ownerDocument"==b)return document.createElement("iframe").ownerDocument;k[b]=e[b];return k[b]}function f(b,a){for(var d=A,f=d.length,c=!1;0<=--f;)if(d[f]===b){c=!0;break}if(!c&&"style"!==b){k[b]=
a;switch(b){case "src":p.ob(a);return;case "controls":p.setControls(a);return;case "currentTime":p.mb(a);return}e[b]=k[b]}}function c(){for(var b=m,a=b.length;0<=--a;)k[b[a]]=e[b[a]]}function D(b){H.hc(b.type,b);c()}var h="loadstart emptied canplaythrough ended ratechange progress stalled playing durationchange volumechange suspend loadedmetadata waiting timeupdate abort loadeddata seeking play error canplay seeked pause".split(" "),m="type ownerDocument nodeType tagName error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),
k={},A="error crossOrigin buffered paused played autoplay controller videoTracks height networkState readyState duration defaultPlaybackrate seekable loop defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup audioTracks width videoHeight".split(" "),W,H,p=this,e;this.setAttribute=function(b,a){"type"!==b&&"src"!==b&&-1===b.indexOf("data-")||e.setAttribute(b,a)};this.getElementsByTagName=function(b){return e.getElementsByTagName(b)};this.getAttribute=
function(b){return e.getAttribute(b)};this.removeAttribute=function(b){return e.removeAttribute(b)};this.ob=function(b){e.src=b};this.setControls=function(b){e.controls=!!b};this.mb=function(b){e.currentTime=b};this.play=function(){var b=e.play();void 0!==b&&b.then(function(){},function(){})};this.pause=function(){e.pause()};this.load=function(){e.load()};this.canPlayType=function(b){return e.canPlayType(b)};this.tagName=b.tagName;this.getBoundingClientRect=b.getBoundingClientRect;this.destroy=function(){W.g(e,
h.join(","),D)};this.addEventListener=function(b,a){e.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > ias-ad')&&["touchstart","touchstart","click"].indexOf(-1<(b+"").toLowerCase())&&e.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > iframe').contentWindow.document.body.addEventListener(b,a);H.a(b,a)};this.removeEventListener=function(b,a){H.ic(b,a)};this.dispatchEvent=function(b){e.dispatchEvent(b)};this.getComputedStyle=function(b){return window.getComputedStyle(e,
b||null)};this.appendChild=function(){};this.removeChild=function(){};this.Wb="goog_596272282";(function(){e=b;H=new g.j.s;W=new g.j.Event;W.m(e,h.join(","),D);c();for(var x=m,A=x.length;0<=--A;)p[x[A]]=k[x[A]];p.style={};x=m;for(A=x.length;0<=--A;)d(p,x[A],a,f);d(p,"style",a,f);e.setAttribute("data-proxyTag",this.Wb)})()}c.prototype.debug=!1;c.prototype.log=function(){return null};window.InstreamapiDebug=c;var T={level:0,method:"AdControl",Qc:"NonLinear VPAID detected."},E={extensions:{},view:{}};
e.prototype={constructor:e,apply:function(b){b.addEventListener=e.prototype.addEventListener;b.Za=e.prototype.Za;b.removeEventListener=e.prototype.removeEventListener;b.dispatchEvent=e.prototype.dispatchEvent},addEventListener:function(b,d){this.F||(this.F={});var a=this.F;a[b]||(a[b]=[]);-1===a[b].indexOf(d)&&a[b].push(d)},Za:function(b,d){if(!this.F)return!1;var a=this.F;return a[b]||-1===a[b].indexOf(d)?!1:!0},removeEventListener:function(b,d){if(this.F){var a=this.F[b];if(a){var f=a.indexOf(d);
-1!==f&&a.splice(f,1)}}},dispatchEvent:function(b){if(this.F){var d=this.F[b];if(d){for(var a=d.length,f=[],c=0,c=0;c<a;c++)f[c]=d[c];for(d=0;d<a;d++)(f[d]||function(){}).apply(this,[].slice.call(arguments))}}}};var g=function(b){b.xc={mp4:{typeExtension:"mp4",typeString:"video/mp4",Da:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",Da:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",Da:"video/webm"}};b.la="application/javascript|application/x-javascript|text/javascript";
b.Kc="application/x-shockwave-flash";b.urlEnrichment=new l;b.Mc=function(){return[E.IDENTIFIER,E.API_VERSION,E.API_BUILD].join("|")};b.eb=function(b){return"[object Object]"===Object.prototype.toString.call(b)};b.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};b.Xb=function(b){return"[object String]"===Object.prototype.toString.call(b)};b.D=function(b){return"[object Function]"===Object.prototype.toString.call(b)};b.B=function(b){return""!=b&&null!=b&&void 0!=b};b.Oc=
function(b){return"string"===typeof b&&b.length?Number(b):!1};b.Pc=function(b){b&&b.trim&&(b=b.trim());return!!b&&-1===["http://","https://"].indexOf(b)};b.Tc=function(b){var a={};b.split("?")[1].split("&").forEach(function(b){b=b.split("=");a[decodeURIComponent(b[0])]=decodeURIComponent(b[1])||null});return a};b.Ib=function(){var d=document.createElement("video"),a=[],f=b.xc,c={},g;for(g in f)f.hasOwnProperty(g)&&(f[g].result=d.canPlayType(f[g].typeString),a.push(f[g].typeExtension+":"+f[g].result),
""!==f[g].result&&(c[g]=f[g]));r.log(901,a.join(", "));return c};b.tc=function(b){var a="";/\?/.test(b)&&(b=b.split("?"),b=b[0]);var f=b.split("."),f=f[f.length-1];["mp4","ogv","webm"].forEach(function(b){f===b&&(a=b)});return a};b.xa=function(){return b.Ja?500:b.vb?1E3:b.ub?1700:0};b.unique=function(b){return b.reduce(function(b,d){0>b.indexOf(d)&&b.push(d);return b},[])};b.clone=function(d){if(!d||"object"!=typeof d)return d;var a=new d.constructor,f;for(f in d)d.hasOwnProperty(f)&&(a[f]=b.clone(d[f]));
return a};b.extend=function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);return b};b.Yb="ontouchstart"in window||"ontouchstart"in document.documentElement;b.Ka=!1;b.u=navigator.userAgent;b.rb=/MSIE/.test(b.u);b.Fc=/Opera/.test(b.u);b.sb=/mobile/i.test(b.u);b.Ia=/android/i.test(b.u);b.Vc=function(){["HTC Sensation","HTC Sense"].forEach(function(d){(new RegExp(d,"i")).test(b.u)&&(b.Ka=!0)})}();b.I=b.Ia&&/mobile/i.test(b.u)&&!(/chrome/i.test(b.u)&&/Mobile Safari/.test(b.u))&&!b.Ka;b.vb=b.I||
/iPad/i.test(b.u);b.ub=/TV/.test(b.u);b.pa=/iP(hone|ad|od)/i.test(b.u);b.Ja=b.I||/iP(hone|od)/i.test(b.u);b.Dc=b.Ia&&/chrome/i.test(b.u);b.tb=/Mobile Safari/.test(b.u);b.Ec=!/chrome/i.test(b.u)&&/android/i.test(b.u)&&/safari/i.test(b.u)&&(!b.sb||b.tb);b.ab=function(b){return!!b.externalConfigXml};b.j=function(){};b.j.s=function(){var b=[],a=null;this.C=function(b,d){if(null!==a)for(var c=0;c<a.length;c++)a[c](b,d)};this.registerGlobalEventDispatcher=function(b){null===a&&(a=[]);a.push(b)};this.G=
function(){a=null};this.a=function(a,c){b.push({event:a,listener:c})};this.b=function(a){for(var c=0;c<b.length;c++)b[c].event===a&&b.splice(c,1)};this.ic=function(a,c){for(var g=0;g<b.length;g++){var h=c?b[g].listener===c:!0;b[g].event===a&&h&&b.splice(g,1)}};this.triggerEvent=function(a,c){this.C(a,c);for(var g=0;g<b.length;g++){var h=b[g];h.event===a&&"function"===typeof h.listener&&h.listener({type:a,info:c})}};this.hc=function(a,c){for(var g=0;g<b.length;g++){var h=b[g];h.event===a&&"function"===
typeof h.listener&&h.listener(c)}}};b.j.Event=function(){var b=[];this.m=function(a,f,c){if(a){f=f.split(",");for(var g=0;g<f.length;g++)"function"===typeof a.addEventListener?a.addEventListener(f[g],c,!1):"function"===typeof a.attachEvent&&a.attachEvent("on"+f[g],c),b.push({target:a,Ta:f[g],Qb:c})}};this.g=function(a,f,c){if(c)if(f=f.split(","),"all"===f[0])for(f=0;f<b.length;f++)b[f].target===a&&b[f].Qb===c&&("function"===typeof a.removeEventListener?a.removeEventListener(b[f].Ta,c):"function"===
typeof a.detachEvent&&a.detachEvent("on"+b[f].Ta,c),b.splice(f,1));else{for(var g=0;g<f.length;g++)"function"===typeof a.removeEventListener?a.removeEventListener(f[g],c):"function"===typeof a.detachEvent&&a.detachEvent("on"+f[g],c);b=[]}}};b.oa=function(d){function a(){h.triggerEvent("timeupdate",{id:f,data:g})}var f,c,g=null,h=new b.j.s;this.start=function(){f=setInterval(a,c)};this.stop=function(){clearInterval(f)};this.__defineSetter__("data",function(b){g=b});this.a=h.a;this.b=h.b;c=d};b.createElement=
function(d,a){var f;try{f=document.createElement(d)}catch(c){f=document.createElement("<"+d+">")}if(a){"id"in a||f.setAttribute("id",b.Ra());for(var g in a)a.hasOwnProperty(g)&&f.setAttribute(g,a[g])}return f};b.qa=function(b,a){if(b)for(var f in a)b.style[f]=a[f]};b.ua=function(d,a){return b.B(d)?d.getElementsByTagName(a):[]};b.S=function(d,a){if(b.B(d))return d.getElementsByTagName(a)[0]};b.T=function(d){if(!d||!d.childNodes[0])return!1;for(var a=d.childNodes.length,f="",c="",g=!1;a--;)if(4===d.childNodes[a].nodeType){c=
b.trim(d.childNodes[a].nodeValue);break}else 3===d.childNodes[a].nodeType&&(f=b.trim(d.childNodes[a].nodeValue));1<d.childNodes.length&&(c=d.textContent);""!==c?g=c:""!==f&&(g=f);return g};b.Hb=function(b){if(!b)return!1;for(var a={},f=0;f<b.attributes.length;f++)a[b.attributes[f].name]=b.attributes[f].value;return a};b.trim=function(b){return b.replace(/^\s+|\s+$/g,"")};b.ka=function(d,a){var f=d,c;for(c in a)a.hasOwnProperty(c)&&b.B(a[c])&&(f=f.replace(String(c),String(a[c])));return f};b.Ra=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)}).toUpperCase()};b.U=function(b){var a=0,f=b.split(".")[0],f=b.split(":").reverse();for(b=0;b<f.length;b++)a+=parseInt(f[b]*Math.pow(60,b),10);return a};b.ec=function(d,a){if(!d)return d;var f=!(!d||-1===d.indexOf("%")),c=parseInt(d,10),g;return a&&f?("string"===typeof a?g=b.U(a.split(".")[0]):isNaN(a)||(g=parseInt(a,10)),g&&!isNaN(c)?c/100*g:"IGNORE"):isNaN(d)?b.U(d.split(".")[0]):d};b.pc=function(d){return b.B(d)?0<["doubleclick",
"smartclip.net","adtech","userreport.com"].filter(function(b){return-1<d.indexOf(b)}).length:!1};b.Mb=function(){var b=window,a=document,b={innerWidth:[b.innerWidth,a.body.clientWidth,a.documentElement.clientWidth],innerHeight:[b.innerHeight,a.body.clientHeight,a.documentElement.clientHeight],scrollX:[b.scrollX,a.documentElement.scrollLeft,a.body.scrollLeft],scrollY:[b.scrollY,a.documentElement.scrollTop,a.body.scrollTop]},f;for(f in b)if(b.hasOwnProperty(f)){for(a=0;a<b[f].length;a++)"number"!==
typeof b[f][a]&&(b[f].splice(a,1),a--);b[f]=b[f][0]}};b.getWidth=function(b){return!b||b&&!b.getBoundingClientRect?-1:b.getBoundingClientRect().width};b.getHeight=function(b){return!b||b&&!b.getBoundingClientRect?-1:b.getBoundingClientRect().height};b.isDocumentInFullScreenMode=function(){return document.Fb&&null!==document.Fb||document.mozFullScreen||document.webkitIsFullScreen};b.Xc=function(b){for(var a=window.frameElement,f=window;a;)(b||function(){})(a),f=a.ownerDocument.defaultView,a=f.frameElement;
return f};b.cb=function(){return window!==top};b.bb=function(){return!b.cb()||b.cb()&&null!==window.frameElement};b.Y=function(b){if(0===b.indexOf("//")){var a=location.protocol;"file:"===a&&(a="https:");b=a+b}return b};return b}(g||{}),r=new c,h=[],p=[];g.find=function(b,d){return Array.prototype.map.call((d||document).querySelectorAll(b),function(b){return b})};g.D=function(b){var d=Object.prototype.toString.call(b);return"[object Function]"===d||"function"===typeof b&&"[object RegExp]"!==d||"undefined"!==
typeof window&&(b===window.setTimeout||b===window.alert||b===window.confirm||b===window.prompt)};g.Zb=function(b){return g.D(b.canPlayType)&&g.D(b.play)};var t=window.ois=function d(a,f,c){if(g.D(a))return h.forEach(function(d){a(d.da,d.element,d.dc,{adManager:d.adManager,config:d.Rc})}),p.push(a);if("number"===typeof a||"undefined"===typeof a)return h[a||0].da;if(a.nodeType)return null!==a.getAttribute("data-ois-instance-id")?(c=h[a.getAttribute("data-ois-instance-id")],f&&c.v.ma(f),c.da):f?n(a,
f,c):null;if(g.Zb(a))return a.nodeType="ois",d(a,f,c);if("string"===typeof a){var D=g.find(a)[0];return D&&d(D,f,c)}return null};t(function(d,a,f,c){var D=c.adManager,U=c.v;d.load=function(){};d.shutdown=function(){D.destroy();delete h[a.getAttribute("data-ois-instance-id")];a.removeAttribute("data-ois-instance-id")};d.registerVASTExtension=function(a,d){window[a]=d;var f=U.Jb();f.vastExtensions[a]=!0;U.ma(f)};d.utils=g;return d});t(function(d){function a(f,c){d.unsubscribe(a,"AdTagParsed");if((!c||
0!==c.ads.length)&&c){for(var k=m=0;k<c.ads.length;k++){var g=c.ads[k].creatives.filter(function(a){return"linear"===a.type}).shift();g&&!g.errorCode&&(m+=g.duration?g.duration:20)}0===m&&(m=-1)}}function f(){"commercial"===d.getVariant()&&h!==this.duration&&0<m&&(m=m-h+this.duration)}var c=null,g=-1,h=-1,m=-1,k=-1,A=null;d.subscribe(function(){A=d.getVideoSlot();A.addEventListener("loadedmetadata",f)},"AdSlotStart");d.subscribe(function(){d.subscribe(a,"AdTagParsed");A&&A.removeEventListener("loadedmetadata",
f)},"AdSlotComplete");d.subscribe(function(a,d){c=new Date;h=d.creatives.filter(function(a){return"linear"===a.type}).shift().duration;this.dispatchEvent("AdDurationChange")},"AdLoaded");d.subscribe(function(){var a=(new Date-c)/1E3;g=h-a;var f=d.Nb();-1<f&&(k=f-a);this.dispatchEvent("AdRemainingTimeChange")},"AdVideoTimeupdate");d.subscribe(a,"AdTagParsed");d.getAdRemainingTime=function(){return g};d.getAdDuration=function(){return h};d.Lc=function(){return k};d.Nb=function(){return m}});t(function(d,
a,f,c){function g(a,d,f){var c="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");c.open("GET",a,!0);c.onreadystatechange=function(){4===c.readyState&&(200===c.status?(d||Function)(c.responseXML):(f||Function)(c.status))};c.send(null)}function h(a){var f={};if((a=a.getElementsByTagName("OIS"))&&a[0]){for(var c=a[0].children.length-1;0<=c;c--){var g=a[0].children[c];f[g.tagName]=g.textContent}k.ma(f);A=!0;W&&d.startAd()}}function m(){A=!0;W&&d.startAd()}var k=
c.v,A=!1,W=!1,H=d.startAd;d.startAd=function(){W=!0;A&&H.apply(d,[].slice.call(arguments))};(function(){var a=f.configXML;a?g(a,h,m):A=!0})();return d});E.API_VERSION="3.0.1";E.API_BUILD="003e92";E.IDENTIFIER="OISHTML5VE";E.MediaSelector=function(d,a){function f(a){return"boolean"===typeof a?a:"string"===typeof a&&"true"===a?!0:!1}function c(a){return"string"===typeof a?a.toLowerCase():a}function h(a){var d=!0;k.forEach(function(k){var h;a:{for(h in k)break a;h=void 0}h=c(h);k=c(k[h]);if(g.B(h)&&
g.B(k))switch(h){case "delivery":case "type":case "format":case "mimeType":case "apiframework":"type"===h&&(h="mimeType");"mimeType"===h&&(k=k.split("|"));a.hasOwnProperty(h)&&-1===k.indexOf(a[h].toLowerCase())&&(d=!1);break;case "bitrate":case "width":a.hasOwnProperty(h)&&parseInt(a[h],10)>parseInt(k,10)&&(d=!1);break;case "scalable":case "maintainaspectratio":a.hasOwnProperty(h)&&f(a[h])!==f(k)&&(d=!1)}});return d}function U(){A&&(W=A.filter(function(a){return h(a)}))}var m=new g.j.s,k=a.Wa(),A=
d.c()&&0<d.c().creatives.length&&d.J().mediaFiles,W=[];this.a=m.a;this.b=m.b;this.registerGlobalEventDispatcher=m.registerGlobalEventDispatcher;this.sc=function(){W.sort(function(a,d){return parseInt(a.bitrate,10)>parseInt(d.bitrate,10)?1:parseInt(a.bitrate,10)<parseInt(d.bitrate,10)?-1:0})};this.Eb=function(){U();1>W.length&&(a.removeRule("bitrate"),a.removeRule("format"),k=a.Wa(),U());return this};this.Aa=function(){return W}};E.extensions.CustomTrackingEvents=function(d,a,f,c,h){function U(a){switch(a.info){case "creativeView":p.start()}}
var m,k,A=this,W=[],H=new g.j.s,p;this.Gb=function(){var a=Math.round(100*(k.totalTime-k.ja))/100,f=d.K().A||void 0;return{"[sc_systemDomain]":"undefined","[sc_viewtime]":a,"[sc_percentvisible]":f,"[uif_adslot]":"linear"}};this.setViewport=function(){};this.destroy=function(){};this.a=H.a;this.b=H.b;(function(){d.Ya();k=a;m=c;m.a("onTrack",U);var g=new E.extensions.CustomTrackingEvents.Parser;f&&(W=g.parse(f));p=new E.extensions.CustomTrackingEvents.CustomTrackingEventHandler(d.K,W,A,m);h.a("AdStopped",
p.destroy)})()};E.extensions.CustomTrackingEvents.Parser=function(){this.parse=function(d){var a,f=[];d=g.ua(d,"Tracking");for(var c=0;c<d.length;c++){var h=d[c];a=g.Hb(h);h=g.T(h);a=g.extend({},a);"viewableImpression"===a.event&&(a.offset=a.offset?1E3*g.U(a.offset):2E3,a.visibility=a.visibility?parseInt(a.visibility,10):50);a.url=h;f.push(a)}return f}};E.extensions.CustomTrackingEvents.CustomTrackingEventHandler=function(d,a,f,c){function h(a){a=a.info.data;d().A>a.visibility?a.N++:a.N=0;if(250*
a.N/1E3>=a.offset/1E3){if(g.B(a.url)){var m=g.urlEnrichment.w(g.ka(a.url,f.Gb()));c.callCustomTracker(m,"viewableImpression")}a.o.b("timeupdate",h);a.o.stop()}}function U(){try{a.forEach(function(a){a.o.b("timeupdate",h);a.o.stop()})}catch(d){}}var m;this.start=function(){a=a.filter(function(a){return"viewableImpression"===a.event});d&&a.length&&a.forEach(function(a){m=new g.oa(250);m.data=a;a.o=m;a.N=0;m.a("timeupdate",h);m.start()})};this.destroy=function(){U()}};window.ois(function(d,a){function f(a,
f){function c(){a.apply(this,arguments);d.unsubscribe(c,f)}d.subscribe(c,f)}function c(a){a=a.target.getAttribute("data-program");a=A[a];for(var d=0;d<a.clickTracking.length;d++)(new Image).src=g.urlEnrichment.w(a.clickTracking[d]);window.open(a.clickThrough,"_blank")}function h(){if(m){for(var a in A){var d=A[a],f=document.createElement("img"),k;for(k in d.attributes)d.attributes[k]&&f.setAttribute(k,d.attributes[k]);f.setAttribute("data-program",a);f.style.pointerEvents="auto";f.style.cursor="pointer";
f.addEventListener("click",c);m.appendChild(f);(new Image).src=g.urlEnrichment.w(d.Ac)}m.style.display="block"}}function U(){m&&m.parentNode.removeChild(m)}Number.isFinite=Number.isFinite||function(a){return"number"===typeof a&&isFinite(a)};var m=null,k=[],A={},p={Ca:0,W:0,ta:0,Hc:0};(function(){f(function(d,f){k=f;m=document.createElement("div");m.setAttribute("style","position:absolute;width:100%;height:100%;top:0;left:0;display:none;pointer-events:none;");a.parentNode.appendChild(m);for(var c=
k.length-1;0<=c;c--){var g=k[c],h=g.program||"unknown-"+c;if(!A[h]){var u={attributes:{},style:{}};u.style.width=parseInt(g.width,10)+"px";u.style.height=parseInt(g.height,10)+"px";u.style.position="absolute";var D=parseInt(g.yPosition,10);Number.isFinite(D)?0<D?u.style.top=D+"px":u.style.bottom=Math.abs(D)+"px":(u.style.top="top"===g.yPosition?0:"initial",u.style.bottom="bottom"===g.yPosition?0:"initial");D=parseInt(g.xPosition,10);Number.isFinite(D)?0<D?u.style.left=D+"px":u.style.right=Math.abs(D)+
"px":"left"===g.xPosition?"top"===g.yPosition?(u.style.left=p.Ca+"px",p.Ca+=parseInt(g.width,10)):"bottom"===g.yPosition?(u.style.left=p.ta+"px",p.ta+=parseInt(g.width,10)):u.style.left=0:"right"===g.xPosition?"top"===g.yPosition?(u.style.right=p.W+"px",p.W+=parseInt(g.width,10)):"bottom"===g.yPosition?(u.style.right=p.Oa+"px",p.Oa+=parseInt(g.width,10)):u.style.right=0:(u.style.top=0,u.style.right=p.W+"px",p.W+=parseInt(g.width,10));u.attributes.style=JSON.stringify(u.style);u.attributes.style=u.attributes.style.substring(1,
JSON.stringify(u.style).length-1);u.attributes.style=u.attributes.style.replace(/\"/ig,"").replace(/\,/ig,";")+";";u.attributes.src=g.staticResource;u.clickThrough=g.iconClickThroughURLTemplate;u.clickTracking=g.iconClickTrackingURLTemplates;u.Ac=g.iconViewTrackingURLTemplate;u.offset=(new Date("01/01/1970 "+g.offset)).getSeconds()||0;u.duration=(new Date("01/01/1970 "+g.duration)).getSeconds()||-1;A[h]=u}}},4300);f(h,"AdStarted");f(U,"AdStopped")})()});window.ois.MediaFileFormat={WIDE:"wide",SQUARE:"square",
VERTICAL:"vertical"};window.ois(function(d,a){function f(a,f){function c(){a.apply(this,arguments);d.unsubscribe(c,f)}d.subscribe(c,f)}function c(f){if(!d.adManager.isVPAID()&&t[e]&&(f=f.creatives.filter(function(a){return"linear"===a.type}).shift().supportedMediaFiles.filter(function(a){return a.attributes?a.attributes.format===e:!0}),f.length)){var k=function(){a.removeEventListener("loadedmetadata",k,!1);0>u&&(u=0);a.currentTime=u;void 0===D&&m&&a.pause()},h=g.xa()||5E3;if(f=f.reduce(function(a,
d){return Math.abs(d.bitrate-h)<Math.abs(a.bitrate-h)?d:a})){var u=a.currentTime-.5,m=a.paused,A=a.webkitDisplayingFullscreen||!1;a.src=g.Y(f.fileURL);a.addEventListener("loadedmetadata",k,!1);a.load();if(!H){var D=a.play();void 0!==D&&D.then(function(){var d=a.webkitDisplayingFullscreen||!1;(m||A!=d)&&a.pause()},function(){r.log("MediaElement: The play() request failed.")})}}}}function h(d,f){A=setTimeout(h,20);var k;k=a.getBoundingClientRect().width/a.getBoundingClientRect().height;k=1<k?window.ois.MediaFileFormat.WIDE:
1>k?window.ois.MediaFileFormat.VERTICAL:window.ois.MediaFileFormat.SQUARE;k!==e&&(e=k,c(f))}function p(){H=!1}function m(){H=!0}function k(){clearTimeout(A);a.removeEventListener("webkitbeginfullscreen",p);a.removeEventListener("webkitendfullscreen",m)}var A=0,e,H=!1,t={Zc:!1,Wc:!1,Yc:!1};a.addEventListener("webkitbeginfullscreen",p);a.addEventListener("webkitendfullscreen",m);f(function(a,d){d&&d.ads&&d.ads.length&&d.ads.forEach(function(a){var d=a.creatives.filter(function(a){return"linear"===a.type}).shift();
!a.errorCode&&0<a.creatives.length&&d.mediaFiles.forEach(function(a){var d=parseInt(a.width,10)/parseInt(a.height,10);a.attributes||(a.attributes={});1<d?(a.attributes.format=window.ois.MediaFileFormat.WIDE,t.wide=!0):1>d?(a.attributes.format=window.ois.MediaFileFormat.VERTICAL,t.vertical=!0):(a.attributes.format=window.ois.MediaFileFormat.SQUARE,t.square=!0)})})},"AdTagParsed");f(h,"AdLoaded");f(k,"AdSlotComplete");f(k,"AdError")});E.extensions.SCAdVisibility=function(d,a,f,c,h){function p(a){switch(a.info){case "creativeView":m(),
n.start()}}function m(){H.forEach(function(a){var d=new g.oa(a.interval);d.data=a;a.o=d;d.a("timeupdate",A);d.start();A({info:{data:a}})})}function k(){H.forEach(function(a){a.o.b("timeupdate",A);a.o.stop()})}function A(a){if(a=a.info.data.url)a=g.createElement("img",{src:e(a),style:"display:none;",onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"}),d.Ba().appendChild(a)}function e(a){var f=d.K().A||void 0;isNaN(f)?(a=g.ka(a,{"[sc_percentvisible]":"JSINJECTIONERROR"}),
k()):a=g.ka(a,x.Ua());return g.urlEnrichment.w(a)}var H,t,r,x=this,q,l=new g.j.s,n;this.Ua=function(){var a=r.v.qb,f=Math.round(100*(r.totalTime-r.ja))/100,c=d.K().A||void 0;return{"[sc_systemDomain]":a?a:"undefined","[sc_viewtime]":f,"[sc_percentvisible]":c,"[uif_adslot]":"linear"}};this.setViewport=function(){};this.destroy=function(){k()};this.a=l.a;this.b=l.b;(function(){d.Ya();r=a;t=c;t.a("onTrack",p);var k=new E.extensions.SCAdVisibility.Parser;H=k.parse(f);q=k.gc(f);n=new E.extensions.SCAdVisibility.ViewableImpressionHandler(d.K,
q,x,t);h.a("AdStopped",n.destroy)})()};E.extensions.SCAdVisibility.Parser=function(){this.parse=function(d){var a=[];d=g.ua(d,"Tracking");for(var f=0;f<d.length;f++)d[f]&&a.push({interval:parseInt(g.T(g.S(d[f],"Interval")),10),url:g.T(g.S(d[f],"URL"))});return a};this.gc=function(d){var a,f,c,h,p=[];a=g.ua(d,"BooleanView");if(!g.B(a))return p;for(var m=0;m<a.length;m++)if(a[m]){d={};if(f=g.S(a[m],"ViewConditions"))c=parseInt(g.T(g.S(f,"ViewThreshold")),10),h=parseInt(g.T(g.S(f,"ViewTime")),10);f=
g.T(g.S(a[m],"ViewURL"));d.yc=isNaN(c)?50:c;d.zc=isNaN(h)?2E3:h;d.pb=f.length?f:"";p.push(d)}return p}};E.extensions.SCAdVisibility.ViewableImpressionHandler=function(d,a,f,c){function h(a){a=a.info.data;d().A>a.yc?a.N++:a.N=0;if(250*a.N/1E3>=a.zc/1E3){if(g.B(a.pb)){var m=g.urlEnrichment.w(g.ka(a.pb,f.Ua()));c.callCustomTracker(m,"viewableImpression")}a.o.b("timeupdate",h);a.o.stop()}}function p(){try{a.forEach(function(a){a.o.b("timeupdate",h);a.o.stop()})}catch(d){}}var m;this.start=function(){d&&
a.length&&a.forEach(function(a){m=new g.oa(250);m.data=a;a.o=m;a.N=0;m.a("timeupdate",h);m.start()})};this.destroy=function(){p()}};(function(){function d(){this.attributes={};this.children=[]}function a(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.trackingEvents={}}function f(){this.program=null;this.yPosition=this.xPosition=this.width=this.height=0;this.offset=this.apiFramework=null;this.duration=
0;this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.iconClickTrackingURLTemplates=[];this.iconViewTrackingURLTemplate=null}function c(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function g(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=
null}function h(a){a=void 0===a?{}:a;this.id=a.id||null;this.adId=a.adId||null;this.sequence=a.sequence||null;this.apiFramework=a.apiFramework||null;this.trackingEvents={}}function m(a){a=void 0===a?{}:a;h.call(this,a);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=null;this.videoClickTrackingURLTemplates=[];this.videoCustomClickURLTemplates=[];this.adParameters=null;this.icons=[]}function k(a){a=void 0===a?{}:a;h.call(this,a);this.type=
"nonlinear";this.variations=[];this.videoClickTrackingURLTemplates=[]}function A(a){a=void 0===a?{}:a;h.call(this,a);this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}function p(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null;this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[];this.extensions=[];this.adVerifications=[];this.wrappers=[];this.fetch=function(){};this.fetched=!1}
function e(){this.id=null;this.expandedHeight=this.expandedWidth=this.height=this.width=0;this.maintainAspectRatio=this.scalable=!0;this.minSuggestedDuration=0;this.apiFramework="static";this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.nonlinearClickTrackingURLTemplates=[];this.adParameters=null}function t(){this.value=this.name=null;this.attributes={};this.children=[]}function r(a){var d=[];d.forEach.call(d.slice.call(arguments,1),
function(d){if(d)for(var f in d)({}).hasOwnProperty.call(d,f)&&(a[f]="object"===typeof a[f]&&"object"===typeof d[f]&&null!==d[f]?r(a[f],d[f]):d[f])});return a}function x(){this.ads=[];this.errorURLTemplates=[]}function q(){}function E(){}function l(){}function n(){}function y(){this.maxWrapperDepth=10;this.blockInsecureURL=!1;this.currentWrapperDepth=0;this.URLTemplateFilters=[];this.wrapperCallbackHandlers=[];J.EventDispatcher.prototype.apply(this)}var B={scope:{},getGlobal:function(a){return"undefined"!=
typeof window&&window===a?a:"undefined"!=typeof global?global:a}};B.global=B.getGlobal(this);B.initSymbol=function(){B.global.Symbol||(B.global.Symbol=B.Symbol);B.initSymbol=function(){}};B.symbolCounter_=0;B.Symbol=function(a){return"jscomp_symbol_"+a+B.symbolCounter_++};B.initSymbolIterator=function(){B.initSymbol();B.global.Symbol.iterator||(B.global.Symbol.iterator=B.global.Symbol("iterator"));B.initSymbolIterator=function(){}};B.makeIterator=function(a){B.initSymbolIterator();if(a[B.global.Symbol.iterator])return a[B.global.Symbol.iterator]();
if(!(a instanceof Array||"string"==typeof a||a instanceof String))throw new TypeError(a+" is not iterable");var d=0;return{next:function(){return d==a.length?{done:!0}:{done:!1,value:a[d++]}}}};B.arrayFromIterator=function(a){for(var d,f=[];!(d=a.next()).done;)f.push(d.value);return f};B.arrayFromIterable=function(a){return a instanceof Array?a:B.arrayFromIterator(B.makeIterator(a))};B.arrayFromArguments=function(a){for(var d=[],f=0;f<a.length;f++)d.push(a[f]);return d};B.inherits=function(a,d){function f(){}
f.prototype=d.prototype;a.prototype=new f;a.prototype.constructor=a;for(var c in d)if(B.global.Object.defineProperties){var k=B.global.Object.getOwnPropertyDescriptor(d,c);void 0!==k&&B.global.Object.defineProperty(a,c,k)}else a[c]=d[c]};B.inherits(m,h);B.inherits(k,h);B.inherits(A,h);Object.defineProperties(p.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var z={isSecureURL:function(a){return"https:"===window.location.protocol&&0!==(a+"").indexOf("http://")||
"https:"!==window.location.protocol}},V={};V.extend=r;var G={resolveAdTagURI:function(a,d){if(0===a.indexOf("//")){var f=location.protocol;"file:"===f&&(f="https:");return f+a}return-1===a.indexOf("://")?d.slice(0,d.lastIndexOf("/"))+"/"+a:a}},v={stringToXML:function(a){if("string"===typeof a===!1)return a;var d=null;window.DOMParser?d=(new DOMParser).parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(a));return d}};q.prototype.xdr=function(){return window.XDomainRequest?
new window.XDomainRequest:null};q.supported=function(){return!!(new q).xdr()};q.prototype.get=function(a,d,f){if("function"!==typeof window.ActiveXObject)f();else{var c=new window.ActiveXObject("b");c.async=!1;xdr=this.xdr();xdr.open("GET",a);xdr.timeout=d.timeout||0;xdr.withCredentials=!1!==d.withCredentials;xdr.onprogress=function(){};xdr.onload=function(){c.loadXML(xdr.responseText);f(null,c)};xdr.send()}};E.prototype.xhr=function(){var a=new window.XMLHttpRequest;return"withCredentials"in a?a:
null};E.supported=function(){return!!(new E).xhr()};E.prototype.get=function(a,d,f){try{var c=this,k=this.xhr();k.open("GET",a);k.timeout=d.timeout||0;k.withCredentials=!1!==d.withCredentials;k.overrideMimeType&&k.overrideMimeType("text/xml");k.onreadystatechange=function(){if(4===k.readyState)if(200===k.status){var g=k.responseXML;!g&&k.responseText&&(g=v.stringToXML(k.responseText));g?f(null,g):(k.statusText="Response contains neither 'responseXML' nor 'responseText'",f(Error("XHRURLHandler: "+
k.statusText)))}else 0===k.status&&k.withCredentials?(g=JSON.parse(JSON.stringify(d)),g.withCredentials=!1,c.get(a,g,f)):f(Error("XHRURLHandler: "+k.statusText))};k.send()}catch(g){f(g)}};l.prototype.get=function(a,d,f){var c=f,k=d;f||("function"===typeof d&&(c=d),k={});if(!c)return null;d=k.urlhandler;if(k.response)c(null,v.stringToXML(k.response));else return d&&d.supported()?(new d).get(a,k,c):E.supported()?(new E).get(a,k,c):q.supported()?(new q).get(a,k,c):c();return null};var J={};n.prototype=
{constructor:n,apply:function(a){a.addEventListener=n.prototype.addEventListener;a.hasEventListener=n.prototype.hasEventListener;a.removeEventListener=n.prototype.removeEventListener;a.dispatchEvent=n.prototype.dispatchEvent},addEventListener:function(a,d){this._listeners||(this._listeners={});var f=this._listeners;f[a]||(f[a]=[]);-1===f[a].indexOf(d)&&f[a].push(d)},hasEventListener:function(a,d){if(!this._listeners)return!1;var f=this._listeners;return f[a]&&-1!==f[a].indexOf(d)?!0:!1},removeEventListener:function(a,
d){if(this._listeners){var f=this._listeners[a];if(f){var c=f.indexOf(d);-1!==c&&f.splice(c,1)}}},dispatchEvent:function(a){if(this._listeners){var d=this._listeners[a];if(d){for(var f=d.length,c=[],k=0,k=0;k<f;k++)c[k]=d[k];for(d=0;d<f;d++)(c[d]||function(){}).apply(this,[].slice.call(arguments,1))}}}};J.EventDispatcher=n;y.prototype.trackError=function(a,d,f,c){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(a)),errorCode:f,errorURLTemplates:d,silent:c})};y.prototype.addURLTemplateFilter=
function(a){"function"===typeof a&&this.URLTemplateFilters.push(a)};y.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()};y.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length};y.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]};y.prototype.addWrapperCallbackHandler=function(a){"function"===typeof a&&this.wrapperCallbackHandlers.push(a)};y.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()};
y.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length};y.prototype.clearWrapperCallbackHandlers=function(){this.wrapperCallbackHandlers=[]};y.prototype.parseXPosition=function(a){return-1!==["left","right"].indexOf(a)?a:parseInt(a,10)||0};y.prototype.parseYPosition=function(a){return-1!==["top","bottom"].indexOf(a)?a:parseInt(a,10)||0};y.prototype.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};y.prototype.copyNodeAttribute=function(a,
d,f){(d=d.getAttribute(a))&&f.setAttribute(a,d)};y.prototype.parseDuration=function(a){if(!a)return-1;if(isNaN(parseFloat(a))&&isFinite(a))return parseInt(a,10);var d=a.split(":");if(3!==d.length)return-1;var f=d[2].split(".");a=parseInt(f[0],10);2===f.length&&(a+=parseFloat("0."+f[1]));f=parseInt(60*d[1],10);d=parseInt(3600*d[0],10);return isNaN(d)||isNaN(f)||isNaN(a)||3600<f||60<a?-1:d+f+a};y.prototype.parseBoolean=function(a,d){return-1<["true","1"].indexOf((a+"").toLowerCase())?!0:-1<["false",
"0"].indexOf((a+"").toLowerCase())?!1:d||!1};y.prototype.childByName=function(a,d){for(var f=0;f<a.childNodes.length;f++){var c=a.childNodes[f];if(c.nodeName===d)return c}return null};y.prototype.childsByName=function(a,d){for(var f=[],c=0;c<a.childNodes.length;c++){var k=a.childNodes[c];k.nodeName===d&&f.push(k)}return f};y.prototype.parseNextWrapperURL=function(a){var d=null,f=this.childByName(a,"VASTAdTagURI");f?d=this.parseNodeText(f):(f=this.childByName(a,"VASTAdTagURL"))&&(d=this.parseNodeText(this.childByName(f,
"URL")));return d};y.prototype.parseWrapperElement=function(a){var d=this.parseInLineElement(a);d.nextWrapperURL=this.parseNextWrapperURL(a);a=d.creatives;for(var f=0;f<a.length;f++){var c=a[f],k=null;if("linear"===c.type||"nonlinear"===c.type)if(k=c)k.trackingEvents&&(d.trackingEvents||(d.trackingEvents={}),d.trackingEvents[k.type]=k.trackingEvents),k.videoClickTrackingURLTemplates&&(d.videoClickTrackingURLTemplates=k.videoClickTrackingURLTemplates),k.videoClickThroughURLTemplate&&(d.videoClickThroughURLTemplate=
k.videoClickThroughURLTemplate),k.videoCustomClickURLTemplates&&(d.videoCustomClickURLTemplates=k.videoCustomClickURLTemplates)}return d.nextWrapperURL?d:null};y.prototype.parseSkipOffset=function(a,d){var f=null;(f=d.getAttribute("skipoffset"))?"%"===f.charAt(f.length-1)&&-1!==a.duration?(percent=parseInt(f,10),f=percent/100*a.duration):f=this.parseDuration(f):f=null;return f};y.prototype.parseVideoClicks=function(a){var d={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(a=
this.childByName(a,"VideoClicks")){d.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"ClickThrough"));for(var f=this.childsByName(a,"ClickTracking"),c=0;c<f.length;c++)d.videoClickTrackingURLTemplates.push(this.parseNodeText(f[c]));a=this.childsByName(a,"CustomClick");for(f=0;f<a.length;f++)d.videoCustomClickURLTemplates.push(this.parseNodeText(a[f]))}return d};y.prototype.parseTrackingEvents=function(a){var d={};a=this.childsByName(a,"TrackingEvents");for(var f=0;f<a.length;f++)for(var c=
this.childsByName(a[f],"Tracking"),k=0;k<c.length;k++){var g=c[k],h=g.getAttribute("event"),u=this.parseNodeText(g);if(h&&u){if("progress"===h){g=g.getAttribute("offset");if(!g)continue;h="%"===g.charAt(g.length-1)?"progress-"+g:"progress-"+Math.round(this.parseDuration(g))}d[h]||(d[h]=[]);d[h].push(u)}}return d};y.prototype.parseMediaFileScalable=function(a){return(a=a.getAttribute("scalable"))&&"string"===typeof a&&(a=a.toLowerCase(),"false"===a)?!1:!0};y.prototype.parseMediaFileMaintainAspectRatio=
function(a){return(a=a.getAttribute("maintainAspectRatio"))&&"string"===typeof a&&(a=a.toLowerCase(),"false"===a)?!1:!0};y.prototype.parseMediaFiles=function(a){var d=[];a=this.childsByName(a,"MediaFiles");for(var f=0;f<a.length;f++)for(var c=this.childsByName(a[f],"MediaFile"),k=0;k<c.length;k++){var h=c[k],u=new g;u.id=h.getAttribute("id");u.fileURL=this.parseNodeText(h);u.deliveryType=h.getAttribute("delivery");u.codec=h.getAttribute("codec");u.mimeType=h.getAttribute("type");u.apiFramework=h.getAttribute("apiFramework");
u.bitrate=parseInt(h.getAttribute("bitrate")||0,10);u.minBitrate=parseInt(h.getAttribute("minBitrate")||0,10);u.maxBitrate=parseInt(h.getAttribute("maxBitrate")||0,10);u.width=parseInt(h.getAttribute("width")||0,10);u.height=parseInt(h.getAttribute("height")||0,10);u.scalable=this.parseMediaFileScalable(h);u.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(h);d.push(u)}return d};y.prototype.parseIcons=function(a){var d=[];if(a=this.childByName(a,"Icons")){a=this.childsByName(a,"Icon");for(var c=
0;c<a.length;c++){var k=a[c],g=new f;g.program=k.getAttribute("program");g.height=parseInt(k.getAttribute("height"),10)||0;g.width=parseInt(k.getAttribute("width"),10)||0;g.xPosition=this.parseXPosition(k.getAttribute("xPosition"));g.yPosition=this.parseYPosition(k.getAttribute("yPosition"));g.apiFramework=k.getAttribute("apiFramework");g.offset=this.parseDuration(k.getAttribute("offset"));g.duration=this.parseDuration(k.getAttribute("duration"));var g=V.extend(g,this.parseResourceAdType(k)),h=this.childByName(k,
"IconClicks");if(h){g.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(h,"IconClickThrough"));for(var h=this.childsByName(h,"IconClickTracking"),u=0;u<h.length;u++)g.iconClickTrackingURLTemplates.push(this.parseNodeText(h[u]))}g.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(k,"IconViewTracking"));d.push(g)}}return d};y.prototype.parseCreativeLinearElement=function(a,d){d=void 0===d?{}:d;var f=new m(d);f.duration=this.parseDuration(this.parseNodeText(this.childByName(a,
"Duration")));f.skipDelay=this.parseSkipOffset(f,a);var c=this.parseVideoClicks(a);f.videoClickThroughURLTemplate=c.videoClickThroughURLTemplate;f.videoClickTrackingURLTemplates=f.videoClickTrackingURLTemplates.concat(c.videoClickTrackingURLTemplates);f.videoCustomClickURLTemplates=f.videoCustomClickURLTemplates.concat(c.videoCustomClickURLTemplates);f.trackingEvents=this.parseTrackingEvents(a);f.mediaFiles=f.mediaFiles.concat(this.parseMediaFiles(a));f.icons=f.icons.concat(this.parseIcons(a));if(c=
this.childByName(a,"AdParameters"))for(f.adParameters=this.parseNodeText(c),c=0;c<f.mediaFiles.length;c++)f.mediaFiles[c].adParameters=f.adParameters;return f};y.prototype.parseResourceAdType=function(a){for(var d={},f=this.childsByName(a,"HTMLResource"),c=0;c<f.length;c++){var k=f[c];d.type=k.getAttribute("creativeType")||"text/html";d.htmlResource=this.parseNodeText(k)}f=this.childsByName(a,"IFrameResource");for(c=0;c<f.length;c++)k=f[c],d.type=k.getAttribute("creativeType")||0,d.iframeResource=
this.parseNodeText(k);a=this.childsByName(a,"StaticResource");for(f=0;f<a.length;f++)c=a[f],d.type=c.getAttribute("creativeType")||0,d.staticResource=this.parseNodeText(c);return d};y.prototype.parseNonLinear=function(a,d){d=void 0===d?{}:d;var f=new k(d);f.trackingEvents=this.parseTrackingEvents(a);for(var c=this.childsByName(a,"NonLinear"),g=0;g<c.length;g++){var h=c[g],u=new e;u.id=h.getAttribute("id")||null;u.width=h.getAttribute("width");u.height=h.getAttribute("height");u.expandedWidth=h.getAttribute("expandedWidth");
u.expandedHeight=h.getAttribute("expandedHeight");u.scalable=this.parseBoolean(h.getAttribute("scalable"));u.maintainAspectRatio=this.parseBoolean(h.getAttribute("maintainAspectRatio"));u.minSuggestedDuration=h.getAttribute("minSuggestedDuration");u.apiFramework=h.getAttribute("apiFramework");var u=V.extend(u,this.parseResourceAdType(h)),m=this.childByName(h,"AdParameters");m&&(u.adParameters=this.parseNodeText(m));u.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(h,"NonLinearClickThrough"));
h=B.makeIterator(this.childsByName(h,"NonLinearClickTracking"));for(m=h.next();!m.done;m=h.next())u.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(m.value));f.variations.push(u)}return f};y.prototype.parseCompanionAd=function(d,f){f=void 0===f?{}:f;for(var c=new A(f),k=this.childsByName(d,"Companion"),g=0;g<k.length;g++){var h=k[g],u=new a;u.id=h.getAttribute("id")||null;u.width=h.getAttribute("width");u.height=h.getAttribute("height");u.companionClickTrackingURLTemplates=[];for(var u=
V.extend(u,this.parseResourceAdType(h)),m=this.childsByName(h,"TrackingEvents"),D=0;D<m.length;D++)for(var x=this.childsByName(m[D],"Tracking"),p=0;p<x.length;p++){var e=x[p],U=e.getAttribute("event"),e=this.parseNodeText(e);U&&e&&(u.trackingEvents[U]||(u.trackingEvents[U]=[]),u.trackingEvents[U].push(e))}m=B.makeIterator(this.childsByName(h,"CompanionClickTracking"));for(D=m.next();!D.done;D=m.next())u.companionClickTrackingURLTemplates.push(this.parseNodeText(D.value));u.companionClickThroughURLTemplate=
this.parseNodeText(this.childByName(h,"CompanionClickThrough"));u.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(h,"CompanionClickTracking"));c.variations.push(u)}return c};y.prototype.parseCreativeAdIdAttribute=function(a){if(!a.hasAttributes())return null;a=B.makeIterator(Array.prototype.slice.call(a.attributes));for(var d=a.next();!d.done;d=a.next())if(d=d.value,"adid"===d.name.toLowerCase())return d.value;return null};y.prototype.parseCreativeElement=function(a,d){for(var f=
this.childsByName(d,"Creative"),c=0;c<f.length;c++)for(var k=f[c],g=k.childNodes,k={id:k.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(k),sequence:parseInt(k.getAttribute("sequence"),10),apiFramework:k.getAttribute("apiFramework")||null},h=0;h<g.length;h++){var u=g[h],m=null;switch(u.nodeName){case "Linear":m=this.parseCreativeLinearElement(u,k);break;case "NonLinearAds":m=this.parseNonLinear(u,k);break;case "CompanionAds":m=this.parseCompanionAd(u,k)}m&&a.creatives.push(m)}};y.prototype.parseExtensionChild=
function(a,d){for(var f=d.childNodes,c=0;c<f.length;c++){var k=f[c],g=this.parseNodeText(k);if("#comment"!==k.nodeName&&""!==g||k.attributes){var h=new t;h.name=k.nodeName;h.value=g;if(k.attributes)for(var g=k.attributes,u=0;u<g.length;u++){var m=g[u];h.attributes[m.nodeName]=m.nodeValue}k.childNodes&&0<k.childNodes.length&&this.parseExtensionChild(h.children,k);a.push(h)}}};y.prototype.parseExtension=function(a,f){for(var c=0;c<f.length;c++){var k=f[c],g=new d;if(k.attributes)for(var h=k.attributes,
u=0;u<h.length;u++){var m=h[u];g.attributes[m.nodeName]=m.nodeValue}this.parseExtensionChild(g.children,k);a.push(g)}};y.prototype.parseAdVerifications=function(a,d){for(var f=0;f<d.length;f++){var k=d[f],g=new c,h={};g.vendor=k.getAttribute("vendor")||null;var m=this.childByName(k,"JavaScriptResource");if(m&&(h.url=this.parseNodeText(m),h.apiFramework=m.getAttribute("apiFramework")||"VPAID",g.javascriptResource=h,(k=this.childByName(k,"AdParameters"))&&k.hasChildNodes()))for(var A in k.childNodes)h=
k.childNodes[A],h.nodeType===Node.ELEMENT_NODE&&(g.adParameters||(g.adParameters={}),g.adParameters[h.nodeName]=this.parseNodeText(h));a.push(g)}};y.prototype.parseInLineElement=function(a){var d=new p;d.id=a.getAttribute("id")||null;d.sequence=parseInt(a.getAttribute("sequence"),10);d.fallbackType=a.getAttribute("fallbackType")||"replace";d.fallbackOnNoAd=this.parseBoolean(a.getAttribute("fallbackOnNoAd"),!1);d.followAdditionalWrappers=this.parseBoolean(a.getAttribute("followAdditionalWrappers"),
!0);d.allowMultipleAds=this.parseBoolean(a.getAttribute("allowMultipleAds"),!1);a=a.childNodes;for(var f=0;f<a.length;f++){var c=a[f];switch(c.nodeName){case "Error":(c=this.parseNodeText(c))&&c.length&&d.errorURLTemplates.push(c);break;case "Impression":d.impressionURLTemplates.push(this.parseNodeText(c));break;case "AdVerifications":this.parseAdVerifications(d.adVerifications,this.childsByName(c,"Verification"));break;case "Creatives":this.parseCreativeElement(d,c);break;case "Extensions":this.parseExtension(d.extensions,
this.childsByName(c,"Extension"));break;case "AdSystem":d.system={value:this.parseNodeText(c),version:c.getAttribute("version")||null};break;case "AdTitle":d.title=this.parseNodeText(c);break;case "Description":d.description=this.parseNodeText(c);break;case "Advertiser":d.advertiser=this.parseNodeText(c);break;case "Pricing":d.pricing={value:this.parseNodeText(c),model:c.getAttribute("model")||null,currency:c.getAttribute("currency")||null};break;case "Survey":d.survey=this.parseNodeText(c)}}return d};
y.prototype.parseAdElement=function(a){for(var d=a.childNodes,f=0;f<d.length;f++){var c=d[f];if("Wrapper"===c.nodeName||"InLine"===c.nodeName){this.copyNodeAttribute("id",a,c);this.copyNodeAttribute("sequence",a,c);this.copyNodeAttribute("fallbackOnNoAd",a,c);this.copyNodeAttribute("fallbackType",a,c);this.copyNodeAttribute("followAdditionalWrappers",a,c);this.copyNodeAttribute("allowMultipleAds",a,c);if("Wrapper"===c.nodeName)return this.parseWrapperElement(c);if("InLine"===c.nodeName)return this.parseInLineElement(c)}}return null};
y.prototype.mergeWrapperAdData=function(a,d){a.wrappers=d.wrappers.concat(a.wrappers);a.errorURLTemplates=d.errorURLTemplates.concat(a.errorURLTemplates);a.impressionURLTemplates=d.impressionURLTemplates.concat(a.impressionURLTemplates);a.extensions=d.extensions.concat(a.extensions);a.sequence=d.sequence;a.fallbackType=d.fallbackType;a.fallbackOnNoAd=d.fallbackOnNoAd||this.parseBoolean(a.fallbackOnNoAd,!1);a.followAdditionalWrappers=d.followAdditionalWrappers||this.parseBoolean(a.followAdditionalWrappers,
!0);a.allowMultipleAds=d.allowMultipleAds||this.parseBoolean(a.allowMultipleAds,!1);var f=d.creatives.filter(function(a){return"companion"===a.type}).shift(),c=a.creatives.filter(function(a){return"companion"===a.type}).shift();f&&c?c.variations=f.variations.concat(c.variations):f&&!c&&(c=new A,c.variations=f.variations.concat(c.variations),a.creatives.push(c));d.trackingEvents&&a.creatives.map(function(a){d.trackingEvents[a.type]&&Object.keys(d.trackingEvents[a.type]).map(function(f){a.trackingEvents[f]||
(a.trackingEvents[f]=[]);a.trackingEvents[f]=a.trackingEvents[f].concat(d.trackingEvents[a.type][f])})});d.videoClickTrackingURLTemplates&&a.creatives.map(function(a){"linear"===a.type&&(a.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates.concat(d.videoClickTrackingURLTemplates))});d.videoClickThroughURLTemplate&&a.creatives.map(function(a){"linear"!==a.type||a.videoClickThroughURLTemplate||(a.videoClickThroughURLTemplate=d.videoClickThroughURLTemplate)})};y.prototype.urlResponseHandler=
function(a,d,f,c,k,g){function h(){for(var a=D.ads.length-1;0<=a;a--){var f=D.ads[a];if(f.nextWrapperURL){a=JSON.parse(JSON.stringify(f));f.VASTAdTagURI=d[1];f.wrappers.push(a);for(f=m.wrapperCallbackHandlers.length-1;0<=f;f--)(0,m.wrapperCallbackHandlers[f])(a,m.currentWrapperDepth);return}}u();0===A?0===D.ads.length?(m.trackError(D,D.errorURLTemplates,303),c(k,D)):(D.ads.filter(function(a){return!m.isBrokenAd(a)}).map(function(a){a.creatives.map(function(d){var f=0<(d.mediaFiles||[]).filter(function(a){return!z.isSecureURL(a.fileURL)}).length;
d=0<(d.variations||[]).filter(function(a){return!z.isSecureURL(a.fileURL)}).length;m.blockInsecureURL&&(f||d)&&(a.errorCode=405)})}),D.ads.map(function(a){var d=void 0;m.hasValidCreatives(a)||(d=400);m.isBrokenAd(a)&&(d=303);!isNaN(d)&&isNaN(a.errorCode)&&a.fetched&&(a.errorCode=d)}),m.handleFallbackOnNoAdFlag(D.ads),f=D.ads.filter(function(a){return!1===a.fetched&&!a.hasError}),0===D.ads.filter(function(a){return a.hasError&&a.fallbackOnNoAd}).length&&(f=[]),0<f.length?(f=f.shift(),a=D.ads.indexOf(f),
f.fetch(function(a,d){0<d.ads.length&&(D.ads[a]=d.ads[0]);h()}.bind(m,a))):(m.deleteNeedlessBuffetAds(D.ads),D.ads.sort(m.bySequence),1===D.ads.length&&D.ads[0].errorCode&&(0===D.errorURLTemplates.length?m.trackError(D,D.ads[0].errorURLTemplates,D.ads[0].errorCode):m.trackError(D,D.errorURLTemplates,D.ads[0].errorCode),D.ads.splice(0,1)),c(k,D))):c(k,D)}function u(){0!==D.ads.length&&(D.ads.map(function(a){D.errorURLTemplates.map(function(d){-1===a.errorURLTemplates.indexOf(d)&&a.errorURLTemplates.push(d)})}),
D.errorURLTemplates=[])}var m=this,A=this.currentWrapperDepth++;if(k)return c(k);delete f.response;var D=new x;if(!g||!g.documentElement||"VAST"!==g.documentElement.nodeName)return c();for(var B=0;B<g.documentElement.childNodes.length;B++){var e=g.documentElement.childNodes[B];"Error"===e.nodeName&&D.errorURLTemplates.push(this.parseNodeText(e))}for(B=0;B<g.documentElement.childNodes.length;B++)e=g.documentElement.childNodes[B],"Ad"===e.nodeName&&((e=this.parseAdElement(e))?(e.url=e.nextWrapperURL?
G.resolveAdTagURI(e.nextWrapperURL,a):a,e.fetched=!0,D.ads.push(e)):this.trackError(D,D.errorURLTemplates,101));g=D.ads.length;for(B={$jscomp$this$6:void 0};g--;)B.$jscomp$this$6=this,e=D.ads[g],e.nextWrapperURL&&(function(c){return function(k){if(d.length-1>=c.$jscomp$this$6.maxWrapperDepth||k.nextWrapperURL in d)k.errorCode=302,delete k.nextWrapperURL;else if(k.followAdditionalWrappers){a&&(k.nextWrapperURL=G.resolveAdTagURI(k.nextWrapperURL,a));var g=function(a,f){delete k.nextWrapperURL;if(a)return k.errorCode=
a.errorCode||301,a.message&&-1!==a.message.indexOf("Invalid URL")&&(k.errorCode=303),h();f&&f.errorURLTemplates&&(D.errorURLTemplates=D.errorURLTemplates.concat(f.errorURLTemplates));if(f&&0!==f.ads.length){var g=D.ads.indexOf(k);D.ads.splice(g,1);f.ads.map(function(a){return function(f){a.$jscomp$this$6.mergeWrapperAdData(f,k);f.VASTAdTagURI=d[1];D.ads.splice(++g,0,f)}}(c))}else k.creatives=[];return h()},u=0<D.ads.filter(function(a){return!isNaN(a.sequence)}).length;isNaN(k.sequence)&&!f.prefetchBuffets&&
u?(g=new x,k.fetched=!1,k.fetchURL=k.nextWrapperURL,delete k.nextWrapperURL,k.fetch=function(a){return function(c){a.$jscomp$this$6.parse(k.fetchURL,f,function(d,f){if(0<f.ads.length)f.ads.map(function(a){return function(d){a.$jscomp$this$6.mergeWrapperAdData(d,k);d.VASTAdTagURI=k.url}}(a));else{var g=new p;g.errorURLTemplates=k.errorURLTemplates.concat(f.errorURLTemplates);g.errorCode=303;g.sequence=k.sequence;g.fetched=!0;g.fallbackOnNoAd=!0;f.ads.push(g)}c(f)},d)}}(c),g.ads.push(k)):c.$jscomp$this$6.parse(k.nextWrapperURL,
f,g.bind(c.$jscomp$this$6),d)}else delete k.nextWrapperURL,c.$jscomp$this$6.isBrokenAd(k)&&isNaN(k.errorCode)&&(k.errorCode=303)}}(B)(e),B={$jscomp$this$6:B.$jscomp$this$6});return h()};y.prototype.handleFallbackOnNoAdFlag=function(a){var d=this;a.sort(this.bySequence);var f=a.filter(function(a){return isNaN(a.sequence)&&!d.isBrokenAd(a)}),c=a.filter(function(a){return d.isBrokenAd(a)&&a.fallbackOnNoAd&&a.sequence&&!a.replaced}),k=a.filter(function(a){return a.fallbackOnNoAd&&a.sequence});if(0!==
k.length){var g=parseInt(k[k.length-1].sequence,10);if(0===c.length)return this.deleteNeedlessBuffetAds(a);c.forEach(function(d){var c=f.shift();if(c){var k=a.indexOf(d);c.sequence=d.sequence+.1;d.fallbackType&&"waterfall"===d.fallbackType&&(k=a.indexOf(c),c.sequence=g++);d.replaced=!0;a.splice(k,c)}})}};y.prototype.deleteNeedlessBuffetAds=function(a){if(0!==a.length&&!isNaN(a[0].sequence))for(var d=a.length;d--;)isNaN(a[d].sequence)&&a.splice(d,1)};y.prototype.bySequence=function(a,d){return a.sequence-
d.sequence||(a.sequence||Infinity)-(d.sequence||Infinity)||0};y.prototype.hasValidCreatives=function(a){return 0<a.creatives.filter(function(a,d,f){return 0<f.length&&(a.mediaFiles&&0<a.mediaFiles.length||a.variations&&0<a.variations.length)}).length};y.prototype.isBrokenAd=function(a){return!a||a.hasError||a.fetched&&!this.hasValidCreatives(a)};y.prototype.getClosestIndexOfNextValidAd=function(a,d){var f=this,c=Infinity;a.map(function(a,k){var g=Math.abs(c-d),h=Math.abs(k-d);!f.isBrokenAd(a)&&h<
g&&k!==d&&(c=k)});return Infinity===c?-1:c};y.prototype.parse=function(a,d,f,c){d=void 0===d?{}:d;c=void 0===c?[]:c;var k=a;f=void 0===f?function(){}:f;var g=d;"function"===typeof d&&(f=d,g={});this.blockInsecureURL=g.blockInsecureURL||!1;this.maxWrapperDepth=g.maxWrapperDepth||10;for(d=this.URLTemplateFilters.length-1;0<=d;d--)k=(0,this.URLTemplateFilters[d])(a);c.push(k);this.blockInsecureURL&&!z.isSecureURL(k)?f({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},
null):(new l).get(k,g,this.urlResponseHandler.bind(this,a,c,g,f))};window.VASTParser=y})()})();var Ga={};function Ia(c){return encodeURIComponent(c).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)})}function Ma(c,e){return Array(Math.max((void 0===e?2:e)-String(c).length+1,0)).join(0)+c}
function Na(c,e){e=void 0===e?{}:e;for(var l=[],n=ha.makeIterator(["ASSETURI","CONTENTPLAYHEAD"]),w=n.next();!w.done;w=n.next())w=w.value,e[w]=Ia(e[w]);null===e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900);e.CACHEBUSTING=Ma(Math.round(1E8*Math.random()),8).toString();e.TIMESTAMP=Ia((new Date).toISOString());e.RANDOM=e.random=e.CACHEBUSTING;for(n=0;n<c.length;n++)if(w=c[n]){for(var I=ha.makeIterator(Object.entries(e)),J=I.next();!J.done;J=I.next())var X=ha.makeIterator(J.value),J=X.next().value,
X=X.next().value,S="%%"+J+"%%",Q=J,w=w.replace("["+J+"]",X),w=w.replace(S,X),w=w.replace(Q,X);l.push(w)}return l}Ga.encodeURIComponentRFC3986=Ia;Ga.pad=Ma;Ga.resolveURLTemplates=Na;Ga.track=function(c,e){for(var l=Na(c,e),n=0;n<l.length;n++){var w=l[n];window&&((new Image).src=w)}};var Oa={listVersions:function(c,e){for(var l=[c.getVersion()],n=e.length-1;0<=n;n--){var w=e[n];w.getVersion&&l.push(w.getVersion())}console.log(l)}};var Pa={},Qa,Ta=window.getComputedStyle(document.documentElement,""),Ua=(Array.prototype.slice.call(Ta).join("").match(/-(moz|webkit|ms)-/)||""===Ta.OLink&&["","o"])[1],Va="WebKit|Moz|MS|O".match(new RegExp("("+Ua+")","i"))[1];Qa={js:Ua[0].toUpperCase()+Ua.substr(1),dom:Va,css:"-"+Ua+"-",lowercase:Ua};Pa.prefix=Qa;var Wa={};function Xa(c){var e=[];e.forEach.call(e.slice.call(arguments,1),function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(c[n]="object"===typeof c[n]&&"object"===typeof e[n]&&null!==e[n]?Xa(c[n],e[n]):e[n])});return c}Wa.extend=Xa;var Ya={PublisherConfig:function(c){var e={adRequest:"",adResponse:"",timeText:"",headerText:"Advertisement",skipText:"",skipOffset:-1,uiLayout:"minimal",volume:.75,visibilityThreshold:50,behaviourMatrix:{},featureMatrix:{},prefetching:!1,onCappedCallback:function(){},onStartCallback:function(){},onEndCallback:function(){},onEventCallback:function(){},onPrefetchCompleteCallback:function(){},onClickThruCallback:function(){},minElementHeight:30,forceCollapseOnShutdown:!0,parentProspectorValue:null},
l={flash:{enabled:!1,source:""},layout:{enabled:!0,source:[]},endingScreen:{enabled:!0,source:""},bestFit:{enabled:!0},formats:{wide:!0,square:!0,vertical:!0},formatChange:{inline:["wide","vertical","square"],fullscreen:["wide","vertical"]}},n={init:{collapsed:!0,paused:!0,muted:!0},onScreen:{collapsed:!1,paused:!1,muted:!0},offScreen:{collapsed:!1,paused:!0,muted:!0},complete:{collapsed:!0,paused:!1,muted:!0},onClick:{collapsed:!1,paused:!0,muted:!0},mouseOver:{collapsed:!1,paused:!1,muted:!1},mouseOut:{collapsed:!1,
paused:!1,muted:!0}},w={};return function(c){c.behaviourMatrix=Wa.extend(n,c.behaviourMatrix);c.behaviourMatrix.init.muted=!0;c.featureMatrix=Wa.extend(l,c.featureMatrix);return w=Wa.extend(e,c)}(c)}};var bb={BaseAPI:function(c,e,l){function n(){}var w=e.debug||!1,I={utils:{},model:{},controller:{},view:{}};I.publisherConfig=new Ya.PublisherConfig(e);I.elements=null;I.debug=(w?console.log:n||n).bind(console,"[SmartPlay (4.7.2-ge7141d8)]");I.info=(2<=w?console.info:n||n).bind(console,"[SmartPlay Info (4.7.2-ge7141d8)]");I.getVersion=function(){return"4.7.2-ge7141d8"};I.shutdown=function(){(e.onShutdown||n)(c);I.elements.iframe.parentNode&&c.removeChild(I.elements.iframe);I.elements.backdrop.parentNode&&
c.removeChild(I.elements.backdrop);delete l[c.getAttribute("data-smartPlay-instance-id")];c.removeAttribute("data-smartPlay-instance-id");I.elements.nodes&&0<I.elements.nodes.length&&I.elements.nodes[0].style.removeProperty("transition");c.id&&-1!==c.id.indexOf("sc-")&&c.parentNode&&c.parentNode.removeChild(c)};(function(){c.style.transition=c.style[Pa.prefix.js+"Transition"]="height 0.5s";c.style.position="relative";c.style.overflow="hidden";var e=c.id.replace(/\W+/g,"-");c.insertAdjacentHTML("beforeend",
'<div id="'+e+'-backdrop" style="width: 100%; height: inherit; position: absolute; border: 0; margin: 0; top: 0; left: 0;;pointer-events: none;"></div>');c.insertAdjacentHTML("beforeend",'<iframe id="'+e+'-frame" frameborder="0" scrolling="no" style="width: 100%; height: inherit; position: absolute; border: 0; margin: 0; top: 0; left: 0;"></iframe>');I.elements={iframe:c.querySelector("#"+e+"-frame"),backdrop:c.querySelector("#"+e+"-backdrop")};I.elements.iframeDocument=I.elements.iframe.contentDocument;
I.elements.iframeDocument.open().write("<!doctype html><html><head></head><body></body></html>");I.elements.iframeDocument.close()})();return I}};(window.ElementLocator=function cb(e,l){function n(e,g){return"undefined"===typeof e?g:e}function w(){}function I(e){for(var g=[];e.parentNode;)if(null!==e.getAttribute("id")){g.unshift("#"+e.getAttribute("id"));break}else{if(e===e.ownerDocument.documentElement)g.unshift(e.tagName.toLowerCase());else{for(var r=e,h=1,h=1;r.previousElementSibling;h++)r=r.previousElementSibling;g.unshift(e.tagName.toLowerCase()+":nth-child("+h+")")}e=e.parentNode}return g.join(">")}function J(){if(!G)return null;var e=
Array.prototype.slice.call(q.querySelectorAll("img")),g={};Array.prototype.slice.call(q.querySelectorAll("p")).forEach(function(e){var h=I(e.parentNode);g[h]=g[h]||{a:0,height:0};g[h].a+=1;g[h].height+=e.getBoundingClientRect().height;g[h].node=e.parentNode});e.forEach(function(e){for(var h=e;h.parentNode;){var p=I(h.parentNode);if(g[p]){g[p].a+=1;g[p].height+=e.getBoundingClientRect().height;break}h=h.parentNode}});return(e=Object.keys(g).sort(function(e,h){return g[h].height-g[e].height}))&&0<e.length?
g[e[0]]:null}function X(e,g){var r=e.getBoundingClientRect(),h=g.getBoundingClientRect();return r.top<h.top?-1:r.top>h.top?1:0}function S(){var e=J();T("located content block",e);var g=0,r=null,h=["div","p","section"].map(function(a){return 0<P.length?a+P.split("/").join("\\/"):a}),p=q.body.getBoundingClientRect(),t=q;e&&(t=e.node);e=Array.prototype.slice.call(t.querySelectorAll(h.join(",")));[].sort.call(e,X);if(0<P.length&&1===e.length)return T("only located one element based on",P,"stopping further checks"),
e[0];V&&(R=z+R,z=0);h=[];T("elements found in the content block",e);for(t=0;t<e.length;t++){var b=e[t].getBoundingClientRect(),b=e[t].offsetTop||b.top-p.top,d=e[t].offsetWidth;d<=v?T("skipping element",e[t],"because it does not match height or is smaller than",v):b>z&&b<z+R&&(T(e[t],"in close inspection"),d>=g&&(g=d,h.push(e[t]),T("selected",e[t],g,d)))}0<h.length&&(r=h[Math.floor(h.length/2)],T("suitableElements collected",h,"and in the end",r,"selected"));return r}var Q={},F=n(l,{}),ba=n(e,cb.b),
R=n(F.scanPixelsBelowViewport,600),v=n(F.minimumElementWidth,320),O=n(F.elementFloat,"none"),V=n(F.allowInViewport,!1),P=n(F.elementSelector,""),Y=n(F.insertPosition,"afterend"),G=n(F.locateContent,!0),z=0,q=document,T=(n(F.debug,!1)?console.log:w||w).bind(console,"[ElementLocator (unversioned-dev)]");Q.c=function(){return"unversioned-dev"};(function(){for(var e=window.frameElement,g=window;e;)g=e.ownerDocument.defaultView,e=g.frameElement;q=g.document;z=q.documentElement.clientHeight;(e=S())?(g=
q.createElement("div"),g.setAttribute("id",ba),g.style.cssFloat=O,e.insertAdjacentHTML?e.insertAdjacentHTML(Y,g.outerHTML):e.appendChild(g),Q.element=e,Q.container=q.querySelector("#"+g.getAttribute("id")),Q.containerId=g.getAttribute("id")):(T("could not locate a suitable element, bailing"),T("innerHeight",z,"options",l))})();return Q}).b=window.ElementLocator.generateRandomID=function(){return"sc-"+Math.random().toString(36).substring(7)};var db={onDocumentReady:function(c,e){var l=e||document;if("interactive"===l.readyState||"complete"===l.readyState)c.call();else{var n=setTimeout(function(){n=0;c.call()},2E3);l.onreadystatechange=function(){"interactive"===l.readyState&&n&&(clearTimeout(n),c.call())}}}};var eb={},fb=[],gb=[],ib=window.SmartPlay=function hb(e,l,n){function w(e,l,n){if(!e.getAttribute("data-smartPlay-instance-id")){e.setAttribute("data-smartPlay-instance-id",fb.length);var w=new bb.BaseAPI(e,l,fb);fb.push({api:w,element:e,config:l});db.onDocumentReady(function(){gb.forEach(function(n){n(w,e,l)});w.listVersions=Oa.listVersions.bind(this,w,gb);(n||function(){})(w,e)},e.ownerDocument)}return fb[parseInt(e.getAttribute("data-smartPlay-instance-id"),10)].api}function I(e){var l=Object.prototype.toString.call(e);
return"[object Function]"===l||"function"===typeof e&&"[object RegExp]"!==l}return function(){if(I(e))return db.onDocumentReady(function(){-1===gb.indexOf(e)&&fb.forEach(function(l){e(l.api,l.element,l.config)})}),gb.push(e);if("number"===typeof e||"undefined"===typeof e)return fb[e||0]?fb[e||0].api:null;if(e.nodeType)return null!==e.getAttribute("data-smartPlay-instance-id")?(fb[e.getAttribute("data-smartPlay-instance-id")]||{api:null}).api:l?w(e,l,n):null;if("string"===typeof e&&0<e.length){var J=
e;-1===J.lastIndexOf("#",0)&&-1===J.lastIndexOf(".",0)&&(J+=", #"+J+", ."+J);return(J=sa.findRecursiveUp(J)[0])&&hb(J,l,n)}if(I(ElementLocator)){(J=l)||(J={elementLocator:{}});J.elementLocator?J.elementLocator.debug=J.debug:J.elementLocator={debug:J.debug};var X=new ElementLocator(ElementLocator.generateRandomID(),J.elementLocator);if(X.element)return J.locatedElement=X.element,hb(X.container,J,n)}return null}()};eb.smartPlay=ib;function lb(){this.states=[]}lb.prototype.addState=function(c){c.valid&&(c.initialize(),this.states.push(c))};lb.prototype.removeState=function(c){this.states=this.states.filter(function(e){return e.id===c?(e.destroy(),!1):!0})};lb.prototype.removeAllStates=function(){for(var c=this.states.length-1;0<=c;c--)this.states[c].destroy();this.states=[]};lb.prototype.getState=function(c){return this.states.filter(function(e){return e.id===c?!0:!1}).shift()};
lb.prototype.isActive=function(c){return(this.getState(c)||{}).active||!1};var mb={};function nb(c){var e=[];for(c=c.parentNode;c;){var l=c.ownerDocument,n=null;l&&(n=l.defaultView);n&&n.frameElement&&(e.unshift(n.frameElement),e=nb(n.frameElement).concat(e));e.unshift(c);c=c.parentNode}return e.splice(2)}mb.elementParentNodes=nb;mb.parentNodes=function(c,e){var l=nb(c),n=l.length-1;for(isNumber(e)?n=e:isString(e)&&sa.findRecursiveUp(e);0<=n;n--)if(l[n].getBoundingClientRect().height>minHeight)return l.splice(n+1);return[]};var ob={};function pb(){return!!window._smartclip_amp}ob.isAmp=pb;ob.isAmpObserveIntersection=function(){return pb()&&!(!window.context||!window.context.observeIntersection)};function qb(c){this.id=c.id||Math.random().toString(36).substring(7);this.options=c;for(var e in this.options)this.options.hasOwnProperty(e)&&"function"===typeof this.options[e]&&(this.options[e]=[this.options[e]]);this.valid=!0;this.active=!1}qb.prototype.callMethods=function(c){if(c)for(var e=c.length,l=[].slice.call(arguments),n=0;n<e;n++)if(!c[n].apply(this,l))return!1;return!0};qb.prototype.destroy=function(){};qb.prototype.initialize=function(){};
qb.prototype.enter=function(){this.callMethods(this.options.canEnter)&&(this.callMethods(this.options.onFirstRun),this.callMethods(this.options.onEnter),this.options.onFirstRun=[],this.active=!0)};qb.prototype.exit=function(){this.callMethods(this.options.canLeave)&&(this.callMethods(this.options.onLeave),this.active=!1)};var rb={},sb=null;function tb(){return ob.isAmp()||window!==top}rb.isIF=tb;rb.isFIF=function(){return!ob.isAmp()&&tb()&&null!==window.frameElement};rb.topLevelWindow=function(c){if(!ob.isAmp())return window;var e=window.frameElement,l=window;if(!c&&sb)return sb;for(;e;)(c||function(){})(e),l=e.ownerDocument.defaultView,e=l.frameElement;return sb=l};eb.smartPlay(function(c){c.utils=c.utils||{};c.utils.topLevelWindow=rb.topLevelWindow.bind(c);c.utils.getTopBoundingClientRect=function(c){var l=c.getBoundingClientRect(),l={bottom:l.bottom,height:l.height,left:l.left,right:l.right,top:l.top,width:l.width};c=c.ownerDocument.defaultView;for(c=c.frameElement;null!==c;){var n=c.getBoundingClientRect();l.left+=n.left;l.top+=n.top;l.right=l.left+l.width;l.bottom=l.top+l.height;c=c.ownerDocument.defaultView;c=c.frameElement}return l};c.utils.isIF=rb.isIF.bind(c);
c.utils.isFIF=rb.isFIF.bind(c);c.utils.browserInfo=function(){var c=navigator.userAgent,l,n=c.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],w={browser:null,version:0};if(/trident/i.test(n[1]))return l=/\brv[ :]+(\d+)/g.exec(c)||[],w.browser="MSIE",w.version=parseInt(l[1]||0,10),w;if("Chrome"===n[1]&&(l=c.match(/\b(OPR|Edge)\/(\d+)/),null!==l))return w.browser=l.slice(1).join(" ").replace("OPR","Opera"),w;n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"];
l=c.match(/version\/(\d+)/i);null!==l&&n.splice(1,1,l[1]);w.browser=n[0];w.version=parseInt(n[1],10);return w}();c.utils.isAmp=ob.isAmp.bind(c);c.utils.isAmpObserveIntersection=ob.isAmpObserveIntersection.bind(c)});var ub={Visibility:function(c,e,l){function n(l){var n;l||(l=e.utils.getTopBoundingClientRect(c));J.top=l.top;J.left=l.left;J.bottom=l.top+J.height;J.right=l.left+J.width;var w=window.top;e.utils.isAmp()&&(l=window.context.initialIntersection.rootBounds,w={innerHeight:l.height,innerWidth:l.width});l=w.innerHeight;n=w.innerWidth;var F=J,w=0,ba=F.width*F.height;l=((F.right<n?F.right:n)-(0<F.left?F.left:0))*((F.bottom<l?F.bottom:l)-(0<F.top?F.top:0));0<l&&(w=l/ba);I.visibility=100*w}function w(){e.utils.isAmpObserveIntersection()&&
window.context.observeIntersection(function(c){c.forEach(function(c){n(c.boundingClientRect)})})}var I={visibility:0,distance:Infinity},J={width:l.width,height:l.height};I.update=function(c){c&&(J={width:c.width,height:c.height});e.utils.isAmp()||n()};e.utils.isAmp()&&w();return I}};function vb(c,e,l){qb.call(this,l);this.visibilityModel=new ub.Visibility(c,e,e.size);this.topLevelWindow=e.utils.topLevelWindow();this.api=e}ha.inherits(vb,qb);
vb.prototype.initialize=function(){var c=this;qb.prototype.initialize.call(this);this.valid&&(this.visibilityModel.update(this.api.size),this.updateTimeout=setInterval(function(){c.visibilityModel.update(c.api.size);c.api.environmentVars.visibilityPercent=c.visibilityModel.visibility;c.visibilityModel.visibility>=(c.options.requiredVisibility||50)?c.enter():c.exit()},this.options.reportInterval||50))};
vb.prototype.destroy=function(){this.updateTimeout&&(clearInterval(this.updateTimeout),this.updateTimeout=null)};eb.smartPlay(function(c,e,l){function n(){if(c.elements.nodes&&0<c.elements.nodes.length){var e=c.elements.nodes[0].style.overflow;c.elements.nodes[0].style.overflow="hidden";c.elements.nodes[0].style.height="0px";setTimeout(function(){c.elements.nodes[0].style.overflow=e},500)}}function w(c){var e=window.getComputedStyle(c);c=parseFloat(e.marginTop)+parseFloat(e.marginBottom);e=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom);return c+e}function I(){var l=0;if(c.elements.nodes&&!(c.elements.nodes&&
1>c.elements.nodes.length))for(var n=c.elements.nodes.length-1;0<=n;n--){var v=c.elements.nodes[n],G=v.childNodes,z=v.getAttribute("sc-size");if(!z||parseInt(z,10)!==c.size.height){for(var z=window.getComputedStyle(v,":before"),q=w(v),l=l+q,q=G.length-1;0<=q;q--){var O=G[q];if(O.nodeType===Node.ELEMENT_NODE&&-1===c.elements.nodes.indexOf(O)&&O!==e)var E=w(O),l=l+Math.ceil(O.getBoundingClientRect().height+E)}z.content&&(l+=parseInt(z.lineHeight,10));v.style.height=c.size.height+l+"px";v.setAttribute("sc-size",
c.size.height)}}}function J(n){n=(n||e).getBoundingClientRect();var v=c.utils.topLevelWindow()||window,w=v.msMatchMedia||v.MozMatchMedia||v.WebkitMatchMedia||v.matchMedia,v=16/9;"undefined"!==typeof w&&c.environmentVars&&(w("(orientation: portrait)").matches&&c.environmentVars.hasVerticalAds?v=.5625:w("(orientation: portrait)").matches&&c.environmentVars.hasSquareAds&&(v=1));var G=w=n.width;G>=l.minAdWidth&&G<=l.maxAdWidth||(n.width>l.maxAdWidth?w=l.maxAdWidth:n.width<l.minAdWidth&&(w=0));return{width:Math.round(w),
height:Math.round(w/v)}}function X(){v=context.onResizeDenied(function(e,l){c.info("AMP denied the resize to",e,l)});O=context.onResizeSuccess(function(e,l){c.info("AMP successfully resized to",e,l)})}function S(){R=setInterval(function(){c.canExpand()&&c.resize()},1E3/15)}var Q={};c.controller=c.controller||{};c.controller.sizeManager=Q;var F=new lb;c.size={width:0,height:0};var ba=!1,R=null;Q.collapseContainer=function(l){l=l||ob.isAmp()||!1;if(ba||l)e.style.height="0px",ob.isAmp()&&(c.info("AMP",
"collapseContainer","requestResize",c.size.width),context.requestResize(0,0)),n(),ba=!1};Q.expandContainer=function(l){if(!ba||l){e.style.height=c.size.height+"px";ob.isAmp()&&c.canExpand&&(c.info("AMP","expandContainer","requestResize",c.size),context.requestResize(c.size.width,c.size.height));if(c.elements.nodes&&1<c.elements.nodes.length){var n=c.elements.nodes[0].style.overflow;c.elements.nodes[0].style.overflow="hidden";setTimeout(function(){c.elements.nodes[0].style.overflow=n},500)}I();ba=
!0}};c.resize=function(){var l=J();if(c.size.width!==l.width||c.size.height!==l.height)ob.isAmp()&&(c.info("AMP","requestResize",l),context.requestResize(l.width,l.height)),c.size=l,c.environmentVars.size=c.size,c.elements.iframe.style.width=l.width+"px",c.elements.iframe.style.height=l.height+"px",c.elements.backdrop.style.width=l.width+"px",c.elements.backdrop.style.height=l.height+"px",e.style.height=l.height+"px"};var v=null,O=null;Ba.hookBefore(c,"shutdown",function(){F.removeAllStates();if(c.elements.nodes&&
c.elements.nodes.length)for(var e=c.elements.nodes.length-1;0<=e;e--){var l=c.elements.nodes[e];l.style.cssText=l.getAttribute("data-smartplay-cssText")}clearInterval(R);R=null;c.utils.isAmp()&&(v&&v(),O&&O())});(function(){var n=c.publisherConfig,v=e.getBoundingClientRect(),w=e;1>=v.width&&(v=mb.parentNodes(e,n.minElementHeight))&&0<v.length&&(c.debug("found",v,"using",v[0],"as size reference"),w=v[0]);w=c.size=J(w);1>w.width?(l.prefetching=n.prefetching=!1,setTimeout(function(){c.shutdown()},100),
c.debug("could not fit into",l.minAdWidth,"calling shutdown")):(c.elements.iframe.style.width=w.width+"px",c.elements.iframe.style.height=w.height+"px",c.elements.backdrop.style.width=w.width+"px",c.elements.backdrop.style.height=w.height+"px",F.addState(new vb(e,c,{requiredVisibility:1,canEnter:c.isReady,onFirstRun:function(){}})),c.utils.isAmp()&&X(),S())})()});function xb(c,e,l){qb.call(this,l);this.element=e.utils.topLevelWindow()}ha.inherits(xb,qb);xb.prototype.initialize=function(){var c=this;qb.prototype.initialize.call(this);this.element.addEventListener("touchmove",function(){c.enter()},!1);this.element.addEventListener("touchend",function(){c.exit()},!1);this.element.addEventListener("touchcancel",function(){c.exit()},!1)};function yb(c,e){qb.call(this,e);this.element=c}ha.inherits(yb,qb);yb.prototype.initialize=function(){var c=this;qb.prototype.initialize.call(this);this.element.addEventListener("mouseover",function(){c.enter()},!1);this.element.addEventListener("mouseout",function(){c.exit()},!1)};ha.initSymbol();Symbol();
function zb(c,e,l){qb.call(this,l);this.api=e;"undefined"!==typeof document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!==typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange");if("undefined"===
typeof document.addEventListener||"undefined"===typeof this.hidden)e.debug("Page Visibility API unsupported."),this.valid=!1;this.visibilityChangeHandler=this.handleVisibilityChange.bind(this)}ha.inherits(zb,qb);zb.prototype.handleVisibilityChange=function(){document[this.hidden]?this.enter():this.exit()};zb.prototype.initialize=function(){qb.prototype.initialize.call(this);this.valid&&document.addEventListener(this.visibilityChange,this.visibilityChangeHandler,!1)};
zb.prototype.destroy=function(){document.removeEventListener(this.visibilityChange,this.visibilityChangeHandler,!1)};var Ab={};
eb.smartPlay(function(c){c.model=c.model||{};c.model.EnvironmentVars=function(){var c={},l=this;l.observe=function(n,w){c.hasOwnProperty(n)?(c[n].observers.push(w),null!==c[n].value&&w(c[n].value)):(l.hasOwnProperty(n)&&!c.hasOwnProperty(n)?c[n]={value:l[n],observers:[w]}:c[n]={value:null,observers:[w]},Object.defineProperty(l,n,{set:function(l){c[n].value!==l&&(c[n].value=l,c[n].observers.forEach(function(l){l(c[n].value)}))},get:function(){return c[n].value},enumerable:!0,configurable:!0}))};l.disconnect=
function(n,w){l.hasOwnProperty(n)&&(c[n].observers=[],Object.defineProperty(l,n,{set:void 0}),!0===w&&(delete c[n],delete l[n]))};l.remove=function(n){l.hasOwnProperty(n)&&(l.disconnect(n),delete c[n],delete l[n])};return l}});Ab.ENGINE_HTML5="HTML5";var Bb={CampaignOverrideConfig:function(c,e){function l(e){e.children.filter(function(e){if(c.publisherConfig.hasOwnProperty(e.name)&&e.value&&0===e.children.length)c.publisherConfig[e.name]=e.value;else if(0<e.children.length){var l=e.name;e.children.filter(function(e){if(c.publisherConfig[l].hasOwnProperty(e.name)&&e.attributes)for(var n=ha.makeIterator(Object.keys(e.attributes)),w=n.next();!w.done;w=n.next())w=w.value,c.publisherConfig[l][e.name][w]="true"===e.attributes[w];else e.attributes&&
(c.publisherConfig[l][e.name]=e.attributes)})}})}e.subscribe(function(c,e){if(e&&e.extensions&&0<e.extensions.length)for(var I=0;I<e.extensions.length;I++){var J=e.extensions[I];"SmartPlayConfig"===J.attributes.name&&l(J)}},"AdLoaded")}};eb.smartPlay(function(c){function e(c,e){function l(){c.apply(this,arguments);I.unsubscribe(l,e)}I.subscribe(l,e)}function l(e,l){var n=l.ads.filter(function(c){return!c.errorCode})||[],Q=n.filter(function(c){return 0<c.creatives[0].mediaFiles.filter(function(c){return c.attributes?c.attributes.format===ois.MediaFileFormat.VERTICAL:c.width<c.height}).length}),n=n.filter(function(c){return 0<c.creatives[0].mediaFiles.filter(function(c){return c.attributes?c.attributes.format===ois.MediaFileFormat.SQUARE:
c.width===c.height}).length});I&&I.adManager&&I.removeRules&&I.adManager.removeRules("format");I.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.WIDE});Q.length&&w.featureMatrix.formats.vertical&&(c.environmentVars.hasVerticalAds=!0,c.info(">> SizeBasedFormat.js::getMediaFileFormats() -- setVertical to true"),I.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.VERTICAL}));n.length&&w.featureMatrix.formats.square&&(c.environmentVars.hasSquareAds=!0,I.adManager.addRuleToRuleSet({format:ois.MediaFileFormat.SQUARE}))}
var n={};c.controller=c.controller||{};c.controller.sizeBasedFormat=n;var w={},I=null;n.setVPAIDAd=function(c){I=c;w.featureMatrix.bestFit.enabled&&e(l,"AdTagParsed")};w=c.publisherConfig});function Cb(c,e,l){vb.call(this,c,e,l);this.originalCreateTracker=null;this.collectedTrackers=[];this.shudownCalled=!1;this.api=e;this.options=l;e.publisherConfig.prefetching||(this.valid=!1)}ha.inherits(Cb,vb);
Cb.prototype.oisTrackerCollector=function(c,e,l,n){var w=n.adManager;(function(){var e=this;this.originalCreateTracker=w.trackingController().createTracker;w.trackingController().createTracker=function(c){c.trackEvent&&"error"===c.trackEvent&&e.collectedTrackers.push(c)};c.subscribe(function(){w.trackingController().createTracker=e.originalCreateTracker},"AdStarted")}).apply(this)};
Cb.prototype.fireCollectedTrackers=function(){for(var c=0;c<this.collectedTrackers.length;c++)this.originalCreateTracker(this.collectedTrackers[c]);this.collectedTrackers=[]};Cb.prototype.shudownOverride=function(){this.shudownCalled=!0;this.visibilityModel.visibility>=(this.options.requiredVisibility||50)&&(this.fireCollectedTrackers(),this.originalShutdown())};Cb.prototype.destroy=function(){vb.prototype.destroy.call(this)};
Cb.prototype.onVisible=function(){this.fireCollectedTrackers();this.shudownCalled&&this.originalShutdown()};Cb.prototype.enter=function(){vb.prototype.enter.call(this);this.onVisible()};Cb.prototype.initialize=function(){vb.prototype.initialize.call(this);this.valid&&(this.api.publisherConfig.prefetching&&(this.originalShutdown=this.api.shutdown,this.api.shutdown=this.shudownOverride.bind(this)),ois(this.oisTrackerCollector.bind(this)))};eb.smartPlay(function(c){c.model=c.model||{};c.model.PlayerInterface=function(){return{dom:{nodes:[{tag:"div",attributes:{id:"slots-wrapper"},nodes:[{tag:"video",attributes:{id:"video-slot","class":"back-color",preload:"auto","data-bind":"volume: volume, click: triggerClickThrough",src:null}},{tag:"div",attributes:{id:"click-slot","class":"","data-bind":"click: triggerClickThrough, hidden: isVPAID",style:"width: 100%; height: 100%; position: absolute; top: 0; left: 0"}}]},{tag:"div",attributes:{id:"replay-ui",
"class":"minimal paused",style:"display: none;","data-bind":"class: playState"},nodes:[{tag:"div",attributes:{id:"buttonbar","class":"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{"class":"button click-through back-color left","data-bind":"click: triggerClickThrough"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-web"}}]}]},{tag:"div",attributes:{"class":"button click-through back-color","data-bind":"click: toggleRePlay"},
nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-play"}}]}]}]}]},{tag:"div",attributes:{id:"controlbar","class":"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"progress"},nodes:[{tag:"div",attributes:{id:"progress-bg","class":"back-std-color light"}},{tag:"div",attributes:{id:"progress-bar","class":"back-hl-color","data-bind":"style: percentCloseTimeout"}}]}]}]}]},{tag:"div",attributes:{id:"player-ui","class":"paused",style:"display: none;",
"data-bind":"class: playState"},nodes:[{tag:"div",attributes:{id:"header","class":"front-std-color text-shadow"},nodes:[{tag:"div",attributes:{id:"countdown","data-bind":"innerHTML: headerText, style: validDuration"}}]},{tag:"div",attributes:{id:"big-play","class":"button front-hl-color text-shadow","data-bind":"click: togglePlay"},nodes:[{tag:"span",attributes:{"class":"scmp-big-play"}}]},{tag:"div",attributes:{id:"skipbar","class":"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},
nodes:[{tag:"div",attributes:{id:"skip","class":"button back-color front-hl-color","data-bind":"click: skip"},nodes:[{tag:"div",attributes:{"data-bind":"innerHTML: skipText"}},{tag:"div",attributes:{"class":"wrapper"},nodes:[{tag:"span",attributes:{"class":"skip-close scmp-plus rotate-45"}},{tag:"canvas",attributes:{width:"28",height:"28","class":"skip-countdown enabled"}}]}]},{tag:"div",attributes:{id:"play-ios","class":"button back-color","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",
attributes:{"class":"scmp-play"}}]}]},{tag:"div",attributes:{"class":"button click-through back-color","data-bind":"click: triggerClickThrough"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-web"}}]}]}]}]},{tag:"div",attributes:{id:"controlbar","class":"back-color front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"play","class":"button","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-play"}}]}]},
{tag:"div",attributes:{id:"progress"},nodes:[{tag:"div",attributes:{id:"progress-bg","class":"back-std-color light"}},{tag:"div",attributes:{id:"progress-loaded","class":"back-std-color","data-bind":"style: percentLoaded"}},{tag:"div",attributes:{id:"progress-bar","class":"button back-hl-color","data-bind":"click: seek, style: percentPlayed"}}]},{tag:"div",attributes:{id:"progress-text","data-bind":"style: validTimeText"},nodes:[{tag:"span",attributes:{"class":"front-hl-color","data-bind":"innerHTML: timeText, style: validDuration"}}]},
{tag:"div",attributes:{id:"sound"},nodes:[{tag:"div",attributes:{id:"volume-increase","class":"button","data-bind":"click: volumeChange"},nodes:[{tag:"span",attributes:{"class":"scmp-plus"}}]},{tag:"div",attributes:{id:"volume-level","class":"button","data-bind":"click: toggleMute"},nodes:[{tag:"span",attributes:{"class":"scmp-volume-0-mute scmp-volume-25 scmp-volume-50 scmp-volume-75 scmp-volume-100","data-bind":"class: volumeLevel"}}]},{tag:"div",attributes:{id:"volume-decrease","class":"button",
"data-bind":"click: volumeChange"},nodes:[{tag:"span",attributes:{"class":"scmp-minus"}}]}]}]}]}]}],attributes:{"class":"back-color",style:"margin: 0; padding: 0; width: 100%; height: 100%;","data-bind":"class: uiLayout"}}}}});Number.isFinite=Number.isFinite||function(c){return"number"===typeof c&&isFinite(c)};Object.entries||(Object.entries=function(c){for(var e=Object.keys(c),l=e.length,n=Array(l);l--;)n[l]=[e[l],c[e[l]]];return n});function Db(c,e){this.view=c;this.color=e;this.skipUI=this.view.querySelector("#skip");this.canvas=this.view.querySelector("#skip canvas");this.outerRadius=this.canvas.width/2;this.innerRadius=this.outerRadius-5;this.ctx=this.canvas.getContext("2d")}
Db.prototype.countdown=function(c){var e=-1*Math.PI/2,l=this.innerRadius-2;c=Math.min(Math.max(0,1-c||1),1);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.width);this.ctx.beginPath();this.ctx.arc(this.outerRadius,this.outerRadius,l,e,2*Math.PI*c+e,!1);this.ctx.strokeStyle=this.color;this.ctx.lineCap="butt";this.ctx.lineWidth=2;this.ctx.stroke();this.ctx.closePath()};Db.prototype.activate=function(){this.skipUI.classList.add("active")};
Db.prototype.deactivate=function(){this.skipUI.classList.remove("active");this.skipUI.classList.remove("enabled");this.countdown(0)};Db.prototype.enable=function(){this.skipUI.classList.add("enabled")};Db.prototype.getSeconds=function(c){c=Number.isFinite(c)?[c]:c.split(":");for(var e=0,l=1;0<c.length;)e+=l*parseInt(c.pop(),10),l*=60;return e};eb.smartPlay(function(c){c.controller=c.controller||{};c.controller.Player=function(){function e(a,b){var d=b||document.head,c=document.createElement("link");c.setAttribute("href",a);c.setAttribute("type","text/css");c.setAttribute("rel","stylesheet");d.appendChild(c)}function l(a,b){var d=b||document.body;a.nodes.forEach(function(a){var b=document.createElement(a.tag),c;for(c in a.attributes)a.attributes[c]&&b.setAttribute(c,a.attributes[c]);a.content&&b.insertAdjacentHTML("beforeend",a.content);
a.nodes&&0<a.nodes.length&&l(a,b);d.appendChild(b)});for(var c in a.attributes)a.attributes[c]&&d.setAttribute(c,a.attributes[c])}function n(){var a=G.querySelector(".overlay #player-ui #controlbar");a&&a.classList.remove("active")}function w(){var a=G.querySelector(".overlay #player-ui #controlbar");a&&a.classList.add("active");clearTimeout(b);b=setTimeout(n,5E3)}function I(){G.querySelector("#volume-level > span").setAttribute("class","scmp-volume-0-mute")}function J(){function a(a){var b=a;-1<
a.indexOf("[")&&(b=a.replace(/\[currentTime\]/gi,parseInt(q.currentTime,10)).replace(/\[remainingTime\]/gi,parseInt(q.duration-q.currentTime,10)).replace(/\[duration\]/gi,parseInt(q.duration,10)).replace(/\[slotCurrentTime\]/gi,parseInt(g.getSlotDuration()-g.getSlotRemainingTime(),10)).replace(/\[slotRemainingTime\]/gi,parseInt(g.getSlotRemainingTime(),10)).replace(/\[slotDuration\]/gi,parseInt(g.getSlotDuration(),10)));return b}if(!(q.paused||(q.currentTime=E.currentTime||g.getAdDuration()-g.getAdRemainingTime(),
q.currentTime>q.duration))){Number.isFinite(q.duration)&&0<q.duration&&Number.isFinite(q.currentTime)&&(q.validDuration="visibility: visible");""!==T.timeText&&(q.validTimeText="display: table-cell");if(Number.isFinite(T.skipOffset)&&-1<T.skipOffset){var b=q.currentTime/T.skipOffset;Number.isFinite(b)&&"commercial"===q.variant&&(r.activate(),1>b?r.countdown(b):r.enable())}q.timeText=a(T.timeText);q.headerText=a(T.headerText);"commercial"===q.variant&&(q.percentPlayed="width: "+100*(g.getSlotDuration()-
g.getSlotRemainingTime())/g.getSlotDuration()+"%")}}function X(){I();for(var a=25;a<=100*q.volume;)G.querySelector("#volume-level > span").classList.add("scmp-volume-"+a),a+=25}function S(){var a=c.utils.getTopBoundingClientRect(c.elements.iframe);q.size&&q.size.width===parseInt(a.width,10)&&q.size.height===parseInt(a.height,10)||(q.size={width:parseInt(a.width,10),height:parseInt(a.height,10)})}function Q(a,b,d){b.addEventListener(a,d);p.push({event:a,element:b,listener:d})}function F(a,b,c){q.observe(c,
function(c){a?(a.setAttribute&&a.setAttribute(b,c),a[b]=c):d("Couldn't deliver update for "+b+" set "+c+". Target not present.")});t.push({element:a,attribute:b,property:c})}function ba(a,b){for(var d=b.split(" ").join("").split(","),c=0;c<d.length;c++){var g=d[c].split(":"),h=g[0],g=g[1];"function"===typeof Y[g]?Q(h,a,Y[g]):F(a,h,g)}}function R(){t.forEach(function(a){q.disconnect(a.property,!0)});p.forEach(function(a){a.element&&a.element.removeEventListener&&a.element.removeEventListener(a.event,
a.listener)});t=p=[]}function v(){q.videoSlot=E=G.querySelector("#video-slot");q.slot=G.querySelector("#display-slot");E.addEventListener("timeupdate",function(){q.currentTime=this.currentTime});E.addEventListener("loadedmetadata",function(){q.duration=this.duration});E.addEventListener("durationchange",function(){q.duration=this.duration});E.addEventListener("progress",function(){4===this.readyState&&(q.percentLoaded="width: "+100*this.buffered.end(0)/q.duration+"%")});E.addEventListener("volumechange",
function(){q.muted||X()});"overlay"===T.uiLayout&&Q("mousemove",E,w);Q("resize",G.defaultView,S);for(var a=G.querySelectorAll("[data-bind]"),b=0;b<a.length;b++)a[b].getAttribute("data-bind")&&0<a[b].getAttribute("data-bind").length&&ba(a[b],a[b].getAttribute("data-bind"))}function O(a){if(!a)return[!1,!1,{}];var b=a.apiFramework&&"VPAID"===a.apiFramework.toUpperCase(),d=a.adParameters;a=a.mimeType&&"application/x-shockwave-flash"===a.mimeType.toLowerCase();return[b,a,d]}function V(){function a(){d("[VPAID Event] AdVideoPause",
arguments);q.isVPAID&&(q.paused=!0,q.playState="paused")}F(g,"adVolume","volume");q.VPAIDHooks=[];g.subscribe(function(a,b){d("[VPAID Custom Event] AdMediaSelected",b);var h=ha.makeIterator(O(b)),e=h.next().value;h.next();h.next();e&&(q.isVPAID=!0,T.prefetching&&!c.canInteract()&&g.adManager.setAutoplay(!1),0>q.uiLayout.indexOf("none")&&G.body.classList.add("none"))},"AdMediaSelected");g.subscribe(function(a,b){c.info("[VPAID Custom Event] AdTagParsed",b)},"AdTagParsed");g.subscribe(function(a,b){d("[VPAID Event] AdLoaded",
b,g.getVariant());q.variant&&q.variant!==g.getVariant()&&q.videoSlot.setAttribute("src",("file"===location.protocol?"https":location.protocol)+"//cdn.smartclip.net/assets/9999999/test/black.mp4");q.variant=g.getVariant();q.currentAd=b;-1<["commercial","sponsored"].indexOf(g.getVariant())&&q.replayModel.push(b);T.skipOffset=null!==b.creatives[0].skipDelay?r.getSeconds(b.creatives[0].skipDelay):q.originalSkipOffset},"AdLoaded");g.subscribe(function(){q.pausedByUser||(d("[VPAID Event] AdStarted",arguments,
E.currentTime),G.body.classList.remove("opener","commercial","bumper","sponsored","closer"),G.body.classList.add(q.variant),r.deactivate(),q.adSkipped=!1,clearInterval(h),h=setInterval(J,250),q.pausedByUser=!1,q.isVPAID&&(q.playState="playing",q.paused=!1),g&&q.muted&&g.setAdVolume(0),q.currentAd&&q.currentAd.creatives[0]&&(q.videoClicks={videoClickThroughURLTemplate:q.currentAd.creatives[0].videoClickThroughURLTemplate,videoClickTrackingURLTemplates:q.currentAd.creatives[0].videoClickTrackingURLTemplates}),
q.urlEnrichmentModel=g.utils.urlEnrichment.getCurrentModel()||{})},"AdStarted");g.subscribe(function(){d("[VPAID Event] AdVideoComplete",arguments);T.behaviourMatrix.complete.collapsed||(c.iOSExitFullscreen(),Y.pausePlayback(),2<=E.readyState&&(E.currentTime=0),q.pausedByUser=!0)},"AdSlotComplete");g.subscribe(function(){d("[VPAID Event] AdStopped",arguments);T.skipOffset=q.originalSkipOffset;r.deactivate();q.currentAd=null},"AdStopped");g.subscribe(function(){q.duration=E.duration||g.getAdDuration()},
"AdDurationChange");g.subscribe(a,"AdPaused");g.subscribe(a,"AdVideoPause");g.subscribe(function(){d("[VPAID Event] AdSlotStarted",arguments);q.isVPAID&&(q.paused=!1,q.playState="playing");q.adSkipped=!1;!q.HTML5VPAIDStarted&&q.isVPAID&&T.prefetching&&c.canInteract()&&(q.HTML5VPAIDStarted=!0,g.adManager.startLinear(),g.adManager.triggerEvent("AdStarted"))},"AdSlotStarted");g.subscribe(function(){d("[VPAID Event] AdVideoResume",arguments);q.isVPAID&&(q.paused=!1,q.playState="playing")},"AdPlaying");
g.subscribe(function(){d("[VPAID Event] AdVolumeChange",arguments);q.volume=g.adVolume;Y.volumeChange()},"AdVolumeChange");g.subscribe(function(){d("[VPAID Event] AdSkippableStateChange",arguments);r.activate();r.enable()},"AdSkippableStateChange")}function P(){q.playState=q.videoSlot.paused?"paused":"playing";q.paused=q.videoSlot.paused}var Y=this,G=null,z={},q={},T={},E=null,g=null,r=null,h=0,p=[],t=[],b=0,d=c.debug;Ba.hookBefore(c,"shutdown",function(){R()});Y.skip=Y.skip=function(){d("[VPAIDInterface] In skipAd()");
g.skipAd();q.adSkipped=!0;r.deactivate()};Y.pausePlayback=function(){q.paused||(d("[VPAIDInterface] In pauseAd()"),g.pauseAd(),q.paused=!0,E.removeAttribute("controls"))};Y.resumePlayback=function(){q.paused&&!0!==c.environmentVars.pausedByUser&&(d("[VPAIDInterface] In resumeAd()"),g.resumeAd(),q.paused=!1)};Y.toggleRePlay=Y.toggleRePlay=function(){var a=q.replayModel.map(function(a){return{creatives:a.creatives.slice(0).map(function(a){a.trackingEvents={};return a}),extensions:a.extensions,impressionURLTemplates:[],
errorURLTemplates:[],sequence:a.sequence,variant:a.variant,info:a.info}});c.info("replayModel ads",a);q.replayModel=[];g.adManager.startAds(a)};Y.togglePlay=Y.togglePlay=function(){var a=c.elements.iframeDocument.body;a.querySelector(".ios:not(.unlocked) #play-ios .scmp-play")?(a.classList.add("unlocked"),q.toggleMuteByUser=!0,Y.unmute(),g.resumeAd()):(q.paused?(q.pausedByUser=!1,Y.resumePlayback()):(q.pausedByUser=!0,Y.pausePlayback()),q.toggleMuteByUser||Y.unmute())};Y.triggerClickThrough=Y.triggerClickThrough=
function(){var a=q.videoClicks&&q.videoClicks.videoClickThroughURLTemplate,b=q.videoClicks&&q.videoClicks.videoClickTrackingURLTemplates;if(q.isInApp){try{T.onClickThruCallback(q.videoClicks.videoClickThroughURLTemplate||null,!0)}catch(d){c.debug("onClickThruCallback failure",d)}c.pauseAd()}else a&&b?(Ga.track(q.videoClicks.videoClickTrackingURLTemplates,q.urlEnrichmentModel),window.open(q.videoClicks.videoClickThroughURLTemplate,"_blank")):g.adManager.clickThrough()};Y.seek=Y.seek=function(){};Y.volumeChange=
Y.volumeChange=function(a){var b=q.volume;q.volume=.25*Math.round(b/.25);null===a?X():("volume-increase"===a.target.id?(b+=.25,1<b&&(b=1)):"volume-decrease"===a.target.id&&(b-=.25,0>b&&(b=0)),q.volume=b,E.muted&&"volume-increase"===a.target.id?Y.unmute():E.muted?(X(),setTimeout(function(){I()},1E3)):X())};Y.mute=function(){I();q.muted=!0;E.muted=!0;E.setAttribute("muted",!0);g&&g.setAdVolume(0)};Y.unmute=function(){X();q.muted=!1;E.muted=!1;E.removeAttribute("muted");g&&g.setAdVolume(q.volume)};Y.toggleMute=
Y.toggleMute=function(){q.toggleMuteByUser=!0;E.muted?Y.unmute():Y.mute()};Y.initView=function(a,b){z=a;G=b;e("data:text/css;base64,LmJhY2stY29sb3J7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDMsMiwxLC44KTt0ZXh0LXNoYWRvdzpub25lIWltcG9ydGFudH0uYmFjay1zdGQtY29sb3J7YmFja2dyb3VuZC1jb2xvcjojYmViZWJlfS5mcm9udC1zdGQtY29sb3J7Y29sb3I6I2Y1ZjVmNX0uYmFjay1obC1jb2xvcntiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjV9LmZyb250LWhsLWNvbG9ye2NvbG9yOiNmNWY1ZjV9LnRleHQtc2hhZG93e3RleHQtc2hhZG93OjAgMCA2cHggIzVjNWM1Y30qey13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtmb250LWZhbWlseTpWZXJkYW5hLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtc3RyZXRjaDpub3JtYWw7Zm9udC1zaXplOjFlbTt0ZXh0LXNoYWRvdzppbmhlcml0O2xpbmUtaGVpZ2h0Om5vcm1hbDstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZX1ib2R5e3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbn0uYnV0dG9ue3BvaW50ZXItZXZlbnRzOmF1dG87Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfSNwbGF5ZXItdWl7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9I3BsYXllci11aS5lbmRlZHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSNyZXBsYXktdWl7ZGlzcGxheTpub25lIWltcG9ydGFudH0jcmVwbGF5LXVpLmVuZGVke2Rpc3BsYXk6YmxvY2shaW1wb3J0YW50fSNkaXNwbGF5LXNsb3QsI3Nsb3RzLXdyYXBwZXIsI3ZpZGVvLXNsb3R7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7aGVpZ2h0OjEwMCUhaW1wb3J0YW50O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH1kaXZbaWQqPXZwYWlkU2xvdF17ei1pbmRleDppbml0aWFsIWltcG9ydGFudH0jaGVhZGVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpZHRoOjEwMCU7cGFkZGluZzozcHggMTRweH0jY291bnRkb3due2Zsb2F0OmxlZnQ7bGluZS1oZWlnaHQ6MjhweDtmb250Oi44ZW0gVmVyZGFuYTt2aXNpYmlsaXR5OmhpZGRlbjttYXJnaW4tdG9wOjRweH0jY2xvc2V7ZmxvYXQ6cmlnaHR9LnJvdGF0ZS00NXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1tb3otdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7LW1zLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy1vLXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfSNiaWctcGxheXtwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW46YXV0bztsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDt3aWR0aDo5NHB4O2hlaWdodDo3NXB4O3Zpc2liaWxpdHk6dmlzaWJsZTt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDo3NXB4fSNidXR0b25iYXIsI2NvbnRyb2xiYXIsI3NraXBiYXJ7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtkaXNwbGF5OnRhYmxlO2JvdHRvbTowO21hcmdpbi1sZWZ0OjB9I3NraXBiYXJ7Ym90dG9tOjYwcHg7Zm9udC1zaXplOi44ZW07dGV4dC1hbGlnbjpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZX0jYnV0dG9uYmFye2JvdHRvbTo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7LW1vei10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7LW1zLXRyYW5zZm9ybTp0cmFuc2xhdGVZKDEuOGVtKTstby10cmFuc2Zvcm06dHJhbnNsYXRlWSgxLjhlbSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMS44ZW0pO2ZvbnQtc2l6ZToxLjJlbTtsaW5lLWhlaWdodDo3NXB4O3BvaW50ZXItZXZlbnRzOm5vbmV9I3BsYXktaW9zLCNza2lwLC5jbGljay10aHJvdWdoe3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MCAxNHB4O2ZvbnQtc2l6ZTouOGVtO2Rpc3BsYXk6bm9uZTtmbG9hdDpyaWdodDt3aWR0aDo2MHB4fSNyZXBsYXktdWkgLmJ1dHRvbntkaXNwbGF5OmJsb2NrO3dpZHRoOjI1JX0jcmVwbGF5LXVpIC5idXR0b24gZGl2e3RleHQtYWxpZ246Y2VudGVyfSNyZXBsYXktdWkgLmJ1dHRvbiBbY2xhc3NePXNjbXAtXXtmb250LXNpemU6NGVtO2xpbmUtaGVpZ2h0OjEuM2VtfSNyZXBsYXktdWkgLmJ1dHRvbi5jbGljay10aHJvdWdoLmxlZnR7ZmxvYXQ6bGVmdH0jc2tpcC5hY3RpdmV7ZGlzcGxheTp0YWJsZS1jZWxsO3BvaW50ZXItZXZlbnRzOm5vbmV9I3NraXAuZW5hYmxlZHtwb2ludGVyLWV2ZW50czphdXRvfSNza2lwIC53cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI4cHh9LmlvcyAjc2tpcCAud3JhcHBlcntoZWlnaHQ6MzZweH0jc2tpcD5kaXZ7bGluZS1oZWlnaHQ6MjhweDt0ZXh0LWFsaWduOnJpZ2h0O2Rpc3BsYXk6aW5saW5lO2Zsb2F0OnJpZ2h0fSNza2lwIC5za2lwLWNsb3Nle3Bvc2l0aW9uOnJlbGF0aXZlO3JpZ2h0OjZweDt0b3A6LTVweDtkaXNwbGF5Om5vbmV9I3NraXAuZW5hYmxlZCAuc2tpcC1jbG9zZXtkaXNwbGF5OmJsb2NrfSNza2lwIC5za2lwLWNvdW50ZG93bntwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O2Rpc3BsYXk6YmxvY2s7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGVYKC0xKTstbW96LXRyYW5zZm9ybTpzY2FsZVgoLTEpOy1tcy10cmFuc2Zvcm06c2NhbGVYKC0xKTstby10cmFuc2Zvcm06c2NhbGVYKC0xKTt0cmFuc2Zvcm06c2NhbGVYKC0xKX0uaW9zICNza2lwIC5za2lwLWNvdW50ZG93bnt0b3A6NHB4fSNza2lwLmVuYWJsZWQgLnNraXAtY291bnRkb3due2Rpc3BsYXk6bm9uZX0ucGxheWluZyAjYmlnLXBsYXl7ZGlzcGxheTpub25lfSNwbGF5e2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjAgMTRweDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyOHB4fSNwbGF5PmRpdntmbG9hdDpsZWZ0fSNwcm9ncmVzc3tkaXNwbGF5OnRhYmxlLWNlbGw7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6YXV0b31ib2R5Om5vdCguY29tbWVyY2lhbCkgI2hlYWRlcixib2R5Om5vdCguY29tbWVyY2lhbCkgI3Byb2dyZXNzLGJvZHk6bm90KC5jb21tZXJjaWFsKSAjc2tpcGJhciAuY2xpY2stdGhyb3VnaHtkaXNwbGF5Om5vbmV9Ym9keS5pbi1hcHAgI3NraXBiYXIgLmNsaWNrLXRocm91Z2h7ZGlzcGxheTpibG9ja30jcHJvZ3Jlc3MtYmd7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7dmlzaWJpbGl0eTp2aXNpYmxlO3dpZHRoOjEwMCU7aGVpZ2h0OjhweDt0b3A6MDtvcGFjaXR5Oi44fSNwcm9ncmVzcy1sb2FkZWR7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7d2lkdGg6MCU7aGVpZ2h0OjhweDt0b3A6MDtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7LW1vei10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7LW1zLXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstby10cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXI7dHJhbnNpdGlvbjp3aWR0aCAuNHMgbGluZWFyfSNwcm9ncmVzcy1iYXJ7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZmxvYXQ6bGVmdDttYXJnaW4tdG9wOjEwcHg7d2lkdGg6MCU7aGVpZ2h0OjhweDt0b3A6MDstd2Via2l0LXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstbW96LXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjstbXMtdHJhbnNpdGlvbjp3aWR0aCAuNHMgbGluZWFyOy1vLXRyYW5zaXRpb246d2lkdGggLjRzIGxpbmVhcjt0cmFuc2l0aW9uOndpZHRoIC40cyBsaW5lYXJ9I3Byb2dyZXNzLXRleHQgc3BhbnttYXJnaW4tcmlnaHQ6NHB4O3Bvc2l0aW9uOnJlbGF0aXZlO2Zsb2F0OmxlZnQ7Zm9udDouOGVtIFZlcmRhbmE7bGluZS1oZWlnaHQ6MjhweDtkaXNwbGF5OmlubGluZTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46MDtjdXJzb3I6ZGVmYXVsdDt2aXNpYmlsaXR5OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9I3Byb2dyZXNzLXRleHQsI3NvdW5ke2Rpc3BsYXk6dGFibGUtY2VsbDtwYWRkaW5nOjAgMTRweDt3aWR0aDoxMTBweH0jcHJvZ3Jlc3MtdGV4dHtkaXNwbGF5Om5vbmU7d2lkdGg6MXB4fSNzb3VuZHtwYWRkaW5nLWxlZnQ6MH0jc291bmQ+ZGl2W2lkKj12b2x1bWVde2Zsb2F0OnJpZ2h0O3BhZGRpbmctbGVmdDo0cHh9I3ZvbHVtZS1sZXZlbHttYXJnaW46MCA2cHggMCAxMnB4O3dpZHRoOjI2cHh9Lm1pbmltYWwgI2NvbnRyb2xiYXJ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ubWluaW1hbCAjcGxheSwubWluaW1hbCAjcHJvZ3Jlc3MtdGV4dCwubWluaW1hbCAjdm9sdW1lLWRlY3JlYXNlLC5taW5pbWFsICN2b2x1bWUtaW5jcmVhc2V7ZGlzcGxheTpub25lIWltcG9ydGFudH0jcmVwbGF5LXVpICNwcm9ncmVzcywubWluaW1hbCAjcHJvZ3Jlc3N7d2lkdGg6MTAwJTtoZWlnaHQ6MjhweH0jcmVwbGF5LXVpICNwcm9ncmVzcy1iZywubWluaW1hbCAjcHJvZ3Jlc3MtYmd7bWFyZ2luLXRvcDoyNXB4O2hlaWdodDozcHg7b3BhY2l0eTowfSNyZXBsYXktdWkgI3Byb2dyZXNzLWJhciwjcmVwbGF5LXVpICNwcm9ncmVzcy1sb2FkZWQsLm1pbmltYWwgI3Byb2dyZXNzLWJhciwubWluaW1hbCAjcHJvZ3Jlc3MtbG9hZGVke21hcmdpbi10b3A6MjVweDtoZWlnaHQ6M3B4Oy13ZWJraXQtYm94LXNoYWRvdzoxcHggMXB4IDZweCAjNWM1YzVjOy1tb3otYm94LXNoYWRvdzoxcHggMXB4IDZweCAjNWM1YzVjO2JveC1zaGFkb3c6MXB4IDFweCA2cHggIzVjNWM1Y30jcmVwbGF5LXVpICNwcm9ncmVzcy1iYXJ7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjstbW96LXRyYW5zaXRpb246d2lkdGggM3MgbGluZWFyOy1tcy10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjstby10cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjt0cmFuc2l0aW9uOndpZHRoIDNzIGxpbmVhcjt3aWR0aDoxMDAlfS5taW5pbWFsICNzb3VuZHtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo4cHg7Ym90dG9tOjhweDtwYWRkaW5nOjA7dGV4dC1zaGFkb3c6MCAwIDZweCAjNWM1YzVjfS5vdmVybGF5ICNjb250cm9sYmFye2JvdHRvbTotMzNweDstd2Via2l0LXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDstbW96LXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDstbXMtdHJhbnNpdGlvbjpib3R0b20gLjNzIGVhc2Utb3V0Oy1vLXRyYW5zaXRpb246Ym90dG9tIC4zcyBlYXNlLW91dDt0cmFuc2l0aW9uOmJvdHRvbSAuM3MgZWFzZS1vdXR9Lm92ZXJsYXkgI2NvbnRyb2xiYXIuYWN0aXZle2JvdHRvbTowfS5pb3MgI3NraXBiYXJ7Ym90dG9tOjMycHh9LmlvcyAjcGxheS1pb3MsLmlvcyAuY2xpY2stdGhyb3VnaHtkaXNwbGF5OnRhYmxlLWNlbGx9LmlvcyAuY2xpY2stdGhyb3VnaHtkaXNwbGF5OnRhYmxlLWNlbGx9Lmlvczpub3QoLnVubG9ja2VkKSAjcGxheS1pb3MgLnNjbXAtcGxheTpiZWZvcmV7Y29udGVudDoiXGUzOTMifS5pb3MgI2NvbnRyb2xiYXIgI3BsYXksLmlvcyAjY29udHJvbGJhciAjcHJvZ3Jlc3MtdGV4dCwuaW9zICNjb250cm9sYmFyICNzb3VuZCwuaW9zLnVubG9ja2VkICNiaWctcGxheXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5pb3MtbmF0aXZlICNwbGF5LWlvc3tkaXNwbGF5Om5vbmV9Lmlvcy1uYXRpdmUgLmNsaWNrLXRocm91Z2h7ZGlzcGxheTpibG9ja30ubm9uZSAjY29udHJvbGJhcntkaXNwbGF5Om5vbmV9Ym9keSBkaXZbaWQqPWFkQ291bnRkb3duXSxib2R5IGRpdltpZCo9YWRTa2lwQnV0dG9uXSxib2R5IGRpdltpZCo9Y2xpY2tUaHJvdWdoRGlhbG9nQm94XXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fUBmb250LWZhY2V7Zm9udC1mYW1pbHk6c21hcnRjbGlwLU11bHRpcGxheWVyLUljb25zO3NyYzp1cmwoZGF0YTphcHBsaWNhdGlvbi94LWZvbnQtd29mZjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxkMDlHUmdBQkFBQUFBQWVRQUFzQUFBQUFES2dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQlBVeTh5QUFBQkNBQUFBRUFBQUFCZ0R4SUhRbU50WVhBQUFBRklBQUFBVmdBQUFIeTMzYlNKWjJGemNBQUFBYUFBQUFBSUFBQUFDQUFBQUJCbmJIbG1BQUFCcUFBQUErY0FBQWNzSXd2c0gyaGxZV1FBQUFXUUFBQUFNUUFBQURZS0JIcGVhR2hsWVFBQUJjUUFBQUFlQUFBQUpBZ3RCRTlvYlhSNEFBQUY1QUFBQUJ3QUFBQTRMMEFBTUd4dlkyRUFBQVlBQUFBQUhnQUFBQjRNS2dxZWJXRjRjQUFBQmlBQUFBQVlBQUFBSUFBVEFIcHVZVzFsQUFBR09BQUFBVXdBQUFMb2MzY3RHSEJ2YzNRQUFBZUVBQUFBREFBQUFDQUFBd0FBZU5wallHWit6emlCZ1pXQmdXa20weGtHQm9aK0NNMzRtc0dZa1pNQkZUQUtvQWt3T0RBd3ZOSmtQdkQvQUlNRDh3RVFqNEVSU1ZhQmdRRUFkZFlMWUhqYVkyQmdZR2FBWUJrR1Jpak5ER1NCYUJhR0JDQXR3aUFBRkdFQmlpazg3bjg4K1JuankxT3Z1RjlwL3YvNy96OERDRUJFR1lDaVhLL1V3YUtNL3gvTGxNb1VTYkdKMlluK0YzMENOUThEQUFCdTZCMitBQUFBQVFBQi8vOEFEM2phclZYUGI5dFVISCsvN05la3NWUDd4UTViVmllT0ZhZGQwNVRHK2RFeDJtVU1HbGhicmRCV3FDMXFLbTA5MEJUVWFreEZURUlWSENjaDBQZ0RlbVU3TWk2VVNia2dPT3d3Zmx6R0xranN3aGx0dXhTWHI5MFdKdEhDSnRVdjl2UHo5OWZuKzMzdjh3M0NhUDhpQ05WT2hjdW4vY2JDUjUxK2lCeDBEcjJGMWhIS1pkMjhXNjZOMEVxNVNJSzNhaWxwVVNPaEVxNWlKNzhueFdYM1g3TEJBNFE0SVlPSVo5MEI3R1RkaWxhdW5zYWdBQUpEQzBYMGc0ak9WZFgyc3JxZTlXeFZWWHZVbnVGZTArd2Q3dUY2NUVaVUEra2dYQ0RKcSttQmpLWmxCdEpjaTl3TTdheDAyZ3B0Q3YzOUJhNS9Jc2VrUjVjVklaVExqN2lJUkRvN0kxUjJPUWNGZTN4cXJsaWNteHEzWVFFVzgwc3JRME1yUy9NOW5NL3hEdkJkdXZyUjFSTE04YmpWbUpqdTY1dWVhRmdkZkQ0MHRpWW1KNnpRcnJEMjNscUI4L3NTZXl3VVhGZkVZNWxSMWhYZGJrZTdHTWE3MVVXSXRxR21jWFFTeW00NGVlNVVhdm1LbDZ4NUJzZi9VWXYyVEt1MS8vUEhEc29Genp5cFVqOE1CVU1wSkxFV3ZZSk0xSThHVVJWdzZCUjJoY3R4SW5NaVdLNVVxOExBWnRMa2NqaFl6cTFWenhENG1xU2U1Z1MzeGxxNTg1OWZ2L1B6K3R0dkpCSlJad2FQNFRVbGNtTTFvL3UzTGpWTHg2TEpDeXZkdHYrVC83QmZsMkw4NVRlYjMzNzlaYk41ZTJFQjJ6Q3dFd2N6VXgrWm5QTWYrSCs4bXFMYXNlYW4rQmRGM0xyWEdvdEhDZFVHdnYvaDdJdUZ1TUxqbWkvd2pIOHp1QkZGeG83UGx1ZzdlL2lmQ1QydTVUVzI1STVkQitEdmg4Q3owM2djcnlyUkwxWnR6Zi9xMGdJQU55ZGJWc2IvMFg5WTBLUll4emtBdnVVL2FMZnhjWUNOL29ZOTYvOEdzRThRZ1AwWnZoZExBT3p6OFNnbCt2UGZBZXorZUF4Zy83bHp1KzEvSE83N1RwdkJ6aU9CTGdMaXJFcU1oRVc4MGdnSnFFU0JIR0lFRHdNNW5HeVJWSXE0RDJmbGJwd3cwOWdvQXR1cU5hOVVQWU1EbFJIc2xjd2s4RWJGUnNLRUErSzlnRDBMVWsvSWhrb0pXdDY2TmpsNWJXdDVmeDZZN2YyZE1hR2NuSDZwVjRySkc0cUlkcnhiR1BWU3BuRUZUdEVHazZ5emR1VmlnY28wMWQyZE9qSHFFb25JbmF4VHg5WnJyOC9TOXBQT2dubTdMalRNV2FlOHFJaGNJWWVaSkpSMnBJdlZ2a2xmYUM2ZktpOFdKTFlCa1NZaTBhUkpKWnBxdUc0amxlb1dyelRYUnpIRm1VRkg3UFdjdlpvNHNMQzFzaHNrYldqMmJ1YWVyU1hNMDdoVXJXaDJxUnFVaHY3cWIwSW9SZmlid2NuSGkrRUNBd3hCNnVHa0hLU3dGd3ZYR1NKMTRCMFNSdUI5MTZjRDBaQlFhRHN3MkFheWtFejRHandDcW9aOFhRVytwdEVRbXZxbkF4NVpqeU4zajZDTGJSeGxrd3A3RkdsQXpzOGg3OENNL3orcDNGTkR2Ly9NUFhUM0R5dm9vY2REZEllQndKc0h4VU9IT2Y0TGpIbENWUUI0Mm1OZ1pHQmdZUFE1Ky95dDJ0SjRmcHV2RE53c0RDQncyZVpMRjRMK2Y0QWxtL2tBa012QndBUVNCUUNUYkExK0FBQUFlTnBqWUdSZ1lEN3cvd0FEQTBzREF4Q3daRE13TXFBQ1BnQmcwUU9HQUFCNDJtTmhRQUFtSUdaeEFHSVEzY0FnRGNTaVlEWVdEQUF3dkFHZkFBQUFBQUFLQUJRQUhnRElBUW9CYWdIRUFrNENoQUtnQXhvRGFnT1dBQUI0Mm1OZ1pHQmc0R09vWUdCaEFBRW1CalFBQUEzdkFJNTQycTJRTzA3RFFCUkY3K1RESnlnVUtTaElNd1d0clh4UUZoQXB2OElGS2RKUjJNbkVzbkRHMGRndXNnRW9LT2xaQlNWN29LTmtMZHc0YndrWmFheno3cnZ2enBNQmRQQUhoZFBwNEVsWW9WdDlqNmVHUzdVU3JsUC9FbTZncTE2RW03akJoL0FGOWFad0MvZnFXN2pOaVRjbXFNWTFxd2VzaFJWR1REMXhEYmZxV2JoTy9VZTRnWkY2Rlc3aURwL0NGOVMxY0F1UDZsZTRqU3U4NTd2UUZlczAyWHRCbVJiSlBnMFB4bm1MZFdaejVOZ2hoRVBCTlZJazJNTkRnSkpjVkZYSzdnR0dEZzhMZWpKWTVJTmVmNlRIcFlzbmljMzFiQmZOTVVBUGZTNnFNZWEwUTR3SjUrbWxNdU1iRWVaYlp3eTI3Qm1ZbFhGNWtsbmQ5NGRZVmZFNTdjZHd6UmdmdzdQdmZQYkFwWW5MTkhSWXNoRlhaa2FjL1pWcFpnc2RHMnRjV0ppTmpnNmFZVUdXV1IvVHlsSHdqOFdjc3RWa3lOcGdReTFpbHBhY2dQZm85ZjhCeG1pUHYzamFZMkJtd0FzQUFIMEFCQT09KSBmb3JtYXQoJ3dvZmYnKTtmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWx9W2NsYXNzKj0iIHNjbXAtIl0sW2NsYXNzXj1zY21wLV17Zm9udC1mYW1pbHk6c21hcnRjbGlwLU11bHRpcGxheWVyLUljb25zO3NwZWFrOm5vbmU7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtdmFyaWFudDpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtsaW5lLWhlaWdodDoyOHB4O2ZvbnQtc2l6ZToyMnB4fS5hbmRyb2lkIFtjbGFzcyo9IiBzY21wLSJdLC5hbmRyb2lkIFtjbGFzc149c2NtcC1dLC5pb3MgW2NsYXNzKj0iIHNjbXAtIl0sLmlvcyBbY2xhc3NePXNjbXAtXXtsaW5lLWhlaWdodDozNnB4O2ZvbnQtc2l6ZToyN3B4fVtjbGFzcyo9IiBzY21wLSJdOmJlZm9yZSxbY2xhc3NePXNjbXAtXTpiZWZvcmV7dmVydGljYWwtYWxpZ246dG9wfS5zY21wY2ItY29udHJvbGJhcj5kaXYgZGl2e2hlaWdodDoyOHB4O2xpbmUtaGVpZ2h0OjI4cHh9LnNjbXAtYmlnLXBsYXk6YmVmb3JlLC5zY21wLXBsYXk6YmVmb3Jle2NvbnRlbnQ6IlxlNjAxIn0uc2NtcC1iaWctcGxheTpiZWZvcmV7Zm9udC1zaXplOjNlbTtsaW5lLWhlaWdodDo2NnB4fS5wbGF5aW5nIC5zY21wLWJpZy1wbGF5e3Zpc2liaWxpdHk6aGlkZGVufS5wbGF5aW5nIC5zY21wLXBsYXk6YmVmb3JlLC5zY21wLXBhdXNlOmJlZm9yZXtjb250ZW50OiJcZTYwMCJ9LnNjbXAtcGx1czpiZWZvcmV7Y29udGVudDoiXGVhMGEiO2ZvbnQtc2l6ZTo2MCV9LnNjbXAtbWludXM6YmVmb3Jle2NvbnRlbnQ6IlxlYTBiIjtmb250LXNpemU6NjAlfS5zY21wLXZvbHVtZS0wLW11dGU6YmVmb3Jle2NvbnRlbnQ6IlxlMzkzIn0uc2NtcC12b2x1bWUtMjU6YmVmb3Jle2NvbnRlbnQ6IlxlYTI5In0uc2NtcC12b2x1bWUtNTA6YmVmb3Jle2NvbnRlbnQ6IlxlYTI4In0uc2NtcC12b2x1bWUtNzU6YmVmb3Jle2NvbnRlbnQ6IlxlYTI3In0uc2NtcC12b2x1bWUtMTAwOmJlZm9yZXtjb250ZW50OiJcZTM4ZiJ9LnNjbXAtd2ViOmJlZm9yZXtjb250ZW50OiJcZTljYSI7Zm9udC1zaXplOjg1JX12aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scyx2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1jb250YWluZXIsdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMtcGFuZWwtY29udGFpbmVyLHZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXBsYXktYnV0dG9uLHZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXN0YXJ0LXBsYXliYWNrLWJ1dHRvbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fVtpZCo9dnBhaWRTbG90XT52aWRlb3twb3NpdGlvbjphYnNvbHV0ZX0=",b.head);for(var d=Array.isArray(T.featureMatrix.layout.source)?T.featureMatrix.layout.source:[T.featureMatrix.layout.source],c=0;c<d.length;c++){var g=d[c];if(0===g.indexOf("//")){var h=location.protocol;"file:"===h&&(h="https:");g=h+g}e(g,b.head)}d=T.borderStyle;b.defaultView.frameElement.style.boxSizing="border-box";b.defaultView.frameElement.style.border=
d;l(z.dom,b.body);v();/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&"overlay"===T.uiLayout&&(T.uiLayout="minimal");d=Array.prototype.slice.call(G.body.classList).join(" ");q.uiLayout=d+" "+T.uiLayout;q.skipText=T.skipText;q.pausedByUser=!1;q.volume=.25*Math.round(T.volume/.25);X();q.videoSlot.addEventListener("playing",P);q.videoSlot.addEventListener("pause",P);r=new Db(G,"#F5F5F5");q.originalSkipOffset=T.skipOffset;S();q.playerReady=!0};Y.setVPAIDAd=function(a){d("setVPAIDAd",a);g=a;V()};
q=c.environmentVars;T=c.publisherConfig;q.replayModel=[];return Y}});var Eb={sortObject:function(c,e){return Object.keys(c).sort(e).reduce(function(e,n){e[n]=c[n];return e},{})}};function Fb(c){this.behaviourMatrix=c;this.handlers={}}Fb.prototype.registerBehaviourHandler=function(c,e){this.handlers[c]||(this.handlers[c]=[]);this.handlers[c].push(e)};Fb.prototype.callMethods=function(c){if(c)for(var e=c.length,l=0;l<e;l++)if(!c[l].apply(this,[].slice.call(arguments).slice(1)))return!1;return!0};
Fb.prototype.executeBehavioursForState=function(c){var e=Eb.sortObject(this.behaviourMatrix[c],function(c){return"muted"===c?-1:0}),l;for(l in e)e.hasOwnProperty(l)&&this.callMethods(this.handlers[l],c,e[l])};Fb.prototype.removeAllHandlers=function(){this.handlers=[]};eb.smartPlay(function(c,e,l){function n(a,b){function d(){a.apply(this,arguments);z.unsubscribe(d,b)}z.subscribe(d,b)}function w(){c.iOSExitFullscreen();O.forceCollapseOnShutdown&&V.collapseContainer();z.shutdown();c.shutdown()}function I(){try{O.onPrefetchCompleteCallback(c,e),O.onPrefetchCompleteCallback=function(){}}catch(a){c.debug("onPrefetchCompleteCallback failure",a)}}function J(){try{O.onStartCallback(c,e),O.onStartCallback=function(){}}catch(a){c.debug("onStartCallback failure",a)}}function X(){try{O.onCappedCallback(c,
e),O.onCappedCallback=function(){}}catch(a){c.debug("onCappedCallback failure",a)}}function S(){var a=0,b=!1,d=!1,h;for(h in eb.smartPlay.EVENT)z.subscribe(function(a,b){var d=v.currentAd||{},f=z.adManager.getAdConfig(),g={type:a,issuer:"smartclip",timestamp:(new Date).getTime()},h={event:g,info:b&&b.info?b.info:{}};"object"===typeof f&&(h.info.offset=f.offset);"object"===typeof d&&d.hasOwnProperty("creatives")&&d.hasOwnProperty("info")&&(h.info=d.info,h.info.variant=z.getVariant().toUpperCase(),
h.info.duration=d.creatives[0]&&d.creatives[0].duration?d.creatives[0].duration:20,h.info.adId=d.id,h.info.title=d.title||"unknown",h.info.vendorURL=d.VASTAdTagURI||"inline",h.info.wrapperTags=d.wrappers||[]);b&&b.errorCode&&(h.errorCode=b.errorCode,h.info.errorCode=b.errorCode);v.adInfo=h;try{O.onEventCallback(c,e,g)}catch(u){c.debug("[API:callEventCallback] onEventCallback failure",u)}},eb.smartPlay.EVENT[h]);z.subscribe(function(){p.executeBehavioursForState("onClick")});z.subscribe(function(){g=
!0;0<a&&!r&&(O.featureMatrix.endingScreen.enabled=!1);O.featureMatrix.endingScreen.enabled&&(v.paused=!0,v.pausedByUser=!1,v.playState="ended",isFinite(v.videoSlot.duration)&&(v.videoSlot.currentTime=v.videoSlot.duration));p.executeBehavioursForState("complete")},"AdSlotComplete");z.subscribe(function(){0<a&&!r&&X();try{O.onEndCallback(c,e)}catch(b){c.debug("onEndCallback failure",b)}O.featureMatrix.endingScreen.enabled||z.stopAd()},"AdSlotComplete");z.subscribe(function(){c.info("current behaviourMatrix",
O.behaviourMatrix);c.info("userAgent",navigator.userAgent);r=!0;E&&V.expandContainer();c.resize()},"AdStarted");O.prefetching||n(function(){c.elements.iframeDocument.body.classList.add("started")},"AdSlotStarted");z.subscribe(function(){a++},"AdCapped");n(function(){O.prefetching&&v.isVPAID&&(b=!0,I())},"AdLoaded");n(function(){!d&&O.prefetching&&b&&(d=!0,J())},"AdImpression");n(function(){!d&&E&&(d=!0,J())},"AdStarted")}function Q(){O.prefetching?(n(function(){p.executeBehavioursForState("init");
c.utils.isAmp()&&(c.info("calling amp renderStart",c.size),context.renderStart(c.size),e.style.visibility="visible");try{O.onPrefetchCompleteCallback(c,e)}catch(a){c.debug("onPrefetchCompleteCallback failure",a)}c.elements.iframeDocument.body.classList.add("started");E?setTimeout(function(){c.environmentVars.paused=!0;p.executeBehavioursForState("onScreen")},16):(G.pausePlayback(),c.environmentVars.paused=!0)},"AdStarted"),setTimeout(function(){z.startAd()},100)):p.executeBehavioursForState("init")}
function F(){z.resizeAd(v.size.width,v.size.height,"normal")}function ba(){function a(){b.play();this.removeEventListener("touchmove",a)}if(53<=function(){var a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a?parseInt(a[2],10):!1})v.videoSlot.muted=!0;else{var b=document.createElement("video"),d=document.createElement("source");Object.defineProperty(v.videoSlot,"src",{get:function(){return v.videoSource},set:function(a){a&&0!==a.length&&(v.videoSource=a,v.videoSlot.setAttribute("src",
a))},enumerable:!0,configurable:!0});d.type="video/mp4";d.src=("file:"===location.protocol?"https:":location.protocol)+"//cdn.smartclip.net/assets/9999999/test/black.mp4";b.appendChild(d);c.utils.topLevelWindow().addEventListener("touchmove",a,!1);e.addEventListener("touchmove",a,!1)}}function R(){function a(){function b(){v.videoSlot.removeEventListener("play",b);v.videoSlot.removeEventListener("error",b);clearTimeout(d);c.debug("something happened, cancelTimeout")}var d=setTimeout(function(){c.debug("ad did not load, shutting down");
w()},2500);v.videoSlot.addEventListener("play",b);v.videoSlot.addEventListener("error",b);n(b,"AdLoaded")}if(!t&&!b){var d=z.startAd;z.startAd=function(){v.isVPAID||a();z.startAd=d;d()}}}var v=c.environmentVars=new c.model.EnvironmentVars,O=c.publisherConfig,V=c.controller.sizeManager,P=c.controller.sizeBasedFormat,Y=new c.model.PlayerInterface,G=new c.controller.Player(c),z=null,q=new lb,T=!1,E=!1,g=!1,r=!1,h=!1,p=null,t=/iPhone|iPad|iPod/i.test(navigator.userAgent),b=/(Android)/i.test(navigator.userAgent),
d=t&&!/Safari/.test(navigator.userAgent),a=t||b;v.engine=Ab.ENGINE_HTML5;c.getEngine=function(){return v.engine};c.canInteract=function(){return T&&E&&!g};c.canExpand=function(){return c.canInteract&&r};c.isReady=function(){return T&&!g&&("complete"===e.ownerDocument.readyState||"interactive"===e.ownerDocument.readyState)};c.iOSExitFullscreen=function(){t&&v.videoSlot&&v.videoSlot.webkitDisplayingFullscreen&&v.videoSlot.webkitExitFullScreen()};Ba.hookBefore(c,"shutdown",function(){q.removeAllStates()});
c.forceShutdown=w;(function(){q.addState(new yb(c.elements.iframe,{canEnter:function(){return c.canInteract()&&!a},canLeave:function(){return c.canInteract()&&!a},onEnter:function(){h=!0;p.executeBehavioursForState("mouseOver")},onLeave:function(){h=!1;p.executeBehavioursForState("mouseOut")}}))})();(function(){q.addState(new Cb(e,c,{get requiredVisibility(){return parseInt(O.visibilityThreshold,10)||50},canEnter:function(){return T&&!E},canLeave:function(){return T&&E},reportInterval:50}));q.addState(new vb(e,
c,{get requiredVisibility(){return parseInt(O.visibilityThreshold,10)||50},reportInterval:125,canEnter:function(){return T&&!E&&!g},canLeave:function(){return T&&E&&!g},onEnter:function(){E=v.isVisible=!0;p.executeBehavioursForState("onScreen");r||(v.isVPAID&&O.prefetching?(z.adManager.startLinear(),z.adManager.triggerEvent("AdStarted")):z.startAd())},onLeave:function(){E=v.isVisible=!1;p.executeBehavioursForState("offScreen")}}))})();(function(){q.addState(new xb(e,c,{canEnter:function(){return!t&&
c.canInteract()&&!v.videoSlot.playing},onEnter:function(){r?z.resumeAd():z.startAd()}}))})();(function(){q.addState(new zb(e,c,{canEnter:function(){return c.canInteract()},canLeave:function(){return c.canInteract()&&!v.pausedByUser},onEnter:function(){G.pausePlayback()},onLeave:function(){G.resumePlayback()}}))})();(function(){p=new Fb(O.behaviourMatrix);p.registerBehaviourHandler("muted",function(b,d){c.info("muted handler",b,d,"adStarted",r,"completed",g,v,"isMobile",a);v.toggleMuteByUser||t&&v.videoSlot.webkitDisplayingFullscreen||
(!d&&v.muted&&G.unmute(),d&&!v.muted&&G.mute())});p.registerBehaviourHandler("collapsed",function(a,b){function d(){V.collapseContainer("init"===a);z.stopAd();setTimeout(w,500)}c.info("collapsed handler",a,b,"adStarted",r,"completed",g,v);if(b&&"complete"!==a)V.collapseContainer("init"===a);else if("complete"!==a){if(("onScreen"===a||"offScreen"===a||"init"===a)&&!r)return;V.expandContainer("init"===a)}var e=r&&g;if("complete"!==a||b||e)if("complete"===a&&v.isVPAID)setTimeout(function(){v.percentCloseTimeout=
"width: 0";d()},10);else if("complete"===a&&b)if(O.featureMatrix.endingScreen.enabled&&"ended"===v.playState&&!1===v.adSkipped){var m=function(){function a(){v.videoSlot.removeEventListener("play",a);clearTimeout(b);g=!1;h&&p.executeBehavioursForState("mouseOver")}var b=setTimeout(d,3E3);v.videoSlot.addEventListener("play",a);z.subscribe(a,"AdSlotStarted")};setTimeout(function(){v.percentCloseTimeout="width: 0";m()},10)}else setTimeout(w,500);else"complete"!==a||b||(v.percentCloseTimeout="width: 0",
z.subscribe(function(){g=!1;h&&p.executeBehavioursForState("mouseOver")},"AdSlotStarted"));else d()});p.registerBehaviourHandler("paused",function(a,b){c.info("paused handler",a,b,"adStarted",r,"completed",g,v);!r||g||v.pausedByUser||t&&v.videoSlot.webkitDisplayingFullscreen||(b?G.pausePlayback():(O.prefetching&&r&&E&&J(),G.resumePlayback()))})})();v.observe("playerReady",function(){var b=[],d=O.adRequest.html||O.adRequest.flash||O.adRequest;O.adResponse&&0<O.adResponse.length&&(d={responseXML:O.adResponse});
z=ois(v.videoSlot,{preroll:d,playerConfig:l,clickThroughDialogEnabled:!1,skipButtonText:""});v.videoSlot.removeAttribute("data-ois-instance-id");"2.0"===z.handshakeVersion()&&(z.initAd(c.size.width,c.size.height,"normal","300",{},{rules:b}),T=!0,G.setVPAIDAd(z),new Bb.CampaignOverrideConfig(c,z),a&&O.featureMatrix.bestFit.enabled?P.setVPAIDAd(z):O.featureMatrix.bestFit.enabled=!1,S(),z.resizeAd(c.size.width,c.size.height),Q());v.observe("size",F)});(function(){G.initView(Y,c.elements.iframeDocument);
c.utils.isAmp()&&(e.style.visibility="invisible");Object.defineProperty(v.videoSlot,"playing",{get:function(){return!!(0<this.currentTime&&!this.paused&&!this.ended&&2<this.readyState)}});t&&(c.elements.iframeDocument.body.classList.add("ios"),v.videoSlot.addEventListener("webkitendfullscreen",function(){v.pausedByUser=!0},!1),v.videoSlot.addEventListener("webkitbeginfullscreen",function(){v.pausedByUser=!1},!1),v.videoSlot.setAttribute("autoplay","true"),v.videoSlot.setAttribute("playsinline","true"),
v.videoSlot.setAttribute("webkit-playsinline","true"),d&&(c.elements.iframeDocument.body.classList.add("ios-native"),Object.defineProperty(v.videoSlot,"controls",{get:function(){return!1},set:function(){},enumerable:!0,configurable:!0})));Object.defineProperty(v.videoSlot,"src",{get:function(){return v.videoSource},set:function(a){a&&0!==a.length&&(v.videoSource=a,v.videoSlot.setAttribute("src",a))},enumerable:!0,configurable:!0});b&&(c.elements.iframeDocument.body.classList.add("android"),v.videoSlot.setAttribute("autoplay",
"true"));R();b&&ba()})();return c});eb.smartPlay(function(c){function e(c,e){function n(){c.apply(this,arguments);l.unsubscribe(n,e)}l.subscribe(n,e)}var l=null,n=!1;Object.defineProperty(c,"adInfo",{set:void 0,get:function(){return c.environmentVars.adInfo},enumerable:!0,configurable:!0});Object.defineProperty(c,"adCompanions",{set:void 0,get:function(){return c.environmentVars.currentAd.creatives.filter(function(c){return"companion"===c.type})},enumerable:!0,configurable:!0});Object.defineProperty(c,"adExtensions",{set:void 0,get:function(){return c.environmentVars.currentAd.extensions},
enumerable:!0,configurable:!0});c.playAd=function(){l&&(c.environmentVars.pausedByUser=!1,n?l.resumeAd():l.startAd())};c.pauseAd=function(){l&&(c.environmentVars.pausedByUser=!0,l.pauseAd())};c.clickThrough=function(){l&&l.adManager.clickThrough()};c.unmuteAd=function(){c.environmentVars.muted=!1;c.environmentVars.videoSlot.muted=!1;c.environmentVars.videoSlot.removeAttribute("muted");l&&l.setAdVolume(c.environmentVars.volume)};c.getAdInfo=function(){return c.environmentVars.adInfo};c.handshakeVersion=
function(e){if(l)return e&&(c.environmentVars.isInApp=!0,c.elements.iframeDocument.body.classList.add("in-app")),c.getVersion()};c.clickThruAccept=function(){l&&c.environmentVars.isInApp&&c.environmentVars.videoClicks&&c.environmentVars.videoClicks.videoClickTrackingURLTemplates&&Ga.track(c.environmentVars.videoClicks.videoClickTrackingURLTemplates,c.environmentVars.urlEnrichmentModel)};c.clickThruRejected=function(){l&&c.environmentVars.isInApp&&c.playAd()};c.environmentVars.observe("playerReady",
function(){var w=parseInt(c.environmentVars.videoSlot.getAttribute("data-ois-instance-id"),10);(l=ois(w))&&e(function(){n=!0},"AdStarted")});return c});eb.smartPlay.EVENT={ON_AD_CLICKED:"AdClickThru",ON_AD_ERROR:"AdError",ON_AD_FINISHED:"AdStopped",ON_AD_LINEARITY_CHANGE:"AdLinearChange",ON_AD_MANIFEST_LOADED:"AdTagParsed",ON_AD_PLAYBACK_FINISHED:"AdVideoComplete",ON_AD_SCHEDULED:"AdLoaded",ON_AD_SKIPPED:"AdSkipped",ON_AD_STARTED:"AdStarted",ON_AD_FIRST_QUARTILE:"AdVideoFirstQuartile",ON_AD_IMPRESSION:"AdImpression",ON_AD_MID_POINT:"AdVideoMidpoint",ON_AD_PAUSED:"AdPaused",ON_AD_PLAYBACK_START:"AdVideoStart",ON_AD_PLAYING:"AdPlaying",ON_AD_THIRD_QUARTILE:"AdVideoThirdQuartile",
ON_AD_SLOT_START:"AdSlotStart",ON_AD_SLOT_STARTED:"AdSlotStarted",ON_AD_SLOT_FINISHED:"AdSlotStopped",ON_AD_SLOT_COMPLETE:"AdSlotComplete",ON_COMPANIONS_DETECTED:"AdCompanionsDetected",ON_EXTENSIONS_DETECTED:"AdExtensionsDetected"};(function(){function c(){}function e(){}function l(){function b(){var a=window.frameElement,b=window;for(m=0;a;)m++,b=a.ownerDocument.defaultView,a=b.frameElement;return b}function d(a){return new RegExp("[\\[]"+a+"[\\]]","gi")}function a(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16)})}function c(b,d,g){if(-1===b.indexOf(d))return b;var h=b.substr(b.indexOf(d),b.indexOf("]",b.indexOf(d))-b.indexOf(d)+1),m=0<=h.indexOf("|")?parseInt(h.split("|")[1].slice(0,
-1),10):0;b=0===m?b.replace(h,a(g)):b.replace(h,a(g.substr(0,m)));0<=b.indexOf(d)&&(b=c(b,d,g));return b}var h={},e={timeOffset:0,assetUri:"",pageUri:"",pageTitle:"",techVersion:"",videoData:{}},p={},m=0;h.errorCode=function(b,c){if(!c)return b;p.ERRORCODE=a(c);return b.replace(d("(errorcode)"),a(c))};h.w=function(k){if(!k)return k;var h;if(h=e.timeOffset){var u=new Date(null);u.setSeconds(h);h=u.toISOString().substr(11,8)+".000"}else h=!1;p.CONTENTPLAYHEAD=a(h||"00:00:00.000");k=k.replace(d("(contentplayhead)"),
a(h||"00:00:00.000"));if(h=e.assetUri)k=k.replace(d("(asseturi)"),a(h)),k=c(k,"[ASSETURI",h),p.ASSETURI=a(h);if(h=e.pageUri)k=k.replace(d("(pageuri)"),a(h)),k=c(k,"[PAGEURI",h),p.PAGEURI=a(h);if(h=e.pageTitle)k=k.replace(d("(pagetitle)"),a(h)),p.PAGETITLE=a(h);if(h=e.techVersion)k=k.replace(d("(techversion|sdk_version)"),a(h)),p.TECHVERSION=a(h);h=d("(cachebusting|cache_?buster|rand(om|num))");u=a(Math.round(1E8*Math.random()));p.CACHEBUSTING=u;p.CACHEBUSTER=u;k=k.replace(h,u);u=new Date;h=u.toISOString();
u=u.getTimezoneOffset()/60;u=u.toString().split("");2===u.length&&u.splice(1,0,"0");u=u.join("");h=h.replace("Z",u);p.TIMESTAMP=a(h);k=k.replace(d("(timestamp)"),a(h));h="Unknown OS";-1!=navigator.appVersion.indexOf("Win")&&(h="Windows");-1!=navigator.appVersion.indexOf("Mac")&&(h="MacOS");-1!=navigator.appVersion.indexOf("X11")&&(h="UNIX");-1!=navigator.appVersion.indexOf("Linux")&&(h="Linux");k=k.replace(d("(USERAGENT)"),a(navigator.userAgent));k=k.replace(d("(OS)"),h);k=k.replace(d("(os_version|OSVERSION)"),
"unknown");p.USERAGENT=a(navigator.userAgent);p.OS=h;p.OSVERSION="unknown";b();p.FRAMEDEPTH=m;k=k.replace(d("(FRAMEDEPTH)"),m);if(h=e.videoData)k=k.replace(d("(dimension)"),a(h.width+"x"+h.height)),k=k.replace(d("(player_width|PLAYERWIDTH)"),a(h.width)),k=k.replace(d("(player_height|PLAYERHEIGHT)"),a(h.height)),p.PLAYERWIDTH=a(h.width),p.PLAYERHEIGHT=a(h.height);h=b().innerWidth||b().document.documentElement.clientWidth||b().document.body.clientWidth;u=b().innerHeight||b().document.documentElement.clientHeight||
b().document.body.clientHeight;p.SCREENRES=a(h+"x"+u);k=k.replace(d("(screen_res|screenres)"),a(h+"x"+u));h=g.bb();p.ALLOWINSWIPE=a(h);k=k.replace(d("(ALLOWINSWIPE)"),h);h=g.bb();p.FIF=a(h);k=k.replace(d("(FIF)"),h);return k.trim()};h.getCurrentModel=function(){var a={};Object.keys(p).forEach(function(b){a["["+b+"]"]=p[b]});return a};h.setValueFor=function(a,b){e[a]=b;p[a.toUpperCase()]&&(p[a.toUpperCase()]=b)};(function(){var a=b().location.href,d=b().document.title;window.Gc&&(a=window.context.location.href,
d=window.context.Sc);h.setValueFor("pageUri",a);h.setValueFor("pageTitle",d);h.setValueFor("techVersion",[E.IDENTIFIER,E.API_VERSION,E.API_BUILD].join("|"))})();return h}function n(b,d,a){function c(a,b){var d={};e.prototype.apply(this);var f=function(a,b){var d=-1!==String(a).indexOf("onTrack")?b:null,d=null===d?a:"AdVideo"+(d[0].toUpperCase()+d.slice(1));"AdVideoResume"===d&&(d="AdVideoPlay");"AdVideoImpression"===d&&(d="AdImpression");"AdVideoSkip"===d&&(d="AdSkipped");this.dispatchEvent(d,b)}.bind(this);
d.adManager=a;d.handshakeVersion=function(){return"2.0"};d.initAd=function(b,d,c,h,u,m){if(m&&m.rules)for(b=m.rules.length-1;0<=b;b--)g.eb(m.rules[b])&&a.addRuleToRuleSet(m.rules[b]);a.registerGlobalEventDispatcher(f)};d.startAd=function(){a.start()};d.stopAd=function(){a.destroy()};d.skipAd=function(){this.dispatchEvent("AdSkipped");a.skipAd()}.bind(this);d.resizeAd=function(d,c,f){b.style.width=parseInt(d,10)+"px";b.style.height=parseInt(c,10)+"px";a.resize(d,c,f)};d.pauseAd=function(){a.pauseAd()};
d.resumeAd=function(){a.resumeAd()};d.expandAd=function(){};d.collapseAd=function(){};d.setAdVolume=function(b){a.setAdVolume(b)};d.getAdVolume=function(){return a.getAdVolume()};d.getSlot=function(){return a.getSlot()};d.getVideoSlot=function(){return a.getVideoSlot()};d.subscribe=function(a,b,d){this.addEventListener(b,a,d);return a}.bind(this);d.unsubscribe=function(a,b){this.removeEventListener(b,a)}.bind(this);return d}if(!b.getAttribute("data-ois-instance-id")){b.setAttribute("data-ois-instance-id",
h.length);var u=null;d.displaySlot&&d.displaySlot.nodeType&&(u=d.displaySlot);"string"===typeof d.displaySlot&&(u=g.find(d.displaySlot)[0]||null);var D=new S(b,u),u=new J(d),D=new I(D,u),t=new c(D,b),m={adManager:D,config:u};p.forEach(function(a){a(t,b,d,m)});h.push({da:t,element:b,dc:d,adManager:D,v:u});(a||Function)()}return h[b.getAttribute("data-ois-instance-id")].da}function w(b){function d(a){var b=0,d=0;try{if(a.offsetParent)for(b=a.offsetLeft,d=a.offsetTop;(a=a.offsetParent)&&"BODY"!==a.tagName.toUpperCase();)b+=
a.offsetLeft,d+=a.offsetTop}catch(c){}return{left:b,top:d}}var a={i:{width:0,height:0,left:0,top:0},f:{width:0,height:0,left:0,top:0},R:!1,A:0,Ma:0,Na:0,La:0},c=[],h="ois_"+g.Ra().split("-").join(""),e,p;this.K=function(){"undefined"==typeof p&&(p=window.self===window.top?window.self:window.top);if("undefined"==typeof e)try{e=p.document}catch(g){e=window.document}a.i={width:e.documentElement.clientWidth||p.innerWidth||e.body.clientWidth,height:e.documentElement.clientHeight||p.innerHeight||e.body.clientHeight,
left:p.scrollX||e.documentElement.scrollLeft||e.body.scrollLeft,top:p.scrollY||e.documentElement.scrollTop||e.body.scrollTop};var m=d(b);if(window.self!==window.top)try{var k;a:{var A=top.document.getElementsByTagName("iframe"),t;for(t in A)try{if(A[t].contentWindow[h]){k=A[t];break a}}catch(g){}k=void 0}var H=d(k);m.left+=H.left;m.top+=H.top}catch(g){}a.f={width:b.offsetWidth,height:b.offsetHeight,left:m.left,top:m.top};a.i.left>=a.f.left+a.f.width||a.i.top>=a.f.top+a.f.height||a.f.left>=a.i.left+
a.i.width||a.f.top>=a.i.top+a.i.height?(a.A=0,a.R=!1):0>=a.f.width||0>=a.f.height?(a.A=0,a.R=!1):a.f.left>=a.i.left&&a.f.top>=a.i.top&&a.f.left+a.f.width<=a.i.left+a.i.width&&a.f.top+a.f.height<=a.i.top+a.i.height?(a.A=100,a.R=!0):(m=a.f.width,k=a.f.height,a.f.left<a.i.left?m=a.f.width-(a.i.left-a.f.left):a.f.left+a.f.width>a.i.width+a.i.left&&(m=a.i.width-(a.f.left-a.i.left)),a.f.top<a.i.top?k=a.f.height-(a.i.top-a.f.top):a.f.top+a.f.height>a.i.height+a.i.top&&(k=a.i.height-(a.f.top-a.i.top)),a.A=
Math.floor(m*k/(a.f.width*a.f.height)*100),0<a.A&&(a.R=!0));1==a.R?(a.Ma+=.25,a.Na=.25):a.Na=0;a.La+=.25;c.push(a.R);return a};window[h]=h}function I(b,d){function a(){x.b(1010);x.b(1020);x.b(1030);x.b("AdCompanionsDetected");x.b("AdLoaded");x.b("AdSlotStarted",t);x.b("AdSlotComplete",t);x.b("START_LINEAR",t);x.b("START_NONLINEAR",t);x.b("AdStopped",t);b.b("CONTROLS_ON",t);b.b("CONTROLS_OFF",t);b.g("play,pause,ended,timeupdate,volumechange,error,durationchange",p)}function c(){z=b.h("currentSrc");
v=b.h("currentSrcType");g.B(b.h("currentSrc"))&&(d.Uc=g.tc(b.h("currentSrc")));r.log(101,z)}function h(){return z?b.h("currentSrc")==z:!0}function e(a){a="object"===typeof a?a.info:a;!1!==a&&(a=!0);r.log(100,a);b.setControls(a)}function p(a){"timeupdate"!=a.type&&r.log(101,a.type);switch(a.type){case 1030:var t=b.h("currentTime");0!=t&&h()&&(G=Number(Number(t).toFixed(1)));m(!1);e(!1);k(!0);break;case 1020:m()?y&&A():(z&&0<z.length&&b.ha({url:z,type:v},null==G||0==G||y?!1:G,y),y&&A(),m(!0),e(!0),
k(!1))}if(!0===k())switch(a.type){case "play":case "error":if(!V&&"error"===a.type&&(r.log(102,b.h("error")),x&&!x.ba())){x.na(!1,401);break}if(a=n.$(0))c(),z&&b.M(),x.startAd(a);!0===V&&(V=!1,c(),k(!1))}else switch(a.type){case "error":r.log(102,a.type,b.h("src"));!x||h()&&!x.ba()||x.ba()||x.na();break;case "timeupdate":a=b.h("duration");t=b.h("currentTime");!k()&&t>d.overlayDelay&&t<a-5&&h()&&(n.vc(a),a=n.$(t))&&("fixedroll"==a.type&&(c(),x.startAd(a)),"overlay"!=a.type||g.Ja&&null===b.getVideoSlot().getAttribute("webkit-playsinline")||
x.startAd(a));a=b.h("duration");t=b.h("currentTime");t<a&&t>a-1&&h()&&g.I&&(n.Ob(a)?(B=1,(a=n.$(a))?(c(),x.startAd(a)):(x.ba()&&x.ca(),A())):w=!0);break;case "ended":if(!g.I&&h()&&(y=!0,(a=n.$(b.h("duration")))?(c(),x.startAd(a)):(x.ba()&&x.ca(),A()),b.M()),h()&&g.I&&1==B)B=2;else if(h()&&g.I&&2==B||w)A(),B=3}}function m(a){if(void 0!=a)l=a;else return l}function k(a){if(void 0!=a)H=a;else return H}function A(){r.log(104);b.M();if(d.onFinish)d.onFinish();a()}function t(a){if(q[a.type])q[a.type](a);
switch(a.type){case "AdSlotStarted":b.lb(!0);break;case "AdSlotComplete":b.lb(!1);break;case "AdStopped":n.$b()&&t({type:"BLOCK_DONE"})}}var H=!0,l=!1,q={},x,n,z,v,G=null,y=!1,B=!1,w=!1,V=!0,T=new g.j.s;this.registerGlobalEventDispatcher=T.registerGlobalEventDispatcher;this.destroy=function(){x&&(r.log(105),x.wb()&&x.ca(),a())};this.start=function(){var a=b.h("currentSrc");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&k()&&!a?p({type:"play"}):b.O()};this.onAdLoadCompleteCallback=function(a){x&&
x.a("AdLoaded",g.D(a)?a:function(){})};this.setControllerEvents=function(a){q=a};this.Lb=function(){return b.Lb()};this.pauseAd=function(){x.pauseAd()};this.resumeAd=function(){x.resumeAd()};this.resize=function(a,d,c){var f=document.createEvent("HTMLEvents");f.initEvent("resize",!0,!1);b.getVideoSlot().dispatchEvent(f);x.resizeAd(a,d,c)};this.addRuleToRuleSet=function(a){x.addRuleToRuleSet(a)};this.removeRules=function(a){return x.removeRules(a)};this.setAutoplay=function(a){x.setAutoplay(a)};this.startLinear=
function(a){x.startLinear(a)};this.setVpaidAd=function(a){x.setVpaidAd(a)};this.triggerEvent=function(a,b){T.triggerEvent(a,b)};this.clickThrough=function(){x.clickThrough()};this.trackingController=function(){return x.trackingController()};this.skipAd=function(){x.skipAd()};this.setAdVolume=function(a){x.setAdVolume(a)};this.getAdVolume=function(){return x.getAdVolume()};this.startAd=function(a){x.startAd(a)};this.getAdConfig=function(){return x.getAdConfig()};this.isVPAID=function(){return x.isVPAID()};
this.getSlot=function(){return x.getSlot()};this.getVideoSlot=function(){return x.getVideoSlot()};this.startAds=function(a){x.startAds(a)};this.trackErrorAndRestartAd=function(a){x.na(!0);n.reset();(a=n.$(a||0))&&"fixedroll"==a.type&&(1<a.tag.length&&0===a.urls.length&&(a.urls.unshift(a.tag),a.limit=a.urls.length),x.ca())};r.log(109,E.API_VERSION);n=new O(d);x=new F(b,d);x.registerGlobalEventDispatcher(T.C);b.registerGlobalEventDispatcher(T.C);x.a(1010,e);x.a(1020,p);x.a(1030,p);x.a("AdCompanionsDetected",
function(a){r.log(103);if(d.onCompanion)d.onCompanion(a.info);d.companionCallback&&d.companionCallback(a.info)});x.a("AdSlotStarted",t);x.a("AdSlotComplete",t);x.a("START_LINEAR",t);x.a("START_NONLINEAR",t);x.a("AdStopped",t);b.a("CONTROLS_ON",t);b.a("CONTROLS_OFF",t);b.m("play,pause,ended,timeupdate,volumechange,error,durationchange",p)}function J(b){function d(){for(var b in m)"undefined"!==typeof k[b]&&(k[b]=a(m[b],k.ea[b]))}function a(b,d){switch(typeof d){case "number":return!b||isNaN(parseInt(b,
10))?d:parseInt(b,10);case "object":for(var c in d)b[c]=b[c]?a(b[c],d[c]):d[c];break;default:if(void 0===b||null===b)return d}return b}function c(){4==A.readyState&&(200==A.status?h():k.H&&k.H(k))}function h(){k.ma({});if(k.onConfigLoaded)k.onConfigLoaded(k)}function e(){k.H&&k.H(k)}var p={key:"",adResponse:"",preroll:"",midroll:"",postroll:"",overlay:"",fixedroll:"",fixedrolls:[],overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,customControls:!1,urlhandler:"",blockInsecureURL:!0,maxWrapperDepth:10,
prefetchBuffets:!1,adVerification:{meetrics:!1},skipButtonPosition:"top",skipButtonText:"Skip this Ad",styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"left",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",borderRadius:"3px"},buttonStyle:{width:"80px",height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",borderRadius:"3px",lineHeight:"0px",textAlign:"center"}},
onCompanion:null,companionCallback:null,onTrack:function(){},onFinish:null,vpaidSingleVideoSlotMode:!0,qb:"",vastExtensions:{},ib:!0},m=b,k=this;k.ea=p;var A;this.Jb=function(){return k};this.ma=function(a){m=a;d();g.ab(a)&&(k.onConfigLoaded=a.onConfigLoaded,k.H=a.H,k.gb(a.externalConfigXml))};this.gb=function(a){a=g.urlEnrichment.w(a);A=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest;window.XDomainRequest?(A.onload=h,A.onerror=e,A.open("GET",a)):(A.open("GET",a,!0),A.onreadystatechange=
c);A.send()};this.H=this.onConfigLoaded=null;this.id="test";(function(){k.ea=p;for(var a in k.ea)k[a]=k.ea[a]})();d();g.ab(b)&&(k.onConfigLoaded=b.onConfigLoaded,k.H=b.H,k.gb(b.externalConfigXml))}function X(){function b(b){var d=a.filter(function(a){return a.hasOwnProperty(b)});if(!(1>=d.length)){var c=a.filter(function(a){return!a.hasOwnProperty(b)}),d=d.map(function(a){return a[b]}).join("|");if(-1===d.indexOf("true")||-1===d.indexOf("false")){var f={};f[b]=d;c.push(f)}a=c}}var d=new g.j.s;g.Mb();
var a=[],c=g.Ib();this.a=d.a;this.b=d.b;this.registerGlobalEventDispatcher=d.registerGlobalEventDispatcher;this.addRule=function(d){if("type"===Object.keys(d).shift()||"format"===Object.keys(d).shift())a.push(d);else return b("type"),b("format"),b("scalable"),b("maintainaspectratio"),a=a.concat([d]).reduce(function(a,b,d){var c=Object.keys(b).shift();c in a.keys?a.result[a.keys[c]]=b:(a.keys[c]=d,a.result.push(b));return a},{result:[],keys:{}}).result,this};this.removeRule=function(b){a=a.filter(function(a){return Object.keys(a).shift()!==
b})};this.Wa=function(){b("type");b("format");b("scalable");b("maintainaspectratio");return a};this.ac=function(){a.push({delivery:"progressive"});for(var b in c)c.hasOwnProperty(b)&&a.push({type:c[b].Da});a.push({type:g.la});a.push({format:window.ois.MediaFileFormat.WIDE});a.push({width:5E3});a.push({bitrate:g.xa()||5E3});a.push({apiFramework:"VPAID"})};this.ac()}function S(b,d){function a(a){"play"!==a.type||b.commercial||(z=!1);"pause"!==a.type||b.commercial||(z=!0)}function c(){v.m(b,"timeupdate,ended",
h);if(!1===q){r.log(805);v.g(b,"timeupdate,ended",h);p(H);b.load();x();var a=b.play();void 0!==a&&a.then(function(){},function(){});l=!1}}function h(a){"timeupdate"===a.type&&0<b.seekable.length&&(q=!0,b.seekable.end(0)>=b.duration&&6E3!==b.duration&&100!==b.duration&&(r.log(803,b.duration),b.currentTime=b.duration,v.g(b,"timeupdate",h)));"ended"===a.type&&(r.log(804,a.type),p(H),b.load(),x(),a=b.play(),void 0!==a&&a.then(function(){},function(){}),v.g(b,"ended",h),l=!1)}function e(){try{b.seekable.end(0)>=
t&&0<b.currentTime&&(b.currentTime=t,v.g(b,"timeupdate",e),r.log(801,t))}catch(a){r.log(802,a)}}function p(a){a=g.Y(a);if(g.rb)for(var d=b.getElementsByTagName("source"),c=a.split("."),f,c=c[c.length-1],k=0;k<d.length;k++)if(f=d[k].src.split("."),f=f[f.length-1],f===c){d[k].src=a;return}b.src=a}function m(a,b){var d=null;window.getComputedStyle?d=parseFloat(window.getComputedStyle(a,"").getPropertyValue(b)):a.currentStyle&&(d=parseFloat(a.currentStyle[b]));return d?d.toFixed(2)+"px":null}function k(a){y.triggerEvent(5010,
a.type||void 0)}function A(){b.muted&&!1===E?(E=!0,y.triggerEvent(5020,!0)):b.muted||!0!==E||(E=!1,y.triggerEvent(5020,!1))}var t,H,l=!1,q=!1,x,n,z,E=!1,v,y=new g.j.s;this.h=function(a){if(a)switch(a){case "currentTime":return b.currentTime;case "duration":return b.duration;case "currentSrc":return b.currentSrc;case "currentSrcType":return"-unused-";case "src":return b.src;case "controls":return b.controls;case "paused":return b.paused;case "volume":return b.volume;case "error":return b.error;default:return null}return{currentTime:b.currentTime,
duration:b.duration,currentSrc:b.currentSrc,src:b.src,controls:b.controls,paused:b.paused,volume:b.volume,error:b.error}};this.lb=function(a){b&&(b.commercial=a)};this.l=function(a){if(a)switch(a){case "width":return Math.round(b.getBoundingClientRect().width);case "height":return Math.round(b.getBoundingClientRect().height);case "top":return Math.round(b.getBoundingClientRect().top-document.body.getBoundingClientRect().top);case "left":return Math.round(b.getBoundingClientRect().left-document.body.getBoundingClientRect().left);
default:return null}return{width:Math.round(b.getBoundingClientRect().width),height:Math.round(b.getBoundingClientRect().height),top:Math.round(b.getBoundingClientRect().top-document.body.getBoundingClientRect().top),left:Math.round(b.getBoundingClientRect().left-document.body.getBoundingClientRect().left)}};this.M=function(){var a=b.pause();void 0!==a&&a.then(function(){},function(){})};this.O=function(){if(!z){var a=b.play();void 0!==a&&a.then(function(){},function(){})}};this.ha=function(a,d,k){r.log(806,
a,d,k);H=g.eb(a)?a.url:a;n||(b.width||b.style.width||(b.style.width=m(b,"width")||"100%"),b.height||b.style.height||(b.style.height=m(b,"height")||"100%"),n=!0);g.I&&l?c():(p(H),b.load(),d&&(t=d,v.m(b,"timeupdate",e)),k||(a=b.play(),void 0!==a&&a.then(function(){},function(){})))};this.nc=function(a,b){r.log(807,a);l=a;x=b};this.setControls=function(a){b.controls=a};this.getParent=function(){return d||b.parentNode};this.jb=function(){v.g(b,"click",void 0)};this.m=function(a,d){v.m(b,a,d)};this.g=
function(a,d){v.g(b,a,d)};this.getVideoSlot=function(){return b};this.a=y.a;this.b=y.b;this.registerGlobalEventDispatcher=y.registerGlobalEventDispatcher;this.destroy=function(){v.g(b,"mousedown",void 0);v.g(b,"timeupdate",e);v.g(b,"volumechange",A);v.g(b,"timeupdate,ended",h);v.g(window,"resize,orientationchange",k);v.g(document,"mozfullscreenchange,webkitfullscreenchange",k);v.g(b,"pause play",a)};v=new g.j.Event;v.m(window,"resize,orientationchange",k);v.m(document,"mozfullscreenchange,webkitfullscreenchange",
k);b.muted&&(E=!0);v.m(b,"volumechange",A);v.m(b,"pause play",a)}function Q(b){function d(){p.triggerEvent("AdStopped",void 0)}function a(a,b,d){A||(A=a);t||(t=b);H||(H=d)}function c(a){q=a?new window[v](A,t,r,H,k):new E.extensions[x](A,t,r,H,k);g.D(q.a)&&(q.a("PAUSEAD",l),q.a("RESUMEAD",l));e.push(q)}var h,e=[],p=new g.j.s,m,k=this,A,t,H,l,r,x,q,n,z,v,y;this.a=p.a;this.b=p.b;this.aa=function(b,d,k){a(b,d,k);if(h&&!(1>h.length))for(b=0;b<h.length;b++)r=h[b],x=r.attributes[0].value,E.extensions[x]?
c(!1):(n=t.v.vastExtensions,z=Object.getOwnPropertyNames(n),z.forEach(function(a){v=n[a].className||a;y=n[a].src;v===x&&(window[v]&&"function"===typeof window[v]?c(!0):y&&(a=g.createElement("script",{type:"text/javascript"}),document.head.appendChild(a),a.addEventListener("load",function(){c(!0)},!1),a.src=y))}))};this.destroy=function(){if(0<e.length)for(var a=0;a<e.length;a++)e[a].destroy&&e[a].destroy();m&&m.b("AdStopped",d);l=H=t=A=!1};this.onResize=function(){if(0<e.length)for(var a=0;a<e.length;a++)e[a].setViewport({width:b.l("width"),
height:b.l("height")})};this.setup=function(a,b,c){h=a;l=b;m=c;m.a("AdStopped",d);return k}}function F(b,d){function a(a){if(!C)return!1;if((a="fixedroll"===a?C.ya():C.ga())&&a.StaticResource){var b=a.attributes.apiFramework?a.attributes.apiFramework:"UNKNOWN";if(-1!=g.la.indexOf(a.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==b.toUpperCase())return r.log(T),!0}else if(a&&a.apiFramework&&"VPAID"==a.apiFramework.toUpperCase())return!0;return!1}function c(){clearInterval(Ra);ta=!1;Ra=setInterval(function(){M.Pb();
var a=(new Date).getTime();void 0==Ha&&(Ha=a);a=parseInt(a-Ha,10)/1E3;C.nb(a);a>parseInt(d.overlayDuration,10)&&F()},250);ta=!0;L.wa()}function h(a){L&&(a.info?L.Qa():L.callUnmuteTracker())}function e(a){a.info&&"fullscreen"===a.info&&L.callTracker("fullscreen");a.info&&"exitFullscreen"===a.info&&L.callTracker("exitFullscreen");K&&K.resizeAd(b.l("width"),b.l("height"),void 0);oa.onResize()}function p(a){var b=a.type;"pause"===b&&a.target.currentTime>=a.target.duration||("play"===b&&0<a.target.currentTime&&
(b="resume"),a=K?!0:!1,L&&!a&&L.callTracker(b))}function m(a){J();C=new ba(d,b);C.wc(pa);M=new R(b,C);M.a("AdClickThru",H);M.a("AdClickThruReject",H);M.a(2020,H);M.registerGlobalEventDispatcher(aa.C);C.a(3010,H);C.a(3020,H);C.a(3030,H);C.a(3035,H);C.a(3050,H);C.a(3040,H);C.a(7E3,H);C.registerGlobalEventDispatcher(function(a){"AdTagSkipDetected"===a&&(ma=!0,r.log(5100))});C.registerGlobalEventDispatcher(aa.C);b.m("play",p);b.m("pause",p);b.a(5020,h);b.a(5010,e);P("AdSlotStart");"fixedroll"===la?C.fb(Da.urls.shift(),
Da.responseXML):"overlay"===la&&a&&(null!==ga?(ga.nonLinearsTracker.impression=[],ga.gotLinear=!1,ga.companion=[],ga.companionsAsString=null,C.bc(ga),ga=null):C.fb(a))}function k(){H({type:"RESUMEAD"})}function t(){L.Bb();B()}function l(d){P(1030);a("fixedroll")?ea?K&&K.resumeAd():(K.startAd(),Aa=ea=!0,b.g("ended",B)):(b.nc(ka,G),b.ha(C.za(),d,!1),b.m("loadeddata",function ua(){b.g("loadeddata",ua);P("AdStarted")}),ka=!1,G());qa||(qa=!0,P("AdSlotStarted"));P("START_LINEAR")}function H(h){r.log(201,
h.type);L||(L=new V(b,d,C,la),L.registerGlobalEventDispatcher(aa.C),L.a("AdCapped"));L.Fa(C);switch(h.type){case "PAUSEAD":if(!ta&&!Aa)break;xa=!0;P("AdPaused",!0);K?K.pauseAd():(b.M(),b.m("play",k));P(1010,!0);M.Sa();break;case "RESUMEAD":if(!ta&&!Aa)break;xa=!1;P("AdPlaying",!0);K&&(K.resumeAd(),P("onTrack","play"));if(xa||b.h("paused"))b.g("play",k),b.O();M.Db();P(1010,!1);b.setControls(!1);break;case 3010:L.Fa(C);h="fixedroll"===la?C.ya():C.ga();a("fixedroll")||P("AdLoaded",C.c());var g=C.J(),
e=g.icons&&0<g.icons.length;C.c()&&g&&e&&(r.log(5050),aa.triggerEvent(4300,g.icons));P("AdMediaSelected",h);v();"overlay"===la&&C.c().gotNonLinear?(M.Ub(),h=C.Kb(),I(h),M.mc(h),a("overlay")&&z("overlay"),c(),P("START_NONLINEAR")):"fixedroll"==la&&C.za()?(M.aa(),M.Ea(),ma&&M.Vb(),M.a("SKIP",t),a("fixedroll")&&(M.Tb(),z("fixedroll"),na&&K.kb(na),b.g("ended",B),K.a("AdLoaded",function va(){K.b("AdLoaded",va);ra&&(K.startAd(),ea=!0)})),ra&&l()):"fixedroll"!==la&&"overlay"!==la||n(200);oa.aa(M,C,L);break;
case "AdClickThru":da();break;case "AdClickThruReject":b.setControls(!1);b.O();break;case 3020:g=!1;h.info&&(g=h.info.silent);g||(r.log(202,h.info),aa.triggerEvent("AdError",h.info||h.type));q(h.info||h.type);g||O();break;case 2020:r.log(203);L.yb();F();break;case 3030:ga=h.info;break;case 3035:oa.setup(h.info,H,wa);break;case 3050:L.callCustomTracker(h.info,"cappedImpression");break;case 3040:L.va(302);break;case 7E3:n(303)}}function q(a){var b=a.errorCode||a;a=a.errorURLTemplates;r.log(202,b);L&&
L.va({info:{errorCode:b,errorURLTemplates:a}})}function n(a){q(a);aa.triggerEvent("AdSlotComplete");F()}function x(a){r.log(950,a.type);switch(a.type){case 6010:null!==L&&L.va(901);K&&(K.b(6010,x),K=null);B();break;case 6020:P(1030);break;case 6030:P(1020);break;case 6040:case 6050:B();break;case 6060:da(a.info)}}function z(a){K=new Y;K.a(6010,x);K.a(6020,x);K.a(6030,x);K.a(6040,x);K.a(6050,x);K.a(6060,x);K.a("AdVideoComplete",x);K.a(6070,h);K.registerGlobalEventDispatcher(aa.C);"overlay"===a?K.aa(C.ga(),
M,b,L,C):K.Sb(C.ya(),M,b,L,C)}function v(){var a=C.c().creatives.filter(function(a){return"companion"===a.type}).shift();a&&P("AdCompanionsDetected",a)}function G(){clearInterval(ia);Aa=!1;b.m("ended",B);ia=setInterval(function(){var a=(new Date).getTime();void 0==S&&(S=a);var a=b.h("currentTime"),d=b.h("duration");L&&L.handleTracking();Number.isFinite(d)&&C&&(C.nb(d-a),C.totalTime!==d&&C.lc(d))},250);Aa=!0}function w(){if(C.xb()){r.log(5003);M&&M.destroy();M=new R(b,C);M.a("AdClickThru",H);M.a("AdClickThruReject",
H);M.a(2020,H);M.registerGlobalEventDispatcher(aa.C);oa.destroy();if(K){K.stopAd();setTimeout(function(){K=null;ea=!1;C.ia()},500);return}C.ia();return!0}return!1}function y(){L&&(!1===L.Cb()?setTimeout(y,16):(L.b("AdCapped"),L=null,O()))}function B(){b.g("ended",B);K&&(K.b(6050,B),K=null,ea=!1);L?(L.handleTracking(),y()):O()}function O(){clearInterval(ia);Aa=!1;P("AdStopped",C.c());w()||(M&&M.destroy(),C.destroy(),M=E.Ha=null,C=E.Ga=null,oa.destroy(),qa=!1,P("AdSlotStopped"),P("AdSlotComplete"),
P(1020))}function F(){r.log(204,la);r.log(5005);J();g.urlEnrichment.setValueFor("errorCode","");K?K.stopAd():"overlay"==la||ta?(r.log(205,la),d.ra&&(d.overlayDuration=d.ra,delete d.ra),clearInterval(Ra),ta=!1,Ha=void 0,M.jc(),C.destroy(),M=E.Ha=null,C=E.Ga=null,g.pa&&P(1010,!0)):"fixedroll"===la&&(clearInterval(ia),Aa=!1,S=void 0,M.destroy(),C.destroy(),M=E.Ha=null,C=E.Ga=null,oa.destroy(),P("AdSlotComplete"),P(1020))}function J(){M&&(M.b("AdClickThru"),M.b("AdClickThruReject"),M.b(2020));C&&(C.b(3010),
C.b(3020),C.b(3030),C.b(3035),C.b(3050),C.b(3040),C.b(7E3),C.G());b.g("play",p);b.g("pause",p);b.g("ended",B);b.b(5020,h);b.b(5010,e)}function P(a,b){aa.triggerEvent(a,b)}function I(a){a&&a.attributes&&a.attributes.minSuggestedDuration&&15<g.U(a.attributes.minSuggestedDuration)&&g.U(a.attributes.minSuggestedDuration)>d.overlayDuration&&(d.ra=d.overlayDuration,d.overlayDuration=g.U(a.attributes.minSuggestedDuration))}function da(a){var d="_blank";window.envBlocked&&(d="_self");L.Pa();var c=C.J();if("fixedroll"===
la&&(c.videoClickThroughURLTemplate||a)){a=a||c.videoClickThroughURLTemplate;if(!a||0===a.length||0===a.trim().length){k();return}d=window.open(a,d);null!==d&&"undefined"!==typeof d&&(P(1010,!0),M.Sa())}else"overlay"===la&&(C.c().nonLinearsVideoclicks.url||a)&&(a=a||C.c().nonLinearsVideoclicks.url,window.open(a,d));b.setControls(!1);P("AdClickThru",!0)}var aa=new g.j.s,L,M,C,K,ia,S,Aa=!1,Ra,Ha,ta=!1,Da,la,ga=null,ma=!1,xa,ka=!1,pa=new X,oa=new Q(b),wa=this,ra=!0,qa=!1,na=null,ea=!1;this.startLinear=
function(a){l(a)};this.startAd=function(a){la=(Da=a)&&a.type?a.type:!1;return Da?("fixedroll"===la?(!0===ta&&F(),ka=!0,m()):"overlay"===la&&Da.urls[0]&&m(Da.urls[0]),!0):!1};this.a=aa.a;this.b=aa.b;this.registerGlobalEventDispatcher=aa.registerGlobalEventDispatcher;this.G=aa.G;this.na=function(a,b){var d=b||400;try{r.log(202,d),aa.triggerEvent("AdError",{errorCode:d}),q(d)}catch(c){}a||B()};this.ca=function(){b.destroy();F()};this.ba=function(){return ta};this.wb=function(){return ta||Aa};this.pauseAd=
function(){H({type:"PAUSEAD"})};this.resumeAd=function(){H({type:"RESUMEAD"})};this.setAutoplay=function(a){ra=a};this.addRuleToRuleSet=function(a){pa&&pa.addRule(a)};this.removeRules=function(a){if(pa)return pa.removeRule(a)};this.setVpaidAd=function(a){na=a};this.setAdVolume=function(a){K&&K.setAdVolume(a)};this.getAdVolume=function(){return K?K.getAdVolume():b.h("volume")};this.clickThrough=function(){if(!(C&&C.c()&&C.c().variant&&"commercial"!==C.c().variant&&"sponsored"!==C.c().variant||.5>b.h("currentTime"))){if("fixedroll"===
la){var a=C.J().videoClickThroughURLTemplate;if(!a||0===a.length||0===a.trim().length)return}H({type:"PAUSEAD"});da()}};this.trackingController=function(){L||(L=new V(b,d,C,"fixedroll"),L.registerGlobalEventDispatcher(aa.C),L.a("AdCapped"));L.Fa(C);return L};this.resizeAd=function(a,b,d){K&&K.resizeAd(a,b,d)};this.skipAd=function(){K?K.skipAd():t()};this.getAdConfig=function(){return Da};this.isVPAID=function(){return K?!0:!1};this.getVideoSlot=function(){return K?K.getVideoSlot():b.getVideoSlot()};
this.getSlot=function(){return K?K.getSlot():document.createElement("div")};this.startAds=function(a){C||(la="unknown",m());la="fixedroll";C.kc(a);C.ia()}}function ba(b,d){function a(a){r.log(301,a.type);t&&t.c()&&(q=t.c());switch(a.type){case 4200:c(4200,a.info);break;case 7E3:l.triggerEvent(7E3);break;case "AdTagParsed":c("AdTagParsed",a.info);if(q.ads.length>w&&q.ads[w].errorCode){c(3020,q.ads[w]);break}(a=k())?a&&G.fileURL&&(q.ads[w].creatives.filter(function(a){return"linear"===a.type}).shift().supportedMediaFiles=
v.Aa(),c(3010)):(q.ads[w].errorCode=403,c(3020,q.ads[w]));break;case 4030:n=!0;x++;h(q.$c);break;case "VAST-error":a.info&&a.info.rc||c(3020,a.info);break;case 4040:c(3030,g.clone(q));break;case 4050:c(3035,q.extensions);break;case 4100:c(3050,a.info)}}function c(a,b){l.triggerEvent(a,b)}function h(a){var b;window.XDomainRequest?(r.log(303),b=new window.XDomainRequest):(r.log(304),b=new XMLHttpRequest);H=b;g.urlEnrichment.setValueFor("videoData",d.l());a=g.urlEnrichment.w(a);window.XDomainRequest?
(H.onload=p,H.onerror=m,H.open("GET",a)):(H.open("GET",a,!0),g.pc(a)&&(H.withCredentials=!0),H.onreadystatechange=e);H.send()}function e(){4==H.readyState&&(200==H.status?p():m())}function p(){var b=H.responseText;!1===n?(t=new P,t.registerGlobalEventDispatcher(l.C),t.a("AdTagParsed",a),t.a("VAST-error",a),t.a(4030,a),t.a(4040,a),t.a(4050,a),t.a(4100,a),t.a(7E3,a)):!0===n&&(n=!1);t.hb(b)}function m(){c(3020,300)}function k(){v=new E.MediaSelector(y,z);v.Eb().sc();if(0<v.Aa().length){var a=g.xa()||
5E3,b=v.Aa().reduce(function(b,d){return Math.abs(d.bitrate-a)<Math.abs(b.bitrate-a)?d:b});b.fileURL=g.Y(b.fileURL);G.url=b.fileURL;G.type=b.mimeType;G.index=0;g.extend(G,b);"string"===typeof G.fileURL&&(g.urlEnrichment.setValueFor("assetUri",G.fileURL),G.fileURL=g.urlEnrichment.w(G.fileURL));return!0}g.urlEnrichment.setValueFor("assetUri",null);G.url=null;return!1}var t=null,l=new g.j.s,H,q={ads:[],videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:[],nonLinears:[],extensions:[],
companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,isCombi:!1,Nc:[]},n=!1,x=0,z=new X,v=null,G={url:null,index:null,type:null},w=0,y=this;this.wc=function(a){z=a};this.v=b;this.ja=void 0;this.totalTime=q.duration;this.fb=function(c,f){t=new P(b);t.a("AdTagParsed",a);t.a(4200,a);t.a("VAST-error",a);g.urlEnrichment.setValueFor("videoData",d.l());window.macroModel=g.urlEnrichment.getCurrentModel;t.fc(f?null:c,f)};this.ga=function(){return this.c().creatives.filter(function(a){return"nonlinear"===
a.type}).shift()};this.J=function(){return this.c().creatives.filter(function(a){return"linear"===a.type}).shift()};this.Kb=function(){return this.ga()};this.ya=function(){return G};this.za=function(){return G.fileURL};this.nb=function(a){this.totalTime=q.duration;this.ja=q.duration-a;c("AdRemainingTimeChange")};this.lc=function(a){this.totalTime=a;c("AdDurationChange")};this.bc=function(a){q=g.clone(a);c(3010)};this.destroy=function(){r.log(5006);null!==t&&(t.b("VAST-error"),t.b("AdTagParsed"),t.b(4030),
t.b(4040),t.b(4100),t.b(7E3),t.G(),t=null);l=null};this.a=l.a;this.b=l.b;this.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher;this.G=l.G;this.c=function(){return q.ads[w]};this.kc=function(a){w=-1;q.ads=a};this.ia=function(){w++;a({type:"AdTagParsed",info:q})};this.xb=function(){return w<q.ads.length-1}}function R(b,d){function a(){var a=b.l();O="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;";G="display:block;position:absolute;overflow:hidden;width:15px;height:15px;top:0px;left:"+
a.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function c(a){var d=b.l("width"),f=b.l("height");if(E.width===d&&E.height===f)return a;r.log(401);a.P=parseInt(a.width,10);a.L=parseInt(a.height,10);a.ratio=a.P/a.L;E.width=d;E.height=f;"true"===a.scalable&&"true"===a.maintainAspectRatio?a.P/d>=a.L/(f/5)?(a.P=d,a.L=a.P/a.ratio):(a.L=f/5,a.P=a.L*
a.ratio):"true"===a.scalable&&"false"===a.maintainAspectRatio&&(a.L=f/5,a.P=d);a.width=Math.floor(a.P);a.height=Math.floor(a.L);return a}function h(a,d){var c=b.l();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=c.top+(c.height-d.height)+"px";a.style.left=c.left+(c.width/2-d.width/2)+"px"}function e(){return g.createElement("div",{id:"closeButton"+Math.round(1E6*Math.random()),style:G})}function p(){y&&(Y=b.h("duration"),T=b.h("currentTime"),1>=Y&&(Y=d.c().duration),y.update(T,
Y))}function m(){r.log(402);z.triggerEvent("AdClickThru",void 0)}function k(){F.onmousedown=function(){r.log(403);z.triggerEvent(2020,void 0)}}function t(){F.style.left=parseInt(B.style.width,10)-15+"px"}function l(){if(B){var a=c(V);V=a;if(L){var a=B,d=b.l();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=d.top;a.style.left=d.left}else h(B,a);t()}}function H(){d.v.styles.closeButtonStyle&&g.qa(F,d.v.styles.closeButtonStyle)}function q(){setTimeout(function(){aa&&aa.setViewport(b.l());
y&&y.setViewport(b.l());l()},50)}function n(){z.triggerEvent("SKIP",void 0)}var x=b.getParent(),z=new g.j.s,E={},G,O,y,B,F,V,P={},T,Y,da,aa,L=!1,M=new w(b.getParent());this.aa=function(){r.log(404);a();F=e();H();b.a(5010,q)};this.Tb=function(){da=g.createElement("div",{id:"vpaidSlot"+Math.round(1E6*Math.random()),style:"position:absolute;width:100%;height:100%;display:none"});(b.getParent().querySelector("video")||b.getParent()).insertAdjacentElement("afterend",da);var a=b.l();["left","top","width",
"height"].forEach(function(b){var d=a[b];if("left"===b||"top"===b)d=0;da.style[b]=""+d+"px"})};this.Ub=function(){r.log(405);E={width:0,height:0};a();b.a(5010,q)};this.Vb=function(){y=new v(x,d);y.setViewport(b.l());y.hide();y.a("SKIP",n)};this.Pb=function(){l()};this.Ea=function(){d.a("AdRemainingTimeChange",p)};this.mc=function(a){g.pa&&!d.v.customControls&&b.setControls(!1);var p=c(a.attributes),l=g.createElement("div",{id:"overlay"+Math.round(1E6*Math.random()),style:O}),y=null,q;q=b.l();V=p;
h(l,p);if(a.StaticResource){var p=a.resourceAttributes.creativeType.toLowerCase(),aa=a.attributes.apiFramework?a.attributes.apiFramework:"UNKNOWN";-1!=g.la.indexOf(p)&&"VPAID"==aa.toUpperCase()?(L=!0,da=g.createElement("div",{id:"vpaidSlot"+Math.round(1E6*Math.random()),style:"width:100%;height:100%"}),l.style.top=0,l.style.left=0,l.style.width=q.width+"px",l.style.height=q.height+"px",l.style.display="none",l.appendChild(da)):(-1!=g.la.indexOf(p)?y=g.createElement("script",{src:a.StaticResource}):
0<=p.search(/^image|jpeg|gif|png/i)&&(y=g.createElement("img",{src:a.StaticResource,style:"width:100%;height:100%"})),null!=y&&l.appendChild(y))}else a.IFrameResource?(q=g.createElement("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),y=g.createElement("iframe",{id:"nonLinearIFrame",src:a.IFrameResource,style:"width:100%;height:100%"}),l.appendChild(q),l.appendChild(y)):a.HTMLResource&&(y=g.createElement("div",{style:"width:100%;height:100%"}),y.innerHTML=a.HTMLResource,
l.appendChild(y));B=l;F=e();H();t();B.appendChild(F);x.appendChild(B);B.firstChild.addEventListener("mousedown",m,!1);k()};this.jc=function(){g.pa&&!d.v.customControls&&b.setControls(!0);try{x.removeChild(B)}catch(a){r.log(406)}b.b(5010)};this.destroy=function(){b.b(5010);d.b("AdRemainingTimeChange");y&&y.destroy();da&&x.removeChild(da);aa&&aa.destroy();z=null;b.jb()};this.Xa=function(){return da};this.Ya=function(){b.l()};this.qc=function(){B?(B.removeChild(F),B.firstChild.removeEventListener("mousedown",
m,!1),B.style.display="block"):(b.jb(),da.style.display="block")};this.cc=function(a){var d=["left","top","width","height"],c=b.l();B&&(L?d.forEach(function(a){B.style[a]=""+c[a]+"px"}):a?(Object.getOwnPropertyNames(P).length||d.forEach(function(a){P[a]=B.style[a]}),d.forEach(function(a){B.style[a]=""+c[a]+"px"})):d.forEach(function(a){B.style[a]=P[a]}))};this.Ba=function(){return b.getParent()};this.K=function(){return M.K()};this.Sa=function(){y&&y.hide()};this.Db=function(){y&&y.show()};this.a=
z.a;this.b=z.b;this.registerGlobalEventDispatcher=z.registerGlobalEventDispatcher}function v(b,d){function a(){e.triggerEvent("SKIP")}function c(a){if(m.parent){var b=parseInt(window.getComputedStyle(m,null).getPropertyValue("height"),10),d="top"===h.skipButtonPosition?0:a.top+a.height-b,f=parseInt(window.getComputedStyle(m,null).getPropertyValue("width"),10);a="left"===t?0:a.width-f;m.style.width=f+"px";m.style.height=b+"px";m.style.top=d+"px";m.style.left=a+"px"}}var h=d.v,e=new g.j.s,p={},m,k=
h.styles,t,l=!1;this.update=function(a,b){if(!l){var c=g.ec(d.za().skipoffset,b);a>=c&&(this.show(),l=!0)}};this.show=function(){m.style.display="block";c(p)};this.hide=function(){m.style.display="none"};this.destroy=function(){b.removeChild(m)};this.setViewport=function(a){p=a;c(p)};this.a=e.a;this.b=e.b;m=function(){var d=g.createElement("div",{id:"adSkipButton"+Math.round(1E6*Math.random()),style:"position:absolute;overflow:hidden;display:none;cursor:pointer;white-space: nowrap"});d.innerHTML=
"&nbsp;"+h.skipButtonText+"&nbsp;";g.qa(d,k.colorScheme);g.qa(d,k.fontStyle);t=d.style.textAlign="right"===k.fontStyle.textAlign?"left":"right";d.addEventListener(g.Yb?"touchstart":"mousedown",a,!1);b&&b.appendChild(d);return d}()}function O(b){function d(a,b){function d(){for(var a=c.createElement(arguments[0]),b=1;b<arguments.length;b++){var f=arguments[b];if(f.split)f=c.createTextNode(f);else if("[object Object]"===Object.prototype.toString.call(f)){Object.keys(f).forEach(function(b){return a.setAttribute(b,
f[b])});continue}else if("[object Array]"===Object.prototype.toString.call(f)){f.forEach(function(b){a.appendChild(b)});continue}a.appendChild(f)}return a}var c=document.implementation.createDocument(null,"VAST",null);c.documentElement.setAttribute("version","3.0");a.map(function(a,f){var h=d("Ad",f<b?{sequence:f+1,fallbackOnNoAd:!0,fallbackType:"waterfall",allowMultipleAds:!1}:{},d("Wrapper",d("VASTAdTagURI",a)));c.documentElement.appendChild(h)});return c}function a(a,b){var d="";"string"==typeof a&&
(a={urls:[a]});if("string"==typeof a.urls||"string"==typeof a.tag)d=a.urls||a.tag,a.urls=[d];a.offset=b;return a}function c(a){if(b.overlay){for(var d=[],f=0;f<b.fixedrolls.length;f++){var h={urls:[b.overlay],offset:b.fixedrolls[f].offset+b.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1};h.offset<a&&d.push(h)}for(f=0;f<d.length;f++)b.fixedrolls.push(d[f]);b.fixedrolls.some(function(a){return 0==a.offset})||b.fixedrolls.push({urls:[b.overlay],offset:b.overlayDelay,limit:1,count:1,
interval:-1,type:"overlay",requested:!1})}}function h(){b.fixedrolls.sort(function(a,b){return a.offset>b.offset?1:a.offset<b.offset?-1:0})}var e=!1;this.vc=function(a){if(!e){for(var d=0;d<b.fixedrolls.length;d++){var k=b.fixedrolls[d];"string"==typeof k.offset&&(k.offset=parseInt(k.offset,10)/100*a)}d=[];for(k=0;k<b.fixedrolls.length;k++){var p=b.fixedrolls[k];if(5<=p.interval)for(var t=p.offset+p.interval;t<a-5;){var l=g.clone(p);l.offset=t;d.push(l);t+=p.interval}}b.fixedrolls=b.fixedrolls.concat(d);
if(a<b.minDurationForMidrolls){for(d=0;d<b.fixedrolls.length;d++)k=b.fixedrolls[d],0<k.offset&&k.offset<a&&b.fixedrolls.splice(d,1);r.log(602)}c(a);h();e=!0}};this.$=function(a){a:{for(var d=0;d<b.fixedrolls.length;d++){var c=b.fixedrolls[d],f=a-c.offset;if(c.offset<=a&&2>=f&&!c.requested){c.requested=!0;a=c;break a}}a=!1}return a};this.reset=function(){for(var a=0;a<b.fixedrolls.length;a++)b.fixedrolls[a].requested=!1};this.$b=function(){return!0===b.fixedrolls[b.fixedrolls.length-1].requested};
this.Ob=function(a){return b.fixedrolls[b.fixedrolls.length-1].offset==a&&!1===b.fixedrolls[b.fixedrolls.length-1].requested};(function(){b.fixedrolls||(b.fixedrolls=[]);b.adResponse?b.fixedrolls.push({offset:0,responseXML:b.adResponse}):b.preroll&&(b.preroll=a(b.preroll,0),b.fixedrolls.push(b.preroll));b.midroll&&(b.midroll=a(b.midroll,"50%"),b.fixedrolls.push(b.midroll));b.postroll&&(b.postroll=a(b.postroll,"100%"),b.fixedrolls.push(b.postroll));b.overlay&&g.clone(b.overlay);for(var c=0;c<b.fixedrolls.length;c++){var f=
b.fixedrolls[c];if("string"==typeof f||0>parseInt(f.offset,10))r.log(601,f.offset);else{"object"==typeof f.tag&&(f.urls=f.tag);var h="";if("string"==typeof f.tag||"string"==typeof f.urls)h=f.tag||f.urls,f.urls=[h];if(f.count){h=f.urls[0];f.urls=[];for(var e=0;e<f.count;e++)f.urls.push(h.replace("[count]",e+1))}else f.count=1;"object"!=typeof f||"object"!=typeof f.urls||f.limit||(f.limit=f.urls.length);f.interval||(f.interval=-1);f.urls&&1<f.urls.length&&!f.responseXML&&(f.responseXML=d(f.urls,f.limit));
f.urls||(f.urls=[]);f.requested=!1;f.type="fixedroll"}}})()}function V(b,d,a,c){function h(a,b,d){if(a&&!isNaN(b)&&!isNaN(d)&&v)for(var c in a){var f=0===c.indexOf("progress-"),k=a[c].uc,g=f?parseFloat(c.split("progress-")[1]):NaN;f&&-1<c.indexOf("%")&&(g*=d/100);f&&!k&&g<=b&&(m(a[c],c,{}),a[c].uc=!0)}}function e(a,b,c){a&&b&&d.onTrack&&g.D(d.onTrack)&&(d.onTrack(a,b,c?c:""),p(c)&&(d.onTrack("capped",b),l.triggerEvent("AdCapped",void 0)));l.triggerEvent("onTrack",a)}function p(a){var b=g.isArray(a)?
Number(a[0]):Number(a);a="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(a){return a==b});var d=["100","101","300","303","310"].some(function(a){return a==b});return a||d}function m(a,b,h){if(-1!==["impression","creativeView","start","error"].indexOf(b)||v)if(v||(v=!0),-1!==["start"].indexOf(b)&&(G=!0),-1===["mute","unmute"].indexOf(b)||G)if(-1===["complete","error"].indexOf(b)||E||(E=!0),-1!==["complete","error"].indexOf(b)||!E){var g=x.some(function(a){return a===b});g&&q[b]||
("progress"!==b&&(e(b,c,h),g&&(q[b]=d.ib?!0:!1)),a&&("progress"!==b&&r.log(701,b),k.Z(a,b,h)))}}var k=this,t=a&&a.c()&&0<a.c().creatives.length?a.J().trackingEvents:[],l=new g.j.s,q={},n=0,z=0,x="close closeLinear skip impression creativeView start firstQuartile midpoint thirdQuartile complete".split(" "),v=!1,E=!1,G=!1,w=0;k.createTracker=function(b){var c,f;0!==(b.url||"").length&&(a&&g.urlEnrichment.setValueFor("timeOffset",a.totalTime-a.ja),f=g.urlEnrichment.w(b.url),f=g.Y(f),(b.trackEvent&&"error"===
b.trackEvent||b.trackEvent&&"adPodErrorTracker"===b.trackEvent)&&b.info&&(f=g.urlEnrichment.errorCode(f,isNaN(b.info)?b.info.errorCode:b.info)),"https:"!==window.location.protocol||"https:"===window.location.protocol&&0!==(f+"").indexOf("http://")||!d.blockInsecureURL)&&(c=new Image,c.onload=k.createTrackerDone.bind(b,f),c.onerror=k.createTrackerDone.bind(b,f),w++,c.src=f)};k.createTrackerDone=function(){w--};k.Z=function(a,b,d){for(var c=0;c<a.length;c++)"string"===typeof a[c]&&k.createTracker({url:g.Y(a[c]),
trackEvent:b,info:d})};k.Ab=function(){a&&a.c()&&a.c().errorURLTemplatesAdPod&&a.c().errorURLTemplatesAdPod.map(function(a){"preImpression"!==a.triggerOn||a.tracked||(a.tracked=!0,k.Z(a.errorURLTemplates,"adPodErrorTracker",a.errorCode))})};k.zb=function(){a&&a.c()&&a.c().errorURLTemplatesAdPod&&a.c().errorURLTemplatesAdPod.map(function(a){"postComplete"!==a.triggerOn||a.tracked||(a.tracked=!0,k.Z(a.errorURLTemplates,"adPodErrorTracker",a.errorCode))})};k.Rb=function(){return a&&a.c()&&a.c().errorURLTemplatesAdPod?
0<a.c().errorURLTemplatesAdPod.filter(function(a){return"postComplete"===a.triggerOn&&!a.tracked}).length:!1};k.Qa=function(){m(t.mute,"mute")};k.callUnmuteTracker=function(){m(t.unmute,"unmute")};k.va=function(b){var d,c,f=!1;b&&b.info&&(c=b.info.errorURLTemplates,d=b.info.errorCode,f=b.info.rc);if(a&&a.c()&&a.c().errorURLTemplates||c)f?k.Z(c||a.c().errorURLTemplates,"error",d||b):m(c||a.c().errorURLTemplates,"error",d||b)};k.Bb=function(){m(t.skip,"skip")};k.yb=function(){m(t.close,"close")};k.Pa=
function(){m(a.J().videoClickTrackingURLTemplates,"clickTracking")};k.wa=function(){r.log(701,"Impression, CreativeView");k.Ab();a&&a.c()&&m(a.c().impressionURLTemplates,"impression");m(t.creativeView,"creativeView")};k.callTracker=function(a){m(t[a],a)};k.Ic=function(a){a.split("|").forEach(function(a){m(t[a.toLowerCase()],a)})};k.callCustomTracker=function(a,b){var h=[];g.isArray(a)?h=a:h.push(a);var p=x.some(function(a){return a===b});p&&q[b]||("progress"!==b&&(e(b,c),p&&(q[b]=d.ib?!0:!1)),h&&
("progress"!==b&&r.log(701,b),k.Z(h,b,void 0)))};k.Cb=function(){return 0>=w&&!k.Rb()};k.Fa=function(b){c="fixedroll";t=(a=b)&&b.c()&&0<a.c().creatives.length?b.J().trackingEvents:[];E=!1};k.handleTracking=function(a){var g;a="fixedroll"===c?b.h("currentTime"):a;var e="fixedroll"===c?b.h("duration"):parseInt(d.overlayDuration,10);a=+(Math.round(a+"e+1")+"e-1");e=+(Math.round(e+"e+1")+"e-1");z=a;"fixedroll"===c&&(n+.3<z&&(n=z,m(t.timeupdate,"timeupdate")),h(t,a,e));if(!(isNaN(e)||!isNaN(e)&&0>=e)){if(a>=
e)g="complete";else if(a>=e/(4/3))g="thirdQuartile";else if(a>=e/2)g="midpoint";else if(a>=e/4)g="firstQuartile";else if(a)k.wa(),m(t.start,"start");else return;x.some(function(a){return a===g})&&q[g]||!g||(m(t[g],g),"complete"===g&&k.zb())}};k.a=l.a;k.b=l.b;k.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher;return k}function P(b){function d(a){var b=["flv","flash"],d=["rtmp"];a&&a.ads&&a.ads.map(function(a){a.creatives.map(function(a){a.mediaFiles&&(a.mediaFiles=a.mediaFiles.filter(function(a){var c=
0===b.filter(function(b){return-1<(a.mimeType||"").toLowerCase().indexOf(b)}).length,f=0===d.filter(function(b){return-1<(a.fileURL||"").toLowerCase().indexOf(b)}).length;return c&&f}))})})}function a(a){h.triggerEvent("VAST-error",a)}function c(a){k=e.c();switch(a.type){case "AdTagParsed":(k=e.c())&&k.$a&&k.$a.length&&(r.log(5050),h.triggerEvent(4300,k.$a));h.triggerEvent("AdTagParsed",k);break;case 4030:h.triggerEvent(4030);break;case "VAST-error":1020===a.info&&h.triggerEvent(7E3);h.triggerEvent("VAST-error",
a.info);break;case 4040:h.triggerEvent(4040);break;case 4100:h.triggerEvent(4100);break;case 4200:r.log(5052);h.triggerEvent(4200,a.info);break;case "AdTagSkipDetected":h.triggerEvent("AdTagSkipDetected",a.info)}}var h=new g.j.s,e=new window.VASTParser,p=null,m=null,k=null,t=null,l=null;e.addURLTemplateFilter(g.urlEnrichment.w);this.a=h.a;this.b=h.b;this.registerGlobalEventDispatcher=h.registerGlobalEventDispatcher;this.G=h.G;this.ia=function(){};this.c=function(){return l};this.fc=function(c,f){var k=
{withCredentials:!0};k.blockInsecureURL=b.blockInsecureURL;k.maxWrapperDepth=b.maxWrapperDepth;k.prefetchBuffets=b.prefetchBuffets;b.urlhandler&&(k.urlhandler=window[b.urlhandler]);!c&&f&&(k.response=f);e.addEventListener("VAST-error",a);e.parse(c,k,function(b,c){if(b)h.triggerEvent("VAST-error"),e.removeEventListener("VAST-error",a);else if(!b&&c){l=c;var f=l.ads.filter(function(a){return!1===a.fetched});(function(a){var b=f.length,d=0;if(0===b)return a();for(var c=0;c<f.length;c++){var h=f[c],k=
l.ads.indexOf(h);h.fetch(function(c){0<c.ads.length&&(l.ads[k]=c.ads[0]);d++;d>=b&&a()})}})(function(){d(l);h.triggerEvent("AdTagParsed",l)})}},[])};this.hb=function(a){p=a;var b;a:{b=p;try{if(window.DOMParser)t=(new DOMParser).parseFromString(b,"application/xml");else{var d=new ActiveXObject("Microsoft.XMLDOM");d.async=!1;d.loadXML(b);t=d}}catch(k){b=!1;break a}b=!0}b?(m=t.getElementsByTagName("VAST")[0].getAttribute("version"),m=null!==m&&""!==m&&m.length?m.charAt(0):""):h.triggerEvent("VAST-error");
if(!e){b=null;switch(m){case "2":b=E.Bc;break;case "3":b=E.Cc;break;default:h.triggerEvent("VAST-error",102)}b&&(e=null,e=new b,e.a("AdTagParsed",c),e.a("VAST-error",c),e.a(4030,c),e.a(4040,c),e.a(4050,c),e.a(4100,c),e.a(4200,c),e.a("AdTagSkipDetected",c))}e.hb(a)}}function Y(){function b(){X=g.createElement("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden;"});X.onload=d;ma.insertBefore(X,ma.firstChild)}function d(){X.sa=(X.contentDocument||
X.contentWindow.document).getElementsByTagName("body")[0];X.Jc=X.sa.parentNode.parentNode;var b=g.createElement("script",{type:"text/javascript"});b.innerHTML="var inDapIF = true;";X.sa.appendChild(b);pa=g.createElement("div",{id:oa,style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none;"});ma.appendChild(pa);pa=document.getElementById(oa)||ma.ownerDocument.getElementById(oa);xa=g.createElement("video",{id:ra,style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none;"});
ma.appendChild(xa);xa=document.getElementById(ra)||ma.ownerDocument.getElementById(ra);ga=g.createElement("div",{id:wa,style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"});ma.appendChild(ga);ga=document.getElementById(wa)||ma.ownerDocument.getElementById(wa);ka=new z(xa,qa,pa,ea,ua.v.vpaidSingleVideoSlotMode);-1<ba.indexOf(".swf")||(b=g.createElement("script",{src:g.urlEnrichment.w(ba)}),b.onload=function(){a()},b.onerror=function(){ia(6010)},X.sa.appendChild(b))}function a(){if(!N){var a=
X.contentWindow.getVPAIDAd;if(g.D(a))N=a();else return}if(c(N)){r.log(961,N.handshakeVersion("2.0"));-1==="1.1,2.0".indexOf(N.handshakeVersion("2.0"))&&ia(6010);var a={AdParameters:la},b={slot:ga,videoSlot:ka.Va(),videoSlotCanAutoPlay:!0,source:ba};h();S=new G;S.oc(function(){r.log(1E3);ia(6010)});var d=function(a){if(!a)return!1;var b=a.style.width;a=/scale|transform/gi.test(a.style.cssText);return!!parseInt(b,10)&&-1===b.indexOf("%")&&!a},k,e;d(ga)?(k=parseInt(ga.style.width,10),e=parseInt(ga.style.height,
10)):d(ma)?(k=parseInt(ma.style.width,10),e=parseInt(ma.style.height,10)):d(ma.parentNode)&&(k=parseInt(ma.parentNode.style.width,10),e=parseInt(ma.parentNode.style.height,10));var p=ea.getVideoSlot();d(p)?(k=parseInt(p.style.width,10),e=parseInt(p.style.height,10)):d(p.parentNode)&&(k=parseInt(p.parentNode.style.width,10),e=parseInt(p.parentNode.style.height,10));va.initAd(k,e,"normal",300,a,b)}else r.log(962)}function c(a){for(var b="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe getAdLinear".split(" "),
d=0;d<b.length;d++)if(!g.D(a[b[d]]))return!1;return!0}function h(){var a={AdStarted:e,AdStopped:p,AdSkipped:m,AdLoaded:k,AdLinearChange:t,AdSizeChange:l,AdExpandedChange:q,AdSkippableStateChange:n,AdDurationChange:v,AdRemainingTimeChange:x,AdVolumeChange:E,AdImpression:w,AdClickThru:O,AdInteraction:F,AdVideoStart:y,AdVideoFirstQuartile:B,AdVideoMidpoint:V,AdVideoThirdQuartile:P,AdVideoComplete:T,AdUserAcceptInvitation:Y,AdUserMinimize:J,AdUserClose:da,AdPaused:aa,AdPlaying:L,AdError:M,AdLog:C},b;
for(b in a)N.subscribe(a[b],b,va)}function e(){r.log(967);Z.callTracker("creativeView");N.getAdLinear()&&(ka.show(),xa.volume=ea.h("volume"),Q=xa.volume);ia("AdStarted")}function p(){clearTimeout(Ea);if(N){var a={AdStarted:e,AdStopped:p,AdSkipped:m,AdLoaded:k,AdLinearChange:t,AdSizeChange:l,AdExpandedChange:q,AdSkippableStateChange:n,AdDurationChange:v,AdRemainingTimeChange:x,AdVolumeChange:E,AdImpression:w,AdClickThru:O,AdInteraction:F,AdVideoStart:y,AdVideoFirstQuartile:B,AdVideoMidpoint:V,AdVideoThirdQuartile:P,
AdVideoComplete:T,AdUserAcceptInvitation:Y,AdUserMinimize:J,AdUserClose:da,AdPaused:aa,AdPlaying:L,AdError:M,AdLog:C},b;for(b in a)N.unsubscribe(a[b],b)}r.log(966);ka.hide();"nonLinear"===Ca&&ea.h("paused")&&ea.O();ia(6050)}function m(){r.log(965);Z.callTracker("skip");va.stopAd()}function k(){r.log(964);S.log("onadloaded");ia("AdLoaded",ua.c())}function t(){r.log(951,N.getAdLinear());N.getAdLinear()?(ea.M(),ka.show()):(ka.hide(),ea.O())}function l(){r.log(952,N.getAdWidth(),N.getAdHeight())}function q(){r.log(953,
N.getAdExpanded());na.cc(N.getAdExpanded());N.getAdExpanded()?(ea.M(),Z.callTracker("expand")):(ea.O(),Z.callTracker("collapse"))}function n(){r.log(954,N.getAdSkippableState());ia("AdSkippableStateChange",N.getAdSkippableState())}function v(){r.log(955,N.getAdDuration())}function x(){r.log(956,N.getAdRemainingTime())}function E(){r.log(957,N.getAdVolume());0<N.getAdVolume()&&0===Q?(Z.callUnmuteTracker(),Q=N.getAdVolume()):0===N.getAdVolume()&&0<Q&&(Q=0,Z.Qa())}function w(){r.log(963);Z.wa()}function O(a,
b,d){r.log(968,a,b,d);d||!d&&!a?(Sa=g.Xb(a)?a:void 0,ga.addEventListener("mousedown",K,!1),ka.m("play",K),ka.pause(),r.log(402),ka&&ka.setControls(!0),ia(6060,Sa)):Z.Pa()}function F(a){r.log(972,a);Z.callTracker("interaction")}function y(){r.log(973);Z.callTracker("start")}function B(){r.log(974);Z.callTracker("firstQuartile")}function V(){r.log(975);Z.callTracker("midpoint")}function P(){r.log(976);Z.callTracker("thirdQuartile")}function T(){r.log(977);Z.callTracker("complete");clearTimeout(Ea);
Ea=setTimeout(function(){C("Force stop after video completion.");va.stopAd()},2E3)}function Y(){r.log(978);Z.callTracker("acceptInvitation")}function J(){r.log(979);Z.callTracker("collapse")}function da(){r.log(981);Z.callTracker("close");ia(6040)}function aa(){r.log(980);S.log("onadpaused");R||Z.callTracker("pause");ia("AdPaused");R=!0}function L(){r.log(982);S.log("onadplaying");R&&Z.callTracker("resume");ia("AdPlaying");R=!1}function M(a){r.log(958,a);ia(6010,a)}function C(a){r.log(959,a)}function K(){if(ka){ka.g("play",
K);var a=ka.play();void 0!==a&&a.then(function(){},function(){})}ga.removeEventListener("mousedown",K,!1)}function ia(a,b){I.triggerEvent(a,b)}var Q,I=new g.j.s,S;Q=void 0;var R=!1,X,ba,la,ga,ma,xa,ka,pa,oa="videoSlotBackground"+Math.round(1E6*Math.random()),wa="vpaidSlot"+Math.round(1E6*Math.random()),ra="videoSlot"+Math.round(1E6*Math.random()),qa,na,ea,Z,Ca,ua,Sa,va=this,Ea=null,N;this.aa=function(a,d,c,f,h){ba=a.StaticResource;la=a.adParameters;na=d;ea=c;Z=f;ma=d.Xa();qa=ea.getVideoSlot();ua=
h;R=!1;d.Ba();b();Ca="nonLinear"};this.Sb=function(a,d,c,f,h){r.log(1001,h.v.vpaidSingleVideoSlotMode);ba=a.fileURL;la=a.adParameters;na=d;ea=c;Z=f;ma=d.Xa();qa=ea.getVideoSlot();ua=h;R=!1;d.Ba();b();Ca="linear"};this.initAd=function(a,b,d,c,f,h){R=!1;r.log(1002,a,b,d,c,f,h);N.initAd(a,b,d,c,f,h)};this.startAd=function(){r.log(1003);N&&(na.qc(),N.startAd())};this.pauseAd=function(){r.log(1004);N&&N.pauseAd&&N.pauseAd()};this.resumeAd=function(){r.log(1006);N&&N.resumeAd&&N.resumeAd()};this.stopAd=
function(){r.log(1008);clearTimeout(Ea);N&&N.stopAd()};this.setAdVolume=function(a){r.log(1009,a);N&&N.setAdVolume&&N.setAdVolume(a)};this.getAdVolume=function(){return N&&N.setAdVolume?N.getAdVolume():-1};this.resizeAd=function(a,b,d){r.log(1010,a,b,d);N&&(ka&&"linear"===Ca?(N.resizeAd(a,b,d),ma.style.cssText+="width:"+parseInt(a,10)+"px;height:"+parseInt(b,10)+"px;"):N.resizeAd(a,b,d))};this.expandAd=function(){r.log(1011);N.expandAd()};this.collapseAd=function(){r.log(1012);N.collapseAd()};this.skipAd=
function(){r.log(1013);N.getAdSkippableState()&&N.skipAd()};this.Ea=function(){r.log("Called dead code updateCountdown() in VPAIDBridge#639")};this.kb=function(b){b&&(r.log(1015),N=b,ka?a():setTimeout(this.kb.bind(this,b),50))};this.getSlot=function(){return ga};this.getVideoSlot=function(){return ka.Va()};this.a=I.a;this.b=I.b;this.registerGlobalEventDispatcher=I.registerGlobalEventDispatcher}function G(){function b(b,c){d.forEach(function(h){"INITAD"===h.event&&(h.active=!0,h.V=c,h.X=b,h.o=window.setTimeout(function(){d.forEach(function(b){"INITAD"===
b.event&&b.active&&(b.active=!1,window.clearTimeout(b.o),a.map(function(a){if(a.time>=b.V&&a.time<=b.V+b.timeout)return a}).some(function(a){return a.event===b.fa?!0:!1})||b.X())})},h.timeout))})}var d=[{active:!1,event:"INITAD",fa:"ONADLOADED",timeout:4E3,o:null,V:null,X:null},{active:!1,event:"RESIZEAD",fa:"ONADSIZECHANGED",timeout:1E3,o:null,V:null,X:null},{active:!1,event:"PAUSEAD",fa:"ONADPAUSED",timeout:100,o:null,V:null,X:null},{active:!1,event:"RESUMEAD",fa:"ONADPLAYING",timeout:100,o:null,
V:null,X:null}],a=[];this.log=function(b){a.push({time:(new Date).getTime(),event:b.toUpperCase()})};this.oc=function(d){var c=(new Date).getTime();b(d,c);a.push({time:c,event:"INITAD"})}}function z(b,d,a,c,h){var e=new g.j.s,p,m,k;this.l=function(a){if(h)return c.l(a);if(a)switch(a){case "width":return g.getWidth(k);case "height":return g.getHeight(k);case "top":return k.offsetTop;case "left":return k.offsetLeft;default:return null}return{width:g.getWidth(k),height:g.getHeight(k),top:k.offsetTop,
left:k.offsetLeft}};this.show=function(){h||(k.style.display="block",a.style.display="block",d.style.visibility="hidden")};this.hide=function(){h||(d.style.visibility="visible",k.style.display="none",a.style.display="none")};this.Ea=function(){};this.pause=function(){k.pause()};this.play=function(){var a=k.play();void 0!==a&&a.then(function(){},function(){})};this.setControls=function(a){h?c.setControls(a):k.controls=a};this.m=function(a,b){m.m(k,a,b)};this.g=function(a,b){m.g(k,a,b)};this.a=e.a;
this.b=e.b;this.Va=function(){return p};this.getSlot=function(){return k};(function(){m=new g.j.Event;h?(k=d,a.parentNode.removeChild(a),b.parentNode.removeChild(b),p=new q(k),p=g.extend(p,{ob:function(a){c.ha({url:a})},setControls:function(a){c.setControls(a)},mb:function(a){c.ha({url:c.h.currentSrc},a)},load:function(){},play:function(){c.O()},pause:function(){c.M()}})):(k=b,p=new q(k))})()}function q(b){function d(a,b,d,c){var f=Object.getOwnPropertyDescriptor(a,b);if(f&&f.configurable){var h;
if(f.get||f.set)h=f;else{var k=f.value;h={get:function(){return k},set:function(a){k=a}}}var g=d?function(){return d.call(this,b,h)}:h.get,e=c?function(a){c.call(this,b,a,h)}:h.set;Object.defineProperty(a,b,{get:h.get?g:void 0,set:h.set?e:void 0,enumerable:f.enumerable,configurable:!0})}}function a(a){if("ownerDocument"==a)return document.createElement("iframe").ownerDocument;k[a]=r[a];return k[a]}function c(a,b){for(var d=t,f=d.length,h=!1;0<=--f;)if(d[f]===a){h=!0;break}if(!h&&"style"!==a){k[a]=
b;switch(a){case "src":n.ob(b);return;case "controls":n.setControls(b);return;case "currentTime":n.mb(b);return}r[a]=k[a]}}function h(){for(var a=m,b=a.length;0<=--b;)k[a[b]]=r[a[b]]}function e(a){q.hc(a.type,a);h()}var p="loadstart emptied canplaythrough ended ratechange progress stalled playing durationchange volumechange suspend loadedmetadata waiting timeupdate abort loadeddata seeking play error canplay seeked pause".split(" "),m="type ownerDocument nodeType tagName error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),
k={},t="error crossOrigin buffered paused played autoplay controller videoTracks height networkState readyState duration defaultPlaybackrate seekable loop defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup audioTracks width videoHeight".split(" "),l,q,n=this,r;this.setAttribute=function(a,b){"type"!==a&&"src"!==a&&-1===a.indexOf("data-")||r.setAttribute(a,b)};this.getElementsByTagName=function(a){return r.getElementsByTagName(a)};this.getAttribute=
function(a){return r.getAttribute(a)};this.removeAttribute=function(a){return r.removeAttribute(a)};this.ob=function(a){r.src=a};this.setControls=function(a){r.controls=!!a};this.mb=function(a){r.currentTime=a};this.play=function(){var a=r.play();void 0!==a&&a.then(function(){},function(){})};this.pause=function(){r.pause()};this.load=function(){r.load()};this.canPlayType=function(a){return r.canPlayType(a)};this.tagName=b.tagName;this.getBoundingClientRect=b.getBoundingClientRect;this.destroy=function(){l.g(r,
p.join(","),e)};this.addEventListener=function(a,b){r.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > ias-ad')&&["touchstart","touchstart","click"].indexOf(-1<(a+"").toLowerCase())&&r.parentNode.querySelector('[id^="vpaidSlot"] > [id^="vpaidSlot"] > iframe').contentWindow.document.body.addEventListener(a,b);q.a(a,b)};this.removeEventListener=function(a,b){q.ic(a,b)};this.dispatchEvent=function(a){r.dispatchEvent(a)};this.getComputedStyle=function(a){return window.getComputedStyle(r,
a||null)};this.appendChild=function(){};this.removeChild=function(){};this.Wb="goog_596272282";(function(){r=b;q=new g.j.s;l=new g.j.Event;l.m(r,p.join(","),e);h();for(var t=m,z=t.length;0<=--z;)n[t[z]]=k[t[z]];n.style={};t=m;for(z=t.length;0<=--z;)d(n,t[z],a,c);d(n,"style",a,c);r.setAttribute("data-proxyTag",this.Wb)})()}c.prototype.debug=!1;c.prototype.log=function(){return null};window.InstreamapiDebug=c;var T={level:0,method:"AdControl",Qc:"NonLinear VPAID detected."},E={extensions:{},view:{}};
e.prototype={constructor:e,apply:function(b){b.addEventListener=e.prototype.addEventListener;b.Za=e.prototype.Za;b.removeEventListener=e.prototype.removeEventListener;b.dispatchEvent=e.prototype.dispatchEvent},addEventListener:function(b,d){this.F||(this.F={});var a=this.F;a[b]||(a[b]=[]);-1===a[b].indexOf(d)&&a[b].push(d)},Za:function(b,d){if(!this.F)return!1;var a=this.F;return a[b]||-1===a[b].indexOf(d)?!1:!0},removeEventListener:function(b,d){if(this.F){var a=this.F[b];if(a){var c=a.indexOf(d);
-1!==c&&a.splice(c,1)}}},dispatchEvent:function(b){if(this.F){var d=this.F[b];if(d){for(var a=d.length,c=[],h=0,h=0;h<a;h++)c[h]=d[h];for(d=0;d<a;d++)(c[d]||function(){}).apply(this,[].slice.call(arguments))}}}};var g=function(b){b.xc={mp4:{typeExtension:"mp4",typeString:"video/mp4",Da:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",Da:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",Da:"video/webm"}};b.la="application/javascript|application/x-javascript|text/javascript";
b.Kc="application/x-shockwave-flash";b.urlEnrichment=new l;b.Mc=function(){return[E.IDENTIFIER,E.API_VERSION,E.API_BUILD].join("|")};b.eb=function(b){return"[object Object]"===Object.prototype.toString.call(b)};b.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)};b.Xb=function(b){return"[object String]"===Object.prototype.toString.call(b)};b.D=function(b){return"[object Function]"===Object.prototype.toString.call(b)};b.B=function(b){return""!=b&&null!=b&&void 0!=b};b.Oc=
function(b){return"string"===typeof b&&b.length?Number(b):!1};b.Pc=function(b){b&&b.trim&&(b=b.trim());return!!b&&-1===["http://","https://"].indexOf(b)};b.Tc=function(b){var a={};b.split("?")[1].split("&").forEach(function(b){b=b.split("=");a[decodeURIComponent(b[0])]=decodeURIComponent(b[1])||null});return a};b.Ib=function(){var d=document.createElement("video"),a=[],c=b.xc,h={},g;for(g in c)c.hasOwnProperty(g)&&(c[g].result=d.canPlayType(c[g].typeString),a.push(c[g].typeExtension+":"+c[g].result),
""!==c[g].result&&(h[g]=c[g]));r.log(901,a.join(", "));return h};b.tc=function(b){var a="";/\?/.test(b)&&(b=b.split("?"),b=b[0]);var c=b.split("."),c=c[c.length-1];["mp4","ogv","webm"].forEach(function(b){c===b&&(a=b)});return a};b.xa=function(){return b.Ja?500:b.vb?1E3:b.ub?1700:0};b.unique=function(b){return b.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[])};b.clone=function(d){if(!d||"object"!=typeof d)return d;var a=new d.constructor,c;for(c in d)d.hasOwnProperty(c)&&(a[c]=b.clone(d[c]));
return a};b.extend=function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};b.Yb="ontouchstart"in window||"ontouchstart"in document.documentElement;b.Ka=!1;b.u=navigator.userAgent;b.rb=/MSIE/.test(b.u);b.Fc=/Opera/.test(b.u);b.sb=/mobile/i.test(b.u);b.Ia=/android/i.test(b.u);b.Vc=function(){["HTC Sensation","HTC Sense"].forEach(function(d){(new RegExp(d,"i")).test(b.u)&&(b.Ka=!0)})}();b.I=b.Ia&&/mobile/i.test(b.u)&&!(/chrome/i.test(b.u)&&/Mobile Safari/.test(b.u))&&!b.Ka;b.vb=b.I||
/iPad/i.test(b.u);b.ub=/TV/.test(b.u);b.pa=/iP(hone|ad|od)/i.test(b.u);b.Ja=b.I||/iP(hone|od)/i.test(b.u);b.Dc=b.Ia&&/chrome/i.test(b.u);b.tb=/Mobile Safari/.test(b.u);b.Ec=!/chrome/i.test(b.u)&&/android/i.test(b.u)&&/safari/i.test(b.u)&&(!b.sb||b.tb);b.ab=function(b){return!!b.externalConfigXml};b.j=function(){};b.j.s=function(){var b=[],a=null;this.C=function(b,d){if(null!==a)for(var c=0;c<a.length;c++)a[c](b,d)};this.registerGlobalEventDispatcher=function(b){null===a&&(a=[]);a.push(b)};this.G=
function(){a=null};this.a=function(a,c){b.push({event:a,listener:c})};this.b=function(a){for(var c=0;c<b.length;c++)b[c].event===a&&b.splice(c,1)};this.ic=function(a,c){for(var h=0;h<b.length;h++){var g=c?b[h].listener===c:!0;b[h].event===a&&g&&b.splice(h,1)}};this.triggerEvent=function(a,c){this.C(a,c);for(var h=0;h<b.length;h++){var g=b[h];g.event===a&&"function"===typeof g.listener&&g.listener({type:a,info:c})}};this.hc=function(a,c){for(var h=0;h<b.length;h++){var g=b[h];g.event===a&&"function"===
typeof g.listener&&g.listener(c)}}};b.j.Event=function(){var b=[];this.m=function(a,c,h){if(a){c=c.split(",");for(var g=0;g<c.length;g++)"function"===typeof a.addEventListener?a.addEventListener(c[g],h,!1):"function"===typeof a.attachEvent&&a.attachEvent("on"+c[g],h),b.push({target:a,Ta:c[g],Qb:h})}};this.g=function(a,c,h){if(h)if(c=c.split(","),"all"===c[0])for(c=0;c<b.length;c++)b[c].target===a&&b[c].Qb===h&&("function"===typeof a.removeEventListener?a.removeEventListener(b[c].Ta,h):"function"===
typeof a.detachEvent&&a.detachEvent("on"+b[c].Ta,h),b.splice(c,1));else{for(var g=0;g<c.length;g++)"function"===typeof a.removeEventListener?a.removeEventListener(c[g],h):"function"===typeof a.detachEvent&&a.detachEvent("on"+c[g],h);b=[]}}};b.oa=function(d){function a(){e.triggerEvent("timeupdate",{id:c,data:g})}var c,h,g=null,e=new b.j.s;this.start=function(){c=setInterval(a,h)};this.stop=function(){clearInterval(c)};this.__defineSetter__("data",function(a){g=a});this.a=e.a;this.b=e.b;h=d};b.createElement=
function(d,a){var c;try{c=document.createElement(d)}catch(h){c=document.createElement("<"+d+">")}if(a){"id"in a||c.setAttribute("id",b.Ra());for(var g in a)a.hasOwnProperty(g)&&c.setAttribute(g,a[g])}return c};b.qa=function(b,a){if(b)for(var c in a)b.style[c]=a[c]};b.ua=function(d,a){return b.B(d)?d.getElementsByTagName(a):[]};b.S=function(d,a){if(b.B(d))return d.getElementsByTagName(a)[0]};b.T=function(d){if(!d||!d.childNodes[0])return!1;for(var a=d.childNodes.length,c="",h="",g=!1;a--;)if(4===d.childNodes[a].nodeType){h=
b.trim(d.childNodes[a].nodeValue);break}else 3===d.childNodes[a].nodeType&&(c=b.trim(d.childNodes[a].nodeValue));1<d.childNodes.length&&(h=d.textContent);""!==h?g=h:""!==c&&(g=c);return g};b.Hb=function(b){if(!b)return!1;for(var a={},c=0;c<b.attributes.length;c++)a[b.attributes[c].name]=b.attributes[c].value;return a};b.trim=function(b){return b.replace(/^\s+|\s+$/g,"")};b.ka=function(d,a){var c=d,h;for(h in a)a.hasOwnProperty(h)&&b.B(a[h])&&(c=c.replace(String(h),String(a[h])));return c};b.Ra=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var a=16*Math.random()|0;return("x"==b?a:a&3|8).toString(16)}).toUpperCase()};b.U=function(b){var a=0,c=b.split(".")[0],c=b.split(":").reverse();for(b=0;b<c.length;b++)a+=parseInt(c[b]*Math.pow(60,b),10);return a};b.ec=function(d,a){if(!d)return d;var c=!(!d||-1===d.indexOf("%")),h=parseInt(d,10),g;return a&&c?("string"===typeof a?g=b.U(a.split(".")[0]):isNaN(a)||(g=parseInt(a,10)),g&&!isNaN(h)?h/100*g:"IGNORE"):isNaN(d)?b.U(d.split(".")[0]):d};b.pc=function(d){return b.B(d)?0<["doubleclick",
"smartclip.net","adtech","userreport.com"].filter(function(a){return-1<d.indexOf(a)}).length:!1};b.Mb=function(){var b=window,a=document,b={innerWidth:[b.innerWidth,a.body.clientWidth,a.documentElement.clientWidth],innerHeight:[b.innerHeight,a.body.clientHeight,a.documentElement.clientHeight],scrollX:[b.scrollX,a.documentElement.scrollLeft,a.body.scrollLeft],scrollY:[b.scrollY,a.documentElement.scrollTop,a.body.scrollTop]},c;for(c in b)if(b.hasOwnProperty(c)){for(a=0;a<b[c].length;a++)"number"!==
typeof b[c][a]&&(b[c].splice(a,1),a--);b[c]=b[c][0]}};b.getWidth=function(b){return!b||b&&!b.getBoundingClientRect?-1:b.getBoundingClientRect().width};b.getHeight=function(b){return!b||b&&!b.getBoundingClientRect?-1:b.getBoundingClientRect().height};b.isDocumentInFullScreenMode=function(){return document.Fb&&null!==document.Fb||document.mozFullScreen||document.webkitIsFullScreen};b.Xc=function(b){for(var a=window.frameElement,c=window;a;)(b||function(){})(a),c=a.ownerDocument.defaultView,a=c.frameElement;
return c};b.cb=function(){return window!==top};b.bb=function(){return!b.cb()||b.cb()&&null!==window.frameElement};b.Y=function(b){if(0===b.indexOf("//")){var a=location.protocol;"file:"===a&&(a="https:");b=a+b}return b};return b}(g||{}),r=new c,h=[],p=[];g.find=function(b,d){return Array.prototype.map.call((d||document).querySelectorAll(b),function(a){return a})};g.D=function(b){var d=Object.prototype.toString.call(b);return"[object Function]"===d||"function"===typeof b&&"[object RegExp]"!==d||"undefined"!==
typeof window&&(b===window.setTimeout||b===window.alert||b===window.confirm||b===window.prompt)};g.Zb=function(b){return g.D(b.canPlayType)&&g.D(b.play)};var t=window.ois=function d(a,c,e){if(g.D(a))return h.forEach(function(d){a(d.da,d.element,d.dc,{adManager:d.adManager,config:d.Rc})}),p.push(a);if("number"===typeof a||"undefined"===typeof a)return h[a||0].da;if(a.nodeType)return null!==a.getAttribute("data-ois-instance-id")?(e=h[a.getAttribute("data-ois-instance-id")],c&&e.v.ma(c),e.da):c?n(a,
c,e):null;if(g.Zb(a))return a.nodeType="ois",d(a,c,e);if("string"===typeof a){var t=g.find(a)[0];return t&&d(t,c,e)}return null};t(function(d,a,c,e){var p=e.adManager,t=e.v;d.load=function(){};d.shutdown=function(){p.destroy();delete h[a.getAttribute("data-ois-instance-id")];a.removeAttribute("data-ois-instance-id")};d.registerVASTExtension=function(a,d){window[a]=d;var c=t.Jb();c.vastExtensions[a]=!0;t.ma(c)};d.utils=g;return d});t(function(d){function a(c,f){d.unsubscribe(a,"AdTagParsed");if((!f||
0!==f.ads.length)&&f){for(var h=p=0;h<f.ads.length;h++){var g=f.ads[h].creatives.filter(function(a){return"linear"===a.type}).shift();g&&!g.errorCode&&(p+=g.duration?g.duration:20)}0===p&&(p=-1)}}function c(){"commercial"===d.getVariant()&&e!==this.duration&&0<p&&(p=p-e+this.duration)}var h=null,g=-1,e=-1,p=-1,k=-1,t=null;d.subscribe(function(){t=d.getVideoSlot();t.addEventListener("loadedmetadata",c)},"AdSlotStart");d.subscribe(function(){d.subscribe(a,"AdTagParsed");t&&t.removeEventListener("loadedmetadata",
c)},"AdSlotComplete");d.subscribe(function(a,d){h=new Date;e=d.creatives.filter(function(a){return"linear"===a.type}).shift().duration;this.dispatchEvent("AdDurationChange")},"AdLoaded");d.subscribe(function(){var a=(new Date-h)/1E3;g=e-a;var c=d.Nb();-1<c&&(k=c-a);this.dispatchEvent("AdRemainingTimeChange")},"AdVideoTimeupdate");d.subscribe(a,"AdTagParsed");d.getAdRemainingTime=function(){return g};d.getAdDuration=function(){return e};d.Lc=function(){return k};d.Nb=function(){return p}});t(function(d,
a,c,h){function g(a,d,c){var f="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");f.open("GET",a,!0);f.onreadystatechange=function(){4===f.readyState&&(200===f.status?(d||Function)(f.responseXML):(c||Function)(f.status))};f.send(null)}function e(a){var c={};if((a=a.getElementsByTagName("OIS"))&&a[0]){for(var f=a[0].children.length-1;0<=f;f--){var h=a[0].children[f];c[h.tagName]=h.textContent}k.ma(c);t=!0;l&&d.startAd()}}function p(){t=!0;l&&d.startAd()}var k=
h.v,t=!1,l=!1,q=d.startAd;d.startAd=function(){l=!0;t&&q.apply(d,[].slice.call(arguments))};(function(){var a=c.configXML;a?g(a,e,p):t=!0})();return d});E.API_VERSION="3.0.1";E.API_BUILD="003e92";E.IDENTIFIER="OISHTML5VE";E.MediaSelector=function(d,a){function c(a){return"boolean"===typeof a?a:"string"===typeof a&&"true"===a?!0:!1}function h(a){return"string"===typeof a?a.toLowerCase():a}function e(a){var d=!0;k.forEach(function(k){var e;a:{for(e in k)break a;e=void 0}e=h(e);k=h(k[e]);if(g.B(e)&&
g.B(k))switch(e){case "delivery":case "type":case "format":case "mimeType":case "apiframework":"type"===e&&(e="mimeType");"mimeType"===e&&(k=k.split("|"));a.hasOwnProperty(e)&&-1===k.indexOf(a[e].toLowerCase())&&(d=!1);break;case "bitrate":case "width":a.hasOwnProperty(e)&&parseInt(a[e],10)>parseInt(k,10)&&(d=!1);break;case "scalable":case "maintainaspectratio":a.hasOwnProperty(e)&&c(a[e])!==c(k)&&(d=!1)}});return d}function p(){l&&(q=l.filter(function(a){return e(a)}))}var t=new g.j.s,k=a.Wa(),l=
d.c()&&0<d.c().creatives.length&&d.J().mediaFiles,q=[];this.a=t.a;this.b=t.b;this.registerGlobalEventDispatcher=t.registerGlobalEventDispatcher;this.sc=function(){q.sort(function(a,d){return parseInt(a.bitrate,10)>parseInt(d.bitrate,10)?1:parseInt(a.bitrate,10)<parseInt(d.bitrate,10)?-1:0})};this.Eb=function(){p();1>q.length&&(a.removeRule("bitrate"),a.removeRule("format"),k=a.Wa(),p());return this};this.Aa=function(){return q}};E.extensions.CustomTrackingEvents=function(d,a,c,h,e){function p(a){switch(a.info){case "creativeView":n.start()}}
var t,k,l=this,q=[],r=new g.j.s,n;this.Gb=function(){var a=Math.round(100*(k.totalTime-k.ja))/100,c=d.K().A||void 0;return{"[sc_systemDomain]":"undefined","[sc_viewtime]":a,"[sc_percentvisible]":c,"[uif_adslot]":"linear"}};this.setViewport=function(){};this.destroy=function(){};this.a=r.a;this.b=r.b;(function(){d.Ya();k=a;t=h;t.a("onTrack",p);var g=new E.extensions.CustomTrackingEvents.Parser;c&&(q=g.parse(c));n=new E.extensions.CustomTrackingEvents.CustomTrackingEventHandler(d.K,q,l,t);e.a("AdStopped",
n.destroy)})()};E.extensions.CustomTrackingEvents.Parser=function(){this.parse=function(d){var a,c=[];d=g.ua(d,"Tracking");for(var h=0;h<d.length;h++){var e=d[h];a=g.Hb(e);e=g.T(e);a=g.extend({},a);"viewableImpression"===a.event&&(a.offset=a.offset?1E3*g.U(a.offset):2E3,a.visibility=a.visibility?parseInt(a.visibility,10):50);a.url=e;c.push(a)}return c}};E.extensions.CustomTrackingEvents.CustomTrackingEventHandler=function(d,a,c,h){function e(a){a=a.info.data;d().A>a.visibility?a.N++:a.N=0;if(250*
a.N/1E3>=a.offset/1E3){if(g.B(a.url)){var p=g.urlEnrichment.w(g.ka(a.url,c.Gb()));h.callCustomTracker(p,"viewableImpression")}a.o.b("timeupdate",e);a.o.stop()}}function p(){try{a.forEach(function(a){a.o.b("timeupdate",e);a.o.stop()})}catch(d){}}var t;this.start=function(){a=a.filter(function(a){return"viewableImpression"===a.event});d&&a.length&&a.forEach(function(a){t=new g.oa(250);t.data=a;a.o=t;a.N=0;t.a("timeupdate",e);t.start()})};this.destroy=function(){p()}};window.ois(function(d,a){function c(a,
h){function f(){a.apply(this,arguments);d.unsubscribe(f,h)}d.subscribe(f,h)}function h(a){a=a.target.getAttribute("data-program");a=l[a];for(var d=0;d<a.clickTracking.length;d++)(new Image).src=g.urlEnrichment.w(a.clickTracking[d]);window.open(a.clickThrough,"_blank")}function e(){if(t){for(var a in l){var d=l[a],c=document.createElement("img"),f;for(f in d.attributes)d.attributes[f]&&c.setAttribute(f,d.attributes[f]);c.setAttribute("data-program",a);c.style.pointerEvents="auto";c.style.cursor="pointer";
c.addEventListener("click",h);t.appendChild(c);(new Image).src=g.urlEnrichment.w(d.Ac)}t.style.display="block"}}function p(){t&&t.parentNode.removeChild(t)}Number.isFinite=Number.isFinite||function(a){return"number"===typeof a&&isFinite(a)};var t=null,k=[],l={},q={Ca:0,W:0,ta:0,Hc:0};(function(){c(function(d,c){k=c;t=document.createElement("div");t.setAttribute("style","position:absolute;width:100%;height:100%;top:0;left:0;display:none;pointer-events:none;");a.parentNode.appendChild(t);for(var h=
k.length-1;0<=h;h--){var f=k[h],g=f.program||"unknown-"+h;if(!l[g]){var e={attributes:{},style:{}};e.style.width=parseInt(f.width,10)+"px";e.style.height=parseInt(f.height,10)+"px";e.style.position="absolute";var p=parseInt(f.yPosition,10);Number.isFinite(p)?0<p?e.style.top=p+"px":e.style.bottom=Math.abs(p)+"px":(e.style.top="top"===f.yPosition?0:"initial",e.style.bottom="bottom"===f.yPosition?0:"initial");p=parseInt(f.xPosition,10);Number.isFinite(p)?0<p?e.style.left=p+"px":e.style.right=Math.abs(p)+
"px":"left"===f.xPosition?"top"===f.yPosition?(e.style.left=q.Ca+"px",q.Ca+=parseInt(f.width,10)):"bottom"===f.yPosition?(e.style.left=q.ta+"px",q.ta+=parseInt(f.width,10)):e.style.left=0:"right"===f.xPosition?"top"===f.yPosition?(e.style.right=q.W+"px",q.W+=parseInt(f.width,10)):"bottom"===f.yPosition?(e.style.right=q.Oa+"px",q.Oa+=parseInt(f.width,10)):e.style.right=0:(e.style.top=0,e.style.right=q.W+"px",q.W+=parseInt(f.width,10));e.attributes.style=JSON.stringify(e.style);e.attributes.style=e.attributes.style.substring(1,
JSON.stringify(e.style).length-1);e.attributes.style=e.attributes.style.replace(/\"/ig,"").replace(/\,/ig,";")+";";e.attributes.src=f.staticResource;e.clickThrough=f.iconClickThroughURLTemplate;e.clickTracking=f.iconClickTrackingURLTemplates;e.Ac=f.iconViewTrackingURLTemplate;e.offset=(new Date("01/01/1970 "+f.offset)).getSeconds()||0;e.duration=(new Date("01/01/1970 "+f.duration)).getSeconds()||-1;l[g]=e}}},4300);c(e,"AdStarted");c(p,"AdStopped")})()});window.ois.MediaFileFormat={WIDE:"wide",SQUARE:"square",
VERTICAL:"vertical"};window.ois(function(d,a){function c(a,f){function h(){a.apply(this,arguments);d.unsubscribe(h,f)}d.subscribe(h,f)}function h(c){if(!d.adManager.isVPAID()&&z[q]&&(c=c.creatives.filter(function(a){return"linear"===a.type}).shift().supportedMediaFiles.filter(function(a){return a.attributes?a.attributes.format===q:!0}),c.length)){var f=function(){a.removeEventListener("loadedmetadata",f,!1);0>e&&(e=0);a.currentTime=e;void 0===m&&p&&a.pause()},k=g.xa()||5E3;if(c=c.reduce(function(a,
d){return Math.abs(d.bitrate-k)<Math.abs(a.bitrate-k)?d:a})){var e=a.currentTime-.5,p=a.paused,t=a.webkitDisplayingFullscreen||!1;a.src=g.Y(c.fileURL);a.addEventListener("loadedmetadata",f,!1);a.load();if(!n){var m=a.play();void 0!==m&&m.then(function(){var d=a.webkitDisplayingFullscreen||!1;(p||t!=d)&&a.pause()},function(){r.log("MediaElement: The play() request failed.")})}}}}function e(d,c){l=setTimeout(e,20);var f;f=a.getBoundingClientRect().width/a.getBoundingClientRect().height;f=1<f?window.ois.MediaFileFormat.WIDE:
1>f?window.ois.MediaFileFormat.VERTICAL:window.ois.MediaFileFormat.SQUARE;f!==q&&(q=f,h(c))}function p(){n=!1}function t(){n=!0}function k(){clearTimeout(l);a.removeEventListener("webkitbeginfullscreen",p);a.removeEventListener("webkitendfullscreen",t)}var l=0,q,n=!1,z={Zc:!1,Wc:!1,Yc:!1};a.addEventListener("webkitbeginfullscreen",p);a.addEventListener("webkitendfullscreen",t);c(function(a,d){d&&d.ads&&d.ads.length&&d.ads.forEach(function(a){var d=a.creatives.filter(function(a){return"linear"===a.type}).shift();
!a.errorCode&&0<a.creatives.length&&d.mediaFiles.forEach(function(a){var d=parseInt(a.width,10)/parseInt(a.height,10);a.attributes||(a.attributes={});1<d?(a.attributes.format=window.ois.MediaFileFormat.WIDE,z.wide=!0):1>d?(a.attributes.format=window.ois.MediaFileFormat.VERTICAL,z.vertical=!0):(a.attributes.format=window.ois.MediaFileFormat.SQUARE,z.square=!0)})})},"AdTagParsed");c(e,"AdLoaded");c(k,"AdSlotComplete");c(k,"AdError")});E.extensions.SCAdVisibility=function(d,a,c,h,e){function p(a){switch(a.info){case "creativeView":t(),
w.start()}}function t(){r.forEach(function(a){var d=new g.oa(a.interval);d.data=a;a.o=d;d.a("timeupdate",l);d.start();l({info:{data:a}})})}function k(){r.forEach(function(a){a.o.b("timeupdate",l);a.o.stop()})}function l(a){if(a=a.info.data.url)a=g.createElement("img",{src:q(a),style:"display:none;",onerror:"this.parentNode.removeChild(this);",onload:"this.parentNode.removeChild(this);"}),d.Ba().appendChild(a)}function q(a){var c=d.K().A||void 0;isNaN(c)?(a=g.ka(a,{"[sc_percentvisible]":"JSINJECTIONERROR"}),
k()):a=g.ka(a,x.Ua());return g.urlEnrichment.w(a)}var r,n,z,x=this,v,G=new g.j.s,w;this.Ua=function(){var a=z.v.qb,c=Math.round(100*(z.totalTime-z.ja))/100,f=d.K().A||void 0;return{"[sc_systemDomain]":a?a:"undefined","[sc_viewtime]":c,"[sc_percentvisible]":f,"[uif_adslot]":"linear"}};this.setViewport=function(){};this.destroy=function(){k()};this.a=G.a;this.b=G.b;(function(){d.Ya();z=a;n=h;n.a("onTrack",p);var g=new E.extensions.SCAdVisibility.Parser;r=g.parse(c);v=g.gc(c);w=new E.extensions.SCAdVisibility.ViewableImpressionHandler(d.K,
v,x,n);e.a("AdStopped",w.destroy)})()};E.extensions.SCAdVisibility.Parser=function(){this.parse=function(d){var a=[];d=g.ua(d,"Tracking");for(var c=0;c<d.length;c++)d[c]&&a.push({interval:parseInt(g.T(g.S(d[c],"Interval")),10),url:g.T(g.S(d[c],"URL"))});return a};this.gc=function(d){var a,c,h,e,p=[];a=g.ua(d,"BooleanView");if(!g.B(a))return p;for(var t=0;t<a.length;t++)if(a[t]){d={};if(c=g.S(a[t],"ViewConditions"))h=parseInt(g.T(g.S(c,"ViewThreshold")),10),e=parseInt(g.T(g.S(c,"ViewTime")),10);c=
g.T(g.S(a[t],"ViewURL"));d.yc=isNaN(h)?50:h;d.zc=isNaN(e)?2E3:e;d.pb=c.length?c:"";p.push(d)}return p}};E.extensions.SCAdVisibility.ViewableImpressionHandler=function(d,a,c,h){function e(a){a=a.info.data;d().A>a.yc?a.N++:a.N=0;if(250*a.N/1E3>=a.zc/1E3){if(g.B(a.pb)){var p=g.urlEnrichment.w(g.ka(a.pb,c.Ua()));h.callCustomTracker(p,"viewableImpression")}a.o.b("timeupdate",e);a.o.stop()}}function p(){try{a.forEach(function(a){a.o.b("timeupdate",e);a.o.stop()})}catch(d){}}var t;this.start=function(){d&&
a.length&&a.forEach(function(a){t=new g.oa(250);t.data=a;a.o=t;a.N=0;t.a("timeupdate",e);t.start()})};this.destroy=function(){p()}};(function(){function d(){this.attributes={};this.children=[]}function a(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.trackingEvents={}}function c(){this.program=null;this.yPosition=this.xPosition=this.width=this.height=0;this.offset=this.apiFramework=null;this.duration=
0;this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.iconClickTrackingURLTemplates=[];this.iconViewTrackingURLTemplate=null}function h(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function g(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=
null}function e(a){a=void 0===a?{}:a;this.id=a.id||null;this.adId=a.adId||null;this.sequence=a.sequence||null;this.apiFramework=a.apiFramework||null;this.trackingEvents={}}function p(a){a=void 0===a?{}:a;e.call(this,a);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=null;this.videoClickTrackingURLTemplates=[];this.videoCustomClickURLTemplates=[];this.adParameters=null;this.icons=[]}function k(a){a=void 0===a?{}:a;e.call(this,a);this.type=
"nonlinear";this.variations=[];this.videoClickTrackingURLTemplates=[]}function t(a){a=void 0===a?{}:a;e.call(this,a);this.type="companion";this.variations=[];this.videoClickTrackingURLTemplates=[]}function l(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null;this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[];this.extensions=[];this.adVerifications=[];this.wrappers=[];this.fetch=function(){};this.fetched=!1}
function q(){this.id=null;this.expandedHeight=this.expandedWidth=this.height=this.width=0;this.maintainAspectRatio=this.scalable=!0;this.minSuggestedDuration=0;this.apiFramework="static";this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.nonlinearClickTrackingURLTemplates=[];this.adParameters=null}function r(){this.value=this.name=null;this.attributes={};this.children=[]}function n(a){var d=[];d.forEach.call(d.slice.call(arguments,1),
function(d){if(d)for(var c in d)({}).hasOwnProperty.call(d,c)&&(a[c]="object"===typeof a[c]&&"object"===typeof d[c]&&null!==d[c]?n(a[c],d[c]):d[c])});return a}function z(){this.ads=[];this.errorURLTemplates=[]}function v(){}function E(){}function G(){}function w(){}function y(){this.maxWrapperDepth=10;this.blockInsecureURL=!1;this.currentWrapperDepth=0;this.URLTemplateFilters=[];this.wrapperCallbackHandlers=[];T.EventDispatcher.prototype.apply(this)}var B={scope:{},getGlobal:function(a){return"undefined"!=
typeof window&&window===a?a:"undefined"!=typeof global?global:a}};B.global=B.getGlobal(this);B.initSymbol=function(){B.global.Symbol||(B.global.Symbol=B.Symbol);B.initSymbol=function(){}};B.symbolCounter_=0;B.Symbol=function(a){return"jscomp_symbol_"+a+B.symbolCounter_++};B.initSymbolIterator=function(){B.initSymbol();B.global.Symbol.iterator||(B.global.Symbol.iterator=B.global.Symbol("iterator"));B.initSymbolIterator=function(){}};B.makeIterator=function(a){B.initSymbolIterator();if(a[B.global.Symbol.iterator])return a[B.global.Symbol.iterator]();
if(!(a instanceof Array||"string"==typeof a||a instanceof String))throw new TypeError(a+" is not iterable");var d=0;return{next:function(){return d==a.length?{done:!0}:{done:!1,value:a[d++]}}}};B.arrayFromIterator=function(a){for(var d,c=[];!(d=a.next()).done;)c.push(d.value);return c};B.arrayFromIterable=function(a){return a instanceof Array?a:B.arrayFromIterator(B.makeIterator(a))};B.arrayFromArguments=function(a){for(var d=[],c=0;c<a.length;c++)d.push(a[c]);return d};B.inherits=function(a,d){function c(){}
c.prototype=d.prototype;a.prototype=new c;a.prototype.constructor=a;for(var h in d)if(B.global.Object.defineProperties){var f=B.global.Object.getOwnPropertyDescriptor(d,h);void 0!==f&&B.global.Object.defineProperty(a,h,f)}else a[h]=d[h]};B.inherits(p,e);B.inherits(k,e);B.inherits(t,e);Object.defineProperties(l.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var O={isSecureURL:function(a){return"https:"===window.location.protocol&&0!==(a+"").indexOf("http://")||
"https:"!==window.location.protocol}},F={};F.extend=n;var V={resolveAdTagURI:function(a,d){if(0===a.indexOf("//")){var c=location.protocol;"file:"===c&&(c="https:");return c+a}return-1===a.indexOf("://")?d.slice(0,d.lastIndexOf("/"))+"/"+a:a}},P={stringToXML:function(a){if("string"===typeof a===!1)return a;var d=null;window.DOMParser?d=(new DOMParser).parseFromString(a,"text/xml"):(d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(a));return d}};v.prototype.xdr=function(){return window.XDomainRequest?
new window.XDomainRequest:null};v.supported=function(){return!!(new v).xdr()};v.prototype.get=function(a,d,c){if("function"!==typeof window.ActiveXObject)c();else{var h=new window.ActiveXObject("b");h.async=!1;xdr=this.xdr();xdr.open("GET",a);xdr.timeout=d.timeout||0;xdr.withCredentials=!1!==d.withCredentials;xdr.onprogress=function(){};xdr.onload=function(){h.loadXML(xdr.responseText);c(null,h)};xdr.send()}};E.prototype.xhr=function(){var a=new window.XMLHttpRequest;return"withCredentials"in a?a:
null};E.supported=function(){return!!(new E).xhr()};E.prototype.get=function(a,d,c){try{var h=this,f=this.xhr();f.open("GET",a);f.timeout=d.timeout||0;f.withCredentials=!1!==d.withCredentials;f.overrideMimeType&&f.overrideMimeType("text/xml");f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status){var g=f.responseXML;!g&&f.responseText&&(g=P.stringToXML(f.responseText));g?c(null,g):(f.statusText="Response contains neither 'responseXML' nor 'responseText'",c(Error("XHRURLHandler: "+
f.statusText)))}else 0===f.status&&f.withCredentials?(g=JSON.parse(JSON.stringify(d)),g.withCredentials=!1,h.get(a,g,c)):c(Error("XHRURLHandler: "+f.statusText))};f.send()}catch(g){c(g)}};G.prototype.get=function(a,d,c){var h=c,f=d;c||("function"===typeof d&&(h=d),f={});if(!h)return null;d=f.urlhandler;if(f.response)h(null,P.stringToXML(f.response));else return d&&d.supported()?(new d).get(a,f,h):E.supported()?(new E).get(a,f,h):v.supported()?(new v).get(a,f,h):h();return null};var T={};w.prototype=
{constructor:w,apply:function(a){a.addEventListener=w.prototype.addEventListener;a.hasEventListener=w.prototype.hasEventListener;a.removeEventListener=w.prototype.removeEventListener;a.dispatchEvent=w.prototype.dispatchEvent},addEventListener:function(a,d){this._listeners||(this._listeners={});var c=this._listeners;c[a]||(c[a]=[]);-1===c[a].indexOf(d)&&c[a].push(d)},hasEventListener:function(a,d){if(!this._listeners)return!1;var c=this._listeners;return c[a]&&-1!==c[a].indexOf(d)?!0:!1},removeEventListener:function(a,
d){if(this._listeners){var c=this._listeners[a];if(c){var h=c.indexOf(d);-1!==h&&c.splice(h,1)}}},dispatchEvent:function(a){if(this._listeners){var d=this._listeners[a];if(d){for(var c=d.length,h=[],f=0,f=0;f<c;f++)h[f]=d[f];for(d=0;d<c;d++)(h[d]||function(){}).apply(this,[].slice.call(arguments,1))}}}};T.EventDispatcher=w;y.prototype.trackError=function(a,d,c,h){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(a)),errorCode:c,errorURLTemplates:d,silent:h})};y.prototype.addURLTemplateFilter=
function(a){"function"===typeof a&&this.URLTemplateFilters.push(a)};y.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()};y.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length};y.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]};y.prototype.addWrapperCallbackHandler=function(a){"function"===typeof a&&this.wrapperCallbackHandlers.push(a)};y.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()};
y.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length};y.prototype.clearWrapperCallbackHandlers=function(){this.wrapperCallbackHandlers=[]};y.prototype.parseXPosition=function(a){return-1!==["left","right"].indexOf(a)?a:parseInt(a,10)||0};y.prototype.parseYPosition=function(a){return-1!==["top","bottom"].indexOf(a)?a:parseInt(a,10)||0};y.prototype.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()};y.prototype.copyNodeAttribute=function(a,
d,c){(d=d.getAttribute(a))&&c.setAttribute(a,d)};y.prototype.parseDuration=function(a){if(!a)return-1;if(isNaN(parseFloat(a))&&isFinite(a))return parseInt(a,10);var d=a.split(":");if(3!==d.length)return-1;var c=d[2].split(".");a=parseInt(c[0],10);2===c.length&&(a+=parseFloat("0."+c[1]));c=parseInt(60*d[1],10);d=parseInt(3600*d[0],10);return isNaN(d)||isNaN(c)||isNaN(a)||3600<c||60<a?-1:d+c+a};y.prototype.parseBoolean=function(a,d){return-1<["true","1"].indexOf((a+"").toLowerCase())?!0:-1<["false",
"0"].indexOf((a+"").toLowerCase())?!1:d||!1};y.prototype.childByName=function(a,d){for(var c=0;c<a.childNodes.length;c++){var h=a.childNodes[c];if(h.nodeName===d)return h}return null};y.prototype.childsByName=function(a,d){for(var c=[],h=0;h<a.childNodes.length;h++){var f=a.childNodes[h];f.nodeName===d&&c.push(f)}return c};y.prototype.parseNextWrapperURL=function(a){var d=null,c=this.childByName(a,"VASTAdTagURI");c?d=this.parseNodeText(c):(c=this.childByName(a,"VASTAdTagURL"))&&(d=this.parseNodeText(this.childByName(c,
"URL")));return d};y.prototype.parseWrapperElement=function(a){var d=this.parseInLineElement(a);d.nextWrapperURL=this.parseNextWrapperURL(a);a=d.creatives;for(var c=0;c<a.length;c++){var h=a[c],f=null;if("linear"===h.type||"nonlinear"===h.type)if(f=h)f.trackingEvents&&(d.trackingEvents||(d.trackingEvents={}),d.trackingEvents[f.type]=f.trackingEvents),f.videoClickTrackingURLTemplates&&(d.videoClickTrackingURLTemplates=f.videoClickTrackingURLTemplates),f.videoClickThroughURLTemplate&&(d.videoClickThroughURLTemplate=
f.videoClickThroughURLTemplate),f.videoCustomClickURLTemplates&&(d.videoCustomClickURLTemplates=f.videoCustomClickURLTemplates)}return d.nextWrapperURL?d:null};y.prototype.parseSkipOffset=function(a,d){var c=null;(c=d.getAttribute("skipoffset"))?"%"===c.charAt(c.length-1)&&-1!==a.duration?(percent=parseInt(c,10),c=percent/100*a.duration):c=this.parseDuration(c):c=null;return c};y.prototype.parseVideoClicks=function(a){var d={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(a=
this.childByName(a,"VideoClicks")){d.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"ClickThrough"));for(var c=this.childsByName(a,"ClickTracking"),h=0;h<c.length;h++)d.videoClickTrackingURLTemplates.push(this.parseNodeText(c[h]));a=this.childsByName(a,"CustomClick");for(c=0;c<a.length;c++)d.videoCustomClickURLTemplates.push(this.parseNodeText(a[c]))}return d};y.prototype.parseTrackingEvents=function(a){var d={};a=this.childsByName(a,"TrackingEvents");for(var c=0;c<a.length;c++)for(var h=
this.childsByName(a[c],"Tracking"),f=0;f<h.length;f++){var g=h[f],k=g.getAttribute("event"),e=this.parseNodeText(g);if(k&&e){if("progress"===k){g=g.getAttribute("offset");if(!g)continue;k="%"===g.charAt(g.length-1)?"progress-"+g:"progress-"+Math.round(this.parseDuration(g))}d[k]||(d[k]=[]);d[k].push(e)}}return d};y.prototype.parseMediaFileScalable=function(a){return(a=a.getAttribute("scalable"))&&"string"===typeof a&&(a=a.toLowerCase(),"false"===a)?!1:!0};y.prototype.parseMediaFileMaintainAspectRatio=
function(a){return(a=a.getAttribute("maintainAspectRatio"))&&"string"===typeof a&&(a=a.toLowerCase(),"false"===a)?!1:!0};y.prototype.parseMediaFiles=function(a){var d=[];a=this.childsByName(a,"MediaFiles");for(var c=0;c<a.length;c++)for(var h=this.childsByName(a[c],"MediaFile"),f=0;f<h.length;f++){var k=h[f],e=new g;e.id=k.getAttribute("id");e.fileURL=this.parseNodeText(k);e.deliveryType=k.getAttribute("delivery");e.codec=k.getAttribute("codec");e.mimeType=k.getAttribute("type");e.apiFramework=k.getAttribute("apiFramework");
e.bitrate=parseInt(k.getAttribute("bitrate")||0,10);e.minBitrate=parseInt(k.getAttribute("minBitrate")||0,10);e.maxBitrate=parseInt(k.getAttribute("maxBitrate")||0,10);e.width=parseInt(k.getAttribute("width")||0,10);e.height=parseInt(k.getAttribute("height")||0,10);e.scalable=this.parseMediaFileScalable(k);e.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(k);d.push(e)}return d};y.prototype.parseIcons=function(a){var d=[];if(a=this.childByName(a,"Icons")){a=this.childsByName(a,"Icon");for(var h=
0;h<a.length;h++){var g=a[h],k=new c;k.program=g.getAttribute("program");k.height=parseInt(g.getAttribute("height"),10)||0;k.width=parseInt(g.getAttribute("width"),10)||0;k.xPosition=this.parseXPosition(g.getAttribute("xPosition"));k.yPosition=this.parseYPosition(g.getAttribute("yPosition"));k.apiFramework=g.getAttribute("apiFramework");k.offset=this.parseDuration(g.getAttribute("offset"));k.duration=this.parseDuration(g.getAttribute("duration"));var k=F.extend(k,this.parseResourceAdType(g)),e=this.childByName(g,
"IconClicks");if(e){k.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(e,"IconClickThrough"));for(var e=this.childsByName(e,"IconClickTracking"),p=0;p<e.length;p++)k.iconClickTrackingURLTemplates.push(this.parseNodeText(e[p]))}k.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(g,"IconViewTracking"));d.push(k)}}return d};y.prototype.parseCreativeLinearElement=function(a,d){d=void 0===d?{}:d;var c=new p(d);c.duration=this.parseDuration(this.parseNodeText(this.childByName(a,
"Duration")));c.skipDelay=this.parseSkipOffset(c,a);var h=this.parseVideoClicks(a);c.videoClickThroughURLTemplate=h.videoClickThroughURLTemplate;c.videoClickTrackingURLTemplates=c.videoClickTrackingURLTemplates.concat(h.videoClickTrackingURLTemplates);c.videoCustomClickURLTemplates=c.videoCustomClickURLTemplates.concat(h.videoCustomClickURLTemplates);c.trackingEvents=this.parseTrackingEvents(a);c.mediaFiles=c.mediaFiles.concat(this.parseMediaFiles(a));c.icons=c.icons.concat(this.parseIcons(a));if(h=
this.childByName(a,"AdParameters"))for(c.adParameters=this.parseNodeText(h),h=0;h<c.mediaFiles.length;h++)c.mediaFiles[h].adParameters=c.adParameters;return c};y.prototype.parseResourceAdType=function(a){for(var d={},c=this.childsByName(a,"HTMLResource"),h=0;h<c.length;h++){var f=c[h];d.type=f.getAttribute("creativeType")||"text/html";d.htmlResource=this.parseNodeText(f)}c=this.childsByName(a,"IFrameResource");for(h=0;h<c.length;h++)f=c[h],d.type=f.getAttribute("creativeType")||0,d.iframeResource=
this.parseNodeText(f);a=this.childsByName(a,"StaticResource");for(c=0;c<a.length;c++)h=a[c],d.type=h.getAttribute("creativeType")||0,d.staticResource=this.parseNodeText(h);return d};y.prototype.parseNonLinear=function(a,d){d=void 0===d?{}:d;var c=new k(d);c.trackingEvents=this.parseTrackingEvents(a);for(var h=this.childsByName(a,"NonLinear"),f=0;f<h.length;f++){var g=h[f],e=new q;e.id=g.getAttribute("id")||null;e.width=g.getAttribute("width");e.height=g.getAttribute("height");e.expandedWidth=g.getAttribute("expandedWidth");
e.expandedHeight=g.getAttribute("expandedHeight");e.scalable=this.parseBoolean(g.getAttribute("scalable"));e.maintainAspectRatio=this.parseBoolean(g.getAttribute("maintainAspectRatio"));e.minSuggestedDuration=g.getAttribute("minSuggestedDuration");e.apiFramework=g.getAttribute("apiFramework");var e=F.extend(e,this.parseResourceAdType(g)),p=this.childByName(g,"AdParameters");p&&(e.adParameters=this.parseNodeText(p));e.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(g,"NonLinearClickThrough"));
g=B.makeIterator(this.childsByName(g,"NonLinearClickTracking"));for(p=g.next();!p.done;p=g.next())e.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(p.value));c.variations.push(e)}return c};y.prototype.parseCompanionAd=function(d,c){c=void 0===c?{}:c;for(var h=new t(c),f=this.childsByName(d,"Companion"),g=0;g<f.length;g++){var k=f[g],e=new a;e.id=k.getAttribute("id")||null;e.width=k.getAttribute("width");e.height=k.getAttribute("height");e.companionClickTrackingURLTemplates=[];for(var e=
F.extend(e,this.parseResourceAdType(k)),p=this.childsByName(k,"TrackingEvents"),l=0;l<p.length;l++)for(var m=this.childsByName(p[l],"Tracking"),q=0;q<m.length;q++){var r=m[q],u=r.getAttribute("event"),r=this.parseNodeText(r);u&&r&&(e.trackingEvents[u]||(e.trackingEvents[u]=[]),e.trackingEvents[u].push(r))}p=B.makeIterator(this.childsByName(k,"CompanionClickTracking"));for(l=p.next();!l.done;l=p.next())e.companionClickTrackingURLTemplates.push(this.parseNodeText(l.value));e.companionClickThroughURLTemplate=
this.parseNodeText(this.childByName(k,"CompanionClickThrough"));e.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(k,"CompanionClickTracking"));h.variations.push(e)}return h};y.prototype.parseCreativeAdIdAttribute=function(a){if(!a.hasAttributes())return null;a=B.makeIterator(Array.prototype.slice.call(a.attributes));for(var d=a.next();!d.done;d=a.next())if(d=d.value,"adid"===d.name.toLowerCase())return d.value;return null};y.prototype.parseCreativeElement=function(a,d){for(var c=
this.childsByName(d,"Creative"),h=0;h<c.length;h++)for(var f=c[h],g=f.childNodes,f={id:f.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(f),sequence:parseInt(f.getAttribute("sequence"),10),apiFramework:f.getAttribute("apiFramework")||null},k=0;k<g.length;k++){var e=g[k],p=null;switch(e.nodeName){case "Linear":p=this.parseCreativeLinearElement(e,f);break;case "NonLinearAds":p=this.parseNonLinear(e,f);break;case "CompanionAds":p=this.parseCompanionAd(e,f)}p&&a.creatives.push(p)}};y.prototype.parseExtensionChild=
function(a,d){for(var c=d.childNodes,h=0;h<c.length;h++){var f=c[h],g=this.parseNodeText(f);if("#comment"!==f.nodeName&&""!==g||f.attributes){var k=new r;k.name=f.nodeName;k.value=g;if(f.attributes)for(var g=f.attributes,e=0;e<g.length;e++){var p=g[e];k.attributes[p.nodeName]=p.nodeValue}f.childNodes&&0<f.childNodes.length&&this.parseExtensionChild(k.children,f);a.push(k)}}};y.prototype.parseExtension=function(a,c){for(var h=0;h<c.length;h++){var f=c[h],g=new d;if(f.attributes)for(var k=f.attributes,
e=0;e<k.length;e++){var p=k[e];g.attributes[p.nodeName]=p.nodeValue}this.parseExtensionChild(g.children,f);a.push(g)}};y.prototype.parseAdVerifications=function(a,d){for(var c=0;c<d.length;c++){var f=d[c],g=new h,k={};g.vendor=f.getAttribute("vendor")||null;var e=this.childByName(f,"JavaScriptResource");if(e&&(k.url=this.parseNodeText(e),k.apiFramework=e.getAttribute("apiFramework")||"VPAID",g.javascriptResource=k,(f=this.childByName(f,"AdParameters"))&&f.hasChildNodes()))for(var p in f.childNodes)k=
f.childNodes[p],k.nodeType===Node.ELEMENT_NODE&&(g.adParameters||(g.adParameters={}),g.adParameters[k.nodeName]=this.parseNodeText(k));a.push(g)}};y.prototype.parseInLineElement=function(a){var d=new l;d.id=a.getAttribute("id")||null;d.sequence=parseInt(a.getAttribute("sequence"),10);d.fallbackType=a.getAttribute("fallbackType")||"replace";d.fallbackOnNoAd=this.parseBoolean(a.getAttribute("fallbackOnNoAd"),!1);d.followAdditionalWrappers=this.parseBoolean(a.getAttribute("followAdditionalWrappers"),
!0);d.allowMultipleAds=this.parseBoolean(a.getAttribute("allowMultipleAds"),!1);a=a.childNodes;for(var c=0;c<a.length;c++){var h=a[c];switch(h.nodeName){case "Error":(h=this.parseNodeText(h))&&h.length&&d.errorURLTemplates.push(h);break;case "Impression":d.impressionURLTemplates.push(this.parseNodeText(h));break;case "AdVerifications":this.parseAdVerifications(d.adVerifications,this.childsByName(h,"Verification"));break;case "Creatives":this.parseCreativeElement(d,h);break;case "Extensions":this.parseExtension(d.extensions,
this.childsByName(h,"Extension"));break;case "AdSystem":d.system={value:this.parseNodeText(h),version:h.getAttribute("version")||null};break;case "AdTitle":d.title=this.parseNodeText(h);break;case "Description":d.description=this.parseNodeText(h);break;case "Advertiser":d.advertiser=this.parseNodeText(h);break;case "Pricing":d.pricing={value:this.parseNodeText(h),model:h.getAttribute("model")||null,currency:h.getAttribute("currency")||null};break;case "Survey":d.survey=this.parseNodeText(h)}}return d};
y.prototype.parseAdElement=function(a){for(var d=a.childNodes,c=0;c<d.length;c++){var h=d[c];if("Wrapper"===h.nodeName||"InLine"===h.nodeName){this.copyNodeAttribute("id",a,h);this.copyNodeAttribute("sequence",a,h);this.copyNodeAttribute("fallbackOnNoAd",a,h);this.copyNodeAttribute("fallbackType",a,h);this.copyNodeAttribute("followAdditionalWrappers",a,h);this.copyNodeAttribute("allowMultipleAds",a,h);if("Wrapper"===h.nodeName)return this.parseWrapperElement(h);if("InLine"===h.nodeName)return this.parseInLineElement(h)}}return null};
y.prototype.mergeWrapperAdData=function(a,d){a.wrappers=d.wrappers.concat(a.wrappers);a.errorURLTemplates=d.errorURLTemplates.concat(a.errorURLTemplates);a.impressionURLTemplates=d.impressionURLTemplates.concat(a.impressionURLTemplates);a.extensions=d.extensions.concat(a.extensions);a.sequence=d.sequence;a.fallbackType=d.fallbackType;a.fallbackOnNoAd=d.fallbackOnNoAd||this.parseBoolean(a.fallbackOnNoAd,!1);a.followAdditionalWrappers=d.followAdditionalWrappers||this.parseBoolean(a.followAdditionalWrappers,
!0);a.allowMultipleAds=d.allowMultipleAds||this.parseBoolean(a.allowMultipleAds,!1);var c=d.creatives.filter(function(a){return"companion"===a.type}).shift(),h=a.creatives.filter(function(a){return"companion"===a.type}).shift();c&&h?h.variations=c.variations.concat(h.variations):c&&!h&&(h=new t,h.variations=c.variations.concat(h.variations),a.creatives.push(h));d.trackingEvents&&a.creatives.map(function(a){d.trackingEvents[a.type]&&Object.keys(d.trackingEvents[a.type]).map(function(c){a.trackingEvents[c]||
(a.trackingEvents[c]=[]);a.trackingEvents[c]=a.trackingEvents[c].concat(d.trackingEvents[a.type][c])})});d.videoClickTrackingURLTemplates&&a.creatives.map(function(a){"linear"===a.type&&(a.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates.concat(d.videoClickTrackingURLTemplates))});d.videoClickThroughURLTemplate&&a.creatives.map(function(a){"linear"!==a.type||a.videoClickThroughURLTemplate||(a.videoClickThroughURLTemplate=d.videoClickThroughURLTemplate)})};y.prototype.urlResponseHandler=
function(a,d,c,h,f,g){function k(){for(var a=m.ads.length-1;0<=a;a--){var c=m.ads[a];if(c.nextWrapperURL){a=JSON.parse(JSON.stringify(c));c.VASTAdTagURI=d[1];c.wrappers.push(a);for(c=p.wrapperCallbackHandlers.length-1;0<=c;c--)(0,p.wrapperCallbackHandlers[c])(a,p.currentWrapperDepth);return}}e();0===t?0===m.ads.length?(p.trackError(m,m.errorURLTemplates,303),h(f,m)):(m.ads.filter(function(a){return!p.isBrokenAd(a)}).map(function(a){a.creatives.map(function(d){var c=0<(d.mediaFiles||[]).filter(function(a){return!O.isSecureURL(a.fileURL)}).length;
d=0<(d.variations||[]).filter(function(a){return!O.isSecureURL(a.fileURL)}).length;p.blockInsecureURL&&(c||d)&&(a.errorCode=405)})}),m.ads.map(function(a){var d=void 0;p.hasValidCreatives(a)||(d=400);p.isBrokenAd(a)&&(d=303);!isNaN(d)&&isNaN(a.errorCode)&&a.fetched&&(a.errorCode=d)}),p.handleFallbackOnNoAdFlag(m.ads),c=m.ads.filter(function(a){return!1===a.fetched&&!a.hasError}),0===m.ads.filter(function(a){return a.hasError&&a.fallbackOnNoAd}).length&&(c=[]),0<c.length?(c=c.shift(),a=m.ads.indexOf(c),
c.fetch(function(a,d){0<d.ads.length&&(m.ads[a]=d.ads[0]);k()}.bind(p,a))):(p.deleteNeedlessBuffetAds(m.ads),m.ads.sort(p.bySequence),1===m.ads.length&&m.ads[0].errorCode&&(0===m.errorURLTemplates.length?p.trackError(m,m.ads[0].errorURLTemplates,m.ads[0].errorCode):p.trackError(m,m.errorURLTemplates,m.ads[0].errorCode),m.ads.splice(0,1)),h(f,m))):h(f,m)}function e(){0!==m.ads.length&&(m.ads.map(function(a){m.errorURLTemplates.map(function(d){-1===a.errorURLTemplates.indexOf(d)&&a.errorURLTemplates.push(d)})}),
m.errorURLTemplates=[])}var p=this,t=this.currentWrapperDepth++;if(f)return h(f);delete c.response;var m=new z;if(!g||!g.documentElement||"VAST"!==g.documentElement.nodeName)return h();for(var q=0;q<g.documentElement.childNodes.length;q++){var r=g.documentElement.childNodes[q];"Error"===r.nodeName&&m.errorURLTemplates.push(this.parseNodeText(r))}for(q=0;q<g.documentElement.childNodes.length;q++)r=g.documentElement.childNodes[q],"Ad"===r.nodeName&&((r=this.parseAdElement(r))?(r.url=r.nextWrapperURL?
V.resolveAdTagURI(r.nextWrapperURL,a):a,r.fetched=!0,m.ads.push(r)):this.trackError(m,m.errorURLTemplates,101));g=m.ads.length;for(q={$jscomp$this$6:void 0};g--;)q.$jscomp$this$6=this,r=m.ads[g],r.nextWrapperURL&&(function(h){return function(f){if(d.length-1>=h.$jscomp$this$6.maxWrapperDepth||f.nextWrapperURL in d)f.errorCode=302,delete f.nextWrapperURL;else if(f.followAdditionalWrappers){a&&(f.nextWrapperURL=V.resolveAdTagURI(f.nextWrapperURL,a));var g=function(a,c){delete f.nextWrapperURL;if(a)return f.errorCode=
a.errorCode||301,a.message&&-1!==a.message.indexOf("Invalid URL")&&(f.errorCode=303),k();c&&c.errorURLTemplates&&(m.errorURLTemplates=m.errorURLTemplates.concat(c.errorURLTemplates));if(c&&0!==c.ads.length){var g=m.ads.indexOf(f);m.ads.splice(g,1);c.ads.map(function(a){return function(c){a.$jscomp$this$6.mergeWrapperAdData(c,f);c.VASTAdTagURI=d[1];m.ads.splice(++g,0,c)}}(h))}else f.creatives=[];return k()},e=0<m.ads.filter(function(a){return!isNaN(a.sequence)}).length;isNaN(f.sequence)&&!c.prefetchBuffets&&
e?(g=new z,f.fetched=!1,f.fetchURL=f.nextWrapperURL,delete f.nextWrapperURL,f.fetch=function(a){return function(h){a.$jscomp$this$6.parse(f.fetchURL,c,function(d,c){if(0<c.ads.length)c.ads.map(function(a){return function(d){a.$jscomp$this$6.mergeWrapperAdData(d,f);d.VASTAdTagURI=f.url}}(a));else{var g=new l;g.errorURLTemplates=f.errorURLTemplates.concat(c.errorURLTemplates);g.errorCode=303;g.sequence=f.sequence;g.fetched=!0;g.fallbackOnNoAd=!0;c.ads.push(g)}h(c)},d)}}(h),g.ads.push(f)):h.$jscomp$this$6.parse(f.nextWrapperURL,
c,g.bind(h.$jscomp$this$6),d)}else delete f.nextWrapperURL,h.$jscomp$this$6.isBrokenAd(f)&&isNaN(f.errorCode)&&(f.errorCode=303)}}(q)(r),q={$jscomp$this$6:q.$jscomp$this$6});return k()};y.prototype.handleFallbackOnNoAdFlag=function(a){var d=this;a.sort(this.bySequence);var c=a.filter(function(a){return isNaN(a.sequence)&&!d.isBrokenAd(a)}),h=a.filter(function(a){return d.isBrokenAd(a)&&a.fallbackOnNoAd&&a.sequence&&!a.replaced}),f=a.filter(function(a){return a.fallbackOnNoAd&&a.sequence});if(0!==
f.length){var g=parseInt(f[f.length-1].sequence,10);if(0===h.length)return this.deleteNeedlessBuffetAds(a);h.forEach(function(d){var h=c.shift();if(h){var f=a.indexOf(d);h.sequence=d.sequence+.1;d.fallbackType&&"waterfall"===d.fallbackType&&(f=a.indexOf(h),h.sequence=g++);d.replaced=!0;a.splice(f,h)}})}};y.prototype.deleteNeedlessBuffetAds=function(a){if(0!==a.length&&!isNaN(a[0].sequence))for(var d=a.length;d--;)isNaN(a[d].sequence)&&a.splice(d,1)};y.prototype.bySequence=function(a,d){return a.sequence-
d.sequence||(a.sequence||Infinity)-(d.sequence||Infinity)||0};y.prototype.hasValidCreatives=function(a){return 0<a.creatives.filter(function(a,d,c){return 0<c.length&&(a.mediaFiles&&0<a.mediaFiles.length||a.variations&&0<a.variations.length)}).length};y.prototype.isBrokenAd=function(a){return!a||a.hasError||a.fetched&&!this.hasValidCreatives(a)};y.prototype.getClosestIndexOfNextValidAd=function(a,d){var c=this,h=Infinity;a.map(function(a,f){var g=Math.abs(h-d),k=Math.abs(f-d);!c.isBrokenAd(a)&&k<
g&&f!==d&&(h=f)});return Infinity===h?-1:h};y.prototype.parse=function(a,d,c,h){d=void 0===d?{}:d;h=void 0===h?[]:h;var f=a;c=void 0===c?function(){}:c;var g=d;"function"===typeof d&&(c=d,g={});this.blockInsecureURL=g.blockInsecureURL||!1;this.maxWrapperDepth=g.maxWrapperDepth||10;for(d=this.URLTemplateFilters.length-1;0<=d;d--)f=(0,this.URLTemplateFilters[d])(a);h.push(f);this.blockInsecureURL&&!O.isSecureURL(f)?c({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},
null):(new G).get(f,g,this.urlResponseHandler.bind(this,a,h,g,c))};window.VASTParser=y})()})();window.ois(function(c,e,l,n){function w(c,e){return Object.keys(c).filter(function(l){return e(l,c[l])}).reduce(function(e,l){return e[l]=c[l],e},{})}function I(c,e){if("Videoplaza"===e.attributes.name||"SXP"===e.attributes.name)return 1<=e.children.filter(function(e){if("AdInfo"===e.name&&e.attributes.hasOwnProperty("customaid")){var l=e.attributes.customaid;e.children.filter(function(e){if("Companions"===e.name)for(var n={b:void 0},v=0;v<e.children.length;n={b:n.b},v++){var w=e.children[v];n.b=
{zone:w.attributes.zone,id:w.attributes.id};if(w=c.creatives.filter(function(c){return"companion"===c.type}).shift())w.variations.filter(function(c){return function(e){return e.id===c.b.id}}(n)).shift().zone=n.b.zone,w.customaid=l.replace(/(^.*\[|\].*$)/g,"")}})}return!1}).length}function J(c){return Array.prototype.map.call(document.querySelectorAll(c.split("/").join("\\/")),function(c){return c})}c.subscribe(function(c,e){for(var l={a:void 0},F=0;F<e.variations.length;l={a:l.a},F++){var I=e.variations[F],
R=document.createElement("iframe");R.src=I.iframeResource;R.width=I.width;R.height=I.height;R.frameBorder=0;l.a=w(I.trackingEvents,function(c){return-1!==["creativeView","impression","start"].indexOf(c)});R.onload=function(c){return function(){var e=n.adManager.trackingController(),l;for(l in c.a)({}).hasOwnProperty.call(c.a,l)&&e.callCustomTracker(c.a[l],"Companion"+l)}}(l);if(e.customaid){var v=document.createElement("script");v.src=e.customaid;document.body.appendChild(v)}(I=J("#"+I.zone).shift())&&
I.appendChild(R)}},"AdCompanionsDetected");c.subscribe(function(c,e){e&&e.extensions&&0<e.extensions.length&&e.extensions.filter(I.bind(this,e))},"AdLoaded")});
window.ois(function(c,e,l,n){function w(c,e){var l=e.extensions.filter(function(l){return"Videoplaza"===l.attributes.name||"SXP"===l.attributes.name?1<=l.children.filter(function(g){if("AdInfo"===g.name){e.info=e.info||{};for(var l in g.attributes)"variant"===l?e.variant=R[g.attributes[l].toUpperCase()]:e.info[l]=g.attributes[l];if(e.variant.toUpperCase()===c.toUpperCase())return!0}return!1}).length:!1});e.variant&&e.variant!==Q.NORMAL?l=1<=l.length:(e.variant=Q.NORMAL,l=e.variant.toUpperCase()===
c.toUpperCase()?!0:!1);return l}function I(c){for(var e=V=0;e<c.length;e++){var l=c[e].creatives.filter(function(c){return"linear"===c.type}).shift();l&&!l.errorCode&&(V+=l.duration?l.duration:20)}0===V&&(V=-1)}function J(e,l){function v(a,b){b.info=b.info||{};b.info.c=a.toLowerCase();b.info.f=a.toLowerCase();b.info.g=a.toLowerCase();switch(a.toLowerCase()){case Q.OPENER:l.ads.unshift(b);break;case Q.CLOSER:l.ads.push(b);break;case Q.PREBUMPER:var d=l.ads.findIndex(w.bind(this,Q.BUMPER));if(-1!==
d){if(0===d&&(d=l.ads.findIndex(w.bind(this,Q.NORMAL)),-1===d))break;l.ads.splice(d,0,b)}}}c.unsubscribe(J,"AdTagParsed");if(0!==l.ads.length){var E=l.ads.filter(w.bind(this,Q.NORMAL));l.ads.filter(w.bind(this,Q.BUMPER));I(E);var g=n.adManager.getAdConfig(),r={hls:"application/x-mpegURL",progressive:"video/mp4",dash:"application/dash+xml",webm:"video/webm",ogg:"video/ogg"};if(l.ads.filter(function(a){return!a.hasError}).shift()){for(var h in Q){var p=Q[h];if(g[p]){var t=JSON.parse(JSON.stringify(ba));
t.variant=p;t.id=p;for(var b in g[p])if(r.hasOwnProperty(b)){var d=JSON.parse(JSON.stringify(F));d.fileURL=g[p][b];d.mimeType=r[b];t.creatives[0].mediaFiles.push(d);v(p,t)}}}var a=0,f=0,u=l.ads.length;l.ads.forEach(function(b,d){f++;b.sequence=""+(d+1);b.info=b.info||{};b.info.currentClip=f;b.info.totalClips=u;b.info.currentCommercial=-1;b.info.totalCommercials=E.length;b.info.totalCommercialsDuration=V;b.variant&&b.variant!==Q.NORMAL||(a++,b.info.currentCommercial=a)})}}}function X(){c.getVariant()===
Q.NORMAL&&O!==parseInt(this.duration,10)&&0<V&&(V=V-O+this.duration)}function S(){c.getVariant()===Q.NORMAL&&(Y=isNaN(Y)?0:Y,P=V-(Y+G.currentTime))}var Q=c.VARIANTS={PREBUMPER:"bumper",OPENER:"opener",CLOSER:"closer",NORMAL:"commercial",BUMPER:"sponsored"},F={apiFramework:null,bitrate:731,codec:null,deliveryType:"progressive",fileURL:"",height:360,id:null,maintainAspectRatio:!0,maxBitrate:0,mimeType:"video/mp4",minBitrate:0,scalable:!0,width:640},ba={creatives:[{adParameters:null,duration:20,icons:[],
mediaFiles:[],skipDelay:null,trackingEvents:{},type:"linear",videoClickThroughURLTemplate:"",videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]}],errorURLTemplates:[],extensions:[],id:"xxx",impressionURLTemplates:[],sequence:"0",info:{currentCommercial:-1,totalCommercials:-1,totalCommercialsDuration:-1,offset:0}},R={NORMAL:Q.NORMAL,BUMPER:Q.BUMPER},v=null,O=-1,V=-1,P=-1,Y=-1,G=null;c.subscribe(J,"AdTagParsed");c.subscribe(function(c,e){v=e;O=e.creatives[0].duration},"AdLoaded");c.subscribe(function(e,
l){c.getVariant()===Q.NORMAL&&l&&!l.errorCode&&(Y+=G.duration)},"AdStopped");c.subscribe(function(){Y=0;P=V;G=c.getVideoSlot();G.addEventListener("loadedmetadata",X);G.addEventListener("timeupdate",S)},"AdSlotStart");c.subscribe(function(){c.subscribe(J,"AdTagParsed");G&&(G.removeEventListener("loadedmetadata",X),G.removeEventListener("timeupdate",S))},"AdSlotComplete");c.getVariant=function(){return v&&v.variant?v.variant:Q.NORMAL};c.getSlotRemainingTime=function(){return P};c.getSlotDuration=function(){return V};
Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(c,e){if(null==this)throw new TypeError('"this" is null or not defined');var l=Object(this),n=l.length>>>0;if("function"!==typeof c)throw new TypeError("predicate must be a function");for(var g=0;g<n;){if(c.call(e,l[g],g,l))return g;g++}return-1}})});(window.ElementLocator=function Gb(e,l){function n(e,g){return"undefined"===typeof e?g:e}function w(){}function I(e){for(var g=[];e.parentNode;)if(null!==e.getAttribute("id")){g.unshift("#"+e.getAttribute("id"));break}else{if(e===e.ownerDocument.documentElement)g.unshift(e.tagName.toLowerCase());else{for(var l=e,h=1,h=1;l.previousElementSibling;h++)l=l.previousElementSibling;g.unshift(e.tagName.toLowerCase()+":nth-child("+h+")")}e=e.parentNode}return g.join(">")}function J(){if(!G)return null;var e=
Array.prototype.slice.call(q.querySelectorAll("img")),g={};Array.prototype.slice.call(q.querySelectorAll("p")).forEach(function(e){var h=I(e.parentNode);g[h]=g[h]||{a:0,height:0};g[h].a+=1;g[h].height+=e.getBoundingClientRect().height;g[h].node=e.parentNode});e.forEach(function(e){for(var h=e;h.parentNode;){var p=I(h.parentNode);if(g[p]){g[p].a+=1;g[p].height+=e.getBoundingClientRect().height;break}h=h.parentNode}});return(e=Object.keys(g).sort(function(e,h){return g[h].height-g[e].height}))&&0<e.length?
g[e[0]]:null}function X(e,g){var l=e.getBoundingClientRect(),h=g.getBoundingClientRect();return l.top<h.top?-1:l.top>h.top?1:0}function S(){var e=J();T("located content block",e);var g=0,l=null,h=["div","p","section"].map(function(a){return 0<P.length?a+P.split("/").join("\\/"):a}),p=q.body.getBoundingClientRect(),t=q;e&&(t=e.node);e=Array.prototype.slice.call(t.querySelectorAll(h.join(",")));[].sort.call(e,X);if(0<P.length&&1===e.length)return T("only located one element based on",P,"stopping further checks"),
e[0];V&&(R=z+R,z=0);h=[];T("elements found in the content block",e);for(t=0;t<e.length;t++){var b=e[t].getBoundingClientRect(),b=e[t].offsetTop||b.top-p.top,d=e[t].offsetWidth;d<=v?T("skipping element",e[t],"because it does not match height or is smaller than",v):b>z&&b<z+R&&(T(e[t],"in close inspection"),d>=g&&(g=d,h.push(e[t]),T("selected",e[t],g,d)))}0<h.length&&(l=h[Math.floor(h.length/2)],T("suitableElements collected",h,"and in the end",l,"selected"));return l}var Q={},F=n(l,{}),ba=n(e,Gb.b),
R=n(F.scanPixelsBelowViewport,600),v=n(F.minimumElementWidth,320),O=n(F.elementFloat,"none"),V=n(F.allowInViewport,!1),P=n(F.elementSelector,""),Y=n(F.insertPosition,"afterend"),G=n(F.locateContent,!0),z=0,q=document,T=(n(F.debug,!1)?console.log:w||w).bind(console,"[ElementLocator (unversioned-dev)]");Q.c=function(){return"unversioned-dev"};(function(){for(var e=window.frameElement,g=window;e;)g=e.ownerDocument.defaultView,e=g.frameElement;q=g.document;z=q.documentElement.clientHeight;(e=S())?(g=
q.createElement("div"),g.setAttribute("id",ba),g.style.cssFloat=O,e.insertAdjacentHTML?e.insertAdjacentHTML(Y,g.outerHTML):e.appendChild(g),Q.element=e,Q.container=q.querySelector("#"+g.getAttribute("id")),Q.containerId=g.getAttribute("id")):(T("could not locate a suitable element, bailing"),T("innerHeight",z,"options",l))})();return Q}).b=window.ElementLocator.generateRandomID=function(){return"sc-"+Math.random().toString(36).substring(7)};window.ois(function(c){function e(c,e){v=e;R=[];R=l();R=R.concat(n());R=R.filter(function(c){return 0<c.javascriptResource.url.length});0!==R.length&&(I(),J())}function l(){return v&&v.adVerifications?v.adVerifications.filter(function(c){return"meetrics"===(c.vendor+"").toLowerCase()&&c.javascriptResource&&0<(c.javascriptResource.url+"").length}):[]}function n(){var c=[];v&&v.extensions&&v.extensions.map(function(e){"smartadverifications"===(e.attributes.name+"").toLowerCase()&&e.children.map(function(e){"meetrics"===
(e.attributes.vendor+"").toLowerCase()&&c.push({vendor:e.attributes.vendor,javascriptResource:{url:e.value}})})});return c}function w(){Q("AdSizeChange")}function I(){ba.map(function(e){return c.subscribe(Q,e)});c.getVideoSlot().addEventListener("fullscreenchange",w);c.getVideoSlot().addEventListener("mozfullscreenchange",w);c.getVideoSlot().addEventListener("webkitfullscreenchange",w)}function J(){R.map(function(c,e){var l=c.javascriptResource.url,n="";0===(l+"").toLowerCase().indexOf("//")&&(n=
"file:"===location.protocol?"https:":location.protocol);X(n+l,e)})}function X(c,e){var l=document.createElement("iframe");l.cssText="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden";l.id="adverificationloaderframe"+e;document.body.appendChild(l);l.contentWindow.document.write('<script src="'+c+'">\x3c/script>');isNaN(R[e].c)&&(R[e].c=5);(function G(){l&&l.contentWindow.vendorAdapter&&l.contentWindow.vendorAdapter.getAPI&&"function"===typeof l.contentWindow.vendorAdapter.getAPI?
(R[e].f=l,R[e].contentWindow=l.contentWindow,S(e)):0<R[e].c--&&setTimeout(G,100)})()}function S(e){var l=R[e];l.api=l.contentWindow.vendorAdapter.getAPI();l.b=l.api.handshakeVersion("1.0.0");0!==l.b.indexOf("1.")?(console.warn(">> Meetrics.js::initAdVerificationAdapter() - adapter",e,"has handshake",l.b,"does not match ours","1.0.0"),l.isValidHandshake=!1):(l.isValidHandshake=!0,l.api.subscribe("VendorReady",function(){l.api.getInstructions()}),e=c.getSlot(),c.adManager.isVPAID()||document.body.appendChild(e),
l.api.initService({vendorData:{},slots:{slot:e,videoSlot:c.getVideoSlot()},timeout:500}))}function Q(e){var l={type:e,timestamp:(new Date).getTime(),data:{adData:{viewMode:"normal",adWidth:c.utils.getWidth(),adVolume:c.getAdVolume(),adSkippableState:!1,adRemainingTime:c.getAdRemainingTime(),remainingTime:c.getAdRemainingTime(),adLinear:"linear"===(v.creatives[0].type||"").toLowerCase(),adHeight:c.utils.getHeight(),adExpanded:!1,adDuration:c.getAdDuration()},eventData:{}}};switch(e){case "AdInteraction":l.data.eventData.Id=
"";break;case "AdError":l.data.eventData.message="";break;case "AdClickThru":l.data.eventData.url="";l.data.eventData.Id="";l.data.eventData.playerHandles="";break;case "AdStopped":F()}R.map(function(c){c.a||(c.a=[]);c.api&&c.isValidHandshake?(0<c.a.length&&(c.a.map(function(e){c.api.update(e)}),c.a=[]),c.api.update(l)):c.a.push(l)})}function F(){c.getVideoSlot()&&(c.getVideoSlot().removeEventListener("fullscreenchange",w),c.getVideoSlot().removeEventListener("mozfullscreenchange",w),c.getVideoSlot().removeEventListener("webkitfullscreenchange",
w));ba.map(function(e){c.unsubscribe(Q,e)})}var ba="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdError".split(" "),R=void 0,v=void 0;c.getVideoSlot&&c.subscribe(e,"AdLoaded")});window.ois(function(c,e,l,n){function w(c,e){n.config.adVerification.meetrics&&(v=[],P=e,O=I())&&(Q(),J())}function I(){if(P&&P.adVerifications)return P.adVerifications.filter(function(c){return"meetrics"===(c.vendor+"").toLowerCase()&&c.javascriptResource&&0<(c.javascriptResource.url+"").length})[0]}function J(){var c=O.javascriptResource.url+"&meetricsDebug=true",e=document.createElement("iframe");e.style="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden";
e.id="adverificationloaderframe";document.body.appendChild(e);e.contentWindow.document.write('<script src="'+c+'">\x3c/script>');var l=setInterval(function(){e.contentWindow&&e.contentWindow.vendorAdapter&&e.contentWindow.vendorAdapter.getAPI&&"function"===typeof e.contentWindow.vendorAdapter.getAPI&&(clearInterval(l),V=e.contentWindow.vendorAdapter.getAPI(),X())},20)}function X(){var e=V.handshakeVersion("1.0.0");console.info(">> Meetrics.js::initAdVerificationAdapter() - handshakeVersion:",e);0!==
e.indexOf("1.")?ba():(V.subscribe("VendorReady",function(){V.getInstructions()}),e=c.getSlot(),c.adManager.isVPAID()||document.body.appendChild(e),V.initService({vendorData:{},slots:{slot:e,videoSlot:c.getVideoSlot()},timeout:500}),c.getVideoSlot().addEventListener("fullscreenchange",S),c.getVideoSlot().addEventListener("mozfullscreenchange",S),c.getVideoSlot().addEventListener("webkitfullscreenchange",S))}function S(){F("AdSizeChange")}function Q(){R.map(function(e){return c.subscribe(F,e)})}function F(e,
l){var n={type:e,timestamp:(new Date).getTime(),data:{adData:{viewMode:"normal",adWidth:c.utils.getWidth(),adVolume:c.getAdVolume(),adSkippableState:!1,adRemainingTime:c.getAdRemainingTime(),remainingTime:c.getAdRemainingTime(),adLinear:"linear"===(P.creatives[0].type||"").toLowerCase(),adHeight:c.utils.getHeight(),adExpanded:!1,adDuration:c.getAdDuration()},eventData:{}}};switch(e){case "AdInteraction":n.data.eventData.Id="";break;case "AdError":n.data.eventData.message="";break;case "AdClickThru":n.data.eventData.url=
"";n.data.eventData.Id="";n.data.eventData.playerHandles="";break;case "AdStopped":ba()}"AdRemainingTimeChange"!==e&&"AdDurationChange"!==e&&console.warn(">> Meetrics.js::()",n,l);V?(0<v.length&&(v.map(function(c){V.update(c)}),v=[]),V.update(n)):v.push(n)}function ba(){console.info(">> Meetrics.js::dispose()");R.map(function(e){c.unsubscribe(F,e)});v=[];V=O=null}var R="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdError".split(" "),
v=void 0,O=void 0,V=void 0,P=void 0;c.getVideoSlot&&c.subscribe(w,"AdLoaded")});window.ois(function(c){function e(c,e){ba=e;R=[];R=l();R=R.concat(n());0!==R.length&&(I(),J())}function l(){return ba&&ba.adVerifications?ba.adVerifications.filter(function(c){return"moat"===(c.vendor+"").toLowerCase()&&c.javascriptResource&&0<(c.javascriptResource.url+"").length&&c.adParameters&&w(c.adParameters)}):[]}function n(){var c=[];ba&&ba.extensions&&ba.extensions.map(function(e){"smartadverifications"===(e.attributes.name+"").toLowerCase()&&e.children.map(function(e){if("moat"===(e.attributes.vendor+
"").toLowerCase()){var l=e.children.map(function(c){if("AdParameters"===c.name){var e={};c.children.map(function(c){e[c.name]=c.value});return e}}).filter(function(c){return c&&w(c)})[0],n=e.children.map(function(c){if("JavaScriptResource"===c.name)return c.value}).filter(function(c){return!!c})[0];l&&n&&c.push({vendor:e.attributes.vendor,javascriptResource:{url:n},adParameters:l})}})});return c}function w(c){var e=["PartnerCode","Advertiser","Campaign","LineItem","Creative"];return e.filter(function(e){return c[e]&&
0<(c[e]+"").length}).length===e.length}function I(){F.map(function(e){return c.subscribe(S,e)})}function J(){R.map(function(c,e){var l=c.javascriptResource.url,n="";0===(l+"").toLowerCase().indexOf("//")&&(n="file:"===location.protocol?"https:":location.protocol);X(n+l,e)})}function X(e,l){var n=document.createElement("iframe");n.cssText="width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden";n.id="adverificationMoat"+l;document.body.appendChild(n);n.contentWindow.document.write('<script src="'+
e+'">\x3c/script>');(function Y(){if(n&&n.contentWindow.initMoatTracking){R[l].f=n;R[l].contentWindow=n.contentWindow;var e=c.getVideoSlot();R[l].b=R[l].contentWindow.initMoatTracking(e,{level1:R[l].adParameters.Advertiser,level2:R[l].adParameters.Campaign,level3:R[l].adParameters.LineItem,level4:R[l].adParameters.Creative,slicer1:R[l].adParameters.Site,slicer2:R[l].adParameters.Placement},ba.creatives[0].duration,R[l].adParameters.PartnerCode,void 0)}else setTimeout(Y,100)})()}function S(e){var l=
{type:e,c:c.getAdVolume()};R.map(function(c){c.a||(c.a=[]);c.b?(0<c.a.length&&(c.a.map(function(e){c.b.dispatchEvent(e)}),c.a=[]),c.b.dispatchEvent(l)):c.a.push(l)});"AdVideoComplete"===e&&Q()}function Q(){F.map(function(e){c.unsubscribe(S,e)});R=null}var F="AdStopped AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdPaused AdPlaying AdVolumeChange".split(" "),ba=void 0,R=[];c.getVideoSlot&&c.subscribe(e,"AdLoaded")});(function(c,e,l,n){function w(a,b,c){return setTimeout(Q(a,c),b)}function I(a,b,c){return Array.isArray(a)?(J(a,c[b],c),!0):!1}function J(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==n)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function X(a,b,d){var h="DEPRECATED METHOD: "+b+"\n"+d+" AT \n";return function(){var b=Error("get-stack-trace"),b=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@"):"Unknown Stack Trace",d=c.console&&(c.console.warn||c.console.log);d&&d.call(c.console,h,b);return a.apply(this,arguments)}}function S(a,b,c){b=b.prototype;var d;d=a.prototype=Object.create(b);d.constructor=a;d._super=b;c&&L(d,c)}function Q(a,b){return function(){return a.apply(b,arguments)}}function F(a,b){return"function"==typeof a?a.apply(b?b[0]||n:n,b):a}function ba(a,b,c){J(O(b),function(b){a.addEventListener(b,c,!1)})}function R(a,b,c){J(O(b),function(b){a.removeEventListener(b,
c,!1)})}function v(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function O(a){return a.trim().split(/\s+/g)}function V(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function P(a){return Array.prototype.slice.call(a,0)}function Y(a,b,c){for(var d=[],h=[],f=0;f<a.length;){var e=b?a[f][b]:a[f];0>V(h,e)&&d.push(a[f]);h[f]=e;f++}c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort());return d}function G(a,b){for(var c,
d=b[0].toUpperCase()+b.slice(1),h=0;h<jb.length;){c=(c=jb[h])?c+d:b;if(c in a)return c;h++}return n}function z(a){a=a.ownerDocument||a;return a.defaultView||a.parentWindow||c}function q(a,b){var c=this;this.manager=a;this.callback=b;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(b){F(a.options.enable,[a])&&c.handler(b)};this.init()}function T(a){var c=a.options.inputClass;return new (c?c:Aa?d:Ra?f:La?D:b)(a,E)}function E(a,b,c){var d,f,e=c.pointers.length,k=c.changedPointers.length;
d=b&1&&0===e-k;c.isFirst=!!d;c.isFinal=!!(b&12&&0===e-k);d&&(a.session={});c.eventType=b;b=a.session;e=c.pointers;k=e.length;b.firstInput||(b.firstInput=g(c));1<k&&!b.firstMultiple?b.firstMultiple=g(c):1===k&&(b.firstMultiple=!1);d=b.firstInput;f=(k=b.firstMultiple)?k.center:d.center;var l=c.center=r(e);c.timeStamp=aa();c.deltaTime=c.timeStamp-d.timeStamp;c.angle=t(f,l);c.distance=p(f,l);d=c.center;f=b.offsetDelta||{};var l=b.prevDelta||{},m=b.prevInput||{};if(1===c.eventType||4===m.eventType)l=b.prevDelta=
{x:m.deltaX||0,y:m.deltaY||0},f=b.offsetDelta={x:d.x,y:d.y};c.deltaX=l.x+(d.x-f.x);c.deltaY=l.y+(d.y-f.y);c.offsetDirection=h(c.deltaX,c.deltaY);f=c.deltaTime;d=c.deltaX/f||0;f=c.deltaY/f||0;c.overallVelocityX=d;c.overallVelocityY=f;c.overallVelocity=da(d)>da(f)?d:f;k?(d=k.pointers,d=p(e[0],e[1],ta)/p(d[0],d[1],ta)):d=1;c.scale=d;k?(k=k.pointers,e=t(e[1],e[0],ta)+t(k[1],k[0],ta)):e=0;c.rotation=e;c.maxPointers=b.prevInput?c.pointers.length>b.prevInput.maxPointers?c.pointers.length:b.prevInput.maxPointers:
c.pointers.length;f=b.lastInterval||c;e=c.timeStamp-f.timeStamp;8!=c.eventType&&(25<e||f.velocity===n)?(d=c.deltaX-f.deltaX,f=c.deltaY-f.deltaY,l=d/e||0,m=f/e||0,e=l,k=m,l=da(l)>da(m)?l:m,d=h(d,f),b.lastInterval=c):(l=f.velocity,e=f.velocityX,k=f.velocityY,d=f.direction);c.velocity=l;c.velocityX=e;c.velocityY=k;c.direction=d;b=a.element;v(c.srcEvent.target,b)&&(b=c.srcEvent.target);c.target=b;a.emit("hammer.input",c);a.recognize(c);a.session.prevInput=c}function g(a){for(var b=[],c=0;c<a.pointers.length;)b[c]=
{clientX:Ja(a.pointers[c].clientX),clientY:Ja(a.pointers[c].clientY)},c++;return{timeStamp:aa(),pointers:b,center:r(b),deltaX:a.deltaX,deltaY:a.deltaY}}function r(a){var b=a.length;if(1===b)return{x:Ja(a[0].clientX),y:Ja(a[0].clientY)};for(var c=0,d=0,h=0;h<b;)c+=a[h].clientX,d+=a[h].clientY,h++;return{x:Ja(c/b),y:Ja(d/b)}}function h(a,b){return a===b?1:da(a)>=da(b)?0>a?2:4:0>b?8:16}function p(a,b,c){c||(c=Ha);var d=b[c[0]]-a[c[0]];a=b[c[1]]-a[c[1]];return Math.sqrt(d*d+a*a)}function t(a,b,c){c||
(c=Ha);return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function b(){this.evEl=la;this.evWin=ga;this.pressed=!1;q.apply(this,arguments)}function d(){this.evEl=ka;this.evWin=pa;q.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function a(){this.evTarget="touchstart";this.evWin="touchstart touchmove touchend touchcancel";this.started=!1;q.apply(this,arguments)}function f(){this.evTarget=ra;this.targetIds={};q.apply(this,arguments)}function u(a,b){var c=P(a.touches),
d=this.targetIds;if(b&3&&1===c.length)return d[c[0].identifier]=!0,[c,c];var h,f=P(a.changedTouches),e=[],g=this.target;h=c.filter(function(a){return v(a.target,g)});if(1===b)for(c=0;c<h.length;)d[h[c].identifier]=!0,c++;for(c=0;c<f.length;)d[f[c].identifier]&&e.push(f[c]),b&12&&delete d[f[c].identifier],c++;if(e.length)return[Y(h.concat(e),"identifier",!0),e]}function D(){q.apply(this,arguments);var a=Q(this.handler,this);this.touch=new f(this.manager,a);this.mouse=new b(this.manager,a);this.primaryTouch=
null;this.lastTouches=[]}function U(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var b={x:a.clientX,y:a.clientY};this.lastTouches.push(b);var c=this.lastTouches;setTimeout(function(){var a=c.indexOf(b);-1<a&&c.splice(a,1)},2500)}}function m(a,b){this.manager=a;this.set(b)}function k(a){if(-1<a.indexOf("none"))return"none";var b=-1<a.indexOf("pan-x"),c=-1<a.indexOf("pan-y");return b&&c?"none":b||c?b?"pan-x":"pan-y":-1<a.indexOf("manipulation")?"manipulation":"auto"}function A(a){this.options=
L({},this.defaults,a||{});this.id=K++;this.manager=null;a=this.options.enable;this.options.enable=a===n?!0:a;this.state=1;this.simultaneous={};this.requireFail=[]}function W(a){return a&16?"cancel":a&8?"end":a&4?"move":a&2?"start":""}function H(a){return 16==a?"down":8==a?"up":2==a?"left":4==a?"right":""}function fa(a,b){var c=b.manager;return c?c.get(a):a}function ja(){A.apply(this,arguments)}function x(){ja.apply(this,arguments);this.pY=this.pX=null}function Za(){ja.apply(this,arguments)}function $a(){A.apply(this,
arguments);this._input=this._timer=null}function ab(){ja.apply(this,arguments)}function ca(){ja.apply(this,arguments)}function y(){A.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function B(a,b){b=b||{};var c=b.recognizers;b.recognizers=c===n?B.defaults.preset:c;return new Ka(a,b)}function Ka(a,b){this.options=L({},B.defaults,b||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps=
{};this.element=a;this.input=T(this);this.touchAction=new m(this,this.options.touchAction);kb(this,!0);J(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function kb(a,b){var c=a.element;if(c.style){var d;J(a.options.cssProps,function(h,f){d=G(c.style,f);b?(a.oldCssProps[d]=c.style[d],c.style[d]=h):c.style[d]=a.oldCssProps[d]||""});b||(a.oldCssProps={})}}function wb(a,b){var c=e.createEvent("Event");c.initEvent(a,!0,
!0);c.gesture=b;b.target.dispatchEvent(c)}var jb=" webkit Moz MS ms o".split(" ");l=e.createElement("div");var Ja=Math.round,da=Math.abs,aa=Date.now,L;L="function"!==typeof Object.assign?function(a){if(a===n||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==n&&null!==d)for(var h in d)d.hasOwnProperty(h)&&(b[h]=d[h])}return b}:Object.assign;var M=X(function(a,b,c){for(var d=Object.keys(b),h=0;h<d.length;){if(!c||
c&&a[d[h]]===n)a[d[h]]=b[d[h]];h++}return a},"extend","Use `assign`."),C=X(function(a,b){return M(a,b,!0)},"merge","Use `assign`."),K=1,ia=/mobile|tablet|ip(ad|hone|od)|android/i,La="ontouchstart"in c,Aa=G(c,"PointerEvent")!==n,Ra=La&&ia.test(navigator.userAgent),Ha=["x","y"],ta=["clientX","clientY"];q.prototype={handler:function(){},init:function(){this.evEl&&ba(this.element,this.evEl,this.domHandler);this.evTarget&&ba(this.target,this.evTarget,this.domHandler);this.evWin&&ba(z(this.element),this.evWin,
this.domHandler)},destroy:function(){this.evEl&&R(this.element,this.evEl,this.domHandler);this.evTarget&&R(this.target,this.evTarget,this.domHandler);this.evWin&&R(z(this.element),this.evWin,this.domHandler)}};var Da={mousedown:1,mousemove:2,mouseup:4},la="mousedown",ga="mousemove mouseup";S(b,q,{handler:function(a){var b=Da[a.type];b&1&&0===a.button&&(this.pressed=!0);b&2&&1!==a.which&&(b=4);this.pressed&&(b&4&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",
srcEvent:a}))}});var ma={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},xa={2:"touch",3:"pen",4:"mouse",5:"kinect"},ka="pointerdown",pa="pointermove pointerup pointercancel";c.MSPointerEvent&&!c.PointerEvent&&(ka="MSPointerDown",pa="MSPointerMove MSPointerUp MSPointerCancel");S(d,q,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),d=ma[d],h=xa[a.pointerType]||a.pointerType,f="touch"==h,e=V(b,a.pointerId,"pointerId");d&1&&(0===a.button||f)?0>
e&&(b.push(a),e=b.length-1):d&12&&(c=!0);0>e||(b[e]=a,this.callback(this.manager,d,{pointers:b,changedPointers:[a],pointerType:h,srcEvent:a}),c&&b.splice(e,1))}});var oa={touchstart:1,touchmove:2,touchend:4,touchcancel:8};S(a,q,{handler:function(a){var b=oa[a.type];1===b&&(this.started=!0);if(this.started){var c;c=P(a.touches);var d=P(a.changedTouches);b&12&&(c=Y(c.concat(d),"identifier",!0));c=[c,d];b&12&&0===c[0].length-c[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:c[0],
changedPointers:c[1],pointerType:"touch",srcEvent:a})}}});var wa={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ra="touchstart touchmove touchend touchcancel";S(f,q,{handler:function(a){var b=wa[a.type],c=u.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}});S(D,q,{handler:function(a,b,c){var d="touch"==c.pointerType,h="mouse"==c.pointerType;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)b&1?(this.primaryTouch=
c.changedPointers[0].identifier,U.call(this,c)):b&12&&U.call(this,c);else{if(d=h)a:{for(var d=c.srcEvent.clientX,h=c.srcEvent.clientY,f=0;f<this.lastTouches.length;f++){var e=this.lastTouches[f],g=Math.abs(h-e.y);if(25>=Math.abs(d-e.x)&&25>=g){d=!0;break a}}d=!1}if(d)return}this.callback(a,b,c)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var qa=G(l.style,"touchAction"),na=qa!==n,ea=function(){if(!na)return!1;var a={},b=c.CSS&&c.CSS.supports;"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(d){a[d]=
b?c.CSS.supports("touch-action",d):!0});return a}();m.prototype={set:function(a){"compute"==a&&(a=this.compute());na&&this.manager.element.style&&ea[a]&&(this.manager.element.style[qa]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];J(this.manager.recognizers,function(b){F(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))});return k(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;
if(this.manager.session.prevented)b.preventDefault();else{var d=this.actions,h=-1<d.indexOf("none")&&!ea.none,f=-1<d.indexOf("pan-y")&&!ea["pan-y"],d=-1<d.indexOf("pan-x")&&!ea["pan-x"];if(h){var e=2>a.distance,g=250>a.deltaTime;if(1===a.pointers.length&&e&&g)return}if(!d||!f)if(h||f&&c&6||d&&c&24)return this.preventSrc(b)}},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};A.prototype={defaults:{},set:function(a){L(this.options,a);this.manager&&this.manager.touchAction.update();
return this},recognizeWith:function(a){if(I(a,"recognizeWith",this))return this;var b=this.simultaneous;a=fa(a,this);b[a.id]||(b[a.id]=a,a.recognizeWith(this));return this},dropRecognizeWith:function(a){if(I(a,"dropRecognizeWith",this))return this;a=fa(a,this);delete this.simultaneous[a.id];return this},requireFailure:function(a){if(I(a,"requireFailure",this))return this;var b=this.requireFail;a=fa(a,this);-1===V(b,a)&&(b.push(a),a.requireFailure(this));return this},dropRequireFailure:function(a){if(I(a,
"dropRequireFailure",this))return this;a=fa(a,this);a=V(this.requireFail,a);-1<a&&this.requireFail.splice(a,1);return this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(d){c.manager.emit(d,a)}var c=this,d=this.state;8>d&&b(c.options.event+W(d));b(c.options.event);a.additionalEvent&&b(a.additionalEvent);8<=d&&b(c.options.event+W(d))},tryEmit:function(a){if(this.canEmit())return this.emit(a);
this.state=32},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&33))return!1;a++}return!0},recognize:function(a){a=L({},a);F(this.options.enable,[this,a])?(this.state&56&&(this.state=1),this.state=this.process(a),this.state&30&&this.tryEmit(a)):(this.reset(),this.state=32)},process:function(){},getTouchAction:function(){},reset:function(){}};S(ja,A,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},
process:function(a){var b=this.state,c=a.eventType,d=b&6;a=this.attrTest(a);return d&&(c&8||!a)?b|16:d||a?c&4?b|8:b&2?b|4:2:32}});S(x,ja,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var a=this.options.direction,b=[];a&6&&b.push("pan-y");a&24&&b.push("pan-x");return b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,h=a.direction,f=a.deltaX,e=a.deltaY;h&b.direction||(b.direction&6?(h=0===f?1:0>f?2:4,c=f!=this.pX,d=Math.abs(a.deltaX)):(h=0===
e?1:0>e?8:16,c=e!=this.pY,d=Math.abs(a.deltaY)));a.direction=h;return c&&d>b.threshold&&h&b.direction},attrTest:function(a){return ja.prototype.attrTest.call(this,a)&&(this.state&2||!(this.state&2)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=H(a.direction);b&&(a.additionalEvent=this.options.event+b);this._super.emit.call(this,a)}});S(Za,ja,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(a){return this._super.attrTest.call(this,
a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&2)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?"in":"out"));this._super.emit.call(this,a)}});S($a,A,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,h=a.deltaTime>b.time;this._input=a;if(!d||!c||a.eventType&12&&!h)this.reset();else if(a.eventType&1)this.reset(),
this._timer=w(function(){this.state=8;this.tryEmit()},b.time,this);else if(a.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){8===this.state&&(a&&a.eventType&4?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=aa(),this.manager.emit(this.options.event,this._input)))}});S(ab,ja,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>
this.options.threshold||this.state&2)}});S(ca,ja,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return x.prototype.getTouchAction.call(this)},attrTest:function(a){var b=this.options.direction,c;b&30?c=a.overallVelocity:b&6?c=a.overallVelocityX:b&24&&(c=a.overallVelocityY);return this._super.attrTest.call(this,a)&&b&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&da(c)>this.options.velocity&&a.eventType&
4},emit:function(a){var b=H(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});S(y,A,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,h=a.deltaTime<b.time;this.reset();if(a.eventType&1&&0===this.count)return this.failTimeout();if(d&&h&&c){if(4!=a.eventType)return this.failTimeout();
c=this.pTime?a.timeStamp-this.pTime<b.interval:!0;d=!this.pCenter||p(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;this.count=d&&c?this.count+1:1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=w(function(){this.state=8;this.tryEmit()},b.interval,this),2):8}return 32},failTimeout:function(){this._timer=w(function(){this.state=32},this.options.interval,this);return 32},reset:function(){clearTimeout(this._timer)},emit:function(){8==
this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});B.VERSION="2.0.7";B.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ab,{enable:!1}],[Za,{enable:!1},["rotate"]],[ca,{direction:6}],[x,{direction:6},["swipe"]],[y],[y,{event:"doubletap",taps:2},["tap"]],[$a]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};Ka.prototype=
{set:function(a){L(this.options,a);a.touchAction&&this.touchAction.update();a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init());return this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,h=b.curRecognizer;if(!h||h&&h.state&8)h=b.curRecognizer=null;for(var f=0;f<d.length;)c=d[f],2===b.stopped||h&&c!=h&&!c.canRecognizeWith(h)?c.reset():c.recognize(a),
!h&&c.state&14&&(h=b.curRecognizer=c),f++}},get:function(a){if(a instanceof A)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(I(a,"add",this))return this;var b=this.get(a.options.event);b&&this.remove(b);this.recognizers.push(a);a.manager=this;this.touchAction.update();return a},remove:function(a){if(I(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers;a=V(b,a);-1!==a&&(b.splice(a,1),this.touchAction.update())}return this},
on:function(a,b){if(a!==n&&b!==n){var c=this.handlers;J(O(a),function(a){c[a]=c[a]||[];c[a].push(b)});return this}},off:function(a,b){if(a!==n){var c=this.handlers;J(O(a),function(a){b?c[a]&&c[a].splice(V(c[a],b),1):delete c[a]});return this}},emit:function(a,b){this.options.domEvents&&wb(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&kb(this,
!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};L(B,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ka,Input:q,TouchAction:m,TouchInput:f,MouseInput:b,PointerEventInput:d,TouchMouseInput:D,SingleTouchInput:a,
Recognizer:A,AttrRecognizer:ja,Tap:y,Pan:x,Swipe:ca,Pinch:Za,Rotate:ab,Press:$a,on:ba,off:R,each:J,merge:C,extend:M,assign:L,inherit:S,bindFn:Q,prefixed:G});("undefined"!==typeof c?c:"undefined"!==typeof self?self:{}).Hammer=B})(window,document,"Hammer");
(function(){function c(c,e){var l={},n=Infinity,v=void 0;l.isSticky=!1;l.isStickyTop=!1;l.isStickyBottom=!1;l.init=function(){n=Infinity;l.isSticky=!1;v=setInterval(l.onScroll,16)};l.onChange=function(){};l.onStartScroll=function(){};l.getPosition=function(){if(X.sticky&&X.sticky.position)switch((X.sticky.position+"").toLowerCase()){case "bottom":return"bottom";case "both":return"both"}return"top"};l.enter=function(){e.style.position="fixed";if(ba)F.elements.iframe.style.left=c.getBoundingClientRect().left+
"px";else{var n=0;500<F.size.width&&(n=(F.size.width-500)/2);F.elements.iframe.style.left=n+c.getBoundingClientRect().left+"px"}l.isStickyTop?(e.style.top=0,e.style.bottom="auto"):(e.style.bottom=0,e.style.top="auto")};l.leave=function(){e.style.transition="none";e.style.position="relative";e.style.top="auto";e.style.bottom="auto";F.elements.iframe.style.left="auto";F.elements.iframe.style.right="auto"};l.onScroll=function(){var e=c.getBoundingClientRect().top,g=c.getBoundingClientRect().bottom,r=
document.documentElement.clientHeight;n!==e&&(n=e,l.onStartScroll(),!l.isSticky&&("top"===l.getPosition()||"both"===l.getPosition())&&0>=e&&!l.isStickyTop||("bottom"===l.getPosition()||"both"===l.getPosition())&&g>=r&&!l.isStickyBottom?(l.isSticky=!0,l.isStickyTop=0>=e,l.isStickyBottom=!l.isStickyTop,l.enter()):("bottom"===l.getPosition()||"both"===l.getPosition())&&g<r&&l.isStickyBottom&&(l.isSticky=!1,l.isStickyTop=!1,l.isStickyBottom=!1,l.leave()),l.onChange(l.isSticky))};l.shutdown=function(){clearInterval(v)};
l.init();return l}function e(c,e,l){function n(){g||(v.onSwipeFinal(),g=!0)}var v={},w=void 0,g=!1;v.isShuttingDown=!1;v.isEnabled=!0;v.enable=function(){v.isEnabled=!0};v.disable=function(){v.isEnabled=!1};v.init=function(){w=new Hammer(c);w.on("tap",function(c){v.onTap(c)});w.on("panleft panright",v.onSwipe);w.on("panend",v.onSwipeEnd);g=!1;v.isShuttingDown=!1};v.resetPosition=function(){v.isShuttingDown||(e.style.transition="none",e.style.transform="translateX(0)")};v.onTap=function(){};v.onSwipeFinal=
function(){};v.onSwipe=function(c){if(v.isEnabled&&S.isSticky&&(v.isShuttingDown||(e.style.transition="none",e.style.transform="translateX("+c.deltaX+"px)"),l/100*66<Math.abs(c.deltaX))){e.addEventListener("transitionend",n);v.isShuttingDown=!0;e.style.transition="transform .5s ease-in-out";var h=window.innerWidth;e.style.transform=0<c.deltaX?"translateX("+h+"px)":"translateX("+-h+"px)"}};v.onSwipeEnd=function(){v.isShuttingDown||(e.style.transition="transform .5s ease-in-out",e.style.transform="translateX(0)")};
v.shutdown=function(){try{$smartplayContainer.style.zIndex="auto",$smartplayContainer.style.overflow="auto",e.style.transform="translateX(0)",e.style.transition="transform .5s ease-in-out",$stickyContainer.style.transition="none",$stickyContainer.style.bottom="auto",$stickyContainer.style.position="relative",$stickyContainer.style.top="auto"}catch(c){}w.off("tap");w.off("panleft panright");w.off("panend");e.removeEventListener("transitionend",n)};v.init();return v}function l(){var l={},n=void 0,z=
F.elements.iframe.parentNode;R=F.publisherConfig.behaviourMatrix.offScreen.paused;v=F.publisherConfig.behaviourMatrix.offScreen.muted;O=F.elements.iframe.contentDocument.body.style.background;V=F.size.width+"px";l.init=function(){l.shutdown();var q=X.sticky&&"true"===(X.sticky.enabled+"").toLowerCase(),v=X.swipeable&&"true"===(X.swipeable.enabled+"").toLowerCase();Q.adManager.isVPAID()&&(v=!1);ba||(v=!1);q&&(S=new c(F.elements.backdrop,F.elements.iframe),z.style.zIndex=9999,z.style.textAlign="start",
z.style.overflow="initial",S.onStartScroll=function(){n&&(n.resetPosition(),n.disable())},S.onChange=function(c){ba||(500<F.size.width&&(F.elements.backdrop.parentNode.style.width=c?"500px":V),w(c));c&&I();c?(F.publisherConfig.behaviourMatrix.offScreen.paused=!1,F.publisherConfig.visibilityThreshold=-1,Q.getAdVolume()&&!F.environmentVars.muted&&(F.publisherConfig.behaviourMatrix.offScreen.muted=!1,F.publisherConfig.behaviourMatrix.onScreen.muted=!1)):(F.publisherConfig.behaviourMatrix.offScreen.paused=
!0,F.publisherConfig.behaviourMatrix.offScreen.muted=!0);n&&n.enable()});v&&(F.elements.iframe.contentDocument.body.style.background="transparent",n=new e(F.elements.iframe.contentWindow.document.body.querySelector("#slots-wrapper"),F.elements.iframe.contentDocument.body,z.getBoundingClientRect().width),n.onSwipeFinal=function(){Q.adManager.skipAd()})};l.shutdown=function(){clearInterval(void 0);F.publisherConfig.behaviourMatrix.offScreen.paused=R;F.publisherConfig.behaviourMatrix.offScreen.muted=
v;F.elements.iframe.contentDocument.body.style.background=O;F.elements.backdrop.parentNode.style.width="";F.elements.backdrop.parentNode.style.height="";F.elements.iframe.style.left="auto";w(!1);n&&n.shutdown();S&&(S.leave(),S.shutdown())};l.init();return l}function n(){var c=void 0;J.extensions.map(function(e){"SmartPlayConfig"===e.attributes.name&&e.children.map(function(e){"featureMatrix"===e.name&&e.children.map(function(e){c||(c={});c[e.name]=e.attributes})})});return c}function w(c){var e=F.elements.iframeDocument.querySelector("#skip");
console.info(">> main.js::enableSkipper()",F.publisherConfig.skipOffset);c?(F.publisherConfig.skipOffset&&0>F.publisherConfig.skipOffset&&(F.publisherConfig.skipOffset=10),e.classList.add("active")):e.classList.remove("active")}function I(){P||(P=setInterval(function(){0===parseInt(F.elements.backdrop.parentNode.style.height,10)&&clearInterval(P);F.elements.backdrop.parentNode.style.height="0px"},32))}var J=void 0,X,S=void 0,Q,F,ba=/mobile/i.test(navigator.userAgent),R=void 0,v=void 0,O=void 0,V=
void 0,P=void 0;window.ois(function(c){Q=c;Q.subscribe(function(){},"AdStopped");Q.subscribe(function(c,e){J=e;X=n()},"AdLoaded");Q.subscribe(function(){X&&window.SmartPlay(function(c){F=c;new l})},"AdStarted")})})();(function(){function c(){this.attributes={};this.children=[]}function e(){this.id=null;this.height=this.width=0;this.companionClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.trackingEvents={}}function l(){this.program=null;this.yPosition=this.xPosition=this.width=this.height=0;this.offset=this.apiFramework=null;this.duration=0;this.iconClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.iconClickTrackingURLTemplates=
[];this.iconViewTrackingURLTemplate=null}function n(){this.viewableImpression=this.flashResource=this.javascriptResource=this.vendor=null}function w(){this.fileURL=this.id=null;this.deliveryType="progressive";this.codec=this.mimeType=null;this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0;this.maintainAspectRatio=this.scalable=this.apiFramework=null}function I(c){c=void 0===c?{}:c;this.id=c.id||null;this.adId=c.adId||null;this.sequence=c.sequence||null;this.apiFramework=c.apiFramework||
null;this.trackingEvents={}}function J(c){c=void 0===c?{}:c;I.call(this,c);this.type="linear";this.duration=0;this.skipDelay=null;this.mediaFiles=[];this.videoClickThroughURLTemplate=null;this.videoClickTrackingURLTemplates=[];this.videoCustomClickURLTemplates=[];this.adParameters=null;this.icons=[]}function X(c){c=void 0===c?{}:c;I.call(this,c);this.type="nonlinear";this.variations=[];this.videoClickTrackingURLTemplates=[]}function S(c){c=void 0===c?{}:c;I.call(this,c);this.type="companion";this.variations=
[];this.videoClickTrackingURLTemplates=[]}function Q(){this.survey=this.pricing=this.advertiser=this.description=this.title=this.system=this.sequence=this.id=this.url=null;this.errorURLTemplates=[];this.impressionURLTemplates=[];this.creatives=[];this.extensions=[];this.adVerifications=[];this.wrappers=[];this.fetch=function(){};this.fetched=!1}function F(){this.id=null;this.expandedHeight=this.expandedWidth=this.height=this.width=0;this.maintainAspectRatio=this.scalable=!0;this.minSuggestedDuration=
0;this.apiFramework="static";this.nonlinearClickThroughURLTemplate=this.iframeResource=this.htmlResource=this.staticResource=this.type=null;this.nonlinearClickTrackingURLTemplates=[];this.adParameters=null}function ba(){this.value=this.name=null;this.attributes={};this.children=[]}function R(c){var e=[];e.forEach.call(e.slice.call(arguments,1),function(e){if(e)for(var b in e)({}).hasOwnProperty.call(e,b)&&(c[b]="object"===typeof c[b]&&"object"===typeof e[b]&&null!==e[b]?R(c[b],e[b]):e[b])});return c}
function v(){this.ads=[];this.errorURLTemplates=[]}function O(){}function V(){}function P(){}function Y(){}function G(){this.maxWrapperDepth=10;this.blockInsecureURL=!1;this.currentWrapperDepth=0;this.URLTemplateFilters=[];this.wrapperCallbackHandlers=[];r.EventDispatcher.prototype.apply(this)}var z={scope:{},getGlobal:function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c}};z.global=z.getGlobal(this);z.initSymbol=function(){z.global.Symbol||(z.global.Symbol=
z.Symbol);z.initSymbol=function(){}};z.symbolCounter_=0;z.Symbol=function(c){return"jscomp_symbol_"+c+z.symbolCounter_++};z.initSymbolIterator=function(){z.initSymbol();z.global.Symbol.iterator||(z.global.Symbol.iterator=z.global.Symbol("iterator"));z.initSymbolIterator=function(){}};z.makeIterator=function(c){z.initSymbolIterator();if(c[z.global.Symbol.iterator])return c[z.global.Symbol.iterator]();if(!(c instanceof Array||"string"==typeof c||c instanceof String))throw new TypeError(c+" is not iterable");
var e=0;return{next:function(){return e==c.length?{done:!0}:{done:!1,value:c[e++]}}}};z.arrayFromIterator=function(c){for(var e,g=[];!(e=c.next()).done;)g.push(e.value);return g};z.arrayFromIterable=function(c){return c instanceof Array?c:z.arrayFromIterator(z.makeIterator(c))};z.arrayFromArguments=function(c){for(var e=[],g=0;g<c.length;g++)e.push(c[g]);return e};z.inherits=function(c,e){function g(){}g.prototype=e.prototype;c.prototype=new g;c.prototype.constructor=c;for(var b in e)if(z.global.Object.defineProperties){var d=
z.global.Object.getOwnPropertyDescriptor(e,b);void 0!==d&&z.global.Object.defineProperty(c,b,d)}else c[b]=e[b]};z.inherits(J,I);z.inherits(X,I);z.inherits(S,I);Object.defineProperties(Q.prototype,{hasError:{configurable:!0,enumerable:!0,get:function(){return!isNaN(this.errorCode)}}});var q={isSecureURL:function(c){return"https:"===window.location.protocol&&0!==(c+"").indexOf("http://")||"https:"!==window.location.protocol}},T={};T.extend=R;var E={resolveAdTagURI:function(c,e){if(0===c.indexOf("//")){var g=
location.protocol;"file:"===g&&(g="https:");return g+c}return-1===c.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+c:c}},g={stringToXML:function(c){if("string"===typeof c===!1)return c;var e=null;window.DOMParser?e=(new DOMParser).parseFromString(c,"text/xml"):(e=new ActiveXObject("Microsoft.XMLDOM"),e.loadXML(c));return e}};O.prototype.xdr=function(){return window.XDomainRequest?new window.XDomainRequest:null};O.supported=function(){return!!(new O).xdr()};O.prototype.get=function(c,e,g){if("function"!==
typeof window.ActiveXObject)g();else{var b=new window.ActiveXObject("b");b.async=!1;xdr=this.xdr();xdr.open("GET",c);xdr.timeout=e.timeout||0;xdr.withCredentials=!1!==e.withCredentials;xdr.onprogress=function(){};xdr.onload=function(){b.loadXML(xdr.responseText);g(null,b)};xdr.send()}};V.prototype.xhr=function(){var c=new window.XMLHttpRequest;return"withCredentials"in c?c:null};V.supported=function(){return!!(new V).xhr()};V.prototype.get=function(c,e,l){try{var b=this,d=this.xhr();d.open("GET",
c);d.timeout=e.timeout||0;d.withCredentials=!1!==e.withCredentials;d.overrideMimeType&&d.overrideMimeType("text/xml");d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){var a=d.responseXML;!a&&d.responseText&&(a=g.stringToXML(d.responseText));a?l(null,a):(d.statusText="Response contains neither 'responseXML' nor 'responseText'",l(Error("XHRURLHandler: "+d.statusText)))}else 0===d.status&&d.withCredentials?(a=JSON.parse(JSON.stringify(e)),a.withCredentials=!1,b.get(c,a,l)):l(Error("XHRURLHandler: "+
d.statusText))};d.send()}catch(a){l(a)}};P.prototype.get=function(c,e,l){var b=l,d=e;l||("function"===typeof e&&(b=e),d={});if(!b)return null;e=d.urlhandler;if(d.response)b(null,g.stringToXML(d.response));else return e&&e.supported()?(new e).get(c,d,b):V.supported()?(new V).get(c,d,b):O.supported()?(new O).get(c,d,b):b();return null};var r={};Y.prototype={constructor:Y,apply:function(c){c.addEventListener=Y.prototype.addEventListener;c.hasEventListener=Y.prototype.hasEventListener;c.removeEventListener=
Y.prototype.removeEventListener;c.dispatchEvent=Y.prototype.dispatchEvent},addEventListener:function(c,e){this._listeners||(this._listeners={});var g=this._listeners;g[c]||(g[c]=[]);-1===g[c].indexOf(e)&&g[c].push(e)},hasEventListener:function(c,e){if(!this._listeners)return!1;var g=this._listeners;return g[c]&&-1!==g[c].indexOf(e)?!0:!1},removeEventListener:function(c,e){if(this._listeners){var g=this._listeners[c];if(g){var b=g.indexOf(e);-1!==b&&g.splice(b,1)}}},dispatchEvent:function(c){if(this._listeners){var e=
this._listeners[c];if(e){for(var g=e.length,b=[],d=0,d=0;d<g;d++)b[d]=e[d];for(e=0;e<g;e++)(b[e]||function(){}).apply(this,[].slice.call(arguments,1))}}}};r.EventDispatcher=Y;G.prototype.trackError=function(c,e,g,b){this.dispatchEvent("VAST-error",{response:JSON.parse(JSON.stringify(c)),errorCode:g,errorURLTemplates:e,silent:b})};G.prototype.addURLTemplateFilter=function(c){"function"===typeof c&&this.URLTemplateFilters.push(c)};G.prototype.removeURLTemplateFilter=function(){return this.URLTemplateFilters.pop()};
G.prototype.countURLTemplateFilters=function(){return this.URLTemplateFilters.length};G.prototype.clearUrlTemplateFilters=function(){this.URLTemplateFilters=[]};G.prototype.addWrapperCallbackHandler=function(c){"function"===typeof c&&this.wrapperCallbackHandlers.push(c)};G.prototype.removeWrapperCallbackHandler=function(){return this.wrapperCallbackHandlers.pop()};G.prototype.countWrapperCallbackHandlers=function(){return this.wrapperCallbackHandlers.length};G.prototype.clearWrapperCallbackHandlers=
function(){this.wrapperCallbackHandlers=[]};G.prototype.parseXPosition=function(c){return-1!==["left","right"].indexOf(c)?c:parseInt(c,10)||0};G.prototype.parseYPosition=function(c){return-1!==["top","bottom"].indexOf(c)?c:parseInt(c,10)||0};G.prototype.parseNodeText=function(c){return c&&(c.textContent||c.text||"").trim()};G.prototype.copyNodeAttribute=function(c,e,g){(e=e.getAttribute(c))&&g.setAttribute(c,e)};G.prototype.parseDuration=function(c){if(!c)return-1;if(isNaN(parseFloat(c))&&isFinite(c))return parseInt(c,
10);var e=c.split(":");if(3!==e.length)return-1;var g=e[2].split(".");c=parseInt(g[0],10);2===g.length&&(c+=parseFloat("0."+g[1]));g=parseInt(60*e[1],10);e=parseInt(3600*e[0],10);return isNaN(e)||isNaN(g)||isNaN(c)||3600<g||60<c?-1:e+g+c};G.prototype.parseBoolean=function(c,e){return-1<["true","1"].indexOf((c+"").toLowerCase())?!0:-1<["false","0"].indexOf((c+"").toLowerCase())?!1:e||!1};G.prototype.childByName=function(c,e){for(var g=0;g<c.childNodes.length;g++){var b=c.childNodes[g];if(b.nodeName===
e)return b}return null};G.prototype.childsByName=function(c,e){for(var g=[],b=0;b<c.childNodes.length;b++){var d=c.childNodes[b];d.nodeName===e&&g.push(d)}return g};G.prototype.parseNextWrapperURL=function(c){var e=null,g=this.childByName(c,"VASTAdTagURI");g?e=this.parseNodeText(g):(g=this.childByName(c,"VASTAdTagURL"))&&(e=this.parseNodeText(this.childByName(g,"URL")));return e};G.prototype.parseWrapperElement=function(c){var e=this.parseInLineElement(c);e.nextWrapperURL=this.parseNextWrapperURL(c);
c=e.creatives;for(var g=0;g<c.length;g++){var b=c[g],d=null;if("linear"===b.type||"nonlinear"===b.type)if(d=b)d.trackingEvents&&(e.trackingEvents||(e.trackingEvents={}),e.trackingEvents[d.type]=d.trackingEvents),d.videoClickTrackingURLTemplates&&(e.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates),d.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=d.videoClickThroughURLTemplate),d.videoCustomClickURLTemplates&&(e.videoCustomClickURLTemplates=d.videoCustomClickURLTemplates)}return e.nextWrapperURL?
e:null};G.prototype.parseSkipOffset=function(c,e){var g=null;(g=e.getAttribute("skipoffset"))?"%"===g.charAt(g.length-1)&&-1!==c.duration?(percent=parseInt(g,10),g=percent/100*c.duration):g=this.parseDuration(g):g=null;return g};G.prototype.parseVideoClicks=function(c){var e={videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[]};if(c=this.childByName(c,"VideoClicks")){e.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(c,"ClickThrough"));for(var g=this.childsByName(c,"ClickTracking"),
b=0;b<g.length;b++)e.videoClickTrackingURLTemplates.push(this.parseNodeText(g[b]));c=this.childsByName(c,"CustomClick");for(g=0;g<c.length;g++)e.videoCustomClickURLTemplates.push(this.parseNodeText(c[g]))}return e};G.prototype.parseTrackingEvents=function(c){var e={};c=this.childsByName(c,"TrackingEvents");for(var g=0;g<c.length;g++)for(var b=this.childsByName(c[g],"Tracking"),d=0;d<b.length;d++){var a=b[d],f=a.getAttribute("event"),l=this.parseNodeText(a);if(f&&l){if("progress"===f){a=a.getAttribute("offset");
if(!a)continue;f="%"===a.charAt(a.length-1)?"progress-"+a:"progress-"+Math.round(this.parseDuration(a))}e[f]||(e[f]=[]);e[f].push(l)}}return e};G.prototype.parseMediaFileScalable=function(c){return(c=c.getAttribute("scalable"))&&"string"===typeof c&&(c=c.toLowerCase(),"false"===c)?!1:!0};G.prototype.parseMediaFileMaintainAspectRatio=function(c){return(c=c.getAttribute("maintainAspectRatio"))&&"string"===typeof c&&(c=c.toLowerCase(),"false"===c)?!1:!0};G.prototype.parseMediaFiles=function(c){var e=
[];c=this.childsByName(c,"MediaFiles");for(var g=0;g<c.length;g++)for(var b=this.childsByName(c[g],"MediaFile"),d=0;d<b.length;d++){var a=b[d],f=new w;f.id=a.getAttribute("id");f.fileURL=this.parseNodeText(a);f.deliveryType=a.getAttribute("delivery");f.codec=a.getAttribute("codec");f.mimeType=a.getAttribute("type");f.apiFramework=a.getAttribute("apiFramework");f.bitrate=parseInt(a.getAttribute("bitrate")||0,10);f.minBitrate=parseInt(a.getAttribute("minBitrate")||0,10);f.maxBitrate=parseInt(a.getAttribute("maxBitrate")||
0,10);f.width=parseInt(a.getAttribute("width")||0,10);f.height=parseInt(a.getAttribute("height")||0,10);f.scalable=this.parseMediaFileScalable(a);f.maintainAspectRatio=this.parseMediaFileMaintainAspectRatio(a);e.push(f)}return e};G.prototype.parseIcons=function(c){var e=[];if(c=this.childByName(c,"Icons")){c=this.childsByName(c,"Icon");for(var g=0;g<c.length;g++){var b=c[g],d=new l;d.program=b.getAttribute("program");d.height=parseInt(b.getAttribute("height"),10)||0;d.width=parseInt(b.getAttribute("width"),
10)||0;d.xPosition=this.parseXPosition(b.getAttribute("xPosition"));d.yPosition=this.parseYPosition(b.getAttribute("yPosition"));d.apiFramework=b.getAttribute("apiFramework");d.offset=this.parseDuration(b.getAttribute("offset"));d.duration=this.parseDuration(b.getAttribute("duration"));var d=T.extend(d,this.parseResourceAdType(b)),a=this.childByName(b,"IconClicks");if(a){d.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"IconClickThrough"));for(var a=this.childsByName(a,"IconClickTracking"),
f=0;f<a.length;f++)d.iconClickTrackingURLTemplates.push(this.parseNodeText(a[f]))}d.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(b,"IconViewTracking"));e.push(d)}}return e};G.prototype.parseCreativeLinearElement=function(c,e){e=void 0===e?{}:e;var g=new J(e);g.duration=this.parseDuration(this.parseNodeText(this.childByName(c,"Duration")));g.skipDelay=this.parseSkipOffset(g,c);var b=this.parseVideoClicks(c);g.videoClickThroughURLTemplate=b.videoClickThroughURLTemplate;g.videoClickTrackingURLTemplates=
g.videoClickTrackingURLTemplates.concat(b.videoClickTrackingURLTemplates);g.videoCustomClickURLTemplates=g.videoCustomClickURLTemplates.concat(b.videoCustomClickURLTemplates);g.trackingEvents=this.parseTrackingEvents(c);g.mediaFiles=g.mediaFiles.concat(this.parseMediaFiles(c));g.icons=g.icons.concat(this.parseIcons(c));if(b=this.childByName(c,"AdParameters"))for(g.adParameters=this.parseNodeText(b),b=0;b<g.mediaFiles.length;b++)g.mediaFiles[b].adParameters=g.adParameters;return g};G.prototype.parseResourceAdType=
function(c){for(var e={},g=this.childsByName(c,"HTMLResource"),b=0;b<g.length;b++){var d=g[b];e.type=d.getAttribute("creativeType")||"text/html";e.htmlResource=this.parseNodeText(d)}g=this.childsByName(c,"IFrameResource");for(b=0;b<g.length;b++)d=g[b],e.type=d.getAttribute("creativeType")||0,e.iframeResource=this.parseNodeText(d);c=this.childsByName(c,"StaticResource");for(g=0;g<c.length;g++)b=c[g],e.type=b.getAttribute("creativeType")||0,e.staticResource=this.parseNodeText(b);return e};G.prototype.parseNonLinear=
function(c,e){e=void 0===e?{}:e;var g=new X(e);g.trackingEvents=this.parseTrackingEvents(c);for(var b=this.childsByName(c,"NonLinear"),d=0;d<b.length;d++){var a=b[d],f=new F;f.id=a.getAttribute("id")||null;f.width=a.getAttribute("width");f.height=a.getAttribute("height");f.expandedWidth=a.getAttribute("expandedWidth");f.expandedHeight=a.getAttribute("expandedHeight");f.scalable=this.parseBoolean(a.getAttribute("scalable"));f.maintainAspectRatio=this.parseBoolean(a.getAttribute("maintainAspectRatio"));
f.minSuggestedDuration=a.getAttribute("minSuggestedDuration");f.apiFramework=a.getAttribute("apiFramework");var f=T.extend(f,this.parseResourceAdType(a)),l=this.childByName(a,"AdParameters");l&&(f.adParameters=this.parseNodeText(l));f.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"NonLinearClickThrough"));a=z.makeIterator(this.childsByName(a,"NonLinearClickTracking"));for(l=a.next();!l.done;l=a.next())f.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(l.value));
g.variations.push(f)}return g};G.prototype.parseCompanionAd=function(c,g){g=void 0===g?{}:g;for(var l=new S(g),b=this.childsByName(c,"Companion"),d=0;d<b.length;d++){var a=b[d],f=new e;f.id=a.getAttribute("id")||null;f.width=a.getAttribute("width");f.height=a.getAttribute("height");f.companionClickTrackingURLTemplates=[];for(var f=T.extend(f,this.parseResourceAdType(a)),n=this.childsByName(a,"TrackingEvents"),q=0;q<n.length;q++)for(var r=this.childsByName(n[q],"Tracking"),m=0;m<r.length;m++){var k=
r[m],v=k.getAttribute("event"),k=this.parseNodeText(k);v&&k&&(f.trackingEvents[v]||(f.trackingEvents[v]=[]),f.trackingEvents[v].push(k))}n=z.makeIterator(this.childsByName(a,"CompanionClickTracking"));for(q=n.next();!q.done;q=n.next())f.companionClickTrackingURLTemplates.push(this.parseNodeText(q.value));f.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickThrough"));f.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(a,"CompanionClickTracking"));
l.variations.push(f)}return l};G.prototype.parseCreativeAdIdAttribute=function(c){if(!c.hasAttributes())return null;c=z.makeIterator(Array.prototype.slice.call(c.attributes));for(var e=c.next();!e.done;e=c.next())if(e=e.value,"adid"===e.name.toLowerCase())return e.value;return null};G.prototype.parseCreativeElement=function(c,e){for(var g=this.childsByName(e,"Creative"),b=0;b<g.length;b++)for(var d=g[b],a=d.childNodes,d={id:d.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(d),sequence:parseInt(d.getAttribute("sequence"),
10),apiFramework:d.getAttribute("apiFramework")||null},f=0;f<a.length;f++){var l=a[f],n=null;switch(l.nodeName){case "Linear":n=this.parseCreativeLinearElement(l,d);break;case "NonLinearAds":n=this.parseNonLinear(l,d);break;case "CompanionAds":n=this.parseCompanionAd(l,d)}n&&c.creatives.push(n)}};G.prototype.parseExtensionChild=function(c,e){for(var g=e.childNodes,b=0;b<g.length;b++){var d=g[b],a=this.parseNodeText(d);if("#comment"!==d.nodeName&&""!==a||d.attributes){var f=new ba;f.name=d.nodeName;
f.value=a;if(d.attributes)for(var a=d.attributes,l=0;l<a.length;l++){var n=a[l];f.attributes[n.nodeName]=n.nodeValue}d.childNodes&&0<d.childNodes.length&&this.parseExtensionChild(f.children,d);c.push(f)}}};G.prototype.parseExtension=function(e,g){for(var l=0;l<g.length;l++){var b=g[l],d=new c;if(b.attributes)for(var a=b.attributes,f=0;f<a.length;f++){var n=a[f];d.attributes[n.nodeName]=n.nodeValue}this.parseExtensionChild(d.children,b);e.push(d)}};G.prototype.parseAdVerifications=function(c,e){for(var g=
0;g<e.length;g++){var b=e[g],d=new n,a={};d.vendor=b.getAttribute("vendor")||null;var f=this.childByName(b,"JavaScriptResource");if(f&&(a.url=this.parseNodeText(f),a.apiFramework=f.getAttribute("apiFramework")||"VPAID",d.javascriptResource=a,(b=this.childByName(b,"AdParameters"))&&b.hasChildNodes()))for(var l in b.childNodes)a=b.childNodes[l],a.nodeType===Node.ELEMENT_NODE&&(d.adParameters||(d.adParameters={}),d.adParameters[a.nodeName]=this.parseNodeText(a));c.push(d)}};G.prototype.parseInLineElement=
function(c){var e=new Q;e.id=c.getAttribute("id")||null;e.sequence=parseInt(c.getAttribute("sequence"),10);e.fallbackType=c.getAttribute("fallbackType")||"replace";e.fallbackOnNoAd=this.parseBoolean(c.getAttribute("fallbackOnNoAd"),!1);e.followAdditionalWrappers=this.parseBoolean(c.getAttribute("followAdditionalWrappers"),!0);e.allowMultipleAds=this.parseBoolean(c.getAttribute("allowMultipleAds"),!1);c=c.childNodes;for(var g=0;g<c.length;g++){var b=c[g];switch(b.nodeName){case "Error":(b=this.parseNodeText(b))&&
b.length&&e.errorURLTemplates.push(b);break;case "Impression":e.impressionURLTemplates.push(this.parseNodeText(b));break;case "AdVerifications":this.parseAdVerifications(e.adVerifications,this.childsByName(b,"Verification"));break;case "Creatives":this.parseCreativeElement(e,b);break;case "Extensions":this.parseExtension(e.extensions,this.childsByName(b,"Extension"));break;case "AdSystem":e.system={value:this.parseNodeText(b),version:b.getAttribute("version")||null};break;case "AdTitle":e.title=this.parseNodeText(b);
break;case "Description":e.description=this.parseNodeText(b);break;case "Advertiser":e.advertiser=this.parseNodeText(b);break;case "Pricing":e.pricing={value:this.parseNodeText(b),model:b.getAttribute("model")||null,currency:b.getAttribute("currency")||null};break;case "Survey":e.survey=this.parseNodeText(b)}}return e};G.prototype.parseAdElement=function(c){for(var e=c.childNodes,g=0;g<e.length;g++){var b=e[g];if("Wrapper"===b.nodeName||"InLine"===b.nodeName){this.copyNodeAttribute("id",c,b);this.copyNodeAttribute("sequence",
c,b);this.copyNodeAttribute("fallbackOnNoAd",c,b);this.copyNodeAttribute("fallbackType",c,b);this.copyNodeAttribute("followAdditionalWrappers",c,b);this.copyNodeAttribute("allowMultipleAds",c,b);if("Wrapper"===b.nodeName)return this.parseWrapperElement(b);if("InLine"===b.nodeName)return this.parseInLineElement(b)}}return null};G.prototype.mergeWrapperAdData=function(c,e){c.wrappers=e.wrappers.concat(c.wrappers);c.errorURLTemplates=e.errorURLTemplates.concat(c.errorURLTemplates);c.impressionURLTemplates=
e.impressionURLTemplates.concat(c.impressionURLTemplates);c.extensions=e.extensions.concat(c.extensions);c.sequence=e.sequence;c.fallbackType=e.fallbackType;c.fallbackOnNoAd=e.fallbackOnNoAd||this.parseBoolean(c.fallbackOnNoAd,!1);c.followAdditionalWrappers=e.followAdditionalWrappers||this.parseBoolean(c.followAdditionalWrappers,!0);c.allowMultipleAds=e.allowMultipleAds||this.parseBoolean(c.allowMultipleAds,!1);var g=e.creatives.filter(function(b){return"companion"===b.type}).shift(),b=c.creatives.filter(function(b){return"companion"===
b.type}).shift();g&&b?b.variations=g.variations.concat(b.variations):g&&!b&&(b=new S,b.variations=g.variations.concat(b.variations),c.creatives.push(b));e.trackingEvents&&c.creatives.map(function(b){e.trackingEvents[b.type]&&Object.keys(e.trackingEvents[b.type]).map(function(a){b.trackingEvents[a]||(b.trackingEvents[a]=[]);b.trackingEvents[a]=b.trackingEvents[a].concat(e.trackingEvents[b.type][a])})});e.videoClickTrackingURLTemplates&&c.creatives.map(function(b){"linear"===b.type&&(b.videoClickTrackingURLTemplates=
b.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates))});e.videoClickThroughURLTemplate&&c.creatives.map(function(b){"linear"!==b.type||b.videoClickThroughURLTemplate||(b.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)})};G.prototype.urlResponseHandler=function(c,e,g,b,d,a){function f(){for(var a=m.ads.length-1;0<=a;a--){var c=m.ads[a];if(c.nextWrapperURL){a=JSON.parse(JSON.stringify(c));c.VASTAdTagURI=e[1];c.wrappers.push(a);for(c=n.wrapperCallbackHandlers.length-
1;0<=c;c--)(0,n.wrapperCallbackHandlers[c])(a,n.currentWrapperDepth);return}}l();0===r?0===m.ads.length?(n.trackError(m,m.errorURLTemplates,303),b(d,m)):(m.ads.filter(function(a){return!n.isBrokenAd(a)}).map(function(a){a.creatives.map(function(b){var c=0<(b.mediaFiles||[]).filter(function(a){return!q.isSecureURL(a.fileURL)}).length;b=0<(b.variations||[]).filter(function(a){return!q.isSecureURL(a.fileURL)}).length;n.blockInsecureURL&&(c||b)&&(a.errorCode=405)})}),m.ads.map(function(a){var b=void 0;
n.hasValidCreatives(a)||(b=400);n.isBrokenAd(a)&&(b=303);!isNaN(b)&&isNaN(a.errorCode)&&a.fetched&&(a.errorCode=b)}),n.handleFallbackOnNoAdFlag(m.ads),c=m.ads.filter(function(a){return!1===a.fetched&&!a.hasError}),0===m.ads.filter(function(a){return a.hasError&&a.fallbackOnNoAd}).length&&(c=[]),0<c.length?(c=c.shift(),a=m.ads.indexOf(c),c.fetch(function(a,b){0<b.ads.length&&(m.ads[a]=b.ads[0]);f()}.bind(n,a))):(n.deleteNeedlessBuffetAds(m.ads),m.ads.sort(n.bySequence),1===m.ads.length&&m.ads[0].errorCode&&
(0===m.errorURLTemplates.length?n.trackError(m,m.ads[0].errorURLTemplates,m.ads[0].errorCode):n.trackError(m,m.errorURLTemplates,m.ads[0].errorCode),m.ads.splice(0,1)),b(d,m))):b(d,m)}function l(){0!==m.ads.length&&(m.ads.map(function(a){m.errorURLTemplates.map(function(b){-1===a.errorURLTemplates.indexOf(b)&&a.errorURLTemplates.push(b)})}),m.errorURLTemplates=[])}var n=this,r=this.currentWrapperDepth++;if(d)return b(d);delete g.response;var m=new v;if(!a||!a.documentElement||"VAST"!==a.documentElement.nodeName)return b();
for(var k=0;k<a.documentElement.childNodes.length;k++){var w=a.documentElement.childNodes[k];"Error"===w.nodeName&&m.errorURLTemplates.push(this.parseNodeText(w))}for(k=0;k<a.documentElement.childNodes.length;k++)w=a.documentElement.childNodes[k],"Ad"===w.nodeName&&((w=this.parseAdElement(w))?(w.url=w.nextWrapperURL?E.resolveAdTagURI(w.nextWrapperURL,c):c,w.fetched=!0,m.ads.push(w)):this.trackError(m,m.errorURLTemplates,101));a=m.ads.length;for(k={$jscomp$this$6:void 0};a--;)k.$jscomp$this$6=this,
w=m.ads[a],w.nextWrapperURL&&(function(a){return function(b){if(e.length-1>=a.$jscomp$this$6.maxWrapperDepth||b.nextWrapperURL in e)b.errorCode=302,delete b.nextWrapperURL;else if(b.followAdditionalWrappers){c&&(b.nextWrapperURL=E.resolveAdTagURI(b.nextWrapperURL,c));var d=function(c,d){delete b.nextWrapperURL;if(c)return b.errorCode=c.errorCode||301,c.message&&-1!==c.message.indexOf("Invalid URL")&&(b.errorCode=303),f();d&&d.errorURLTemplates&&(m.errorURLTemplates=m.errorURLTemplates.concat(d.errorURLTemplates));
if(d&&0!==d.ads.length){var g=m.ads.indexOf(b);m.ads.splice(g,1);d.ads.map(function(a){return function(c){a.$jscomp$this$6.mergeWrapperAdData(c,b);c.VASTAdTagURI=e[1];m.ads.splice(++g,0,c)}}(a))}else b.creatives=[];return f()},k=0<m.ads.filter(function(a){return!isNaN(a.sequence)}).length;isNaN(b.sequence)&&!g.prefetchBuffets&&k?(d=new v,b.fetched=!1,b.fetchURL=b.nextWrapperURL,delete b.nextWrapperURL,b.fetch=function(a){return function(c){a.$jscomp$this$6.parse(b.fetchURL,g,function(d,e){if(0<e.ads.length)e.ads.map(function(a){return function(c){a.$jscomp$this$6.mergeWrapperAdData(c,
b);c.VASTAdTagURI=b.url}}(a));else{var f=new Q;f.errorURLTemplates=b.errorURLTemplates.concat(e.errorURLTemplates);f.errorCode=303;f.sequence=b.sequence;f.fetched=!0;f.fallbackOnNoAd=!0;e.ads.push(f)}c(e)},e)}}(a),d.ads.push(b)):a.$jscomp$this$6.parse(b.nextWrapperURL,g,d.bind(a.$jscomp$this$6),e)}else delete b.nextWrapperURL,a.$jscomp$this$6.isBrokenAd(b)&&isNaN(b.errorCode)&&(b.errorCode=303)}}(k)(w),k={$jscomp$this$6:k.$jscomp$this$6});return f()};G.prototype.handleFallbackOnNoAdFlag=function(c){var e=
this;c.sort(this.bySequence);var g=c.filter(function(a){return isNaN(a.sequence)&&!e.isBrokenAd(a)}),b=c.filter(function(a){return e.isBrokenAd(a)&&a.fallbackOnNoAd&&a.sequence&&!a.replaced}),d=c.filter(function(a){return a.fallbackOnNoAd&&a.sequence});if(0!==d.length){var a=parseInt(d[d.length-1].sequence,10);if(0===b.length)return this.deleteNeedlessBuffetAds(c);b.forEach(function(b){var d=g.shift();if(d){var e=c.indexOf(b);d.sequence=b.sequence+.1;b.fallbackType&&"waterfall"===b.fallbackType&&
(e=c.indexOf(d),d.sequence=a++);b.replaced=!0;c.splice(e,d)}})}};G.prototype.deleteNeedlessBuffetAds=function(c){if(0!==c.length&&!isNaN(c[0].sequence))for(var e=c.length;e--;)isNaN(c[e].sequence)&&c.splice(e,1)};G.prototype.bySequence=function(c,e){return c.sequence-e.sequence||(c.sequence||Infinity)-(e.sequence||Infinity)||0};G.prototype.hasValidCreatives=function(c){return 0<c.creatives.filter(function(c,e,b){return 0<b.length&&(c.mediaFiles&&0<c.mediaFiles.length||c.variations&&0<c.variations.length)}).length};
G.prototype.isBrokenAd=function(c){return!c||c.hasError||c.fetched&&!this.hasValidCreatives(c)};G.prototype.getClosestIndexOfNextValidAd=function(c,e){var g=this,b=Infinity;c.map(function(c,a){var f=Math.abs(b-e),h=Math.abs(a-e);!g.isBrokenAd(c)&&h<f&&a!==e&&(b=a)});return Infinity===b?-1:b};G.prototype.parse=function(c,e,g,b){e=void 0===e?{}:e;b=void 0===b?[]:b;var d=c;g=void 0===g?function(){}:g;var a=e;"function"===typeof e&&(g=e,a={});this.blockInsecureURL=a.blockInsecureURL||!1;this.maxWrapperDepth=
a.maxWrapperDepth||10;for(e=this.URLTemplateFilters.length-1;0<=e;e--)d=(0,this.URLTemplateFilters[e])(c);b.push(d);this.blockInsecureURL&&!q.isSecureURL(d)?g({errorCode:310,errorMessage:"Mixed Content: This request has been blocked; the ad-request must be served over HTTPS."},null):(new P).get(d,a,this.urlResponseHandler.bind(this,c,b,a,g))};window.VASTParser=G})();})();
