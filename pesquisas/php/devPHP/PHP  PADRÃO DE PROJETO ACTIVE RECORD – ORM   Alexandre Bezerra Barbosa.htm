<!DOCTYPE html>
<html class="wf-lato-n7-active wf-ubuntu-n4-active wf-ubuntu-n7-active wf-ubuntu-i4-active wf-ubuntu-i7-active wf-active" lang="pt-BR"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM | Alexandre Bezerra Barbosa</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://alexandrebbarbosa.wordpress.com/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://s2.wp.com/wp-content/themes/pub/expound/js/html5.js" type="text/javascript"></script>
<![endif]-->

<script src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/client.js" async="" type="text/javascript"></script><script type="text/javascript" async="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/recaptcha__pt_br.js"></script><script type="text/javascript" async="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/platform.js"></script><script src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/webfont.js" type="text/javascript" async=""></script><script type="text/javascript">
  WebFontConfig = {"google":{"families":["Lato:b:latin,latin-ext","Ubuntu:r,i,b,bi:latin,latin-ext"]}};
  (function() {
    var wf = document.createElement('script');
    wf.src = 'https://s0.wp.com/wp-content/plugins/custom-fonts/js/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
	})();
</script><style id="jetpack-custom-fonts-css">.wf-active body{font-family:"Ubuntu",sans-serif}.wf-active button, .wf-active input, .wf-active select, .wf-active textarea{font-family:"Ubuntu",sans-serif}.wf-active blockquote{font-family:"Ubuntu",sans-serif}.wf-active body{font-family:"Ubuntu",sans-serif}.wf-active th{font-weight:700;font-family:"Lato",sans-serif;font-style:normal}.wf-active h1, .wf-active h2, .wf-active h3{font-weight:700;font-family:"Lato",sans-serif;font-style:normal}.wf-active h1{font-style:normal;font-weight:700}.wf-active h2{font-style:normal;font-weight:700}.wf-active h3{font-style:normal;font-weight:700}.wf-active h4, .wf-active h5, .wf-active h6{font-weight:700;font-style:normal}.wf-active .site-title{font-family:"Lato",sans-serif;font-style:normal;font-weight:700}.wf-active .site-description, .wf-active .single .site-content .related-content .entry-title{font-weight:700;font-style:normal}.wf-active .featured-content .entry-title, .wf-active .site-content .entry-title, .wf-active .featured-content-secondary .entry-title, .wf-active .comments-area #reply-title, .wf-active .comments-area .comments-title{font-style:normal;font-weight:700}.wf-active .comments-area footer .comment-author{font-family:"Lato",sans-serif;font-style:normal;font-weight:700}.wf-active .single .site-content .entry-title{font-style:normal;font-weight:700}.wf-active .widget-area .widget-title{font-style:normal;font-weight:700}@media only screen and (max-width : 900px){.wf-active .main-small-navigation .menu-toggle{font-style:normal;font-weight:700}}</style>
<link rel="dns-prefetch" href="https://s2.wp.com/">
<link rel="dns-prefetch" href="https://s1.wp.com/">
<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://s.pubmine.com/">
<link rel="dns-prefetch" href="https://x.bidswitch.net/">
<link rel="dns-prefetch" href="https://static.criteo.net/">
<link rel="dns-prefetch" href="https://ib.adnxs.com/">
<link rel="dns-prefetch" href="https://aax.amazon-adsystem.com/">
<link rel="dns-prefetch" href="https://bidder.criteo.com/">
<link rel="dns-prefetch" href="https://cas.criteo.com/">
<link rel="dns-prefetch" href="https://gum.criteo.com/">
<link rel="dns-prefetch" href="https://ads.pubmatic.com/">
<link rel="dns-prefetch" href="https://gads.pubmatic.com/">
<link rel="dns-prefetch" href="https://tpc.googlesyndication.com/">
<link rel="dns-prefetch" href="https://ad.doubleclick.net/">
<link rel="dns-prefetch" href="https://googleads.g.doubleclick.net/">
<link rel="dns-prefetch" href="https://www.googletagservices.com/">
<link rel="dns-prefetch" href="https://cdn.switchadhub.com/">
<link rel="dns-prefetch" href="https://delivery.g.switchadhub.com/">
<link rel="dns-prefetch" href="https://delivery.swid.switchadhub.com/">
<link rel="alternate" type="application/rss+xml" title="Feed para Alexandre Bezerra Barbosa »" href="https://alexandrebbarbosa.wordpress.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Feed de comentários para Alexandre Bezerra Barbosa »" href="https://alexandrebbarbosa.wordpress.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Feed de comentários para Alexandre Bezerra Barbosa » PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/feed/">
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s2.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1516999477h&ver=4.9.7-alpha-43298"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="all-css-0-1" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a.css" type="text/css" media="all">
<link rel="stylesheet" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/css.css" media="all"><script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a_004.js"></script>
<link rel="stylesheet" id="all-css-0-2" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/style.css" type="text/css" media="all">
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://alexandrebbarbosa.wordpress.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="PHP:: PDO – CONEXÃO CONFORME PADRÕES SINGLETON E FACTORY" href="https://alexandrebbarbosa.wordpress.com/2017/10/27/php-pdo-conexao-conforme-padroes-singleton-e-factory/">
<meta name="generator" content="WordPress.com">
<link rel="canonical" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a_004.htm">
<link rel="shortlink" href="https://wp.me/p4EnVI-aC">
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F&amp;for=wpcom-auto-discovery"><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F&amp;for=wpcom-auto-discovery">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM">
<meta property="og:url" content="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/">
<meta property="og:description" content="Active Record é um padrão de projeto que trabalha com a técnica ORM (Object Relational Mapper). Este padrão consiste em mapear um objeto a uma tabela do Banco da dados, a fim de tornar o trabalho c…">
<meta property="article:published_time" content="2018-01-08T21:40:48+00:00">
<meta property="article:modified_time" content="2018-01-08T21:40:48+00:00">
<meta property="og:site_name" content="Alexandre Bezerra Barbosa">
<meta property="og:image" content="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg">
<meta property="og:image:width" content="586">
<meta property="og:image:height" content="440">
<meta property="og:locale" content="pt_BR">
<meta name="twitter:site" content="@wordpressdotcom">
<meta name="twitter:text:title" content="PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM">
<meta name="twitter:image" content="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=640">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@alxbbarbosa">
<meta property="fb:app_id" content="249643311490">
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom">

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48">
<link rel="icon" type="image/x-icon" href="https://s1.wp.com/i/favicon.ico" sizes="16x16 24x24 32x32 48x48">
<link rel="apple-touch-icon-precomposed" href="https://s2.wp.com/i/webclip.png">
<link rel="openid.server" href="https://alexandrebbarbosa.wordpress.com/?openidserver=1">
<link rel="openid.delegate" href="https://alexandrebbarbosa.wordpress.com/">
<link rel="search" type="application/opensearchdescription+xml" href="https://alexandrebbarbosa.wordpress.com/osd.xml" title="Alexandre Bezerra Barbosa">
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com">
		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
				<style type="text/css">
			.recentcomments a {
				display: inline !important;
				padding: 0 !important;
				margin: 0 !important;
			}

			table.recentcommentsavatartop img.avatar, table.recentcommentsavatarend img.avatar {
				border: 0px;
				margin: 0;
			}

			table.recentcommentsavatartop a, table.recentcommentsavatarend a {
				border: 0px !important;
				background-color: transparent !important;
			}

			td.recentcommentsavatarend, td.recentcommentsavatartop {
				padding: 0px 0px 1px 0px;
				margin: 0px;
			}

			td.recentcommentstextend {
				border: none !important;
				padding: 0px 0px 2px 10px;
			}

			.rtl td.recentcommentstextend {
				padding: 0px 10px 2px 0px;
			}

			td.recentcommentstexttop {
				border: none;
				padding: 0px 0px 0px 10px;
			}

			.rtl td.recentcommentstexttop {
				padding: 0px 10px 0px 0px;
			}
		</style>
		<meta name="application-name" content="Alexandre Bezerra Barbosa"><meta name="msapplication-window" content="width=device-width;height=device-height"><meta name="msapplication-tooltip" content="Compartilhando conhecimento de TI"><meta name="msapplication-task" content="name=Assinar;action-uri=https://alexandrebbarbosa.wordpress.com/feed/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=Registre um blog gratuito;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=Suporte do WordPress.com;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Fóruns;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="description" content="Active Record é um padrão de projeto que trabalha com a técnica ORM (Object Relational Mapper). Este padrão consiste em mapear um objeto a uma tabela do Banco da dados, a fim de tornar o trabalho com os dados persistido em um banco de dados, totalmente orientado a objetos. Alguns explicam isso como sendo relacionar…">
	<style type="text/css">
	        .site-title a,
        .site-title a:hover,
        .site-description {
			color: #3a3a3a;
        }
	
			.site-header .site-branding {
			background-color: transparent;
			background-image: url('https://alexandrebbarbosa.files.wordpress.com/2016/01/cropped-banner2016b.jpg');
			background-position: 50% 0;
			background-repeat: no-repeat;
			height: 154px;
		}
		</style>
	<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://alexandrebbarbosa.files.wordpress.com/2016/09/fundo_preto1.jpg"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
		<script type="text/javascript">
		var __ATA_PP = { pt: 1, ht: 0, tn: 'expound', amp: false, siteid: 8982, consent: 0 };
		var __ATA = __ATA || {};
		__ATA.cmd = __ATA.cmd || [];
		__ATA.criteo = __ATA.criteo || {};
		__ATA.criteo.cmd = __ATA.criteo.cmd || [];
		</script>
		<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/head.js" async=""></script><link rel="amphtml" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/amp/"><link rel="stylesheet" type="text/css" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/shCore.css"><link rel="stylesheet" type="text/css" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<script type="text/javascript">
	window.google_analytics_uacct = "UA-52447-2";
</script>

<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-52447-2']);
	_gaq.push(['_setDomainName', 'wordpress.com']);
	_gaq.push(['_initData']);
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})();
</script><script type="text/javascript" async="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ga.js"></script>
<style type="text/css"></style><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/services.css"><script src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/outstream.js" async=""></script><style type="text/css">.iowo-adv {overflow: hidden;}.iowo-adv__header {font-family: "Helvetica", Arial, sans-serif !important;font-size: 11.5px !important;text-align: center;position: relative;padding: 5px 0px;letter-spacing: 0.3px !important;font-weight: 300 !important;text-transform: uppercase;color: #aaa}.iowo-adv__close-icon {width: 24px;height: 24px;position: absolute;right: 10px;top: 34px;z-index:10;cursor: pointer;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4gMQDS4lyDpzXgAAAKlJREFUWMPVV1sOgCAMo9yZU3Bo/THGRKaylTXuF9YW9mCgtbaVw3rvKAl25azWQgb5TcBqESNsWAvscFgceNuwkvy8gZUi3jAx68AkHwpgifiKgShA1BcsIK8PmKfxCKZdqTdkYCRVJF/CmT2ymYoBo7Yj5UprMN6GVYvY/hUCaRJKy1DaiKStWPoYSZ9j6UAiHcmkQ6l0LJd+TDLIn0TULHILu2aRWxw7NqDQ4pqt7KcAAAAASUVORK5CYII=");background-size: contain;}.iowo-adv__close-icon_touch {left: 10px;}.iowo-adv__sound-icon {width: 32px;cursor: pointer;height: 32px;position: absolute;bottom:12px;right:5px;}.iowo-adv__sound-icon_on {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QYcDigM2jawiwAAAbhJREFUWMPtl7FLHFEQxr+ZtwTytLDwmjSnhf+AYrpUBwGvS7F2YqFNQNjieCnsTlPscdxdZ2MVCORIEewMwf/AlEkRCRaSKqQMCrnbGZtVLPRye2/dJcSpdos33292vjfvLfAQ/3tQHkkajcYqM68YY3bjOD7NsjbwFXfOhSLyDgAPBgMBsJFlPXuK10TkLTNf5ZnKmoM9PvuSqh4w8yOfInjCyhcAHBLRtG8LeQLxJyLyiZkreRg4E0AURTOq+pGZ5/LahsEodwN4A+Dxfc6BUdsw9BF3zkWqOq2q+51O5+ckLWDP4p4R0Wtm/uqcW7wvkXFiVkT6YRiaQgGGw+Gaqn4AAGZeqFarTwsF6PV6F0R0eH3oEFUKBXDO1QBsX70bY74U7YGXAObT5/5dp2QRJuyLyGbmOaCq50Re14XYGPPqb/eDOwGCINhJkkRvHrGqOkNEtXHU2+32Z69JGMfxdwDrt5hrL+1vLpHZA9baLQDvSwNoNptirV0DcFQKQArxx1r7AsBxKQApxO8kSeoi8q0UAADodru/giB4LiI/0pl/UigAALRarTMiWhaRurV25+FX65+LSxNniSadskJNAAAAAElFTkSuQmCC");}.iowo-adv__sound-icon_off {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAdBJREFUWIXt1b9r1GAcx/HP840u94jo6mD/Aae24I9NHZSCi5NDO5TO7fLkCTgdt15y4C6IdHFwEpxscRHc1dHB0UFBOvToks/Xxch53j3JExNB6XcMz+X1Ti5PApzO/zLD4fBMm99JF7hzbm86nZ6kafp02Rrv/apz7mrnAd77LRF5BCBR1fvLcJKHIvIqy7JrnQV47zdIPgFgAEBEfjvfDH4RwHmSW50EZFl2g+RzEfn535P8FsABYN9au/vHAc65K2VZvhSRwQz+JUmSjRA+GAy2R6MRZ89lWuArAN6KyKU5/PZ4PP4QgwNAcOs4524ZYy7/UmzMQwBLcefcGsmDJjgQuAPe+5sAXocCF+EAGuNA4BlQ1ZW+8WDA38BbBXSJRwfU4SSnMThQswvqcBE5BHChWiMiGoMDDe9AE7zt1Ab0idcG9I0HA0i+6xsHGn4LvPfrAA4a4Md5np+LCah9BuZxVX1G8mMM0jpgwZXvW2s3AdwB8LnXgEV49ZKZTCafVPUuyaNeAkJ4taYoivcico/kSacBTfBq8jx/Y4x5AKD8caicXxMdoKpnSSZ1eDVFUbwwxuwA+Kqqj2MDFm7DNE2vA9i01u7GvttP55+b71U6NuXe6u9vAAAAAElFTkSuQmCC");}.iowo-adv__timer {position: absolute;bottom:5px;left:5px;min-width: 60px;padding: 3px;color: #aaaaaa;border-radius: 5px;font-family: sans-serif;text-align: center;background-color:black;z-index:10;}.iowo-timeline {position: absolute;bottom:0;left:0;width: 100%;height: 5px;background-color: rgba(0, 0, 0, 0.2);}.iowo-timeline__runner {position: relative;height: 5px;background-color: red;-moz-transition: .5s;-ms-transition: .5s;-o-transition: .5s;-webkit-transition: .5s;transition: .5s;transition-property: max-width;}</style><script type="text/javascript" charset="UTF-8" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ima3.js"></script><link rel="preload" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/integrator.js" as="script"><script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/integrator.js"></script></head>

<body class="post-template-default single single-post postid-658 single-format-standard custom-background mp6 customizer-styles-applied highlander-enabled highlander-light">
<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
			<a href="https://alexandrebbarbosa.wordpress.com/" class="wrapper-link">
				</a><div class="site-title-group"><a href="https://alexandrebbarbosa.wordpress.com/" class="wrapper-link">
					</a><h1 class="site-title"><a href="https://alexandrebbarbosa.wordpress.com/" class="wrapper-link"></a><a href="https://alexandrebbarbosa.wordpress.com/" title="Alexandre Bezerra Barbosa" rel="home">Alexandre Bezerra Barbosa</a></h1>
					<h2 class="site-description">Compartilhando conhecimento de TI</h2>
				</div>
			
		</div>

		<nav id="site-navigation" class="navigation-main" role="navigation">
			<h1 class="menu-toggle">Menu</h1>
			<div class="screen-reader-text skip-link"><a href="#content" title="Pular para o conteúdo">Pular para o conteúdo</a></div>

			<div class="menu-navegacao-container"><ul id="menu-navegacao" class="menu"><li id="menu-item-410" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-410"><a href="https://alexandrebbarbosa.wordpress.com/">Home</a></li>
<li id="menu-item-413" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-413"><a href="https://alexandrebbarbosa.wordpress.com/category/sistema-operacional/windows/">Windows</a></li>
<li id="menu-item-415" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-415"><a href="https://alexandrebbarbosa.wordpress.com/category/redes/suporte-tecnico/">Suporte técnico</a></li>
<li id="menu-item-417" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-417"><a href="https://alexandrebbarbosa.wordpress.com/category/linux/">Linux</a></li>
<li id="menu-item-420" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-420"><a href="https://alexandrebbarbosa.wordpress.com/category/programacao/php/">PHP</a></li>
<li id="menu-item-411" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-411"><a href="https://alexandrebbarbosa.wordpress.com/sobre/">Sobre</a></li>
</ul></div>					</nav><!-- #site-navigation -->
	</header><!-- #masthead -->

	<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

		
			
<article id="post-658" class="post-658 post type-post status-publish format-standard has-post-thumbnail hentry category-php category-programacao tag-active-record tag-banco-de-dados tag-create tag-crud tag-delete tag-design-pattern tag-insert tag-object-relational-mapper tag-orm tag-padroes-de-projetos tag-persistencia tag-php tag-update">
	<header class="entry-header">
		<h1 class="entry-title">PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM</h1>

		<div class="entry-meta">
			<a class="author" rel="author" href="https://alexandrebbarbosa.wordpress.com/author/alxbarbosa/">Alexandre Bezerra Barbosa</a> / <a class="entry-date" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/">8 de janeiro de 2018</a>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Active Record é um padrão de projeto que trabalha com a técnica ORM
 (Object Relational Mapper). Este padrão consiste em mapear um objeto a 
uma tabela do Banco da dados, a fim de tornar o trabalho com os dados 
persistido em um banco de dados, totalmente orientado a objetos. Alguns 
explicam isso como sendo relacionar um objeto Modelo (Na sua aplicação) 
com um objeto relacional (No banco de dados).<br>
Normalmente, uma classe ORM, contém no mínimo as operações de “CRUD”: 
Criar (Insert), Ler (Select), Atualizar(Update) e Excluir(Delete). Como 
diz a Wikipedia: é uma abordagem para acesso de dados num banco de 
dados.</p>
<p>Como funciona? Uma Classe representa uma Tabela no banco de dados e é
 como se estivesse “embrulhada” nesta classe, ou tecnicamente falando: 
encapsulada.</p>
<p>Para desenvolvermos uma classe assim, que seja plenamente 
reutilizável, precisamos começar pela sua interface. Vamos desenvolver 
como uma classe abstrata com métodos para tratar o seu próprio 
repositório:</p>
<h2><strong>Inciando a estrutura</strong></h2>
<p>Crie um arquivo chamado AciveRecord.php e adicione o código:</p>
<div><div id="highlighter_720343" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">abstract</code> <code class="php keyword">class</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">private</code> <code class="php variable">$content</code><code class="php plain">;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$table</code> <code class="php plain">= NULL;</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$idField</code> <code class="php plain">= NULL;</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$logTimestamp</code><code class="php plain">;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">__construct()</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(!</code><code class="php functions">is_bool</code><code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;logTimestamp)) {</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;logTimestamp = TRUE;</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;table == NULL) {</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;table = </code><code class="php functions">strtolower</code><code class="php plain">(get_class(</code><code class="php variable">$this</code><code class="php plain">));</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;idField == NULL) {</code></div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;idField = </code><code class="php string">'id'</code><code class="php plain">;</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number22 index21 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">__set(</code><code class="php variable">$parameter</code><code class="php plain">, </code><code class="php variable">$value</code><code class="php plain">)</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$parameter</code><code class="php plain">] = </code><code class="php variable">$value</code><code class="php plain">;</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">__get(</code><code class="php variable">$parameter</code><code class="php plain">)</code></div><div class="line number30 index29 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number31 index30 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$parameter</code><code class="php plain">];</code></div><div class="line number32 index31 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">__isset(</code><code class="php variable">$parameter</code><code class="php plain">)</code></div><div class="line number35 index34 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number36 index35 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">isset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$parameter</code><code class="php plain">]);</code></div><div class="line number37 index36 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">__unset(</code><code class="php variable">$parameter</code><code class="php plain">)</code></div><div class="line number40 index39 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number41 index40 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$parameter</code><code class="php plain">)) {</code></div><div class="line number42 index41 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">unset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$parameter</code><code class="php plain">]);</code></div><div class="line number43 index42 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">true;</code></div><div class="line number44 index43 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number45 index44 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">false;</code></div><div class="line number46 index45 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number47 index46 alt2">&nbsp;</div><div class="line number48 index47 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">private</code> <code class="php keyword">function</code> <code class="php plain">__clone()</code></div><div class="line number49 index48 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number50 index49 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$this</code><code class="php plain">-&gt;idField])) {</code></div><div class="line number51 index50 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">unset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$this</code><code class="php plain">-&gt;idField]);</code></div><div class="line number52 index51 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number53 index52 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">toArray()</code></div><div class="line number56 index55 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number57 index56 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$this</code><code class="php plain">-&gt;content;</code></div><div class="line number58 index57 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">fromArray(</code><code class="php keyword">array</code> <code class="php variable">$array</code><code class="php plain">)</code></div><div class="line number61 index60 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number62 index61 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;content = </code><code class="php variable">$array</code><code class="php plain">;</code></div><div class="line number63 index62 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">toJson()</code></div><div class="line number66 index65 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number67 index66 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">json_encode(</code><code class="php variable">$this</code><code class="php plain">-&gt;content);</code></div><div class="line number68 index67 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number69 index68 alt2">&nbsp;</div><div class="line number70 index69 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">fromJson(string </code><code class="php variable">$json</code><code class="php plain">)</code></div><div class="line number71 index70 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number72 index71 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$this</code><code class="php plain">-&gt;content = json_decode(</code><code class="php variable">$json</code><code class="php plain">);</code></div><div class="line number73 index72 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number74 index73 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Até aqui o que foi feito é criar um meio para tornar os atributos da 
classe totalmente dinâmico. Primeiramente são 4 atributos explícitos na 
classe. Porém, o atributo content é um array. Utilizamos métodos mágicos
 <strong>__set()</strong> e <strong>__get()</strong> para interagir com esse array e permitir a criação de atributos dinâmicos. Outros métodos mágicos como <strong>__isset()</strong> e <strong>__unset()</strong>
 tornam a experiência melhor ainda, muito semelhante a forma de se 
trabalhar com objetos standards dos php (standard class). Também 
adicionamos métodos de conversão dos atributos em content para array e 
json. Você possivelmente contará com tabelas que contém a chave primária
 com outro nome diferente de ‘id’. Por isso, o atributo idField lhe dá 
essa flexibilidade de mudar o padrão. Logo adiante, explicarei com mais 
detalhes.</p>
<p>Para testar, é necessário criar uma classe para estender 
ActiveRecord. Note, que não teríamos êxito em aproveitar bem esta classe
 para muitos projetos, se colocássemos aqui nessa classe que acabamos de
 desenvolver, todas as regras de negócio. Por isso, utilizando o 
embasamento da <strong>Layer Supertype</strong>, criamos uma tabela que 
seja a abstração das regras de negócios e validações, etc, que herda 
ActiveRecord. Você ficará convencido rapidamente sobre a eficiência 
desses padrões. Vale lembrar que o nosso Modelo (<strong>Model</strong>)
 será construído com a herança da classe ActiveRecord, ou seja, a fusão 
das duas classes. Não é atoa que excelentes frameworks de mecado 
utilizam uma implementação deste padrão.</p>
<p>Assim, crie um arquivo chamado Cliente.php e inclua este código:</p>
<div><div id="highlighter_158203" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Cliente </code><code class="php keyword">extends</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Só isso mesmo! Pois os métodos em Active Record já serão suficientes 
para o funcionamento da classe. Como ele saberá que estaremos utilizando
 determinada tabela? Note que a técnica está em ligar o nome da tabela 
ao nome da classe. Mas é válido dizer que, quando criar a tabela, ela 
deverá ter nome definido em letras minúsculas. Por enquanto não 
precisaremos.</p>
<p>Agora em um arquivo de teste, podendo ser mesmo o index.php, insira este código:</p>
<div><div id="highlighter_322064" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 1"</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua Principal"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;telefone = </code><code class="php string">"1199999999"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number11 index10 alt2"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number12 index11 alt1"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number13 index12 alt2"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="php plain">";</code></div></div></td></tr></tbody></table></div></div>
<p>O resultado irá produzir:</p>
<div data-shortcode="caption" id="attachment_676" style="width: 414px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png"><img data-attachment-id="676" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_1/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png?w=700" data-orig-size="408,341" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_1" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Primeiro Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png?w=700?w=408" class="size-full wp-image-676" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_1.png" alt="Desenvolvendo a Classe Active Record - Primeiro Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png 408w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_1.png?w=300 300w" sizes="(max-width: 408px) 100vw, 408px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Primeiro Teste</p></div>
<p>Explicando o que foi feito até agora:</p>
<p>Como você percebeu, iniciamos com a criação de três atributos: <strong>$content</strong>, <strong>$table</strong> e <strong>$idField</strong>. Note que estes atributos têm visibilidade diferente: enquanto <strong>$content</strong> é private, <strong>$table</strong>, <strong>$idField</strong> e <strong>$logTimestamp</strong> são protected. O motivo disso é que não precisaremos acessar direto o atributo <strong>$content</strong>
 de ActiveRecord, mas, apenas os elementos contidos em $content, como se
 fossem atributos dinâmicos. É por isso que estamos fazendo uso dos 
métodos mágicos <strong>__get()</strong> e <strong>__set()</strong>, que já explicarei adiante. No caso das propriedades <strong>$table</strong> e <strong>$idField</strong>,
 poderemos fazer uso nas classes filhas que estenderão ActiveRecord. Um 
grande motivo para isso seria: definir manualmente o nome da tabela ou, 
caso o campo id de nossa tabela não seja identificado como id, mas com 
outro nome, tal como código. Assim, gostaríamos dessa flexibilidade:</p>
<p>Na classe que estenderá ActiveRecord, por exemplo, a nossa Cliente, 
defina que tabela será encapsulada por Cliente. Além disso, caso a 
coluna chave primária tenha outra identificação, defina manualmente, 
como no nosso exemplo ‘codigo’:</p>
<div><div id="highlighter_456029" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Cliente </code><code class="php keyword">extends</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$table</code> <code class="php plain">= </code><code class="php string">'tb_clientes'</code><code class="php plain">;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$idField</code> <code class="php plain">= </code><code class="php string">'codigo'</code><code class="php plain">;</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$logTimestamp</code> <code class="php plain">= FALSE;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Note o resultado:</p>
<div data-shortcode="caption" id="attachment_675" style="width: 408px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png"><img data-attachment-id="675" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_2/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png?w=700" data-orig-size="402,348" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_2" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Segundo Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png?w=700?w=402" class="size-full wp-image-675" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_2.png" alt="Desenvolvendo a Classe Active Record - Primeiro Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png 402w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_2.png?w=300 300w" sizes="(max-width: 402px) 100vw, 402px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Segundo Teste</p></div>
<p>Perceba que, os atributos <strong>$idField</strong> e <strong>$table</strong> foram sobrescritos pela classe filha, como queríamos. Para ilustrar aquela flexibilidade do protected. O atributo <strong>$logTimestamp</strong>
 foi baseado na ideia do Eloquent, utilizado no Laravel. Perceba que 
este é um atributo que espera valor booleano e mantém o mesmo como sendo
 TRUE. O que ele faz? Ativa o log de data de criação e data de 
atualização dos dados, em forma de timestamp, que você verá mais 
adiante.</p>
<p>Você deve estar se perguntando se é preciso tudo isso! E a resposta é
 sim se queremos tornar nossa classe mais flexível e reutilizável 
possível! E isso ficará mais claro quando construirmos o a classe por 
completo. Mas por hora, entenda que estes atributos são importantes. 
Aqui fica um incentivo para você conhecer o Eloquent utilizado pelo 
Laravel. Mas e os métodos definidos até agora?</p>
<p>O método mágico __set($parameter, $value) interceptará todas as vezes
 que tentarmos adicionar dados ao objeto desta maneira $objeto-&gt;nome =
 “Cliente 1”. Automaticamente ele entende que $parameter significa o 
‘nome’, já $value será ‘Cliente 1’. Então podemos pegar estes dados e 
fazermos o que for necessário com eles. Em nosso método, estamos 
atribuindo ao array $content: $this-&gt;content[$parameter] = $value. 
Assim criamos um array associativo, pois nesse caso seria o mesmo que 
atribuir: $this-&gt;content[‘nome’] = ‘Cliente 1’. Se você gostou da 
idéia, pode ler mais a respeito dos métodos mágicos em <a href="http://php.net/manual/pt_BR/language.oop5.magic.php" rel="nofollow">http://php.net/manual/pt_BR/language.oop5.magic.php</a>.</p>
<p>O método mágico __get($parameter) interceptará ações de se obter um 
atributo de um objeto e em nosso caso $variavel = $objeto-&gt;nome. Esse
 mecanismo entente que $parameter significa um atributo do objeto, então
 nesse caso, seria o mesmo que chamar __get(‘nome’). Assim, temos um 
método para fazer o que for necessário quando for invocado dessa 
maneira. A nossa classe devolve o elemento no array associativo: return 
$this-&gt;content[$parameter] ou mesmo que solicitar return 
$this-&gt;content[‘nome’]. Este também, assim como outros métodos a 
seguir, estão descritos no manual do PHP:<a href="http://php.net/manual/pt_BR/language.oop5.magic.php"> http://php.net/manual/pt_BR/language.oop5.magic.php</a>.</p>
<p>Em algum momento talvez seja necessário validar se um atributo foi 
definido com a função isset(), dessa maneira: 
if(isset($objeto-&gt;nome)) { …<br>
Então entra em cena o método mágico __isset($paramter) que fará esse 
trabalho para nós. Acredito que nesse momento está começando a ficar 
meio óbivo, assim como no caso de __unset(). Se em nosso código cliente,
 invocarmos a operação unset($objeto-&gt;nome), trataremos esse processo
 no contexto do método __unset(), que nesse caso é eliminar o elemento 
da array $content.<br>
Dos métodos mágicos, o que você deve então ter voltado logo sua atenção é
 __clone(). Este método é invocado quanto se tenta clonar o objeto. 
Porque utilizaríamos esse método? Porque caso estejamos clonando um 
registro, não gostaríamos que o id fosse clonado junto, senão, não teria
 efeito nenhum. Por isso tratamos isso dentro do contexto do método 
__clone(), eliminar o elemento id da array $content.</p>
<p>Note que nossa classe está adquirindo certo nível de inteligência 
para tratar dos dados contidos na array $content, e acaba até 
funcionando como atributos dinâmicos. Isso é bom e ruim, pois poderá 
permitir atribuição de qualquer atributo indesejado e causar falhas de 
execução na dinâmica no momento em que formos persistir os dados na 
tabela. É por isso que há um atributo $recordable, que nos obriga a 
definir estes campos que poderão ser persistidos no banco.</p>
<p>Faltam explicar os métodos fromArray(array $array) e toArray(). Estes
 métodos permitem obter e extrair o conteúdo da array $content. Em 
algumas situações isso é necessário, pois você talvez necessitasse 
converter um objeto em array. Porém, se tentar fazer isso com 
ActiveRecord, não terá o efeito desejado. Assim, fromArray() e toArray()
 cobrem essa necessidade. Os métodos fromJson(string $json) e toJson(), 
trabalham de forma semelhante aos metodos anteriores, mas ao invés de 
receberem ou devolverem uma array, será um json.</p>
<p>Se desejar, pode testar dois destes métodos, com o código abaixo:</p>
<div><div id="highlighter_439625" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 1"</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua Principal"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;telefone = </code><code class="php string">"1199999999"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php comments">/*</code></div><div class="line number11 index10 alt2"><code class="php comments">echo "&lt;pre&gt;";</code></div><div class="line number12 index11 alt1"><code class="php comments">var_dump($cliente);</code></div><div class="line number13 index12 alt2"><code class="php comments">echo "&lt;/pre&gt;";</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;</code><code class="php comments">*/</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php functions">echo</code> <code class="php variable">$cliente</code><code class="php plain">-&gt;toJson();</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="php functions">echo</code> <code class="php string">'&lt;pre&gt;'</code><code class="php plain">;</code></div><div class="line number19 index18 alt2"><code class="php plain">print_r(</code><code class="php variable">$cliente</code><code class="php plain">-&gt;toArray());</code></div><div class="line number20 index19 alt1"><code class="php functions">echo</code> <code class="php string">'&lt;/pre&gt;'</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>O resultado deverá ser semelhante:</p>
<div data-shortcode="caption" id="attachment_679" style="width: 629px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png"><img data-attachment-id="679" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_3/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png?w=700" data-orig-size="623,218" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_3" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Terceiro Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png?w=700?w=623" class="size-full wp-image-679" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_3.png" alt="Desenvolvendo a Classe Active Record - Terceiro Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png 623w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_3.png?w=300 300w" sizes="(max-width: 623px) 100vw, 623px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Terceiro Teste</p></div>
<p>Já que temos os nossos campos para tratar dos atributos, agora vamos 
entrar na parte de persistência, as operações de CRUD no Active Record.</p>
<p>Um problema que precisamos estar cientes, é que dados podem ser 
informados pelo código cliente de forma incorreta para serem trabalhados
 pelas queries SQL. Por isso, antes de criar os métodos de operações 
CRUD, precisamos adicionar alguns métodos de suporte. Se são métodos de 
suporte a classe ActiveRecord então não precisam ser acessíveis, 
portanto serão “private”. Então, voltando a atenção para a classe 
ActiveRecord, adicione o método format:</p>
<div><div id="highlighter_651302" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">private</code> <code class="php keyword">function</code> <code class="php plain">format(</code><code class="php variable">$value</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php functions">is_string</code><code class="php plain">(</code><code class="php variable">$value</code><code class="php plain">) &amp;&amp; !</code><code class="php functions">empty</code><code class="php plain">(</code><code class="php variable">$value</code><code class="php plain">)) {</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php string">"'"</code> <code class="php plain">. </code><code class="php functions">addslashes</code><code class="php plain">(</code><code class="php variable">$value</code><code class="php plain">) . </code><code class="php string">"'"</code><code class="php plain">;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php keyword">if</code> <code class="php plain">(</code><code class="php functions">is_bool</code><code class="php plain">(</code><code class="php variable">$value</code><code class="php plain">)) {</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$value</code> <code class="php plain">? </code><code class="php string">'TRUE'</code> <code class="php plain">: </code><code class="php string">'FALSE'</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$value</code> <code class="php plain">!== </code><code class="php string">''</code><code class="php plain">) {</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$value</code><code class="php plain">;</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php string">"NULL"</code><code class="php plain">;</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number12 index11 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Este método format($value) impede por exemplo, quando um atributo 
possuir valor nulo, no momento de ser concatenar a string para gerar a 
query, fazer algo como <strong>$concatenar = “string” . NULL</strong>, 
ou seja, concatenar uma string com um valor nulo . O que vai dar isso? 
Ou concaternar uma string com um valor booleano, vai dar tudo erro!</p>
<p>Agora precisamos adicionar um método que ajusta o array para se 
converter em uma query. O que? Calma você vai entender! Adicione o 
método convertContent():</p>
<div><div id="highlighter_144306" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">private</code> <code class="php keyword">function</code> <code class="php plain">convertContent()</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">();</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">foreach</code> <code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;content </code><code class="php keyword">as</code> <code class="php variable">$key</code> <code class="php plain">=&gt; </code><code class="php variable">$value</code><code class="php plain">) {</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php functions">is_scalar</code><code class="php plain">(</code><code class="php variable">$value</code><code class="php plain">)) {</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code><code class="php plain">[</code><code class="php variable">$key</code><code class="php plain">] = </code><code class="php variable">$this</code><code class="php plain">-&gt;format(</code><code class="php variable">$value</code><code class="php plain">);</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$newContent</code><code class="php plain">;</code></div><div class="line number10 index9 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Note que este método vai percorrer o atributo $content e verificar 
com a função is_scalar() se o valor contido para cada elemento é válido,
 contendo um dos modos primitivos integer, float, string ou boolean. Se 
possuir os tipos não escalares (array, object e resource) ignora. Sendo 
dados escalares, este método irá consumir o método format() para ajustar
 ao padrão que pode ser concatenado em uma string. Tudo isso será 
devolvido na nova array $newContent. E saiba quão importante são estes 
dois métodos! Sem eles pode-se dizer que nossa classe não funcionaria 
como esperado.</p>
<h3><strong>Agora sim! Vamos as operações CRUD!</strong></h3>
<p>Vamos começar pelo método save(). Este método é o responsável pela 
persistência dos dados, é ele quem vai fazer um insert ou update na 
tabela. Vamos por partes para você entender a lógica de funcionamento 
dele, então, primeiro adicione o método save() desta maneira:</p>
<div><div id="highlighter_82998" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">save()</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code> <code class="php plain">= </code><code class="php variable">$this</code><code class="php plain">-&gt;convertContent();</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$this</code><code class="php plain">-&gt;idField])) {</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sets</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">();</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">foreach</code> <code class="php plain">(</code><code class="php variable">$newContent</code> <code class="php keyword">as</code> <code class="php variable">$key</code> <code class="php plain">=&gt; </code><code class="php variable">$value</code><code class="php plain">) {</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$key</code> <code class="php plain">=== </code><code class="php variable">$this</code><code class="php plain">-&gt;idField)</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">continue</code><code class="php plain">;</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sets</code><code class="php plain">[] = </code><code class="php string">"{$key} = {$value}"</code><code class="php plain">;</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"UPDATE {$this-&gt;table} SET "</code> <code class="php plain">. implode(</code><code class="php string">', '</code><code class="php plain">, </code><code class="php variable">$sets</code><code class="php plain">) . </code><code class="php string">" WHERE {$this-&gt;id} = {$this-&gt;content[$this-&gt;idField]};"</code><code class="php plain">;</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"INSERT INTO {$this-&gt;table} ("</code> <code class="php plain">. implode(</code><code class="php string">', '</code><code class="php plain">, </code><code class="php functions">array_keys</code><code class="php plain">(</code><code class="php variable">$newContent</code><code class="php plain">)) . </code><code class="php string">') VALUES ('</code> <code class="php plain">. implode(</code><code class="php string">','</code><code class="php plain">, </code><code class="php functions">array_values</code><code class="php plain">(</code><code class="php variable">$newContent</code><code class="php plain">)) . </code><code class="php string">');'</code><code class="php plain">;</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php variable">$sql</code><code class="php plain">;</code></div><div class="line number17 index16 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Antes de explicar, vamos testar, pois talvez você já irá captar a 
ideia! Então, volte lá no arquivo Cliente.php e deixe a classe vazia 
desta forma:</p>
<div><div id="highlighter_37223" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Cliente </code><code class="php keyword">extends</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Então no arquivo index.php, que você está utilizando para teste, altere para ficar assim:</p>
<div><div id="highlighter_966586" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 1"</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua Principal"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;telefone = </code><code class="php string">"1199999999"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;save();</code></div></div></td></tr></tbody></table></div></div>
<p>O resultado será este:</p>
<div data-shortcode="caption" id="attachment_678" style="width: 710px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png"><img data-attachment-id="678" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_4/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png" data-orig-size="836,198" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_4" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Quarto Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=700&amp;h=166" class="size-large wp-image-678" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_4.png" alt="Desenvolvendo a Classe Active Record - Quarto Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=700&amp;h=166 700w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=150&amp;h=36 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=300&amp;h=71 300w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png?w=768&amp;h=182 768w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_4.png 836w" sizes="(max-width: 700px) 100vw, 700px" width="700" height="166"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Quarto Teste</p></div>
<p>Certo, mas antes de avançar, volte lá no index e adicione um id da seguinte forma:</p>
<div><div id="highlighter_692488" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 1"</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua Principal"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;telefone = </code><code class="php string">"1199999999"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;id = 1;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;save();</code></div></div></td></tr></tbody></table></div></div>
<p>Agora o resultado quando se executa o código é:</p>
<div data-shortcode="caption" id="attachment_680" style="width: 710px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png"><img data-attachment-id="680" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_5/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png" data-orig-size="896,209" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_5" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Quinto Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=700&amp;h=163" class="size-large wp-image-680" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_5.png" alt="Desenvolvendo a Classe Active Record - Quinto Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=700&amp;h=163 700w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=150&amp;h=35 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=300&amp;h=70 300w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png?w=768&amp;h=179 768w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_5.png 896w" sizes="(max-width: 700px) 100vw, 700px" width="700" height="163"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Quinto Teste</p></div>
<p>Ei sei que saiu um sorriso enorme da sua boca agora! <img draggable="false" class="emoji" alt="😀" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/1f600.svg"><br>
Então vamos entender logo como o método save() funciona. Você deve ter 
percebido que ele começa consumindo o método convertContent(), que irá 
percorrer o atributo $content e reconstruir um novo array $newContent 
com valores formatados pelo método format(). Graças a estes dois métodos
 será possível concatenar os elementos de um array sem erros de execução
 causado por valores não escalares que poderiam quebrar o código.<br>
Tendo o array $newContent no formato que precisamos, devermos saber se a
 operação é de atualização ou inserção. Para saber isso, é fácil! 
Testamos se há um id entre os elementos de $content e se houver é porque
 os dados foram recuperados do banco. Exceto se o seu código cliente 
estourar contra todo sentido da coisa e inserir um código manualmente, 
como fizemos apenas para teste!</p>
<p>Mas falta persistir isso no banco! <a href="https://alexandrebbarbosa.wordpress.com/2017/10/27/php-pdo-conexao-conforme-padroes-singleton-e-factory/">Se você ainda não leu meu artigo sobre conexão com banco de dados Singleton, essa é uma boa hora!</a><br>
O motivo para isso é a necessidade de uma conexão com banco de dados, e 
faremos uso da classe tratada neste artigo. Se você já possui uma classe
 de conexão que devolve um objeto PDO e preferir utilizá-lo, sem 
problemas mas tenho certeza que gostará também desta classe! Você poderá
 obter os códigos dela no <a href="https://github.com/alxbbarbosa/connection">Github</a> e alterar o arquivo de configuração conforme a seguir:</p>
<div><div id="highlighter_229908" class="syntaxhighlighter  plain"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="plain plain">; Arquivo de configuração de conexão com o banco de dados</code></div><div class="line number2 index1 alt1"><code class="plain plain">; Driver de conexão</code></div><div class="line number3 index2 alt2"><code class="plain plain">sgdb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = mysql</code></div><div class="line number4 index3 alt1"><code class="plain plain">; Dados para conexão</code></div><div class="line number5 index4 alt2"><code class="plain plain">banco&nbsp;&nbsp;&nbsp;&nbsp; = activerecord</code></div><div class="line number6 index5 alt1"><code class="plain plain">servidor = localhost</code></div><div class="line number7 index6 alt2"><code class="plain plain">porta&nbsp;&nbsp;&nbsp;&nbsp; = 3306</code></div><div class="line number8 index7 alt1"><code class="plain plain">; Credenciais de usuário</code></div><div class="line number9 index8 alt2"><code class="plain plain">usuario&nbsp; = root</code></div><div class="line number10 index9 alt1"><code class="plain plain">senha&nbsp;&nbsp;&nbsp; = 123456</code></div></div></td></tr></tbody></table></div></div>
<p>Observação: Claro, refletindo as configurações do seu ambiente! Por 
exemplo, minha senha aí é 123456, mas a sua poder ser outra ou nem ter 
senha!</p>
<p>Então crie um banco de dados no mysql com o nome activerecord. O 
procedimento para se criar um banco de dados e as tabelas não faz parte 
deste artigo, mas você é livre para utilizar um aplicativo de sua 
preferencia ou mesmo o myphpadmin. Todavia se estiver utilizando um 
aplicativo que permita rodar script, tal como MySQL Workbench, pode 
utilizar este:</p>
<div><div id="highlighter_75474" class="syntaxhighlighter  sql"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="sql keyword">create</code> <code class="sql keyword">database</code> <code class="sql plain">activerecord </code><code class="sql keyword">default</code> <code class="sql keyword">character</code> <code class="sql keyword">set</code> <code class="sql plain">utf8 </code><code class="sql keyword">default</code> <code class="sql keyword">collate</code> <code class="sql plain">utf8_general_ci;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="sql plain">use activerecord;</code></div></div></td></tr></tbody></table></div></div>
<p>Então crie a tabela, e da mesma forma, utilize o seu jeito de costume
 ou se estiver utilizando um aplicativo que permita rodar script, tal 
como MySQL Workbench, pode utilizar este:</p>
<div><div id="highlighter_778517" class="syntaxhighlighter  sql"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="sql keyword">create</code> <code class="sql keyword">table</code> <code class="sql plain">cliente (</code></div><div class="line number2 index1 alt1"><code class="sql spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="sql plain">id </code><code class="sql keyword">int</code> <code class="sql plain">auto_increment </code><code class="sql keyword">primary</code> <code class="sql keyword">key</code><code class="sql plain">,</code></div><div class="line number3 index2 alt2"><code class="sql spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="sql plain">nome </code><code class="sql keyword">varchar</code><code class="sql plain">(80) </code><code class="sql color1">not</code> <code class="sql color1">null</code><code class="sql plain">,</code></div><div class="line number4 index3 alt1"><code class="sql spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="sql plain">endereco text</code></div><div class="line number5 index4 alt2"><code class="sql plain">);</code></div></div></td></tr></tbody></table></div></div>
<p>Feito isso podemos adicionar as linhas em nosso método save() que 
fará todo trabalho com o banco, então no lugar de echo $sql, substitua 
por:</p>
<div><div id="highlighter_479166" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)) {</code></div><div class="line number2 index1 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$connection</code><code class="php plain">-&gt;</code><code class="php functions">exec</code><code class="php plain">(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number3 index2 alt2"><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number5 index4 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Feito isso, vamos fazer o teste da seguinte maneira, primeiro altere o
 arquivo que você está usando como código cliente, provavelmente 
index.php dessa forma:</p>
<div><div id="highlighter_141560" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 1"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua Principal"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$cliente</code><code class="php plain">-&gt;save()) {</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"Registro salvo!"</code><code class="php plain">;</code></div><div class="line number13 index12 alt2"><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"Registro &lt;b&gt;NÃO FOI&lt;/b&gt; salvo!"</code><code class="php plain">;</code></div><div class="line number15 index14 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Note que para simplificar, até mesmo no momento da criação da tabela 
no banco de dados, eliminamos o atributo telefone. Além disso, foi 
necessário importar a classe de conexão com o comando include_one 
‘Connection.php’. Logo abaixo, foi adicionado um teste para nos informar
 o que aconteceu e, se deu tudo certo, no browser deverá aparecer 
apenas:</p>
<div data-shortcode="caption" id="attachment_681" style="width: 492px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png"><img data-attachment-id="681" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_6/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png?w=700" data-orig-size="486,227" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_6" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Sexto Teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png?w=700?w=486" class="size-full wp-image-681" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_6.png" alt="Desenvolvendo a Classe Active Record - Sexto Teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png 486w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_6.png?w=300 300w" sizes="(max-width: 486px) 100vw, 486px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Sexto Teste</p></div>
<p>Faça um teste no banco de dados e você deverá encontrar o registro salvo:</p>
<div data-shortcode="caption" id="attachment_674" style="width: 710px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png"><img data-attachment-id="674" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_7/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png" data-orig-size="837,399" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_7" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Conferindo no banco de dados&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=700&amp;h=334" class="size-large wp-image-674" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_7.png" alt="Desenvolvendo a Classe Active Record - Conferindo no banco de dados" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=700&amp;h=334 700w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=150&amp;h=72 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=300&amp;h=143 300w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png?w=768&amp;h=366 768w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_7.png 837w" sizes="(max-width: 700px) 100vw, 700px" width="700" height="334"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Conferindo no banco de dados</p></div>
<p>Muito bem, parece que concluímos nosso método save() e você deve 
estar tentado a fazer o teste de Update! mas vamos dar uma pausa no 
save() e partir para o método find. O método find é estático e aceitará 
um inteiro para recuperar um registro através do seu id. Porque 
estático? Porque, não faz muito sentido termos de instanciar um objeto 
ActiveRecord para depois popular seus atributos! Então adicione o método
 find() da seguinte maneira:</p>
<div><div id="highlighter_557514" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">find(</code><code class="php variable">$parameter</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$class</code> <code class="php plain">= get_called_class();</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$idField</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php variable">$class</code><code class="php plain">())-&gt;idField;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$table</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php variable">$class</code><code class="php plain">())-&gt;table;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">'SELECT * FROM '</code> <code class="php plain">. (</code><code class="php functions">is_null</code><code class="php plain">(</code><code class="php variable">$table</code><code class="php plain">) ? </code><code class="php functions">strtolower</code><code class="php plain">(</code><code class="php variable">$class</code><code class="php plain">) : </code><code class="php variable">$table</code><code class="php plain">);</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= </code><code class="php string">' WHERE '</code> <code class="php plain">. (</code><code class="php functions">is_null</code><code class="php plain">(</code><code class="php variable">$idField</code><code class="php plain">) ? </code><code class="php string">'id'</code> <code class="php plain">: </code><code class="php variable">$idField</code><code class="php plain">);</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= </code><code class="php string">" = {$parameter} ;"</code><code class="php plain">;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)) {</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$result</code> <code class="php plain">= </code><code class="php variable">$connection</code><code class="php plain">-&gt;query(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$result</code><code class="php plain">) {</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newObject</code> <code class="php plain">= </code><code class="php variable">$result</code><code class="php plain">-&gt;fetchObject(get_called_class());</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$newObject</code><code class="php plain">;</code></div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number22 index21 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number23 index22 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Veja, que como estamos trabalhando com um método estático, não 
podemos nos referenciar simplesmente aos atributos da classe com $this, 
porém como temos a flexibilidade de sobrescrever atributos pela classe 
que estende ActiveRecord, precisamos de alguma forma recuperar estes 
dados. O método get_called_class() devolve o nome da classe corrente, 
usamos o resultado para gerar instancias somente em tempo de execução, a
 fim de obter os parâmetros. Tendo isso, montamos a query.</p>
<p>Para fazer o teste, você precisa alterar o arquivo index.php para:</p>
<div><div id="highlighter_43219" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::find(1);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;pre&gt;"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number9 index8 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;/pre&gt;"</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>Se você executar o código, o find irá localizar o registro e devolver
 um objeto ActiveRecord para $cliente. Na tela você terá o seguinte 
resultado:</p>
<div data-shortcode="caption" id="attachment_677" style="width: 357px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png"><img data-attachment-id="677" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_8/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png?w=700" data-orig-size="351,316" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_8" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Sétimo teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png?w=700?w=351" class="size-full wp-image-677" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_8.png" alt="Desenvolvendo a Classe Active Record - Sétimo teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png 351w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_8.png?w=300 300w" sizes="(max-width: 351px) 100vw, 351px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Sétimo teste</p></div>
<p>Até aqui temos as 3 operações do CRUD. Você deve estar tentado a 
testar o Update! Pode fazer da seguinte maneira, alterando o index.php 
para:</p>
<div><div id="highlighter_437648" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::find(1);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;pre&gt;"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number9 index8 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;/pre&gt;"</code><code class="php plain">;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Fulano de Tal"</code><code class="php plain">;</code></div><div class="line number12 index11 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Endereco modificado para fulano de tal"</code><code class="php plain">;</code></div><div class="line number13 index12 alt2"><code class="php variable">$cliente</code><code class="php plain">-&gt;save();</code></div><div class="line number14 index13 alt1"><code class="php plain">unset(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::find(1);</code></div><div class="line number17 index16 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;hr&gt;"</code><code class="php plain">;</code></div><div class="line number18 index17 alt1"><code class="php functions">echo</code> <code class="php string">"&lt;pre&gt;"</code><code class="php plain">;</code></div><div class="line number19 index18 alt2"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number20 index19 alt1"><code class="php functions">echo</code> <code class="php string">"&lt;/pre&gt;"</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>O resultado desse código:</p>
<div data-shortcode="caption" id="attachment_673" style="width: 473px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png"><img data-attachment-id="673" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_9/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png?w=700" data-orig-size="467,600" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_9" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Oitávo teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png?w=700?w=234" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png?w=700?w=467" class="size-full wp-image-673" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_9.png" alt="Desenvolvendo a Classe Active Record - Oitávo teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png 467w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png?w=117 117w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_9.png?w=234 234w" sizes="(max-width: 467px) 100vw, 467px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Oitávo teste</p></div>
<p>Note que na segunda representação o find() já trouxe o registro atualizado!<br>
Portanto vamos ao delete, ultima operação do CRUD. Adicione o seguinte método:</p>
<div><div id="highlighter_360213" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php functions">delete</code><code class="php plain">()</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$this</code><code class="php plain">-&gt;idField])) {</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"DELETE FROM {$this-&gt;table} WHERE {$this-&gt;idField} = {$this-&gt;content[$this-&gt;idField]};"</code><code class="php plain">;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)) {</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$connection</code><code class="php plain">-&gt;</code><code class="php functions">exec</code><code class="php plain">(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number13 index12 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Para efetuar o teste desta operação, altere o index.php da seguinte forma:</p>
<div><div id="highlighter_390263" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::find(1);</code></div><div class="line number6 index5 alt1"><code class="php variable">$cliente</code><code class="php plain">-&gt;</code><code class="php functions">delete</code><code class="php plain">();</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::find(1);</code></div><div class="line number9 index8 alt2"><code class="php functions">echo</code> <code class="php string">"&lt;hr&gt;"</code><code class="php plain">;</code></div><div class="line number10 index9 alt1"><code class="php functions">echo</code> <code class="php string">"&lt;pre&gt;"</code><code class="php plain">;</code></div><div class="line number11 index10 alt2"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number12 index11 alt1"><code class="php functions">echo</code> <code class="php string">"&lt;/pre&gt;"</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>O resultado na tela demonstrará que a operação foi executada com êxito:</p>
<div data-shortcode="caption" id="attachment_682" style="width: 492px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png"><img data-attachment-id="682" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_10/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png?w=700" data-orig-size="486,194" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_10" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Nono teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png?w=700?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png?w=700?w=486" class="size-full wp-image-682" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_10.png" alt="Desenvolvendo a Classe Active Record - Nono teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png 486w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png?w=150 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_10.png?w=300 300w" sizes="(max-width: 486px) 100vw, 486px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Nono teste</p></div>
<p>Com as quatro operações básicas de nossa classe concluída, faltarão 
agora para concluir apenas dois métodos muito usuados: all() e 
findFirst().</p>
<p>O método all, embora possa parecer difícil, é simples. Este é o código do método all:</p>
<div><div id="highlighter_310299" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">all(string </code><code class="php variable">$filter</code> <code class="php plain">= </code><code class="php string">''</code><code class="php plain">, int </code><code class="php variable">$limit</code> <code class="php plain">= 0, int </code><code class="php variable">$offset</code> <code class="php plain">= 0)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$class</code> <code class="php plain">= get_called_class();</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$table</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php variable">$class</code><code class="php plain">())-&gt;table;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">'SELECT * FROM '</code> <code class="php plain">. (</code><code class="php functions">is_null</code><code class="php plain">(</code><code class="php variable">$table</code><code class="php plain">) ? </code><code class="php functions">strtolower</code><code class="php plain">(</code><code class="php variable">$class</code><code class="php plain">) : </code><code class="php variable">$table</code><code class="php plain">);</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= (</code><code class="php variable">$filter</code> <code class="php plain">!== </code><code class="php string">''</code><code class="php plain">) ? </code><code class="php string">" WHERE {$filter}"</code> <code class="php plain">: </code><code class="php string">""</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= (</code><code class="php variable">$limit</code> <code class="php plain">&gt; 0) ? </code><code class="php string">" LIMIT {$limit}"</code> <code class="php plain">: </code><code class="php string">""</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= (</code><code class="php variable">$offset</code> <code class="php plain">&gt; 0) ? </code><code class="php string">" OFFSET {$offset}"</code> <code class="php plain">: </code><code class="php string">""</code><code class="php plain">;</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= </code><code class="php string">';'</code><code class="php plain">;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)) {</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$result</code> <code class="php plain">= </code><code class="php variable">$connection</code><code class="php plain">-&gt;query(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$result</code><code class="php plain">-&gt;fetchAll(PDO::FETCH_CLASS, get_called_class());</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number17 index16 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Para testar, termos de inserir alguns registros e então, invocar all. Para isso, altere o index.php da seguinte forma:</p>
<div><div id="highlighter_870556" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php keyword">for</code> <code class="php plain">(</code><code class="php variable">$c</code> <code class="php plain">= 1; </code><code class="php variable">$c</code> <code class="php plain">&lt;= 10; </code><code class="php variable">$c</code><code class="php plain">++) { </code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente; </code><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente {$c}"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua do Cliente {{$c}}"</code><code class="php plain">;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$cliente</code><code class="php plain">-&gt;save()) {</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"Registro {$c} salvo!"</code><code class="php plain">;</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php string">"Registro &lt;b&gt;NÃO FOI&lt;/b&gt; salvo!"</code><code class="php plain">;</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number16 index15 alt1"><code class="php plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="php variable">$todos</code> <code class="php plain">= Cliente::all();</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number21 index20 alt2"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number22 index21 alt1"><code class="php plain">var_dump(</code><code class="php variable">$todos</code><code class="php plain">);</code></div><div class="line number23 index22 alt2"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="php plain">";</code></div></div></td></tr></tbody></table></div></div>
<p>Como você pode perceber, seria possível definir um filtro e deixamos 
este parâmetro opcional. Além disso, deixamos mais dois parâmetros muito
 úteis quando geramos uma query do tipo select, o Limit e Offset. Mas o 
resultado do código acima, já te dará uma visão boa da funcionalidade do
 método e será exatamente: primeiro algumas strings acima informando as 
iterações do Loop For quando foi adicionando os registros e, depois, em 
seguida uma lista com todos os registros listados:</p>
<div data-shortcode="caption" id="attachment_671" style="width: 710px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png"><img data-attachment-id="671" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_11/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png" data-orig-size="1412,656" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_11" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Décimo teste&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=700&amp;h=325" class="size-large wp-image-671" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_11.png" alt="Desenvolvendo a Classe Active Record - Décimo teste" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=700&amp;h=325 700w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=1400&amp;h=650 1400w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=150&amp;h=70 150w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=300&amp;h=139 300w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=768&amp;h=357 768w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_11.png?w=1024&amp;h=476 1024w" sizes="(max-width: 700px) 100vw, 700px" width="700" height="325"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Décimo teste</p></div>
<p>Por fim, o método findFirst(). O método findFirst() espera um filtro 
como argumento, por exemplo “id = 1” ou “nome = ‘Cliente 2’”. Na 
verdade, parece até ser desnecessário mas, muito útil quanto a clareza. 
Este método faz uso do método all, indormando o parâmetro limit para 
trazer apenas o primeiro registro encontrado.</p>
<div><div id="highlighter_838150" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">findFisrt(string </code><code class="php variable">$filter</code> <code class="php plain">= </code><code class="php string">''</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">self::all(</code><code class="php variable">$filter</code><code class="php plain">, 1);</code></div><div class="line number4 index3 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Para testar, faça da mesma forma como fez para find(), mas desta vez com um filtro string ao invés de um valor inteiro como $id:</p>
<div><div id="highlighter_457919" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php variable">$cliente</code> <code class="php plain">= Cliente::findFisrt(</code><code class="php string">"nome = 'Cliente 4'"</code><code class="php plain">);</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number8 index7 alt1"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number9 index8 alt2"><code class="php plain">var_dump(</code><code class="php variable">$cliente</code><code class="php plain">);</code></div><div class="line number10 index9 alt1"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="php plain">";</code></div></div></td></tr></tbody></table></div></div>
<p>Este padrão de projeto é ótimo e muito usual hoje em muitos 
frameworks tais como Laravel. A implementação do Active Record usado no 
Laravel é o Eloquent. Mas o Cake é um outro exemplo de framework que 
utiliza Active Record.</p>
<p>Parece que terminamos a classe, mas só que não! Precisamos fazer 
alguns refinamentos: talvez você se lembre da propriedade no início 
$logTimestamp. Precisamos alterar o método save() para adicionar este 
recurso.</p>
<div><div id="highlighter_382040" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">function</code> <code class="php plain">save()</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code> <code class="php plain">= </code><code class="php variable">$this</code><code class="php plain">-&gt;convertContent();</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(isset(</code><code class="php variable">$this</code><code class="php plain">-&gt;content[</code><code class="php variable">$this</code><code class="php plain">-&gt;idField])) {</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sets</code> <code class="php plain">= </code><code class="php keyword">array</code><code class="php plain">();</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">foreach</code> <code class="php plain">(</code><code class="php variable">$newContent</code> <code class="php keyword">as</code> <code class="php variable">$key</code> <code class="php plain">=&gt; </code><code class="php variable">$value</code><code class="php plain">) {</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$key</code> <code class="php plain">=== </code><code class="php variable">$this</code><code class="php plain">-&gt;idField || </code><code class="php variable">$key</code> <code class="php plain">== </code><code class="php string">'created_at'</code> <code class="php plain">|| </code><code class="php variable">$key</code> <code class="php plain">== </code><code class="php string">'updated_at'</code><code class="php plain">)</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">continue</code><code class="php plain">;</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sets</code><code class="php plain">[] = </code><code class="php string">"{$key} = {$value}"</code><code class="php plain">;</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;logTimestamp === TRUE) {</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sets</code><code class="php plain">[] = </code><code class="php string">"updated_at = '"</code> <code class="php plain">. </code><code class="php functions">date</code><code class="php plain">('Y-m-d H:i:s</code><code class="php string">') . "'</code><code class="php plain">";</code></div><div class="line number17 index16 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number18 index17 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"UPDATE {$this-&gt;table} SET "</code> <code class="php plain">. implode(</code><code class="php string">', '</code><code class="php plain">, </code><code class="php variable">$sets</code><code class="php plain">) . </code><code class="php string">" WHERE {$this-&gt;idField} = {$this-&gt;content[$this-&gt;idField]};"</code><code class="php plain">;</code></div><div class="line number19 index18 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number20 index19 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$this</code><code class="php plain">-&gt;logTimestamp === TRUE) {</code></div><div class="line number21 index20 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code><code class="php plain">[</code><code class="php string">'created_at'</code><code class="php plain">] = </code><code class="php string">"'"</code> <code class="php plain">. </code><code class="php functions">date</code><code class="php plain">('Y-m-d H:i:s</code><code class="php string">') . "'</code><code class="php plain">";</code></div><div class="line number22 index21 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$newContent</code><code class="php plain">[</code><code class="php string">'updated_at'</code><code class="php plain">] = </code><code class="php string">"'"</code> <code class="php plain">. </code><code class="php functions">date</code><code class="php plain">('Y-m-d H:i:s</code><code class="php string">') . "'</code><code class="php plain">";</code></div><div class="line number23 index22 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number24 index23 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"INSERT INTO {$this-&gt;table} ("</code> <code class="php plain">. implode(</code><code class="php string">', '</code><code class="php plain">, </code><code class="php functions">array_keys</code><code class="php plain">(</code><code class="php variable">$newContent</code><code class="php plain">)) . </code><code class="php string">') VALUES ('</code> <code class="php plain">. implode(</code><code class="php string">','</code><code class="php plain">, </code><code class="php functions">array_values</code><code class="php plain">(</code><code class="php variable">$newContent</code><code class="php plain">)) . </code><code class="php string">');'</code><code class="php plain">;</code></div><div class="line number25 index24 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number26 index25 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)) {</code></div><div class="line number27 index26 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php variable">$connection</code><code class="php plain">-&gt;</code><code class="php functions">exec</code><code class="php plain">(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number28 index27 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number29 index28 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number30 index29 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number31 index30 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Agora para fazer o teste deste método com este novo recurso. Primeiro altere a classe Cliente para:</p>
<div><div id="highlighter_977840" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Cliente </code><code class="php keyword">extends</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$logTimestamp</code> <code class="php plain">= TRUE;</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Então adicione as duas novas colunas na tabela cliente como datetime: created_at e updated_at. Você poderá executar este script:</p>
<p>alter table cliente add column created_at datetime after endereco;<br>
alter table cliente add column updated_at datetime after created_at;</p>
<p>Então, adicione mais alguns registros e faça um update para verificar. Altere o index.php para ficar desta maneira:</p>
<div><div id="highlighter_385030" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="php keyword">for</code> <code class="php plain">(</code><code class="php variable">$c</code> <code class="php plain">= 11; </code><code class="php variable">$c</code> <code class="php plain">&lt;= 20; </code><code class="php variable">$c</code><code class="php plain">++) { </code><code class="php variable">$cliente</code> <code class="php plain">= </code><code class="php keyword">new</code> <code class="php plain">Cliente; </code><code class="php variable">$cliente</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente {$c}"</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$cliente</code><code class="php plain">-&gt;endereco = </code><code class="php string">"Rua do Cliente {$c}"</code><code class="php plain">;</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(</code><code class="php variable">$cliente</code><code class="php plain">-&gt;save()) {</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php plain">"Registro {</code><code class="php variable">$c</code><code class="php plain">} salvo!</code></div><div class="line number12 index11 alt1"><code class="php plain">";</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php functions">echo</code> <code class="php plain">"Registro &lt;b&gt;NÃO FOI&lt;/b&gt; salvo!</code></div><div class="line number15 index14 alt2"><code class="php plain">";</code></div><div class="line number16 index15 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number17 index16 alt2"><code class="php plain">}</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="php variable">$cliente12</code> <code class="php plain">= Cliente::find(12);</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number22 index21 alt1"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number23 index22 alt2"><code class="php plain">var_dump(</code><code class="php variable">$cliente12</code><code class="php plain">);</code></div><div class="line number24 index23 alt1"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="php plain">";</code></div><div class="line number27 index26 alt2"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number28 index27 alt1"><code class="php plain">&lt;hr&gt;</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="php plain">";</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="php plain">sleep(2);</code></div><div class="line number33 index32 alt2"><code class="php variable">$cliente12</code><code class="php plain">-&gt;nome = </code><code class="php string">"Cliente 12 Atualizado"</code><code class="php plain">;</code></div><div class="line number34 index33 alt1"><code class="php variable">$cliente12</code><code class="php plain">-&gt;save();</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="php variable">$cliente12upd</code> <code class="php plain">= Cliente::find(12);</code></div><div class="line number37 index36 alt2"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number38 index37 alt1"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number39 index38 alt2"><code class="php plain">var_dump(</code><code class="php variable">$cliente12upd</code><code class="php plain">);</code></div><div class="line number40 index39 alt1"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="php plain">";</code></div></div></td></tr></tbody></table></div></div>
<p>Então você poderá comparar, além de fazer seus próprios testes com Update.</p>
<div data-shortcode="caption" id="attachment_672" style="width: 495px" class="wp-caption aligncenter"><a href="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png"><img data-attachment-id="672" data-permalink="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/im1_activerecord_12/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png?w=700" data-orig-size="489,777" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="im1_activerecord_12" data-image-description="&lt;p&gt;Desenvolvendo a Classe Active Record – Próprios testes&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png?w=700?w=189" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png?w=700?w=489" class="size-full wp-image-672" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/im1_activerecord_12.png" alt="Desenvolvendo a Classe Active Record - Próprios testes" srcset="https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png 489w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png?w=94 94w, https://alexandrebbarbosa.files.wordpress.com/2018/01/im1_activerecord_12.png?w=189 189w" sizes="(max-width: 489px) 100vw, 489px"></a><p class="wp-caption-text">Desenvolvendo a Classe Active Record – Próprios testes</p></div>
<p>Mas, isso ainda não é tudo, na verdade há um pequeno ajuste a se 
fazer nesta classe, para diminuir a dependência da classe Connection. 
Caso contrário, se você não desejar usar a classe Connection ficará 
obrigado a isso para usar a classe ActiveRecord. E como podemos fazer 
então?<br>
Primeiro, adicione mais um atributo estático privado chamado connection:</p>
<div><div id="highlighter_926749" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">private</code> <code class="php keyword">static</code> <code class="php variable">$connection</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>Então, substitua todas as variáveis nos métodos $connection por 
self::$connection. Se você estiver utilizando um editor de textos ou 
IDE, isso será mamata! Mas preste atenção pois se utilizar o recurso, 
“substituir todos”, poderá ter esse resultado indesejado no atributo 
estático que acabou de criar:</p>
<div><div id="highlighter_317964" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">private</code> <code class="php keyword">static</code> <code class="php plain">self::</code><code class="php variable">$connection</code><code class="php plain">;</code></div></div></td></tr></tbody></table></div></div>
<p>Então, você deverá corrigir isso, para não ter problemas. Mas, falta 
substituir também nos métodos esta declaração que normalmente está 
dentro dos ifs:</p>
<div><div id="highlighter_640969" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php variable">$connection</code> <code class="php plain">= Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">)</code></div></div></td></tr></tbody></table></div></div>
<p>por apenas:</p>
<div><div id="highlighter_527232" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php plain">self::</code><code class="php variable">$connection</code></div></div></td></tr></tbody></table></div></div>
<p>Por fim adicione este método estático para adicionar a conexão ao nível de classe:</p>
<div><div id="highlighter_972264" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">setConnection(PDO </code><code class="php variable">$connection</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">self::</code><code class="php variable">$connection</code> <code class="php plain">= </code><code class="php variable">$connection</code><code class="php plain">;</code></div><div class="line number4 index3 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Pronto! Se você chegou a se preocupar com isso … já era!<br>
Você poderá utilizar a classe Connection:</p>
<div><div id="highlighter_123652" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php plain">Cliente::setConnection(Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">));</code></div></div></td></tr></tbody></table></div></div>
<p>Ou fazer da sua maneira. É possível melhorar esta classe ainda mais, 
adicionando recursos para gerar log, e de maneira facílima! Vou deixar a
 dica embora, fica para outro post: Veja nos métodos que antes de 
executar as queries, sempre elas são criadas e armazenadas em uma 
variável $sql. Isso pode te inspirar!<br>
Você ainda pode adicionar outros métodos que seriam genéricos e uteis, como por exemplo o count:</p>
<div><div id="highlighter_934901" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php functions">count</code><code class="php plain">(string </code><code class="php variable">$fieldName</code> <code class="php plain">= </code><code class="php string">'*'</code><code class="php plain">, string </code><code class="php variable">$filter</code> <code class="php plain">= </code><code class="php string">''</code><code class="php plain">)</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$class</code> <code class="php plain">= get_called_class();</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$table</code> <code class="php plain">= (</code><code class="php keyword">new</code> <code class="php variable">$class</code><code class="php plain">())-&gt;table;</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">= </code><code class="php string">"SELECT count($fieldName) as t FROM "</code> <code class="php plain">. (</code><code class="php functions">is_null</code><code class="php plain">(</code><code class="php variable">$table</code><code class="php plain">) ? </code><code class="php functions">strtolower</code><code class="php plain">(</code><code class="php variable">$class</code><code class="php plain">) : </code><code class="php variable">$table</code><code class="php plain">);</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= (</code><code class="php variable">$filter</code> <code class="php plain">!== </code><code class="php string">''</code><code class="php plain">) ? </code><code class="php string">" WHERE {$filter}"</code> <code class="php plain">: </code><code class="php string">""</code><code class="php plain">;</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$sql</code> <code class="php plain">.= </code><code class="php string">';'</code><code class="php plain">;</code></div><div class="line number8 index7 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">if</code> <code class="php plain">(self::</code><code class="php variable">$connection</code><code class="php plain">) {</code></div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$q</code> <code class="php plain">= self::</code><code class="php variable">$connection</code><code class="php plain">-&gt;prepare(</code><code class="php variable">$sql</code><code class="php plain">);</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$q</code><code class="php plain">-&gt;execute();</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php variable">$a</code> <code class="php plain">= </code><code class="php variable">$q</code><code class="php plain">-&gt;fetch(PDO::FETCH_ASSOC);</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">(int) </code><code class="php variable">$a</code><code class="php plain">[</code><code class="php string">'t'</code><code class="php plain">];</code></div><div class="line number13 index12 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">} </code><code class="php keyword">else</code> <code class="php plain">{</code></div><div class="line number14 index13 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">throw</code> <code class="php keyword">new</code> <code class="php plain">Exception(</code><code class="php string">"Não há conexão com Banco de dados!"</code><code class="php plain">);</code></div><div class="line number15 index14 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number16 index15 alt1"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Mas, embora o artigo este chegando ao seu final, (depois de um longo 
percurso!) note que não temos muito atenção a classe Cliente. Essa 
classe é onde será todo trabalho de regras e validações. A classe que 
estende ActiveRecord junto a classe ActiveRecord constrói um Modelo. 
Veja se quiséssemos fazer alguma coisa em nossa classe cliente que fosse
 específico para cliente:</p>
<div><div id="highlighter_488789" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">class</code> <code class="php plain">Cliente </code><code class="php keyword">extends</code> <code class="php plain">ActiveRecord</code></div><div class="line number2 index1 alt1"><code class="php plain">{</code></div><div class="line number3 index2 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">protected</code> <code class="php variable">$logTimestamp</code> <code class="php plain">= TRUE;</code></div><div class="line number4 index3 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">listarRecentes(int </code><code class="php variable">$dias</code> <code class="php plain">= 10)</code></div><div class="line number5 index4 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number6 index5 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">self::all(</code><code class="php string">"created_at &gt;= '"</code> <code class="php plain">. </code><code class="php functions">date</code><code class="php plain">('Y-m-d h:m:i</code><code class="php string">', strtotime("-{$dias} days")) . "'</code><code class="php plain">");</code></div><div class="line number7 index6 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">public</code> <code class="php keyword">static</code> <code class="php keyword">function</code> <code class="php plain">numTotal()</code></div><div class="line number10 index9 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">{</code></div><div class="line number11 index10 alt2"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php keyword">return</code> <code class="php plain">self::</code><code class="php functions">count</code><code class="php plain">();</code></div><div class="line number12 index11 alt1"><code class="php spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="php plain">}</code></div><div class="line number13 index12 alt2"><code class="php plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Então para chamar no código cliente:</p>
<div><div id="highlighter_695347" class="syntaxhighlighter  php"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="php keyword">include_once</code> <code class="php string">'ActiveRecord.php'</code><code class="php plain">;</code></div><div class="line number2 index1 alt1"><code class="php keyword">include_once</code> <code class="php string">'Cliente.php'</code><code class="php plain">;</code></div><div class="line number3 index2 alt2"><code class="php keyword">include_once</code> <code class="php string">'Connection.php'</code><code class="php plain">;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="php plain">Cliente::setConnection(Connection::getInstance(</code><code class="php string">'./configdb.ini'</code><code class="php plain">));</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="php functions">echo</code> <code class="php plain">"</code></div><div class="line number8 index7 alt1"><code class="php plain">&lt;pre&gt;";</code></div><div class="line number9 index8 alt2"><code class="php plain">var_dump(Cliente::listarRecentes(5));</code></div><div class="line number10 index9 alt1"><code class="php functions">echo</code> <code class="php plain">"&lt;/pre&gt;</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="php plain">";</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="php functions">echo</code> <code class="php plain">Cliente::numTotal();</code></div></div></td></tr></tbody></table></div></div>
<p><strong>Conclusão</strong><br>
Com esta classe você, você tem a representação de um Recordset ou 
registro do banco de dados, como uma entidade e poderá fazer com essa 
entidade o que for preciso. Mas note que la não poderá por si só fazer 
nada diretamente, sem o apoio de sua classe filha e até por isso ela foi
 definido como abstrada. Na verdade, ela é uma abstração das operações 
do banco. Estendendo esta classe, ou seja, herdando para elaborar 
trabalhar com as regras de negócio, como fizemos por criar a classe 
Cliente, você terá exatamente o conceito de definição de 
responsabilidades muito bem definido pelo padrão de projetos MVC. 
Lembrando, que existem ótimas soluções prontas para esta finalidade, mas
 é sempre bom criarmos as nossas próprias classes para entendermos mais 
porfundamente o funcionamento, ou seja, o que está por detrás das 
cortinas nos Frameworks. Espero que este conteúdo possa ser muito útil 
aos seus estudos, ele até mesmo será base para outros artigos aqui no 
blog! Se desejar poderá acessar os códigos desevolvidos neste artigo no <a href="https://github.com/alxbbarbosa/ActiveRecord">Github</a> por clicar <a href="https://github.com/alxbbarbosa/ActiveRecord">AQUI</a>.<br>
[]’s</p>
<div id="atatags-370373-5b239f520af4b">
        <script type="text/javascript">
            __ATA.cmd.push(function() {
                __ATA.initVideoSlot('atatags-370373-5b239f520af4b', {
                    sectionId: '370373',
                    format: 'inread'
                });
            });
        </script>
    </div>		<div class="wpcnt">
			<div class="wpa wpmrec">
				<span class="wpa-about">Anúncios</span>
				<div class="u">		<div style="padding-bottom:15px;width:300px;height:250px;float:left;margin-right:5px;margin-top:0px">
		<div id="atatags-26942-5b239f520af79" style="overflow: hidden; position: relative; width: auto; height: auto;"><div style="width: 300px; height: 250px;"><iframe scrolling="no" style="border:none;overflow:hidden;width:300px;height:250px;" width="300" height="250" frameborder="0"></iframe></div><div id="atatags-26942-5b239f520af79__controls" style="width:300px;height:10px;text-align:right;line-height:6px;"><span id="atatags-26942-5b239f520af79__complain-btn" style="font-size: 10px; color: rgb(109, 171, 210); text-decoration: underline; cursor: pointer; display: inline;">Report this ad</span></div></div></div>		<div style="padding-bottom:15px;width:300px;height:250px;float:left;margin-top:0px">
		<div id="atatags-114160-5b239f520af7b" style="overflow: hidden; position: relative; width: auto; height: auto;"><div style="width: 300px; height: 250px;"><iframe scrolling="no" style="border:none;overflow:hidden;width:300px;height:250px;" width="300" height="250" frameborder="0"></iframe></div><div id="atatags-114160-5b239f520af7b__controls" style="width:300px;height:10px;text-align:right;line-height:6px;"><span id="atatags-114160-5b239f520af7b__complain-btn" style="font-size: 10px; color: rgb(109, 171, 210); text-decoration: underline; cursor: pointer; display: inline;">Report this ad</span></div></div></div></div>
				
			</div>
		</div><div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Compartilhe isso com seus amigos:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-658" class="share-twitter sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?share=twitter&amp;nb=1" target="_blank" title="Clique para compartilhar no Twitter"><span>Twitter</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-658" class="share-facebook sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span>Facebook</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-658" class="share-google-plus-1 sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?share=google-plus-1&amp;nb=1" target="_blank" title="Compartilhe no Google+"><span>Google</span></a></li><li class="share-print"><a rel="nofollow" data-shared="" class="share-print sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/#print" target="_blank" title="Clique para imprimir"><span>Imprimir</span></a></li><li class="share-email share-service-visible"><a rel="nofollow" data-shared="" class="share-email sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?share=email&amp;nb=1" target="_blank" title="Clique para enviar por email a um amigo"><span>E-mail</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-658" class="share-linkedin sd-button share-icon" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?share=linkedin&amp;nb=1" target="_blank" title="Clique para compartilhar no LinkedIn"><span>LinkedIn</span></a></li><li class="share-end"></li></ul></div></div></div><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-loaded" id="like-post-wrapper-68730454-658-5b239f521455f" data-src="//widgets.wp.com/likes/index.html?ver=20180319#blog_id=68730454&amp;post_id=658&amp;origin=alexandrebbarbosa.wordpress.com&amp;obj_id=68730454-658-5b239f521455f" data-name="like-post-frame-68730454-658-5b239f521455f"><h3 class="sd-title">Curtir isso:</h3><div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px; display: none;"><span class="button"><span>Curtir</span></span> <span class="loading">Carregando...</span></div><iframe class="post-likes-widget jetpack-likes-widget" name="like-post-frame-68730454-658-5b239f521455f" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/index.htm" width="100%" height="55px" frameborder="0"></iframe><span class="sd-text-color"></span><a class="sd-link-color"></a></div></div>			</div><!-- .entry-content -->

	<footer class="entry-meta">
		<a class="entry-date" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/">8 de janeiro de 2018</a> em <a href="https://alexandrebbarbosa.wordpress.com/tag/php/" rel="category tag">PHP</a>, <a href="https://alexandrebbarbosa.wordpress.com/category/programacao/" rel="category tag">Programação</a>. Tags:<a href="https://alexandrebbarbosa.wordpress.com/tag/active-record/" rel="tag">Active Record</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/banco-de-dados/" rel="tag">Banco de dados</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/create/" rel="tag">Create</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/crud/" rel="tag">CRUD</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/delete/" rel="tag">Delete</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/design-pattern/" rel="tag">Design Pattern</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/insert/" rel="tag">Insert</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/object-relational-mapper/" rel="tag">Object Relational Mapper</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/orm/" rel="tag">ORM</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/padroes-de-projetos/" rel="tag">Padrões de projetos</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/persistencia/" rel="tag">Persistência</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/php/" rel="tag">PHP</a>, <a href="https://alexandrebbarbosa.wordpress.com/tag/update/" rel="tag">Update</a>
			</footer><!-- .entry-meta -->
</article><!-- #post-## -->
			<div class="related-content">
	<h3 class="related-content-title">Posts Relacionados</h3>
	
		<article id="post-280" class="post-280 post type-post status-publish format-standard has-post-thumbnail hentry category-php category-programacao tag-banco-de-dados tag-crud tag-dao tag-mysql tag-pdo tag-php tag-poo tag-programacao tag-singleton tag-sql">

						<div class="entry-thumbnail">
				<a href="https://alexandrebbarbosa.wordpress.com/2016/01/16/php-e-mysql-crud-create-read-update-delete/"><img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/php_code_21.jpg" class="attachment-expound-mini size-expound-mini wp-post-image" alt="php_logo2" srcset="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=50&amp;h=50&amp;crop=1 50w, https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=100&amp;h=100&amp;crop=1 100w" sizes="(max-width: 50px) 100vw, 50px" data-attachment-id="327" data-permalink="https://alexandrebbarbosa.wordpress.com/2016/03/14/phppersistencia-de-dados-com-design-pattern-table-data-gateway/php_code_2/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg" data-orig-size="586,440" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;2.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;FinePix S6500fd&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1209310656&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;6.2&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.1&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="php_code_2" data-image-description="&lt;p&gt;php_logo2&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=586" width="50" height="50"></a>
			</div>
			
			<header class="entry-header">
				<h3 class="entry-title"><a href="https://alexandrebbarbosa.wordpress.com/2016/01/16/php-e-mysql-crud-create-read-update-delete/" rel="bookmark">PHP e MySQL :: CRUD – Create, Read, Update, Delete</a></h3>
			</header><!-- .entry-header -->

		</article>

	
		<article id="post-439" class="post-439 post type-post status-publish format-standard has-post-thumbnail hentry category-php category-programacao tag-aplicativo tag-create tag-crud tag-delete tag-mysql tag-php tag-read tag-select tag-sql tag-update">

						<div class="entry-thumbnail">
				<a href="https://alexandrebbarbosa.wordpress.com/2016/09/04/php-pdo-crud-completo/"><img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/php_code_1.png" class="attachment-expound-mini size-expound-mini wp-post-image" alt="php_code_1" srcset="https://alexandrebbarbosa.files.wordpress.com/2016/01/php_code_1.png?w=50&amp;h=50&amp;crop=1 50w, https://alexandrebbarbosa.files.wordpress.com/2016/01/php_code_1.png?w=100&amp;h=100&amp;crop=1 100w" sizes="(max-width: 50px) 100vw, 50px" data-attachment-id="333" data-permalink="https://alexandrebbarbosa.wordpress.com/2016/01/20/php-metodo-bindto-usado-para-clonar-instancias-closure/php_code_1/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2016/01/php_code_1.png" data-orig-size="450,389" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="php_code_1" data-image-description="&lt;p&gt;php_code_1&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2016/01/php_code_1.png?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2016/01/php_code_1.png?w=450" width="50" height="50"></a>
			</div>
			
			<header class="entry-header">
				<h3 class="entry-title"><a href="https://alexandrebbarbosa.wordpress.com/2016/09/04/php-pdo-crud-completo/" rel="bookmark">PHP:: PDO – CRUD COMPLETO</a></h3>
			</header><!-- .entry-header -->

		</article>

	
		<article id="post-320" class="post-320 post type-post status-publish format-standard has-post-thumbnail hentry category-php category-programacao tag-banco-de-dados tag-crud tag-design-pattern tag-mysql tag-pdo tag-php tag-programacao tag-table-data-gateway">

						<div class="entry-thumbnail">
				<a href="https://alexandrebbarbosa.wordpress.com/2016/03/14/phppersistencia-de-dados-com-design-pattern-table-data-gateway/"><img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/php_code_21.jpg" class="attachment-expound-mini size-expound-mini wp-post-image" alt="php_logo2" srcset="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=50&amp;h=50&amp;crop=1 50w, https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=100&amp;h=100&amp;crop=1 100w" sizes="(max-width: 50px) 100vw, 50px" data-attachment-id="327" data-permalink="https://alexandrebbarbosa.wordpress.com/2016/03/14/phppersistencia-de-dados-com-design-pattern-table-data-gateway/php_code_2/" data-orig-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg" data-orig-size="586,440" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;2.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;FinePix S6500fd&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1209310656&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;6.2&quot;,&quot;iso&quot;:&quot;100&quot;,&quot;shutter_speed&quot;:&quot;0.1&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="php_code_2" data-image-description="&lt;p&gt;php_logo2&lt;/p&gt;
" data-medium-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=300" data-large-file="https://alexandrebbarbosa.files.wordpress.com/2016/03/php_code_21.jpg?w=586" width="50" height="50"></a>
			</div>
			
			<header class="entry-header">
				<h3 class="entry-title"><a href="https://alexandrebbarbosa.wordpress.com/2016/03/14/phppersistencia-de-dados-com-design-pattern-table-data-gateway/" rel="bookmark">PHP::Persistência de dados com Design Pattern Table Data Gateway</a></h3>
			</header><!-- .entry-header -->

		</article>

	</div>

				<nav role="navigation" id="nav-below" class="navigation-post">
		<h1 class="screen-reader-text">Navegação de Posts</h1>

	
		<div class="nav-previous"><a href="https://alexandrebbarbosa.wordpress.com/2017/10/27/php-pdo-conexao-conforme-padroes-singleton-e-factory/" rel="prev"><span class="meta-nav">←</span> PHP:: PDO – CONEXÃO CONFORME PADRÕES SINGLETON E FACTORY</a></div>		
	
	</nav><!-- #nav-below -->
	
			
	<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			2 comentários sobre “<span>PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM</span>”		</h2>

		
		<ol class="comment-list">
				<li class="comment byuser comment-author-wesleyrabeloteixeira even thread-even depth-1 highlander-comment" id="li-comment-182">
		<article id="comment-182" class="comment">
			<footer>
				<div class="comment-author vcard">
					<img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/46ace96856b2ef150a4fcd77c0c240e1.png" class="avatar avatar-40 grav-hashed grav-hijack" id="grav-46ace96856b2ef150a4fcd77c0c240e1-0" width="40" height="40">					<cite class="fn"><a href="http://gravatar.com/wesleyrabeloteixeira" rel="external nofollow" class="url">Wesley Teixeira</a></cite> <span class="says">disse:</span>				</div><!-- .comment-author .vcard -->
				
				<div class="comment-meta commentmetadata">
					<a href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/#comment-182"><time datetime="2018-01-09T23:07:13+00:00">
					9 de janeiro de 2018 às 23:07					</time></a>
									</div><!-- .comment-meta .commentmetadata -->
			</footer>

			<div class="comment-content"><p>Excelente, muito bom seu blog e suas postagens, parabéns.</p>
</div>

			<div class="reply">
			<a rel="nofollow" class="comment-reply-link" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?replytocom=182#respond" onclick='return addComment.moveForm( "comment-182", "182", "respond", "658" )' aria-label="Responder para Wesley Teixeira">Responder</a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1 highlander-comment" id="li-comment-185">
		<article id="comment-185" class="comment">
			<footer>
				<div class="comment-author vcard">
					<img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/8a806c60680f43822840ef10169a591c.png" class="avatar avatar-40 grav-hashed grav-hijack" id="grav-8a806c60680f43822840ef10169a591c-0" width="40" height="40">					<cite class="fn">Luís Souza</cite> <span class="says">disse:</span>				</div><!-- .comment-author .vcard -->
				
				<div class="comment-meta commentmetadata">
					<a href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/#comment-185"><time datetime="2018-01-13T19:51:30+00:00">
					13 de janeiro de 2018 às 19:51					</time></a>
									</div><!-- .comment-meta .commentmetadata -->
			</footer>

			<div class="comment-content"><p>Excelente!!!!</p>
</div>

			<div class="reply">
			<a rel="nofollow" class="comment-reply-link" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/?replytocom=185#respond" onclick='return addComment.moveForm( "comment-185", "185", "respond", "658" )' aria-label="Responder para Luís Souza">Responder</a>			</div><!-- .reply -->
		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond js">
		<h3 id="reply-title" class="comment-reply-title">Deixe um comentário <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/#respond" style="display:none;">Cancelar resposta</a></small></h3>			<form action="https://alexandrebbarbosa.wordpress.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<input id="highlander_comment_nonce" name="highlander_comment_nonce" value="8a1a2690db" type="hidden"><input name="_wp_http_referer" value="/2018/01/08/php-padrao-de-projeto-active-record-orm/" type="hidden">
<input name="hc_post_as" id="hc_post_as" value="guest" type="hidden">

<div class="comment-form-field comment-textarea">
	
	<div id="comment-form-comment"><textarea tabindex="-1" style="position: absolute; top: -999px; left: 0px; right: auto; bottom: auto; border: 0px none; padding: 0px; box-sizing: content-box; overflow-wrap: break-word; height: 0px !important; min-height: 0px !important; overflow: hidden; transition: none 0s ease 0s; font-family: Arial, Helvetica, Tahoma, Verdana, sans-serif; font-size: 14px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; text-decoration: none; word-spacing: 0px; text-indent: 0px; line-height: 20px; width: 618px;" class="autosizejs ">Digite seu comentário aqui...</textarea><textarea id="comment" name="comment" title="Digite seu comentário aqui..." placeholder="Digite seu comentário aqui..." style="height: 40px; overflow: hidden; overflow-wrap: break-word; resize: none;"></textarea></div>
</div>

<div id="comment-form-identity" style="display: none;">
	<div id="comment-form-nascar">
		<p>Preencha os seus dados abaixo ou clique em um ícone para log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link" title="Login via Convidado">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link" title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg>				</a>
			</li>
			<li>
			<iframe id="googleplus-sign-in" name="googleplus-sign-in" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a_003.htm" scrolling="no" allowtransparency="true" seamless="seamless" width="24" height="24" frameborder="0"></iframe>
			</li>
			<li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link" title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link" title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ad516503a11cd5ca435acc9bb6523536.png" alt="Gravatar" class="no-grav" width="25">
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(obrigatório)</span> <span class="nopublish">(Nunca tornar endereço público)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email"></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Nome <span class="required">(obrigatório)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text"></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Site</label>
					<div class="comment-form-input"><input id="url" name="url" type="url"></div>
				</div>
			</div>
	
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ad516503a11cd5ca435acc9bb6523536.png" alt="Logotipo do WordPress.com" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="" type="hidden">
				<input name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="" type="hidden">
				<input name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="" type="hidden">
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			Você está comentando utilizando sua conta WordPress.com.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout(%20'wordpress'%20);">Sair</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Alterar</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ad516503a11cd5ca435acc9bb6523536.png" alt="Foto do Google+" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="" type="hidden">
				<input name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="" type="hidden">
				<input name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="" type="hidden">
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			Você está comentando utilizando sua conta Google+.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout(%20'googleplus'%20);">Sair</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Alterar</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60"><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z"></path><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z"></path><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z"></path><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z"></path></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ad516503a11cd5ca435acc9bb6523536.png" alt="Imagem do Twitter" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="" type="hidden">
				<input name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="" type="hidden">
				<input name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="" type="hidden">
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			Você está comentando utilizando sua conta Twitter.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout(%20'twitter'%20);">Sair</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Alterar</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/ad516503a11cd5ca435acc9bb6523536.png" alt="Foto do Facebook" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="" type="hidden">
				<input name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="" type="hidden">
				<input name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="" type="hidden">
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			Você está comentando utilizando sua conta Facebook.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout(%20'facebook'%20);">Sair</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Alterar</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg></span>
		</p>
		w
			</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancelar</a></div>
		<p>Conectando a %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe" style="display: none;">
	<p class="comment-subscription-form"><input name="subscribe" id="subscribe" value="subscribe" style="width: auto;" type="checkbox"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Avise-me sobre novos comentários por email.</label></p></div>




<p class="form-submit" style="display: none;"><input name="submit" id="comment-submit" class="submit" value="Publicar comentário" type="submit"> <input name="comment_post_ID" value="658" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p><p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="f84c09a34d" type="hidden"></p>
<input name="genseq" value="1529061202" type="hidden">
<p style="display: none;"></p>			<input id="ak_js" name="ak_js" value="1529061198572" type="hidden"></form>
			</div><!-- #respond -->
	<div style="clear: both"></div>
</div><!-- #comments -->

		
		</div><!-- #content -->
	</div><!-- #primary -->

	<div id="secondary" class="widget-area" role="complementary">
				<aside id="search-7" class="widget widget_search">	<form method="get" id="searchform" class="searchform" action="https://alexandrebbarbosa.wordpress.com/" role="search">
		<label for="s" class="screen-reader-text">Pesquisa</label>
		<input class="field" name="s" id="s" placeholder="Pesquisar …" type="search">
		<input class="submit" id="searchsubmit" value="Pesquisar" type="submit">
	</form>
</aside>		<aside id="recent-posts-7" class="widget widget_recent_entries">		<h1 class="widget-title">Tópicos recentes</h1>		<ul>
											<li>
					<a href="https://alexandrebbarbosa.wordpress.com/2018/01/08/php-padrao-de-projeto-active-record-orm/">PHP:: PADRÃO DE PROJETO ACTIVE RECORD – ORM</a>
									</li>
											<li>
					<a href="https://alexandrebbarbosa.wordpress.com/2017/10/27/php-pdo-conexao-conforme-padroes-singleton-e-factory/">PHP:: PDO – CONEXÃO CONFORME PADRÕES SINGLETON E FACTORY</a>
									</li>
											<li>
					<a href="https://alexandrebbarbosa.wordpress.com/2017/10/12/linuxsuporte-a-rede-sincronizar-horario-com-ntp/">LINUX::SUPORTE A REDE – SINCRONIZAR HORÁRIO COM NTP – DEBIAN E DERIVADOS</a>
									</li>
											<li>
					<a href="https://alexandrebbarbosa.wordpress.com/2017/10/11/windowssuporte-a-redes-sincronizar-horario-com-ntp/">WINDOWS::SUPORTE A REDES – SINCRONIZAR HORARIO COM NTP</a>
									</li>
											<li>
					<a href="https://alexandrebbarbosa.wordpress.com/2017/10/06/linux-configurar-dns-para-interface-de-rede-pelo-terminal/">LINUX:: CONFIGURAR DNS PARA INTERFACE DE REDE PELO TERMINAL</a>
									</li>
					</ul>
		</aside><aside id="recent-comments-7" class="widget widget_recent_comments"><h1 class="widget-title">Comentários</h1>				<table class="recentcommentsavatar" cellspacing="0" cellpadding="0" border="0">
					<tbody><tr><td title="Alexandre Bezerra Barbosa" class="recentcommentsavatartop" style="height:48px; width:48px;"><a href="https://alexandrebbarbosa.wordpress.com/" rel="nofollow"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/d823e9e5f6207fca6bfdf0fd89a29210.jpg" class="avatar avatar-48 grav-hashed" id="grav-d823e9e5f6207fca6bfdf0fd89a29210-0" width="48" height="48"></a></td><td class="recentcommentstexttop" style=""><a href="https://alexandrebbarbosa.wordpress.com/" rel="nofollow">Alexandre Bezerra Ba…</a> em <a href="https://alexandrebbarbosa.wordpress.com/2014/05/26/criando-usuario-e-grupos-no-linux/comment-page-1/#comment-242">ADMINISTRANDO USUÁRIOS E GRUPO…</a></td></tr><tr><td title="SouzaRM" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="http://gravatar.com/souzarm" rel="nofollow"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/b179d1569b2cc3e32e9ff80732da0b8a.jpg" class="avatar avatar-48 grav-hashed" id="grav-b179d1569b2cc3e32e9ff80732da0b8a-0" width="48" height="48"></a></td><td class="recentcommentstextend" style=""><a href="http://gravatar.com/souzarm" rel="nofollow">SouzaRM</a> em <a href="https://alexandrebbarbosa.wordpress.com/2014/05/26/criando-usuario-e-grupos-no-linux/comment-page-1/#comment-241">ADMINISTRANDO USUÁRIOS E GRUPO…</a></td></tr><tr><td title="Alexandre Bezerra Barbosa" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="https://alexandrebbarbosa.wordpress.com/" rel="nofollow"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/d823e9e5f6207fca6bfdf0fd89a29210.jpg" class="avatar avatar-48 grav-hashed" id="grav-d823e9e5f6207fca6bfdf0fd89a29210-1" width="48" height="48"></a></td><td class="recentcommentstextend" style=""><a href="https://alexandrebbarbosa.wordpress.com/" rel="nofollow">Alexandre Bezerra Ba…</a> em <a href="https://alexandrebbarbosa.wordpress.com/2016/01/16/php-e-mysql-crud-create-read-update-delete/comment-page-1/#comment-202">PHP e MySQL :: CRUD – Create,…</a></td></tr><tr><td title="Wemerson Bernardo" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="https://plus.google.com/+WemersonBernardo" rel="nofollow"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/9c8ebbfc6f1500690a1cedc9ae7a3441.png" class="avatar avatar-48 grav-hashed" id="grav-9c8ebbfc6f1500690a1cedc9ae7a3441-0" width="48" height="48"></a></td><td class="recentcommentstextend" style=""><a href="https://plus.google.com/+WemersonBernardo" rel="nofollow">Wemerson Bernardo</a> em <a href="https://alexandrebbarbosa.wordpress.com/2016/01/16/php-e-mysql-crud-create-read-update-delete/comment-page-1/#comment-201">PHP e MySQL :: CRUD – Create,…</a></td></tr><tr><td title="Nilson Chucarro de Campos" class="recentcommentsavatarend" style="height:48px; width:48px;"><a href="http://www.agnusorg.com/" rel="nofollow"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/c865cd494ffdd2e8fe8e8a52f868664f.png" class="avatar avatar-48 grav-hashed" id="grav-c865cd494ffdd2e8fe8e8a52f868664f-0" width="48" height="48"></a></td><td class="recentcommentstextend" style=""><a href="http://www.agnusorg.com/" rel="nofollow">Nilson Chucarro de C…</a> em <a href="https://alexandrebbarbosa.wordpress.com/2016/09/04/php-pdo-crud-completo/comment-page-1/#comment-196">PHP:: PDO – CRUD COMPLET…</a></td></tr>				</tbody></table>
				</aside><aside id="archives-7" class="widget widget_archive"><h1 class="widget-title">Arquivos</h1>		<ul>
			<li><a href="https://alexandrebbarbosa.wordpress.com/2018/01/">janeiro 2018</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2017/10/">outubro 2017</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2017/01/">janeiro 2017</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/11/">novembro 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/09/">setembro 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/05/">maio 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/03/">março 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/02/">fevereiro 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2016/01/">janeiro 2016</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2015/07/">julho 2015</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2015/04/">abril 2015</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2015/02/">fevereiro 2015</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2015/01/">janeiro 2015</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2014/10/">outubro 2014</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2014/09/">setembro 2014</a></li>
	<li><a href="https://alexandrebbarbosa.wordpress.com/2014/05/">maio 2014</a></li>
		</ul>
		</aside><aside id="categories-7" class="widget widget_categories"><h1 class="widget-title">Categorias</h1>		<ul>
	<li class="cat-item cat-item-610"><a href="https://alexandrebbarbosa.wordpress.com/category/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-458"><a href="https://alexandrebbarbosa.wordpress.com/category/programacao/php/">PHP</a>
</li>
	<li class="cat-item cat-item-6408"><a href="https://alexandrebbarbosa.wordpress.com/category/programacao/">Programação</a>
</li>
	<li class="cat-item cat-item-24549"><a href="https://alexandrebbarbosa.wordpress.com/category/redes/" title="Esta categoria apresenta postagens referente a Redes de todos os portes.">Redes</a>
</li>
	<li class="cat-item cat-item-5195179"><a href="https://alexandrebbarbosa.wordpress.com/category/redes/roteamento/">Roteamento</a>
</li>
	<li class="cat-item cat-item-21243"><a href="https://alexandrebbarbosa.wordpress.com/category/seguranca/">Segurança</a>
</li>
	<li class="cat-item cat-item-145472"><a href="https://alexandrebbarbosa.wordpress.com/category/sistema-operacional/" title="Esta categoria contém posts referente a instalação, configurações e personalização de Sistemas Operacionais.">Sistema Operacional</a>
</li>
	<li class="cat-item cat-item-207830"><a href="https://alexandrebbarbosa.wordpress.com/category/redes/suporte-tecnico/">Suporte técnico</a>
</li>
	<li class="cat-item cat-item-279023"><a href="https://alexandrebbarbosa.wordpress.com/category/virtualizacao/">Virtualização</a>
</li>
	<li class="cat-item cat-item-800"><a href="https://alexandrebbarbosa.wordpress.com/category/sistema-operacional/windows/">Windows</a>
</li>
		</ul>
</aside><aside id="meta-7" class="widget widget_meta"><h1 class="widget-title">Meta</h1>			<ul>
			<li><a href="https://wordpress.com/start/pt-br?ref=wplogin">Cadastre-se</a></li>			<li><a href="https://alexandrebbarbosa.wordpress.com/wp-login.php">Fazer login</a></li>
			<li><a href="https://alexandrebbarbosa.wordpress.com/feed/">Posts <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://alexandrebbarbosa.wordpress.com/comments/feed/"><abbr title="em inglês: Really Simple Syndication">RSS</abbr> dos comentários</a></li>
			<li><a href="https://wordpress.com/" title="Powered by WordPress, uma plataforma semântica de vanguarda para publicação pessoal.">WordPress.com</a></li>			</ul>
			</aside><aside id="follow_button_widget-3" class="widget widget_follow_button_widget">
		<iframe src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/index_002.htm" scrolling="no" width="100%" height="20" frameborder="0"></iframe>
		<script type="text/javascript">(function(d){var f = d.getElementsByTagName('SCRIPT')[0], p = d.createElement('SCRIPT');p.type = 'text/javascript';p.async = true;p.src = '//widgets.wp.com/platform.js';f.parentNode.insertBefore(p,f);}(document));</script>

		</aside>		<div class="wpcnt">
			<div class="wpa wpwidesky">
				<span class="wpa-about">Anúncios</span>
				<div class="u">
							<div style="padding-bottom:15px;width:160px;height:600px;">
		<div id="atatags-286348-5b239f522fd2f" style="overflow: hidden; position: relative; width: auto; height: auto;"><div style="width: 160px; height: 600px;"><iframe scrolling="no" style="border:none;overflow:hidden;width:160px;height:600px;" width="160" height="600" frameborder="0"></iframe></div><div id="atatags-286348-5b239f522fd2f__controls" style="width:160px;height:10px;text-align:right;line-height:6px;"><span id="atatags-286348-5b239f522fd2f__complain-btn" style="font-size: 10px; color: rgb(109, 171, 210); text-decoration: underline; cursor: pointer; display: inline;">Report this ad</span></div></div></div>
				</div>
				
			</div>
		</div>	</div><!-- #secondary -->
	</div><!-- #main -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
			<a href="https://wordpress.com/?ref=footer_custom_svg" title="Crie um site ou blog no WordPress.com"><svg style="fill: currentColor; position: relative; top: 1px;" width="14px" height="15px" viewBox="0 0 14 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" aria-labelledby="title" role="img">
				<desc id="title">Crie um site ou blog no WordPress.com</desc>
				<path d="M12.5225848,4.97949746 C13.0138466,5.87586309 13.2934037,6.90452431 13.2934037,7.99874074 C13.2934037,10.3205803 12.0351007,12.3476807 10.1640538,13.4385638 L12.0862862,7.88081544 C12.4453251,6.98296834 12.5648813,6.26504621 12.5648813,5.62667922 C12.5648813,5.39497674 12.549622,5.17994084 12.5225848,4.97949746 L12.5225848,4.97949746 Z M7.86730089,5.04801561 C8.24619178,5.02808979 8.58760099,4.98823815 8.58760099,4.98823815 C8.9267139,4.94809022 8.88671369,4.44972248 8.54745263,4.46957423 C8.54745263,4.46957423 7.52803983,4.54957381 6.86996227,4.54957381 C6.25158863,4.54957381 5.21247202,4.46957423 5.21247202,4.46957423 C4.87306282,4.44972248 4.83328483,4.96816418 5.17254589,4.98823815 C5.17254589,4.98823815 5.49358462,5.02808979 5.83269753,5.04801561 L6.81314716,7.73459399 L5.43565839,11.8651647 L3.14394256,5.04801561 C3.52312975,5.02808979 3.86416859,4.98823815 3.86416859,4.98823815 C4.20305928,4.94809022 4.16305906,4.44972248 3.82394616,4.46957423 C3.82394616,4.46957423 2.80475558,4.54957381 2.14660395,4.54957381 C2.02852925,4.54957381 1.88934333,4.54668493 1.74156477,4.54194422 C2.86690406,2.83350881 4.80113651,1.70529256 6.99996296,1.70529256 C8.638342,1.70529256 10.1302017,2.33173369 11.2498373,3.35765419 C11.222726,3.35602457 11.1962815,3.35261718 11.1683554,3.35261718 C10.5501299,3.35261718 10.1114609,3.89113285 10.1114609,4.46957423 C10.1114609,4.98823815 10.4107217,5.42705065 10.7296864,5.94564049 C10.969021,6.36482346 11.248578,6.90326506 11.248578,7.68133501 C11.248578,8.21992476 11.0413918,8.84503256 10.7696866,9.71584277 L10.1417574,11.8132391 L7.86730089,5.04801561 Z M6.99996296,14.2927074 C6.38218192,14.2927074 5.78595654,14.2021153 5.22195356,14.0362644 L7.11048207,8.54925635 L9.04486267,13.8491542 C9.05760348,13.8802652 9.07323319,13.9089317 9.08989995,13.9358945 C8.43574834,14.1661896 7.73285573,14.2927074 6.99996296,14.2927074 L6.99996296,14.2927074 Z M0.706448182,7.99874074 C0.706448182,7.08630113 0.902152921,6.22015756 1.25141403,5.43749503 L4.25357806,13.6627848 C2.15393732,12.6427902 0.706448182,10.4898387 0.706448182,7.99874074 L0.706448182,7.99874074 Z M6.99996296,0.999 C3.14016476,0.999 0,4.13905746 0,7.99874074 C0,11.8585722 3.14016476,14.999 6.99996296,14.999 C10.8596871,14.999 14,11.8585722 14,7.99874074 C14,4.13905746 10.8596871,0.999 6.99996296,0.999 L6.99996296,0.999 Z" id="wordpress-logo-simplified-cmyk" stroke="none" fill="“currentColor”" fill-rule="evenodd"></path>
			</svg></a>
 		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<!--  -->
<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/wpgroho.js"></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-46ace96856b2ef150a4fcd77c0c240e1">
	</div>
	<div class="grofile-hash-map-8a806c60680f43822840ef10169a591c">
	</div>
	<div class="grofile-hash-map-d823e9e5f6207fca6bfdf0fd89a29210">
	</div>
	<div class="grofile-hash-map-b179d1569b2cc3e32e9ff80732da0b8a">
	</div>
	<div class="grofile-hash-map-9c8ebbfc6f1500690a1cedc9ae7a3441">
	</div>
	<div class="grofile-hash-map-c865cd494ffdd2e8fe8e8a52f868664f">
	</div>
	</div>
<script type="text/javascript">
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Conectando\u2026","submittingText":"Postando Coment\u00e1rio\u2026","postCommentText":"Publicar coment\u00e1rio","connectingToText":"Conectando a %s","commentingAsText":"%1$s: Voc\u00ea est\u00e1 comentando utilizando sua conta %2$s.","logoutText":"Sair","loginText":"Fazer login","connectURL":"https:\/\/alexandrebbarbosa.wordpress.com\/public.api\/connect\/?action=request","logoutURL":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-login.php?action=logout&_wpnonce=5274d90f97","homeURL":"https:\/\/alexandrebbarbosa.wordpress.com\/","postID":"658","gravDefault":"identicon","enterACommentError":"Por favor escreva um coment\u00e1rio","enterEmailError":"Insira seu endere\u00e7o de email aqui","invalidEmailError":"Email inv\u00e1lido","enterAuthorError":"Digite o seu nome aqui","gravatarFromEmail":"Essa foto aparecer\u00e1 sempre que voc\u00ea deixar um coment\u00e1rio. Clicar para personaliz\u00e1-la.","logInToExternalAccount":"Fa\u00e7a login para usar detalhes de uma de suas conta.","change":"Alterar","changeAccount":"Alterar Conta","comment_registration":"0","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
/* ]]> */
</script>
<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a_002.js"></script>

	<div id="carousel-reblog-box">
		<form action="#" name="carousel-reblog">
			<textarea id="carousel-reblog-content" name="carousel-reblog-content" placeholder="Adicione suas ideias aqui... (opcional)"></textarea>
			<label for="carousel-reblog-to-blog-id" id="carousel-reblog-lblogid">Publicar em</label>
			<select name="carousel-reblog-to-blog-id" id="carousel-reblog-to-blog-id">
						</select>

			<div class="submit">
				<span class="canceltext"><a href="#" class="cancel">Cancelar</a></span>
				<input name="carousel-reblog-submit" class="button" id="carousel-reblog-submit" value="Reblogar Post" type="submit">
				<input id="carousel-reblog-blog-id" value="68730454" type="hidden">
				<input id="carousel-reblog-blog-url" value="https://alexandrebbarbosa.wordpress.com" type="hidden">
				<input id="carousel-reblog-blog-title" value="Alexandre Bezerra Barbosa" type="hidden">
				<input id="carousel-reblog-post-url" value="" type="hidden">
				<input id="carousel-reblog-post-title" value="" type="hidden">
			</div>

			<input id="_wpnonce" name="_wpnonce" value="1f4c0acc8f" type="hidden"><input name="_wp_http_referer" value="/2018/01/08/php-padrao-de-projeto-active-record-orm/" type="hidden">		</form>

		<div class="arrow"></div>
	</div>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/alexandrebbarbosa.wordpress.com\/2018\/01\/08\/php-padrao-de-projeto-active-record-orm\/":658};
	</script>
	
<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a_003.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expandir fonte';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

// Infinite scroll support
jQuery( function( $ ) {
	$( document.body ).on( 'post-load', function() {
		SyntaxHighlighter.highlight();
	} );
} );
</script>
<link rel="stylesheet" id="all-css-0-3" href="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/jetpack-carousel.css" type="text/css" media="all">
<!--[if lte IE 8]>
<link rel='stylesheet' id='jetpack-carousel-ie8fix-css'  href='https://s1.wp.com/wp-content/mu-plugins/carousel/jetpack-carousel-ie8fix.css?m=1412618825h&#038;ver=20121024' type='text/css' media='all' />
<![endif]-->
<script type="text/javascript">
/* <![CDATA[ */
var actionbardata = {"siteID":"68730454","siteName":"Alexandre Bezerra Barbosa","siteURL":"http:\/\/alexandrebbarbosa.wordpress.com","icon":"<img alt='' src='https:\/\/s2.wp.com\/i\/logo\/wpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"pub\/expound","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F","themeURL":"","xhrURL":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"5fdc675b81","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"1b419cb4db\" \/>","referer":"https:\/\/alexandrebbarbosa.wordpress.com\/2018\/01\/08\/php-padrao-de-projeto-active-record-orm\/","canFollow":"1","feedID":"21183718","statusMessage":"","customizeLink":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F","postID":"658","shortlink":"https:\/\/wp.me\/p4EnVI-aC","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/alexandrebbarbosa.wordpress.com\/658","statsLink":"https:\/\/wordpress.com\/stats\/post\/658\/alexandrebbarbosa.wordpress.com","i18n":{"view":"Exibir site","follow":"Seguir","following":"Seguindo","edit":"Editar","login":"Fazer login","signup":"Registre-se","customize":"Personalizar","report":"Denunciar este conte\u00fado","themeInfo":"Obtenha o tema: Expound","shortlink":"Copiar link curto","copied":"Copiado","followedText":"Novos posts deste site ser\u00e3o exibidos agora em seu <a href=\"https:\/\/wordpress.com\/\">Leitor<\/a>","foldBar":"Esconder esta barra","unfoldBar":"Mostrar esta barra","editSubs":"Gerenciar assinaturas","viewReader":"Visualizar site no Leitor","viewReadPost":"Ver post no Leitor","subscribe":"Cadastre-me","enterEmail":"Insira seu endere\u00e7o de email","followers":"","alreadyUser":"J\u00e1 tem uma conta do WordPress.com? <a href=\"https:\/\/alexandrebbarbosa.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F\">Fa\u00e7a login agora.<\/a>","stats":"Estat\u00edsticas"}};
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"pt","ajaxurl":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-admin\/admin-ajax.php","nonce":"cdbc8d7919","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Coment\u00e1rio","post_comment":"Publicar coment\u00e1rio","write_comment":"Escreva um Coment\u00e1rio","loading_comments":"Carregando coment\u00e1rios...","download_original":"Visualizar tamanho original <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Certifique-se de enviar algum texto com o seu coment\u00e1rio.","no_comment_email":"Informe um endere\u00e7o de email para comentar.","no_comment_author":"Forne\u00e7a seu nome para comentar.","comment_post_error":"Desculpe, mas ocorreu um erro ao postar seu coment\u00e1rio. Tente novamente mais tarde.","comment_approved":"Seu coment\u00e1rio foi aprovado.","comment_unapproved":"Seu coment\u00e1rio est\u00e1 aguardando modera\u00e7\u00e3o.","camera":"C\u00e2mera","aperture":"Abertura","shutter_speed":"Velocidade do Obturador","focal_length":"Comprimento Focal","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/alexandrebbarbosa.wordpress.com\/wp-login.php?redirect_to=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F","blog_id":"68730454","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (obrigat\u00f3rio)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Nome (obrigat\u00f3rio)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Site<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>","reblog":"Reblogar","reblogged":"Re-blogado","reblog_add_thoughts":"Adicione suas ideias aqui... (opcional)","reblogging":"Reblogando...","post_reblog":"Post Reblog","stats_query_args":"blog=68730454&v=wpcom&tz=-3&user_id=0&subd=alexandrebbarbosa","is_public":"1","reblog_enabled":""};
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"pt","counts":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/a.js"></script><div class="widget widget_eu_cookie_law_widget" style="display: block;"><div class="hide-on-button ads-active" data-hide-timeout="30" data-consent-expiration="180" id="eu-cookie-law">
	<form method="post">
		<input value="Fechar e aceitar" class="accept" type="submit">

		Privacidade e cookies: Esse site utiliza cookies. Ao continuar a usar este site, você concorda com seu uso. <br>
Para saber mais, inclusive sobre como controlar os cookies, consulte aqui:
		<a href="https://automattic.com/cookies">
			Política de cookies		</a>
 </form>
</div>
</div><div id="actionbar" class="actnbr-pub-expound actnbr-has-follow actnbr-hidden"><ul><li class="actnbr-btn actnbr-hidden"> 			    	<a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Seguir</span></a> 			    	<div class="actnbr-popover tip tip-top-left actnbr-notice"> 			    		<div class="tip-arrow"></div> 			    		<div class="tip-inner actnbr-follow-bubble"></div> 			    	</div> 			    </li><li class="actnbr-ellipsis actnbr-hidden"> 			  <svg class="gridicon gridicon__ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><circle cx="5" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle></g></svg> 			  <div class="actnbr-popover tip tip-top-left actnbr-more"> 			  	<div class="tip-arrow"></div> 			  	<div class="tip-inner"> 				  <ul> 				    <li class="actnbr-sitename actnbr-hidden"><a href="http://alexandrebbarbosa.wordpress.com/"><img alt="" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/wpcom-gray-white.png" class="avatar avatar-50" width="50" height="50"> Alexandre Bezerra Barbosa</a></li> 				   	<li class="actnbr-folded-customize actnbr-hidden"><a href="https://alexandrebbarbosa.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F"><svg class="gridicon gridicon__customize" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z" data-reactid=".2.1.1:0.1b.0"></path></g></svg><span>Personalizar<span></span></span></a></li> 				    <li class="actnbr-folded-follow actnbr-hidden"><a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Seguir</span></a></li> 					<li class="actnbr-signup actnbr-hidden"><a href="https://wordpress.com/start/">Registre-se</a></li> 				    <li class="actnbr-login actnbr-hidden"><a href="https://alexandrebbarbosa.wordpress.com/wp-login.php?redirect_to=https%3A%2F%2Falexandrebbarbosa.wordpress.com%2F2018%2F01%2F08%2Fphp-padrao-de-projeto-active-record-orm%2F">Fazer login</a></li> 				     				    <li class="actnbr-shortlink actnbr-hidden"><a href="https://wp.me/p4EnVI-aC">Copiar link curto</a></li> 				    <li class="flb-report actnbr-hidden"><a href="http://en.wordpress.com/abuse/">Denunciar este conteúdo</a></li> 				     				     				    <li class="actnbr-subs actnbr-hidden"><a href="https://subscribe.wordpress.com/">Gerenciar assinaturas</a></li> 				    <li class="actnbr-fold actnbr-hidden"><a href="">Esconder esta barra</a></li> 			      </ul> 			    </div> 		      </div> 		    </li> 	      </ul></div>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<iframe src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/master.htm" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe>
		<div id="likes-other-gravatars"><div class="likes-text"><span>%d</span> blogueiros gostam disto:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/w.js" type="text/javascript" async="" defer="defer"></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'68730454','blog_tz':'-3','user_lang':'pt-br','blog_lang':'pt-br','user_id':'0'}]);
_stq.push(['view', {'blog':'68730454','v':'wpcom','tz':'-3','user_id':'0','post':'658','subd':'alexandrebbarbosa'}]);
_stq.push(['extra', {'crypt':'UE5XaGUuOTlwaD85flAmcm1mcmZsaDhkV11YdWFnNncxc1tjZG9XVXhRUFYrYjIuSnFPfDlQdEwtN2YzbUEzMVZ5bW95U2l6cHh5THM4fGtvMD9bMGNIZTNJZkFRMnQvelk3fHotUWtsRklKP1hFdm1mdUV4TnUtJml6WHUzTktbbVprZiZGVVNvSVd2bUsvWSsmUUk3WFR6P3hLT3MwNkNQMzQrOX5nUUduYUxIXTNpSzZQcHZWV1U9Z1tudGlxW29FVzVZb3RnfFtCNXIweEQwWzUlZGk9MEhwRWtjcS5qNWxDcWdiTCZJelJ4WCt+XXVFSiZlcXRpeTB2JUsyPWM4W0l8OWxLT1hzakNOZ1UyV3U1PTQ1NmpbaGFoMk54UVAlc2oydWRrNDYtLw=='}]);
_stq.push([ 'clickTrackerInit', '68730454', '658' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>

<div id="sharing_email" style="display: none;">
		<form action="/2018/01/08/php-padrao-de-projeto-active-record-orm/" method="post">
			<label for="target_email">Enviar para oendereço de e-mail</label>
			<input name="target_email" id="target_email" type="email">

			
				<label for="source_name">Seu Nome</label>
				<input name="source_name" id="source_name" type="text">

				<label for="source_email">Seu endereço de e-mail</label>
				<input name="source_email" id="source_email" type="email">

						<input id="jetpack-source_f_name" name="source_f_name" class="input" size="25" autocomplete="off" title="This field is for validation and should not be changed" type="text">
			
			<div class="g-recaptcha" data-sitekey="6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_" data-theme="light" data-type="image" data-tabindex="0"><div style="width: 304px; height: 78px;"><div><iframe src="https://www.google.com/recaptcha/api2/anchor?ar=1&amp;k=6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_&amp;co=aHR0cHM6Ly9hbGV4YW5kcmViYmFyYm9zYS53b3JkcHJlc3MuY29tOjQ0Mw..&amp;hl=pt-BR&amp;type=image&amp;v=v1528855115741&amp;theme=light&amp;size=normal&amp;cb=dpb73oa0oi7u" role="presentation" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" width="304" height="78" frameborder="0"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div>
			<script type="text/javascript" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/api.js" async=""></script>
			
			<img style="float: right; display: none" class="loading" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/loading.gif" alt="loading" width="16" height="16">
			<input value="Enviar e-mail" class="sharing_send" type="submit">
			<a rel="nofollow" href="#cancel" class="sharing_cancel">Cancelar</a>

			<div class="errors errors-1" style="display: none;">
				Post não foi enviado - verifique os seus endereços de e-mail!			</div>

			<div class="errors errors-2" style="display: none;">
				Verificação de e-mail falhou, tente novamente			</div>

			<div class="errors errors-3" style="display: none;">
				Desculpe, seu blog não pode compartilhar posts por e-mail.			</div>
		</form>
	</div><img src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/g.gif" alt=":)" id="wpstats"><div style="background-color: #fff; border: 1px solid #ccc; box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.2); position: absolute; left: 0px; top: -10000px; transition: visibility 0s linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: #fff; opacity: 0.05;  filter: alpha(opacity=5)"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0; height: 0; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="desafio reCAPTCHA" src="PHP%20%20PADR%C3%83O%20DE%20PROJETO%20ACTIVE%20RECORD%20%E2%80%93%20ORM%20%20%20Alexandre%20Bezerra%20Barbosa_arquivos/bframe.htm" style="width: 100%; height: 100%;" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" name="7hciqsekoqb9" frameborder="0"></iframe></div></div></body></html>