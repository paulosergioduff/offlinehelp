webpackJsonp([1],Array(76).concat([function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(78),i(81),i(94),i(123),i(124),i(152),i(77),i(220),i(73),i(1),i(4),i(7)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p,f){var g=u.lixes;t.ajaxSetup(function(){var t={};return t[f.CSRF_HEADER]=play.getPageContextValue("csrfToken"),{headers:t}}()),n.Application.prototype._initChannel=function(){this.channelName=e.result(this,"channelName")||"global",this.channel=e.result(this,"channel")||Radio.channel(this.channelName)},
n.Behaviors.behaviorsLookup=function(){return r},n.Renderer.render=l,n.Region.prototype.showLoading=function(t){var e;return e=t&&t.view?t.view:new c(t),this.show(e,{showingLoader:!0}),this},n.Region.prototype.attachViewSSR=function(t){return n.Region.prototype.attachView.call(this,t),d.trackRenderComplete(),this},i.Router.prototype.route=function(t,n,o){return e.isRegExp(t)||(t=this._routeToRegExp(t)),e.isFunction(n)&&(o=n,n=""),o||(o=this[n]),i.history.route(t,e.bind(function(e){var r=this._extractParameters(t,
e);this.triggerMethod(u.router.BEFORE,n,r),this.execute(o,r,n)!==!1&&(this.triggerMethod(u.router.AFTER,n,r),this.trigger.apply(this,["route:"+n].concat(r)),this.trigger("route",n,r),i.history.trigger("route",this,n,r))},this)),this},i.Router.prototype.execute=function(t,e,i){if(t)return t.apply(this,e)},o.on("start",s.init,s),o.on("start",function(){window.jet&&jet.conf({appId:play.getPageContextValue("mpName")}),h.getInstance().setup(),this.router=new a,this.listenTo(this.router,u.router.BEFORE,
this.setPageKey),i.history.start({pushState:!0,root:play.getPageContextValue("contextPath")})}),g.request(g.IS_ENABLED,f.LIX_KEYS.DEFER_APP_START)&&"complete"!==document.readyState?t(window).load(function(){o.start()}):o.start(),window.Pulse=o}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78)],o=function(t){return t.ItemView.extend({template:"templates/walter/shared/contentRegionLoadingView",className:"loading-view"})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;!function(r,s){n=[i(75),i(6),i(79),i(80)],o=function(t,e){return r.Marionette=r.Mn=s(r,t,e)}.apply(e,n),!(void 0!==o&&(t.exports=o))}(this,function(t,e,i){var n=t.Marionette,o=t.Mn,r=e.Marionette={};r.VERSION="2.4.4",r.noConflict=function(){return t.Marionette=n,t.Mn=o,this},r.Deferred=e.$.Deferred,r.FEATURES={},r.isEnabled=function(t){return!!r.FEATURES[t]},r.extend=e.Model.extend,r.isNodeAttached=function(t){return e.$.contains(document.documentElement,
t)},r.mergeOptions=function(t,e){t&&i.extend(this,i.pick(t,e))},r.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},r.proxyGetOption=function(t){return r.getOption(this,t)},r._getValue=function(t,e,n){return i.isFunction(t)&&(t=n?t.apply(e,n):t.call(e)),t},r.normalizeMethods=function(t){return i.reduce(t,function(t,e,n){return i.isFunction(e)||(e=this[e]),e&&(t[n]=e),t},{},this)},r.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},
r.normalizeUIKeys=function(t,e){return i.reduce(t,function(t,i,n){var o=r.normalizeUIString(n,e);return t[o]=i,t},{})},r.normalizeUIValues=function(t,e,n){return i.each(t,function(o,s){i.isString(o)?t[s]=r.normalizeUIString(o,e):i.isObject(o)&&i.isArray(n)&&(i.extend(o,r.normalizeUIValues(i.pick(o,n),e)),i.each(n,function(t){var n=o[t];i.isString(n)&&(o[t]=r.normalizeUIString(n,e))}))}),t},r.actAsCollection=function(t,e){var n=["forEach","each","map","find","detect","filter","select","reject","every",
"all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];i.each(n,function(n){t[n]=function(){var t=i.values(i.result(this,e)),o=[t].concat(i.toArray(arguments));return i[n].apply(i,o)}})};var s=r.deprecate=function(t,e){i.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0)};s._warn="undefined"!=
typeof console&&(console.warn||console.log)||function(){},s._cache={},r._triggerMethod=function(){function t(t,e,i){return i.toUpperCase()}var e=/(^|:)(\w)/gi;return function(n,o,r){var s=arguments.length<3;s&&(r=o,o=r[0]);var a,l="on"+o.replace(e,t),c=n[l];return i.isFunction(c)&&(a=c.apply(n,s?i.rest(r):r)),i.isFunction(n.trigger)&&(s+r.length>1?n.trigger.apply(n,s?r:[o].concat(i.drop(r,0))):n.trigger(o)),a}}(),r.triggerMethod=function(t){return r._triggerMethod(this,arguments)},r.triggerMethodOn=
function(t){var e=i.isFunction(t.triggerMethod)?t.triggerMethod:r.triggerMethod;return e.apply(t,i.rest(arguments))},r.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,n()}function i(){t._isRendered=!0,n()}function n(){t._isShown&&t._isRendered&&r.isNodeAttached(t.el)&&r.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:e,render:i}))},function(t){function e(e,n,o,r){var s=r.split(/\s+/);i.each(s,function(i){var r=e[i];if(!r)throw new t.Error('Method "'+
i+'" was configured as an event handler, but does not exist.');e.listenTo(n,o,r)})}function n(t,e,i,n){t.listenTo(e,i,n)}function o(t,e,n,o){var r=o.split(/\s+/);i.each(r,function(i){var o=t[i];t.stopListening(e,n,o)})}function r(t,e,i,n){t.stopListening(e,i,n)}function s(e,n,o,r,s){if(n&&o){if(!i.isObject(o))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});o=t._getValue(o,e),i.each(o,function(t,o){i.isFunction(t)?r(e,
n,o,t):s(e,n,o,t)})}}t.bindEntityEvents=function(t,i,o){s(t,i,o,n,e)},t.unbindEntityEvents=function(t,e,i){s(t,e,i,r,o)},t.proxyBindEntityEvents=function(e,i){return t.bindEntityEvents(this,e,i)},t.proxyUnbindEntityEvents=function(e,i){return t.unbindEntityEvents(this,e,i)}}(r);var a=["description","fileName","lineNumber","name","message","number"];return r.Error=r.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+r.VERSION+"/",constructor:function(t,e){i.isObject(t)?(e=t,t=e.message):e||
(e={});var n=Error.call(this,t);i.extend(this,i.pick(n,a),i.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,r.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),r.Error.extend=r.extend,r.Callbacks=function(){this._deferred=r.Deferred(),this._callbacks=[]},i.extend(r.Callbacks.prototype,{add:function(t,e){var n=i.result(this._deferred,"promise");
this._callbacks.push({cb:t,ctx:e}),n.then(function(i){e&&(i.context=e),t.call(i.context,i.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=r.Deferred(),this._callbacks=[],i.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),r.Controller=function(t){this.options=t||{},i.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,i.extend(r.Controller.prototype,e.Events,{destroy:function(){return r._triggerMethod(this,
"before:destroy",arguments),r._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:r.triggerMethod,mergeOptions:r.mergeOptions,getOption:r.proxyGetOption}),r.Object=function(t){this.options=i.extend({},i.result(this,"options"),t),this.initialize.apply(this,arguments)},r.Object.extend=r.extend,i.extend(r.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),
this.stopListening(),this},triggerMethod:r.triggerMethod,mergeOptions:r.mergeOptions,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Region=r.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new r.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),r.Object.call(this,t)},show:function(t,
e){if(this._ensureElement()){this._ensureViewIsIntact(t),r.MonitorDOMRefresh(t);var n=e||{},o=t!==this.currentView,s=!!n.preventDestroy,a=!!n.forceShow,l=!!this.currentView,c=o&&!s,h=o||a;if(l&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,c?this.empty():l&&h&&this.currentView.off("destroy",this.empty,this),h){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),l&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",
t,this,e),r.triggerMethodOn(t,"before:show",t,this,e),l&&this.triggerMethod("swapOut",this.currentView,this,e);var u=r.isNodeAttached(this.el),d=[],p=i.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},n);return u&&p.triggerBeforeAttach&&(d=this._displayedViews(t),this._triggerAttach(d,"before:")),this.attachHtml(t),this.currentView=t,u&&p.triggerAttach&&(d=this._displayedViews(t),this._triggerAttach(d)),l&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",
t,this,e),r.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var n=(e||"")+"attach";i.each(t,function(t){r.triggerMethodOn(t,n,t,this)},this)},_displayedViews:function(t){return i.union([t],i.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||r.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||r.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(i.isObject(this.el)||
(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new r.Error('An "el" '+this.$el.selector+" must exist in DOM");}return!0},_ensureViewIsIntact:function(t){if(!t)throw new r.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'});
},getEl:function(t){return e.$(t,r._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,i=t||{},n=!!i.preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),n||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,n&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||
r.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||r.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(i.isString(t))return this._buildRegionFromSelector(t,
e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(i.isFunction(t))return this._buildRegionFromRegionClass(t);throw new r.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"});},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var n=t.regionClass||e,o=i.omit(t,"selector","regionClass");return t.selector&&!o.el&&(o.el=t.selector),new n(o)},_buildRegionFromRegionClass:function(t){return new t}}),
r.RegionManager=r.Controller.extend({constructor:function(t){this._regions={},this.length=0,r.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=r._getValue(t,this,arguments),i.reduce(t,function(t,n,o){return i.isString(n)&&(n={selector:n}),n.selector&&(n=i.defaults({},n,e)),t[o]=this.addRegion(o,n),t},{},this)},addRegion:function(t,e){var i;return i=e instanceof r.Region?e:r.Region.buildRegion(e,r.Region),this.triggerMethod("before:add:region",t,
i),i._parent=this,this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(t){return this._regions[t]},getRegions:function(){return i.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return i.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return i.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),r.Controller.prototype.destroy.apply(this,
arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),r.actAsCollection(r.RegionManager.prototype,"_regions"),r.TemplateCache=function(t){this.templateId=t},i.extend(r.TemplateCache,{templateCaches:{},get:function(t,e){var i=this.templateCaches[t];return i||(i=new r.TemplateCache(t),
this.templateCaches[t]=i),i.load(e)},clear:function(){var t,e=i.toArray(arguments),n=e.length;if(n>0)for(t=0;t<n;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),i.extend(r.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,i){var n=e.$(t);if(!n.length)throw new r.Error({name:"NoTemplateError",
message:'Could not find template: "'+t+'"'});return n.html()},compileTemplate:function(t,e){return i.template(t,e)}}),r.Renderer={render:function(t,e){if(!t)throw new r.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=i.isFunction(t)?t:r.TemplateCache.get(t);return n(e)}},r.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=i.bind(this.render,this),t=r._getValue(t,
this),this.options=i.extend({},i.result(this,"options"),t),this._behaviors=r.Behaviors(this),e.View.call(this,this.options),r.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,i.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=r._getValue(e,this),i.extend(t,e)},normalizeUIKeys:function(t){var e=i.result(this,"_uiBindings");return r.normalizeUIKeys(t,e||i.result(this,
"ui"))},normalizeUIValues:function(t,e){var n=i.result(this,"ui"),o=i.result(this,"_uiBindings");return r.normalizeUIValues(t,o||n,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(i.result(this,"triggers"));return i.reduce(t,function(t,e,i){return t[i]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),
i.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var n=r._getValue(t||this.events,this);n=this.normalizeUIKeys(n),i.isUndefined(t)&&(this.events=n);var o={},s=i.result(this,"behaviorEvents")||{},a=this.configureTriggers(),l=i.result(this,"behaviorTriggers")||{};i.extend(o,s,n,a,l),e.View.prototype.delegateEvents.call(this,o)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,
arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),i.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new r.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'});
},destroy:function(){if(this.isDestroyed)return this;var t=i.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),i.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),i.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);
var t=i.result(this,"_uiBindings");this.ui={},i.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),i.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(i.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=i.defaults({},t,{preventDefault:!0,stopPropagation:!0}),n=i.isObject(t)?e.event:t;return function(t){t&&
(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var i={view:this,model:this.model,collection:this.collection};this.triggerMethod(n,i)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return i.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=r._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],
i.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=r._triggerMethod,i=this._behaviors,n=0,o=i&&i.length;n<o;n++)e(i[n],t)},_triggerEventOnParentLayout:function(t,e){var n=this._parentLayoutView();if(n){var o=r.getOption(n,"childViewEventPrefix"),s=o+":"+t,a=[this].concat(e);r._triggerMethod(n,s,a);var l=r.getOption(n,"childEvents");l=r._getValue(l,n);var c=n.normalizeMethods(l);c&&i.isFunction(c[t])&&c[t].apply(n,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=
this._getImmediateChildren();return t.length?i.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof r.LayoutView)return t;t=t._parent}},normalizeMethods:r.normalizeMethods,mergeOptions:r.mergeOptions,getOption:r.proxyGetOption,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.ItemView=r.View.extend({constructor:function(){r.View.apply(this,arguments)},serializeData:function(){if(!this.model&&
!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,i.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=
this.getTemplate();if(t!==!1){if(!t)throw new r.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),i=r.Renderer.render(t,e,this);return this.attachElContent(i),this}},attachElContent:function(t){return this.$el.html(t),this}}),r.CollectionView=r.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),
r.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&r.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&
this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,n){var o=i.drop(arguments,3);i.each(t,function(t){r.triggerMethodOn.apply(t,[t,n,t,e].concat(o))})},_initialEvents:function(){this.collection&&
(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,n){var o=void 0!==n.at&&(n.index||e.indexOf(t));if((this.getOption("filter")||o===!1)&&(o=i.indexOf(this._filteredSortedModels(o),t)),this._shouldAddChild(t,o)){this.destroyEmptyView();var r=this.getChildView(t);this.addChild(t,
r,o)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){r.triggerMethodOn(t,"before:show",t)})},_onShowCalled:function(){this.children.each(function(t){r.triggerMethodOn(t,"show",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),
this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels(),n=i.some(e,function(e){return!t.findByModel(e)});if(n)this.render();else{var o=i.map(e,function(e,i){var n=t.findByModel(e);return n._index=i,n.el}),r=t.filter(function(t){return!i.contains(o,t.el)});this.triggerMethod("before:reorder"),this._appendReorderedChildren(o),i.each(r,this.removeChildView,this),this.checkEmpty(),
this.triggerMethod("reorder")}},resortView:function(){r.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=i.find(t,function(t,e){var i=this.children.findByModel(t);return!i||i._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():
(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();i.each(e,function(e,i){t=this.getChildView(e),this.addChild(e,t,i)},this)},_filteredSortedModels:function(t){var e=this.getViewComparator(),n=this.collection.models;if(t=Math.min(Math.max(t,0),n.length-
1),e){var o;t&&(o=n[t],n=n.slice(0,t).concat(n.slice(t+1))),n=this._sortModelsBy(n,e),o&&n.splice(t,0,o)}return this.getOption("filter")&&(n=i.filter(n,function(t,e){return this._shouldAddChild(t,e)},this)),n},_sortModelsBy:function(t,e){return"string"==typeof e?i.sortBy(t,function(t){return t.get(e)},this):1===e.length?i.sortBy(t,e,this):t.sort(i.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=
!0;var i=new e.Model;this.addEmptyView(i,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var n,o=this._isShown&&!this.isBuffering&&r.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");i.isFunction(s)&&
(s=s.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,s);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&r.triggerMethodOn(a,"before:show",a),o&&this._triggerBeforeAttach&&(n=this._getViewAndNested(a),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),o&&this._triggerAttach&&(n=this._getViewAndNested(a),this._triggerMethodMany(n,this,"attach")),this._isShown&&r.triggerMethodOn(a,
"show",a)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new r.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,i){var n=this.getOption("childViewOptions");n=r._getValue(n,this,[t,i]);var o=this.buildChildView(t,e,n);return this._updateIndices(o,!0,i),this.triggerMethod("before:add:child",o),this._addChildView(o,i),this.triggerMethod("add:child",o),o._parent=this,o},_updateIndices:function(t,e,i){this.getOption("sort")&&
(e&&(t._index=i),this.children.each(function(i){i._index>=t._index&&(i._index+=e?1:-1)}))},_addChildView:function(t,e){var i,n=this._isShown&&!this.isBuffering&&r.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",function(){this._isShown&&!this.isBuffering&&r.triggerMethodOn(t,"before:show",t),n&&this._triggerBeforeAttach&&(i=this._getViewAndNested(t),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(t),this.renderChildView(t,e),n&&this._triggerAttach&&(i=this._getViewAndNested(t),
this._triggerMethodMany(i,this,"attach")),this._isShown&&!this.isBuffering&&r.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||r.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||r.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,n){var o=i.extend({model:t},n),s=new e(o);return r.MonitorDOMRefresh(s),s},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||
r.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||r.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();
return i.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,i){t.isBuffering?t._bufferedChildren.splice(i,0,e):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,e){var i,n=this.getOption("sort")&&e<this.children.length-1;return n&&(i=this.children.find(function(t){return t._index===e+1})),!!i&&(i.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?
this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),r.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},n=!0,o=this.children.map(i.identity);return i.isUndefined(e.checkEmpty)||(n=e.checkEmpty),this.children.each(this.removeChildView,this),n&&this.checkEmpty(),o},_shouldAddChild:function(t,e){var n=this.getOption("filter");return!i.isFunction(n)||n.call(this,t,e,this.collection)},
proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var n=i.toArray(arguments),o=n[0],r=this.normalizeMethods(i.result(this,"childEvents"));n[0]=e+":"+o,n.splice(1,0,t),"undefined"!=typeof r&&i.isFunction(r[o])&&r[o].apply(this,n.slice(1)),this.triggerMethod.apply(this,n)})},_getImmediateChildren:function(){return i.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(i.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),
r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e},serializeData:function(){var t=
{};return this.model&&(t=i.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&r.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t=
{};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),i=r.Renderer.render(e,t,this);this.attachElContent(i),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var i=this.getChildViewContainer(t);i.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=
this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var i,n=r.getOption(t,"childViewContainer");if(n){var o=r._getValue(n,t);if(i="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:t.$(o),i.length<=0)throw new r.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer});}else i=t.$el;return t.$childViewContainer=i,i},resetChildViewContainer:function(){this.$childViewContainer&&
(this.$childViewContainer=void 0)}}),r.LayoutView=r.ItemView.extend({regionClass:r.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),r.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===
!0&&this.$el.remove(),this.regionManager.destroy(),r.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,n){var o=this.getRegion(t);return o.show.apply(o,i.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var i={};return i[t]=e,this._buildRegions(i)[t]},addRegions:function(t){return this.regions=i.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},
getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:i.partial(i.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=r._getValue(this.regions,this,[t])||{};var n=this.getOption.call(t,"regions");n=r._getValue(n,this,[t]),i.extend(e,n),e=this.normalizeUIValues(e,["selector","el"]),
this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new r.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",
function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return i.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),r.Behavior=r.Object.extend({constructor:function(t,e){this.view=e,this.defaults=i.result(this,"defaults")||{},this.options=i.extend({},this.defaults,t),this.ui=i.extend({},i.result(e,"ui"),i.result(this,
"ui")),r.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),r.Behaviors=function(t,e){function i(t,n){return e.isObject(t.behaviors)?(n=i.parseBehaviors(t,n||e.result(t,"behaviors")),i.wrap(t,n,e.keys(s)),n):{}}function n(t,e){this._view=t,this._behaviors=e,this._triggers={}}function o(t){return t._uiBindings||t.ui}var r=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(t,
e){var i=new n(this,e);return i.buildBehaviorTriggers()},behaviorEvents:function(i,n){var s={};return e.each(n,function(i,n){var a={},l=e.clone(e.result(i,"events"))||{};l=t.normalizeUIKeys(l,o(i));var c=0;e.each(l,function(t,o){var s=o.match(r),l=s[1]+"."+[this.cid,n,c++," "].join(""),h=s[2],u=l+h,d=e.isFunction(t)?t:i[t];a[u]=e.bind(d,i)},this),s=e.extend(s,a)},this),s}};return e.extend(i,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"});
},getBehaviorClass:function(e,n){return e.behaviorClass?e.behaviorClass:t._getValue(i.behaviorsLookup,this,[e,n])[n]},parseBehaviors:function(t,n){return e.chain(n).map(function(n,o){var r=i.getBehaviorClass(n,o),s=new r(n,t),a=i.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,i,n){e.each(n,function(n){t[n]=e.partial(s[n],t[n],i)})}}),e.extend(n.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,
this),this._triggers},_buildTriggerHandlersForBehavior:function(i,n){var r=e.clone(e.result(i,"triggers"))||{};r=t.normalizeUIKeys(r,o(i)),e.each(r,e.bind(this._setHandlerForBehavior,this,i,n))},_setHandlerForBehavior:function(t,e,i,n){var o=n.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[o]=this._view._buildViewTrigger(i)}}),i}(r,i),r.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var i=this.getOption("appRoutes"),
n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();this._addAppRoute(i,t,e)},_processOnRoute:function(t,e){if(i.isFunction(this.onRoute)){var n=i.invert(this.getOption("appRoutes"))[t];this.onRoute(t,n,e)}},processAppRoutes:function(t,e){if(e){var n=i.keys(e).reverse();i.each(n,function(i){this._addAppRoute(t,i,e[i])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,
e,n){var o=t[n];if(!o)throw new r.Error('Method "'+n+'" was not found on the controller');this.route(e,n,i.bind(o,t))},mergeOptions:r.mergeOptions,getOption:r.proxyGetOption,triggerMethod:r.triggerMethod,bindEntityEvents:r.proxyBindEntityEvents,unbindEntityEvents:r.proxyUnbindEntityEvents}),r.Application=r.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new r.Callbacks,this.submodules={},i.extend(this,t),this._initChannel(),r.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,
arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},
getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var n=r.Module.getClass(e),o=i.toArray(arguments);return o.unshift(this),n.create.apply(n,o)},getRegionManager:function(){return new r.RegionManager},_initializeRegions:function(t){var e=i.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var n=r.getOption(t,"regions");return i.isFunction(n)&&(n=n.call(this,t)),i.extend(e,n),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=
this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){r._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,r._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){r._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],r._triggerMethod(this,
"remove:region",arguments)})},_initChannel:function(){this.channelName=i.result(this,"channelName")||"global",this.channel=i.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=i.result(this,"vent")||this.channel.vent,this.commands=i.result(this,"commands")||this.channel.commands,this.reqres=i.result(this,"reqres")||this.channel.reqres}}),r.Module=function(t,e,n){this.moduleName=t,this.options=i.extend({},this.options,n),this.initialize=n.initialize||this.initialize,this.submodules=
{},this._setupInitializersAndFinalizers(),this.app=e,i.isFunction(this.initialize)&&this.initialize(t,e,this.options)},r.Module.extend=r.extend,i.extend(r.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(i.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,
this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),i.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,n){if(t){var o=i.flatten([this,this.app,e,r,e.$,i,n]);t.apply(this,o)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=
new r.Callbacks,this._finalizerCallbacks=new r.Callbacks},triggerMethod:r.triggerMethod}),i.extend(r.Module,{create:function(t,e,n){var o=t,r=i.drop(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=n,i.each(e,function(e,i){var s=o;o=this._getModule(s,e,t,n),this._addModuleDefinition(s,o,a[i],r)},this),o},_getModule:function(t,e,n,o,r){var s=i.extend({},o),a=this.getClass(o),l=t[e];return l||(l=new a(e,n,s),t[e]=l,t.submodules[e]=l),l},getClass:function(t){var e=r.Module;return t?t.prototype instanceof
e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,i,n){var o=this._getDefine(i),r=this._getStartWithParent(i,e);o&&e.addDefinition(o,n),this._addStartWithParent(t,e,r)},_getStartWithParent:function(t,e){var n;return i.isFunction(t)&&t.prototype instanceof r.Module?(n=e.constructor.prototype.startWithParent,!!i.isUndefined(n)||n):!i.isObject(t)||(n=t.startWithParent,!!i.isUndefined(n)||n)},_getDefine:function(t){return!i.isFunction(t)||t.prototype instanceof r.Module?i.isObject(t)?t.define:
null:t},_addStartWithParent:function(t,e,i){e.startWithParent=e.startWithParent&&i,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),r})},function(t,e,i){var n,o;!function(r,s){n=[i(75),i(6)],o=function(t,e){return s(t,e)}.apply(e,n),!(void 0!==o&&(t.exports=o))}(this,function(t,e){var i=t.Wreqr,n=t.Wreqr={};return t.Wreqr.VERSION="1.4.0",t.Wreqr.noConflict=function(){return t.Wreqr=i,this},n.Handlers=
function(t,e){var i=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events,{setHandlers:function(t){e.each(t,e.bind(function(t,i){var n=null;e.isObject(t)&&!e.isFunction(t)&&(n=t.context,t=t.callback),this.setHandler(i,t,n)},this))},setHandler:function(t,e,i){var n={callback:e,context:i};this._wreqrHandlers[t]=n,this.trigger("handler:add",t,e,i)},hasHandler:function(t){return!!this._wreqrHandlers[t]},
getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),i}(t,e),n.CommandStorage=function(){var i=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(i.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=
e),e},addCommand:function(t,e){var i=this.getCommands(t);i.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),i}(),n.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var i=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,
i):this.storage.addCommand(t,i)},_executeCommands:function(t,i,n){var o=this.storage.getCommands(t);e.each(o.instances,function(t){i.apply(n,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var i,n=t.storageType||this.storageType;i=e.isFunction(n)?new n:n,this.storage=i}})}(n,e),n.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(n,e),n.EventAggregator=function(t,e){var i=
function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,e),n.Channel=function(i){var n=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,
e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,i,n){if(i){n=n||this;var o="vent"===t?"on":"setHandler";e.each(i,e.bind(function(i,r){this[t][o](r,e.bind(i,n))},this))}}}),n}(n),n.radio=function(t,e){var i=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(i.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},
_getChannel:function(e){var i=this._channels[e];return i||(i=new t.Channel(e),this._channels[e]=i),i},_proxyMethods:function(){e.each(["vent","commands","reqres"],e.bind(function(t){e.each(n[t],e.bind(function(e){this[t][e]=o(this,t,e)},this))},this))}});var n={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},
o=function(t,i,n){return function(o){var r=t._getChannel(o)[i];return r[n].apply(r,e.rest(arguments))}};return new i}(n,e),t.Wreqr})},function(t,e,i){var n,o;!function(r,s){n=[i(75),i(6)],o=function(t,e){return s(t,e)}.apply(e,n),!(void 0!==o&&(t.exports=o))}(this,function(t,e){var i=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(i.prototype,{add:function(t,
e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var i=t.cid;return t.model&&
delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===i)return delete this._indexByCustom[e],!0},this),delete this._views[i],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,i){e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i||[])})},_updateLength:function(){this.length=e.size(this._views)}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains",
"invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(t,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=i,this},t.ChildViewContainer})},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(75),i(82),i(73),i(84),i(1),i(4),i(88),i(7),i(92),i(93)],
o=function(t,e,i,n,o,r,s,a,l,c,h,u,d){var p=h.PAGE_TITLE_SEPARATOR,f=h.PAGE_TITLE_SUFFIX;return new i.Application({initialize:function(){this.initListeners(),this.initializeCommentsProvider()},MODAL_EVENTS:{SHOW:"show:modal",CLOSE:"close:modal",CONFIRM:"confirm:modal",CANCEL:"cancel:modal"},regions:{ad:"#top-ad",banner:"#content-banner",content:"#content-main",modal:"#content-modal"},initListeners:e.once(function(){this.listenTo(this.getRegion("content"),"show",this.onContentRegionShow),r.tracking.on(r.tracking.TRACK,
this.onTrackEvent,this),r.modal.on(r.modal.SHOW,this.onShowModal,this),r.modal.on(r.modal.CLOSE,this.onCloseModal,this),r.modal.on(r.modal.CONFIRM,this.onCloseModal,this),r.app.reply(r.app.CURRENT_MEMBER,this.onCurrentMemberRequest,this),r.cache.on(r.cache.CLEAR,o.clear,this),r.page.on(r.page.TITLE,this.setPageTitle,this),r.lixes.reply(r.lixes.GET_VALUE,this.getLixValue,this),r.lixes.reply(r.lixes.IS_ENABLED,this.isLixEnabled,this)}),initializeCommentsProvider:function(){this.commentsProviderInstance=
u.create(),commentsProvider.setConfig("renderer",{paths:h.COMMENTS_TEMPLATES_V2}),commentsProvider.setConfig("mentions",h.MENTIONS_SETUP),commentsProvider.setConfig("global",{newIcons:!0})},onTrackEvent:function(t,e){a.track(t,e)},onContentRegionShow:function(t,e,i){i=i?i:{},i.showingLoader||a.trackRenderComplete()},onShowModal:function(t){var i;if(e.isUndefined(t)||e.isUndefined(t.view))throw new Error("Modal requires an options argument with a view.");i=new s({titleKey:t.titleKey,i18nTemplate:t.i18nTemplate,
view:t.view,modalClass:t.modalClass,showFooter:t.showFooter||!1,events:this.MODAL_EVENTS}),this.getRegion("modal").show(i)},onCloseModal:function(){this.getRegion("modal").empty()},onCurrentMemberRequest:function(){return this.currentMemberModel||(this.currentMemberModel=new c),this.currentMemberModel},setPageKey:function(t,e){var i=this.router.getPageKeyForRoute(t,e);i&&i.anchorKey!==a.getCurrentAnchorPageKey()?(l.setPageKey(i.anchorKey),a.setCurrentAnchorPageKey(i.anchorKey),a.setCurrentPageInstance(i.anchorKey),
a.startRumClientAppTransition(i.anchorKey),a.trackPageView(i.anchorKey)):i.anchorKey===i.fullKey&&(a.setCurrentPageInstance(i.anchorKey),a.trackPageView(i.anchorKey)),i&&(l.setPageKey(i.fullKey),window.jet&&jet.conf({pageKey:i.fullKey}),a.setCurrentPageKey(i.fullKey),i.anchorKey!==i.fullKey&&a.trackPageView(),a.trackNavigationEvent())},setPageTitle:function(t){t&&(t=t instanceof Array?t:[t],t.push(f),t=t.join(p)),document.title=t||f},getLixValue:function(t){return d.lixes[t]||null},isLixEnabled:function(t){var e=
this.getLixValue(t);return e===!0||"true"===e}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(83)],o=function(t,e){var i={};return t.defaults({exists:function(t){var e=this.find(t);return void 0!==e},find:function(t){var e=i[t];return e&&e._value?e._value:void 0},findOrPersist:function(e,i,n){var o,r=this.find(e);return r?r:(o=t.isFunction(i)?i():i,this.persist(e,o,n))},persist:function(e,n,o){var r=this,
s=r.find(e);return t.isUndefined(n)?null:s?s:(i[e]={_value:n},o&&o>0&&(i[e]._timer=setTimeout(function(){r.clear(e)},1E3*o)),n)},update:function(e,i){var n=this.find(e);return!(!n||!t.isFunction(i))&&i(n)},clear:function(t){try{clearTimeout(i[t]._timer),delete i[t]}catch(t){}}},e)}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[],o=function(){return{Feed:{Collection:"Feed.Collection",AuthorModel:"Feed.AuthorModel",
StreamView:"Feed.StreamView"},Drafts:{Collection:"Drafts.Collection"},Saved:{Collection:"Saved.Collection"},Published:{Collection:"Published.Collection"},Article:{Author:"Article.Author:",Content:"Article.Content:",Likes:"Article.Likes:",Related:"Article.Related:",Social:"Article.Social:"},Author:{Articles:"Author.Articles:",Followers:"Author.Followers:",Following:"Author.Following:",Profile:"Author.Profile:"},Pivot:{Collection:"Pivot.Collection:",Header:"Pivot.Header:"}}}.apply(e,n),!(void 0!==o&&
(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(6),i(85),i(73),i(87),i(7),i(4)],o=function(t,e,i,n,o,r,s,a){var l=a.get$Body(),c=a.get$Document(),h=a.get$Window(),u=s.CLASSES.HAS_MODAL;return e.LayoutView.extend({template:"templates/walter/shared/modal",isOpen:!1,elementNamespace:".dialog-modal",regions:{body:"#modal-body"},ui:{closeButton:".dismiss",confirmButton:".yes-btn",cancelButton:".no-btn",modal:"#modal",modalDialog:".modal-dialog",
title:"#modal-title"},className:function(){return this.getOption("modalClass")},triggers:{"click @ui.closeButton":"close:modal","click @ui.confirmButton":"confirm:modal","click @ui.cancelButton":"cancel:modal"},initialize:function(t){o.modal.on(o.modal.CHANGE.TITLE,this.updateHeaderText,this)},onBeforeShow:function(){this.refocusTarget=document.activeElement,this.showChildView("body",this.getOption("view"))},onShow:function(){this._bindGlobalEvents(),this.lastTabbable=this._getLastTabbable(),this.ui.modalDialog.on("keydown",
function(t){t.target===t.currentTarget&&t.which===r.TAB&&t.shiftKey&&(t.preventDefault(),this.lastTabbable.focus())}.bind(this)).focus(),t(this.lastTabbable).on("keydown",function(t){t.target!==t.currentTarget||t.which!==r.TAB||t.shiftKey||(t.preventDefault(),this.ui.modalDialog.focus())}.bind(this)),this.ui.modal.click(function(t){t.target===t.currentTarget&&this.onCloseModal()}.bind(this)),l.addClass(u)},onCloseModal:function(){o.modal.trigger(o.modal.CLOSE)},onConfirmModal:function(){o.modal.trigger(o.modal.CONFIRM)},
onCancelModal:function(){o.modal.trigger(o.modal.CANCEL)},onDestroy:function(){this.refocusTarget.focus(),o.modal.off(o.modal.CHANGE.TITLE),c.off(this.elementNamespace),h.off(this.elementNamespace),l.off(this.elementNamespace),l.removeClass(u)},templateHelpers:function(){return i.extend({titleKey:this.getOption("titleKey"),i18nTemplate:this.getOption("i18nTemplate"),showFooter:this.getOption("showFooter")},this.getOption("additionalViewProperties")||{})},updateHeaderText:function(t){this.ui.title.text(t)},
_bindGlobalEvents:function(){c.on("keyup"+this.elementNamespace,function(e){e.which===r.ESC?this.onCloseModal():e.which!==r.ENTER||t(e.originalEvent.target).is(":button")||this.ui.modalDialog.find("[data-app-primary-action]").click()}.bind(this)),l.on("click"+this.elementNamespace,function(t){"BODY"===t.target.nodeName&&this.onCloseModal()}.bind(this))},_getLastTabbable:function(){for(var e=this.ui.modalDialog.find("*").get(),i=e.pop();!n(i);)i=e.pop();return t(i)}})}.apply(e,n),!(void 0!==o&&(t.exports=
o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(86)],o=function(t,e){var i=function(i){var n,o,r,s;return i instanceof t?(n=i,o=i[0]):(n=t(i),o=i),r=n.attr("tabindex"),s=isNaN(r),(s||r>=0)&&e(n,!s)};return i}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5)],o=function(t){function e(e){var i=e.is(":visible"),n=!e.parents().addBack().filter(function(){return"hidden"===
t.css(this,"visibility")}).length;return i&&n}var i=function(i,n){var o,r,s,a=!1;if(i instanceof t?(o=i,r=i[0]):(o=t(i),r=i),r)return s=r.nodeName.toLowerCase(),n=n||!isNaN(o.attr("tabindex")),e(o)&&(/input|select|textarea|button|object/.test(s)?a=!r.disabled:n&&"a"===s&&(a=r.href)),a};return i}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n;n=function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,
ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,LEFT:37,UP_ARROW:38,UP:38,RIGHT_ARROW:39,RIGHT:39,DOWN_ARROW:40,DOWN:40,INSERT:45,DELETE:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,
MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACKSLASH:220,CLOSE_BRACKET:221,SINGLE_QUOTE:222}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(73),i(75),i(89),i(7)],o=function(t,e,i,n){var o=n.EMBEDDED_MEMBER_JSON_ID,
r="totalFollowings",s="totalDrafts",a=t.follow,l=t.services;return e.Model.extend({initialize:function(){var e;try{e=play.getEmbeddedContent(o)}catch(t){e={}}this.set(this.parse(e)),a.on(a.FOLLOW,this.incrementFollowings,this),a.on(a.UNFOLLOW,this.decrementFollowings,this),l.on(t.services.DELETE_ARTICLE_AFTER,this.decrementDraftCount,this)},parse:function(t){return t.id=t&&t.urn?i.getIdFromUrn(t.urn):"",t.isGuest=""===t.id,t},incrementFollowings:function(){this.set(r,this.get(r)+1)},decrementFollowings:function(){this.set(r,
this.get(r)-1)},decrementDraftCount:function(t){t.isPublished||this.set(s,this.get(s)-1)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(7),i(90),i(91)],o=function(t,e,i){var n=new e.Resources(i.i18n,i),o=new e.NumberFormatter,r=new e.NameFormatter,s=play.getPageContext().locale;return{getTemplateString:function(t,e,i){var o="";return n.get(t,e,i||{},function(t,e){if(t)throw t;o=e}),o},addHttps:function(t,e){return t&&
this.isUrl(t)?["http",e?"":"s","://",t].join(""):null},stripTrailingSlash:function(t){if(!_.isString(t))return t;var e=t.lastIndexOf("/");return e===t.length-1?t.substr(0,e):t},parseAndReplaceUrl:function(t,e){var i=this.parseUrl(t);return i&&this.isNotEmpty(i)&&e&&this.isNotEmpty(e)?t.replace(i,e):t},removeUrl:function(t){var e=this.parseUrl(t);return t.replace(e,"").trim()},formatNumber:function(t,e){return o.format(t,e||s)},formatName:function(t,e,i){return r.format(t,e,i||s)},createUrn:function(t,
e){return["urn:li",e,t].join(":")},getIdFromUrn:function(t){return String(t).split(":").pop()},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26")}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=LIModules.requires("t8")},function(t,e){t.exports=LIModules.requires("dust")},function(t,e){t.exports=require("provider/CommentsProvider")},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(7)],o=function(t){var e;
try{e=play.getEmbeddedContent(t.EMBEDDED_CONFIG_JSON_ID)}catch(t){e={}}return e}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(107),i(97),i(108),i(98),i(100),i(103),i(104),i(105),i(106),i(121),i(95),i(111),i(115),i(116),i(118),i(119),i(120)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p,f,g,v){return{ButtonBookmarkBehavior:t,ButtonCommentBehavior:e,ButtonFollowBehavior:i,ButtonLikeBehavior:n,DropdownBehavior:l,FlagArticleBehavior:o,
SocialSharingBehavior:r,StickyBehavior:s,StickyHeaderBehavior:a,ImpressionTrackingBehavior:c,LazyLoadMediaBehavior:h,DeleteArticleBehavior:u,TextSelectionBehavior:d,DwellTimeTrackingBehavior:p,LazyLoadCollectionViewItemsBehavior:f,ArtDecoTooltipBehavior:g,ActionTrackingBehavior:v}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(7),i(96)],o=function(t,e,i,n,o){var r="scroll.showMedia resize.showMedia";
return i.Behavior.extend({defaults:{dataSourceAttribute:"data-li-src",threshold:0,scrollableElement:e(window),throttle:0},onLazyLoadMedia:function(){var i=this.getOption("throttle"),o=e.proxy(t.throttle(this._showMedia,i),this),r=this.getOption("dataSourceAttribute"),s=["[",r,"]"].join("");s+=","+n.SLATE_FOLLOW_BUTTON_SELECTOR,this.$media=this.$el.find(s),this._setScrollEvent(o),o()},_showMedia:function(){var t=this.getOption("threshold"),i=this.getOption("scrollableElement"),o=e.proxy(this._setMediaSource,
this);this.$media.filter(function(){var o,r=e(this),s=r.is(":hidden"),a=i.scrollTop(),l=a+i.height(),c=r.offset().top,h=c+r.height();return o=r.is(n.SLATE_FOLLOW_BUTTON_SELECTOR)?500:t,h>=a-o&&c<=l+o&&!s}).each(function(){o(e(this))})},_setMediaSource:function(t){var e,i=this.getOption("dataSourceAttribute"),r=t.attr(i);r?(e=t[0].tagName.toLowerCase(),"img"===e||"iframe"===e?t.attr("src",r):t.css("background-image","url("+r+")")):t.is(n.SLATE_FOLLOW_BUTTON_SELECTOR)&&0===t.find("button").length&&
o.makeButton(t[0]),this._removeFromMediaCollection(t)},_removeFromMediaCollection:function(e){t.each(this.$media,function(t,i){e[0]===t&&this.$media.splice(i,1)}.bind(this)),e.removeAttr(this.getOption("dataSourceAttribute"))},_setScrollEvent:function(t){this._removeScrollEvent(),this._addScrollEvent(t)},_addScrollEvent:function(t){var e=this.getOption("scrollableElement");e.on(r,t)},_removeScrollEvent:function(){var t=this.getOption("scrollableElement");t.off(r)},onDestroy:function(){this._removeScrollEvent()}})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[],o=function(){var t=function(){},e=function(t,e){return"undefined"!=typeof t?t:e},i=function(t){var e=new XMLHttpRequest;t=t||{},e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){if(!t.onSuccess)return!0;var i=e.responseText;"json"===t.format&&(i=JSON.parse(i)),t.onSuccess(i)}else t.onError&&t.onError(e.status,e.responseText)},e.open(t.method,t.url,!0),t.post?
(e.setRequestHeader("Content-type",t.contenttype?t.contenttype:"application/x-www-form-urlencoded"),e.send(t.data)):e.send(null)},n={followEndpoint:"/pulse-fe/api/v1/follow",unfollowEndpoint:"/pulse-fe/api/v1/follow",followsEndpoint:"/pulse-fe/api/v1/followableEntity"},o={follow:"follow",unfollow:"unfollow",following:"following"},r="unfollow",s="follow",a="following",l="slate-follow-button_",c=l+r,h=l+a,u=l+s,d=function(t,e){this.buttonContainerEl=t,this.toggleHidden(),this.configure(e),this.buttonEl=
this.build(),this.getFollowing(),this.bind()};d.prototype.configure=function(t){var e=this.buttonContainerEl.dataset;this.config=t,this.strings=t.strings,this.icons=t.icons,this.endpoints=t.endpoints,this.followId=e.followButtonId,this.followType=e.followButtonType,this.urn=t.urnPrefix+this.followType+":"+this.followId,this.memberUrn=t.memberUrn,this.csrfToken=t.csrfToken,this.articleId=t.articleId,this.hasFollowed=!1,this.isGuest=t.isGuest||!1},d.prototype.build=function(){var t,e,i=document.createElement("button");
return this.stateSpan=document.createElement("span"),this.stateSpan.classList.add("slate-follow-button_label"),this.icons&&(this.iconEl=document.createElement("span"),this.iconEl.classList.add("slate-follow-button_icon"),i.appendChild(this.iconEl)),i.appendChild(this.stateSpan),this.buttonContainerEl.appendChild(i),this.buttonContainerEl.style.position="absolute",this.config.bindToPreviousEl&&(t=this.buttonContainerEl.previousElementSibling,t.style.position="relative",t.appendChild(this.buttonContainerEl),
t=this.buttonContainerEl.previousElementSibling,e=t.tagName.toUpperCase(),"A"===e?(t=t.querySelector("img"),t.style.display="block"):"IMG"===e&&(t.style.display="block")),i},d.prototype.getFollowing=function(){this.isGuest===!1?i({url:this.endpoints.followsEndpoint+"?urn\x3d"+this.urn,onSuccess:function(t){t?this.changeState(t.isFollowing?a:s):(this.changeState(s),this.error(404))}.bind(this),onError:this.error.bind(this),format:"json",method:"GET"}):this.changeState(s)},d.prototype.toggleFollow=
function(){var t={onError:this.error.bind(this),method:"POST",post:!0,data:"urn\x3d"+this.urn},e=Object.create(t);this.state&&this.state!==s?(e.method="DELETE",e.onSuccess=function(t){this.changeState(s),this.config.onUnfollowSuccess(this.urn,this.articleId,this.state)}.bind(this),e.url=this.endpoints.unfollowEndpoint+"?urn\x3d"+this.urn+"\x26csrfToken\x3d"+this.csrfToken):(e.onSuccess=function(t){this.changeState(a),this.hasFollowed=!0,this.config.onFollowSuccess(this.urn,this.articleId,this.state)}.bind(this),
e.url=this.endpoints.followEndpoint+"?urn\x3d"+this.urn+"\x26csrfToken\x3d"+this.csrfToken),i(e)},d.prototype.toggleHidden=function(t){t?this.buttonContainerEl.classList.remove("hidden"):this.buttonContainerEl.classList.toggle("hidden")},d.prototype.bind=function(){this.buttonEl.addEventListener("click",function(t){t.preventDefault(),this.toggleFollow(),this.config.onButtonClick.call(this,this.state,this.urn,this.articleId)}.bind(this)),["mouseenter","focus"].forEach(function(t){this.buttonEl.addEventListener(t,
this.changeStateEvent.bind(this,a))}.bind(this)),["mouseleave","blur"].forEach(function(t){this.buttonEl.addEventListener(t,this.changeStateEvent.bind(this,r))}.bind(this))},d.prototype.changeStateEvent=function(t){this.state!==a||t!==a||this.hasFollowed?this.state===r&&t===r?this.changeState(a):this.hasFollowed=!1:this.changeState(r)},d.prototype.error=function(t,e){this.config.onError.call(this,t,e,this.state,this.urn,this.articleId)},d.prototype.destroy=function(){var t=this.buttonContainerEl;
t.parentNode.removeChild(buttonEl)},d.prototype.changeState=function(t){var e=this.buttonContainerEl.classList;this.config.strings[t];e.remove(h,c,u),e.add(l+t),this.config.icons&&(this.iconEl.innerHTML=this.icons[(t+"_ICON").toUpperCase()]),this.stateSpan.textContent=this.config.strings[t],this.buttonEl.setAttribute("aria-label",this.config.strings[t]),this.state=t,this.toggleHidden(!0)};var p={lazyLoadedButtonQue:[],defaults:{isGuest:!0,strings:o,icons:!1,endpoints:n,urnPrefix:"urn:li:",buttonContainerClass:".slate-follow-button",
bindToPreviousEl:!1},setConfig:function(t,i){if(void 0===t)throw"missing container element";return this.containerEl=t,this.config=e(i,{}),this.configure(i),this.lazyLoadedButtonQue.length&&this.lazyLoadedButtonQue.forEach(function(t){return new d(t,this.config)}.bind(this)),this.config},configure:function(i){var n=this.defaults;this.config.isGuest=e(i.isGuest,n.isGuest),this.config.onError=e(i.onError,t),this.config.onButtonClick=e(i.onButtonClick,t),this.config.onFollowSuccess=e(i.onFollowSuccess,
t),this.config.onUnfollowSuccess=e(i.onUnfollowSuccess,t),this.config.endpoints=e(i.endpoints,n.endpoints),this.config.strings=e(i.strings,n.strings),this.config.icons=e(i.icons,n.icons),this.config.urnPrefix=e(i.urnPrefix,n.urnPrefix),this.config.buttonContainerClass=e(i.buttonContainerClass,n.buttonContainerClass),this.config.bindToPreviousEl=e(i.bindToPreviousEl,n.bindToPreviousEl)},getFollowButtons:function(){return this.followButtons},destroy:function(){this.getFollowButtons.forEach(function(t){t.destroy()})},
makeButton:function(t){return this.config?new d(t,this.config):void this.lazyLoadedButtonQue.push(t)}};return p}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78)],o=function(t,e){var i=t("html, body"),n=t("#header-banner").outerHeight()+t("#header-navigation").outerHeight()+50;return e.Behavior.extend({defaults:{buttonComment:".button-comment",commentsEl:"#comments",inputEl:".mention-input",duration:400,
offsetTop:n},initialize:function(){this.$commentsEl=t(this.getOption("commentsEl")),this.offsetTop=this.getOption("offsetTop"),this.duration=this.getOption("duration")},ui:function(){return{buttonComment:this.getOption("buttonComment")}},events:{"click @ui.buttonComment":"onClick"},onClick:function(t){t.metaKey||(t.preventDefault(),this.scrollToComments(),this.ui.buttonComment.blur())},scrollToComments:function(){i.animate({scrollTop:this.$commentsEl.offset().top-this.offsetTop},this.duration,this.focusInput.bind(this))},
focusInput:function(){t(this.getOption("inputEl")).eq(0).focus()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(73),i(78),i(7),i(99)],o=function(t,e,i,n,o,r){var s="isLiked",a=i.services,l=i.app,c=i.guest;return n.Behavior.extend({defaults:{model:null,selector:".button-like",tooltip:".tooltip-like"},initialize:function(){this.model=this.getOption("model"),this.urn=this.model.get("urn"),this.currentMember=
l.request(l.CURRENT_MEMBER),this.bindEvents()},bindEvents:function(){this.listenTo(a,a.LIKE_BEFORE,this.addLoading,this),this.listenTo(a,a.LIKE_AFTER,this.removeLoading,this)},ui:function(){return{buttonLike:this.getOption("selector"),tooltipLike:this.getOption("tooltip")}},events:{"click @ui.buttonLike":"onClick"},modelEvents:{"change:isLiked":"onLikeChanged"},onClick:function(t){t.metaKey||this.isLoading||(t.preventDefault(),this.currentMember.get("isGuest")?c.trigger(c.GATED_ACTION,o.GUEST_EVENTS.LIKE,
this.urn,this.model.get("feedItemType")?this.model.get("summary").permalink:this.model.get("permalink")):this.model[this.model.get(s)?"unlike":"like"]())},onLikeChanged:function(){this.ui.buttonLike.toggleClass(o.CLASSES.ACTIVE,this.model.get(s)),this.model.get(s)?this.ui.tooltipLike.text(r("i18n_tooltip_unlike")):this.ui.tooltipLike.text(r("i18n_tooltip_like"))},isLoading:!1,addLoading:function(t){this.urn===t&&(this.isLoading=!0)},removeLoading:function(t){this.urn===t&&(this.isLoading=!1)}})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(89)],o=function(t){var e="templates/walter/shared/strings/globalStrings";return function(i,n){var o="";i=0!==i.indexOf("i18n_")?"i18n_"+i:i;try{o=t.getTemplateString(i,e,n)}catch(t){}return o}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(73),i(101),i(102)],o=function(t,e,
i,n,o){return e.Behavior.extend({ui:{flagArticle:".flag-article"},events:{"click @ui.flagArticle":"clickFlagArticle"},clickFlagArticle:function(t){if(!t.metaKey){t.preventDefault();var e,r,s,a=this.view.model.get("authorUrn"),l=this.view.model.get("contentSource"),c=this.view.model.get("pubArticleUrn")||this.view.model.get("urn");s=a?play.buildUrlSimple(n.external.flagging.semaphoreData,{entityUrn:c,authorUrn:a,contentSource:l}):play.buildUrlSimple(n.external.flagging.semaphoreData,{entityUrn:c,contentSource:l}),
e=new o({semaphoreDataUrl:s}),r={view:e,titleKey:"i18n_flagging_semaphore_title",i18nTemplate:"templates/walter/shared/strings/globalStrings",modalClass:"semaphore-flagging"},i.modal.trigger(i.modal.SHOW,r)}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(7)],o=function(t,e){var i={flagging:{flag:"/today/social/flag-article-form",semaphoreData:"/psettings/flagging-menu"}};try{var n=play.getEmbeddedContent(e.ROUTES_JSON_ID)}catch(t){}return{v1:n,
external:i}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(75),i(78),i(6),i(4),i(73)],o=function(t,e,i,n,o,r){var s,a=!1;return i.ItemView.extend({successTemplate:"templates/walter/flagging/semaphoreFlaggingSuccess",template:"templates/walter/flagging/semaphoreFlagging",className:"semaphore-body",events:{"click .option-trigger":"onOptionSelect","click .back":"onBackButtonSelect"},modelStack:[],state:{pageCount:1},
dialogTrackingCodes:{},initialize:function(e){if(n.isUndefined(e)||n.isUndefined(e.semaphoreDataUrl))throw new Error("SemaphoreView requires a semaphoreDataUrl to be passed in");var i,o;s=window.liTrackClient||null,this.initData().done(function(e){i=t("#modal-title").text(),this.steps=e.numberOfSteps,o=this.createModel(e),this.dialogTrackingCodes=n.extend(this.dialogTrackingCodes,o.get("dialogTrackingCodes")),o.set({title:i}),this.resultScreen=o.get("resultScreen"),this.modelStack.push(o),this.setModelView(o)}.bind(this))},
onBeforeDestroy:function(){this._beforeCloseHandler()},initData:function(){return t.ajax(this.getOption("semaphoreDataUrl"))},createModel:function(t){var i=new e.Model(n.extend(t,this.state));return i=this.setPaging(i)},setPaging:function(t){var e,i=this.steps,n=[];for(e=1;e<=i;e++)n.push(e);return t.set({paging:n}),t},onOptionSelect:function(e){var i,o,s=t(e.currentTarget),l=s.data(),c=l.trackingId,h=l.optionIndex,u=s.attr("href")||l.optionUrl,d=l.openLinkUrl,p=n.last(this.modelStack),f=p.get("options");
c||jet.error(new Error("Semaphore trackingId is missing")),f&&(p=f[h].section||f[h].action,this.state.pageCount++,p=this.createModel(p),this.modelStack.push(p)),u?(a=!0,i=s.parents().hasClass("additional-actions"),o={url:u,trackingId:c},this.makePost(o),i&&this.destroy()):d?(a=!0,this._openAndTrackUrl({url:d,trackingId:c}),r.modal.trigger(r.modal.CLOSE)):(this._track(c),this.setModelView(p))},onBackButtonSelect:function(){var t;this.modelStack.pop(),this.state.pageCount--,t=n.last(this.modelStack),
t.set(this.state),this._track(this.dialogTrackingCodes.dialogBackButton),this.setModelView(t)},setModelView:function(t){this.model=t,r.modal.trigger(r.modal.CHANGE.TITLE,this.model.get("title")),a=!1,this.render()},makePost:function(e){var i=o.readCookie("JSESSIONID").replace(/"/g,""),n=this;t.ajax({url:e.url,data:i,method:"POST",headers:{"X-IsAJAXForm":1}}).done(function(){n._track(e.trackingId),n.onReportSuccess()}).fail(function(t){jet.error(t)})},_track:function(t,e){var i,n=e||{},o="unknown";
document.body.id&&(o=document.body.id.substring("pagekey-".length)),i={requestHeader:{pageKey:o},action:"CLICK",sponsoredFlag:"ORGANIC",moduleKey:t,customProperties:n},s&&s.trackUnifiedAction(i)},onReportSuccess:function(){if(this.successTemplate){var t=n.last(this.modelStack);t.set({resultScreen:this.resultScreen}),this.template=this.successTemplate,this.setModelView(t)}},_beforeCloseHandler:function(){var t=a?this.dialogTrackingCodes.dialogClose:this.dialogTrackingCodes.dialogCancel;this._track(t)},
_openAndTrackUrl:function(t){window.open(t.url,"_blank"),this._track(t.trackingId)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(78),i(7)],o=function(t,e,i,n,o){return n.Behavior.extend({defaults:{url:"",summary:"",title:"",authorTwitterHandle:"",winParams:"width\x3d550,height\x3d380",selector:".share-button"},ui:function(){return{SocialShare:this.getOption("selector")}},events:{"click @ui.SocialShare":"clickSocialShare"},
clickSocialShare:function(e){if(!e.metaKey){var i,n;switch(e.preventDefault(),i=t(e.target).closest("a").data("share-type")){case "linkedin":n=this.linkedinShareUrl();break;case "facebook":n=this.facebookShareUrl();break;case "twitter":n=this.twitterShareUrl()}window.open(n,"_blank",this.defaults.winParams)}},linkedinShareUrl:function(){var t=o.SHARE_URLS.LINKEDIN_SHARE_URL+this.options.url,e=this.options.selectedText;return t+=e?"\x26text\x3d"+encodeURIComponent('"'+e+'"')+"\x26mention\x3d1":"",
t+=this.options.title?"\x26title\x3d"+encodeURIComponent(this.options.title):""},facebookShareUrl:function(){var t=o.SHARE_URLS.FACEBOOK_SHARE_URL+this.options.url;return t+=this.options.text?"\x26text\x3d"+encodeURIComponent(this.options.text):"",t+=this.options.title?"\x26title\x3d"+encodeURIComponent(this.options.title):""},twitterShareUrl:function(){var t=o.SHARE_URLS.TWITTER_SHARE_URL+this.options.url,e=this.options.selectedText||this.options.title;return e&&(e+=this.options.authorTwitterHandle?
" by @"+this.options.authorTwitterHandle:"",e+=" on @LinkedIn"),t+=e?'\x26text\x3d"'+encodeURIComponent(e)+'"':""}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78)],o=function(t,e,i){return i.Behavior.extend({defaults:{scrollEl:window,stickyEl:null,triggerEl:null,stickyOnClass:"slide-in",stickyOffClass:"slide-out",offsetTop:0,wait:250,callback:null},isSticky:!1,onAttach:function(){this.$scrollEl=
t(this.getOption("scrollEl")),this.$stickyEl=t(this.getOption("stickyEl")),this.$triggerEl=t(this.getOption("triggerEl")),this.offsetTop=this.getOption("offsetTop"),this.stickyOnClass=this.getOption("stickyOnClass"),this.stickyOffClass=this.getOption("stickyOffClass"),this.wait=this.getOption("wait"),this.callback=this.getOption("callback"),this.getOffsetMethod=this.$scrollEl[0]instanceof window.constructor?"offset":"position",this.setTriggerElBottom(),this.onScroll(),this.bindEvents()},bindEvents:function(){this.$scrollEl.on("scroll.stickyBehavior",
e.bind(e.debounce(this.onScroll,this.wait),this)),this.$scrollEl.on("resize.stickyBehavior",e.bind(e.debounce(this.onResize,this.wait),this))},onScroll:function(){this.$scrollEl.scrollTop()>this.triggerElBottom-this.offsetTop?this.addSticky():this.removeSticky(),"function"==typeof this.callback&&this.callback.call(this)},onResize:function(){this.setTriggerElBottom()},addSticky:function(){this.isSticky||(this.$stickyEl.removeClass(this.stickyOffClass).addClass(this.stickyOnClass),this.isSticky=!0)},
removeSticky:function(){this.isSticky&&(this.$stickyEl.removeClass(this.stickyOnClass).addClass(this.stickyOffClass),this.isSticky=!1)},setTriggerElBottom:function(){this.triggerElBottom=this.$triggerEl[this.getOffsetMethod]().top+this.$triggerEl.outerHeight()},onDestroy:function(){this.$scrollEl.off(".stickyBehavior")}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(104),i(7)],o=function(t,e,i,n){var o=
t(n.HEADER_NAV_SELECTOR).length||t(n.HEADER_BANNER_SELECTOR).length;return o=o&&window.globalNav&&window.globalNav.subNav,i.extend({bindEvents:function(){o&&(i.prototype.bindEvents.call(this),this.offsetTop=this.getOption("offsetTop"),this.offsetSubNavDown=this.getOption("offsetSubNavDown"),o.onDidAnimateUp(e.bind(this.onSubNavUp,this)),o.onDidAnimateDown(e.bind(this.onSubNavDown,this)),this.isSubNavCollapsed()?this.onSubNavUp():this.onSubNavDown())},onSubNavUp:function(){this.$stickyEl.css("top",
this.offsetTop)},onSubNavDown:function(){this.$stickyEl.css("top",this.offsetSubNavDown)},isSubNavCollapsed:function(){var t=o.getState();return t.collapsed}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(5),i(6),i(75),i(78)],o=function(t,e,i,n){var o=27,r="dropdown";return n.Behavior.extend({initialize:function(){this._openDropdown=null,this._activeClass=this.getOption("activeClass"),this.$doc=t(this.getOption("doc"))},defaults:{activeClass:"active",
trigger:".js-dropdown-trigger",content:".js-dropdown-content",dropdown:".js-dropdown",focusSelector:".js-a11y-menu",doc:document},ui:function(){return{trigger:this.getOption("trigger")}},events:{"click @ui.trigger":"_evtTriggerClick"},open:function(t){if(t&&!t.is(this._openDropdown)){var e,n=this.getOption("focusSelector"),o=t.find(this.getOption("content"));this.close(this._openDropdown),this._trigger("before:"+r+":open",t),t.addClass(this._activeClass),n&&(e=o.find(n),e.length&&(o=e)),o.attr("tabIndex",
-1).focus(),this._openDropdown=t,this._trigger(r+":open",t),this.$doc.on("click."+r,this._evtDocClick.bind(this)),this.$doc.on("keydown."+r,this._evtKeyDown.bind(this)),this.listenTo(i.history,"route",this._evtRoute.bind(this))}},close:function(t,e){e=e||{},t&&(this._trigger("before:"+r+":close",t),t.removeClass(this._activeClass),this._openDropdown=null,e.focusOnTrigger&&t.find(this.getOption("trigger")).focus(),this._trigger(r+":close",t),this.$doc.off(r),this.stopListening(i.history))},toggle:function(t){this.isOpen(t)?
this.close(this._openDropdown):this.open(t)},isOpen:function(t){return t.is(this._openDropdown)},_trigger:function(t,e){this.view.triggerMethod(t,e),e.trigger(t)},_evtRoute:function(){this.close(this._openDropdown)},_evtDocClick:function(e){var i=t(e.target),n=this._openDropdown;!n||n.is(i)||n.has(i).length||this.close(this._openDropdown)},_evtKeyDown:function(t){var e=t.which;switch(e){case o:this.close(this._openDropdown,{focusOnTrigger:!0})}},_evtTriggerClick:function(e){var i=t(e.currentTarget),
n=i.closest(this.getOption("dropdown"));this.toggle(n)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(73),i(7)],o=function(t,e,i,n){var o="saved",r=i.services;return e.Behavior.extend({defaults:{model:null},initialize:function(){this.model=this.getOption("model"),this.urn=this.model.get("urn"),this.listenTo(r,r.BOOKMARK_BEFORE,this.addLoading,this),this.listenTo(r,r.BOOKMARK_AFTER,this.removeLoading,this)},ui:{buttonBookmark:".button-bookmark"},
events:{"click @ui.buttonBookmark":"onClick"},modelEvents:{"change:saved":"onBookmarkChanged"},onClick:function(t){t.metaKey||this.isLoading||(t.preventDefault(),this.model[this.model.get(o)?"unbookmark":"bookmark"]())},onBookmarkChanged:function(){this.ui.buttonBookmark.toggleClass(n.CLASSES.ACTIVE,this.model.get(o))},isLoading:!1,addLoading:function(t){this.urn===t&&(this.isLoading=!0)},removeLoading:function(t){this.urn===t&&(this.isLoading=!1)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,
n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(73),i(7),i(109)],o=function(t,e,i,n,o,r){var s="isFollowing",a=n.services,l=n.app,c=n.guest;return i.Behavior.extend(t.extend({},r,{defaults:{model:null,buttonFollow:".button-follow"},initialize:function(){this.model=this.getOption("model"),this.model&&(this.urn=this.model.get("urn"),this.followType=this.getOption("followType"),this.trackFollow=this.trackFollow.bind(this),this.currentMember=l.request(l.CURRENT_MEMBER),
this.bindEvents())},bindEvents:function(){this.listenTo(a,a.FOLLOW_BEFORE,this.addLoading,this),this.listenTo(a,a.FOLLOW_AFTER,this.removeLoading,this),this.listenTo(this.model,o.TRIGGERS.CHANGE_FOLLOW,this.onIsFollowingChange,this)},ui:function(){return{buttonFollow:this.getOption("buttonFollow")}},events:{"click @ui.buttonFollow":"onClick"},onClick:function(t){t.metaKey||this.isLoading||(t.preventDefault(),this.currentMember.get("isGuest")?c.trigger(c.GATED_ACTION,o.GUEST_EVENTS.FOLLOW,this.urn):
this.model[this.model.get(s)?"unfollow":"follow"]().done(this.trackFollow))},onIsFollowingChange:function(){this.ui.buttonFollow.toggleClass(o.CLASSES.ACTIVE,this.model.get(s))},isLoading:!1,disableButton:function(t){this.urn===t&&(this.isLoading=!0)},enableButton:function(t){this.urn===t&&(this.isLoading=!1)}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(72),i(1),i(110)],o=function(t,e,i,n){var o=e.ACTION_TYPES.FOLLOW_AUTHOR,
r=e.ACTION_TYPES.UNFOLLOW_AUTHOR,s=e.ACTION_TYPES.FOLLOW_CHANNEL,a=e.ACTION_TYPES.UNFOLLOW_CHANNEL,l=e.ACTION_TYPES.FOLLOW_COMPANY,c=e.ACTION_TYPES.UNFOLLOW_COMPANY,h=(e.FOLLOW_TYPES.AUTHOR,e.FOLLOW_TYPES.CHANNEL,e.FOLLOW_TYPES.COMPANY,"FOLLOW"),u="UNFOLLOW",d="isFollowing",p=e.METHOD_TRIGGERS.TRACK_ACTION,f=e.METHOD_TRIGGERS.TRACK_CHILD,g={AUTHOR:{FOLLOW:o,UNFOLLOW:r},CHANNEL:{FOLLOW:s,UNFOLLOW:a},COMPANY:{FOLLOW:l,UNFOLLOW:c}};return t.extend(n,{followType:null,trackFollow:function(){var t,i,n,
o=this.model;return this.followType?(t=g[this.followType].FOLLOW,i=g[this.followType].UNFOLLOW,n=this.trackAction(),n.actionCategory=o.get(d)?h:u,n.actionType=n.actionCategory===e.ACTION_CATEGORIES.FOLLOW?t:i,n.controlUrn=e.CONTROL_URN.FOLLOW_BUTTON,n.requestId="",void(this.view&&(this.view.triggerMethod(p,n),this.view.triggerMethod(f,n)))):void console.warn("No followType provided, nothing will be tracked!")}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,
e,i){var n,o,n,o;n=[e],o=function(e){n=[i(72),i(1),i(4)],o=function(t,e,i){var n=t.URN;return{trackAction:function(){if(!this.model)return void console.warn("Action Tracking Mixin requires a model to get objectUrn and trackign id for action event");var t={trackablePulseObject:{objectUrn:this.model.get(n),trackingId:this.model.get("trackingId")||e.generateTrackingId()},time:i.getNow()};return t}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,
o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(73),i(101),i(4),i(112),i(114)],o=function(t,e,i,n,o,r,s,a){var l=new s;return i.Behavior.extend({events:{"click .delete-item":"confirmDelete"},confirmDelete:function(t){t.preventDefault();var e,i;e=new a({contentKey:"i18n_are_you_sure_delete",i18nTemplate:"templates/walter/shared/strings/globalStrings"}),i={view:e,titleKey:"i18n_delete_your_post",i18nTemplate:"templates/walter/shared/strings/globalStrings",modalClass:"article-delete",showFooter:!0},n.modal.trigger(n.modal.SHOW,
i),this.addEventListeners()},onDeleteModalConfirm:function(){var t=this.view.model.get("pubArticleUrn"),e=this.view.model.get("urn"),i=this.view.model.collection;l.delete(t,e).done(function(){this.view.model.destroy().then(function(){i.trigger("sync")}),n.modal.trigger(n.modal.CLOSE)}.bind(this))},onDeleteModalCancel:function(){n.modal.trigger(n.modal.CLOSE)},addEventListeners:function(){this.listenTo(n.modal,n.modal.CONFIRM,this.onDeleteModalConfirm,this),this.listenTo(n.modal,n.modal.CANCEL,this.onDeleteModalCancel,
this),this.listenTo(n.modal,n.modal.CLOSE,this.removeEventListeners,this)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),i(7)],o=function(t,e,i,n){var o=e.v1.published.delete,r=n.REQUEST_METHODS.DELETE,s=i.services;return t.extend({options:{radioChannel:s,radioBeforeEvent:s.DELETE_ARTICLE_BEFORE,radioAfterEvent:s.DELETE_ARTICLE_AFTER},delete:function(t,e){var i=this.urnToData(t);return this.isPublished=
e,this.makeAjaxRequest({method:r,url:o,data:i})},afterAjaxRequest:function(t){var e={urn:t,isPublished:this.isPublished};this.radioAfterEvent&&t&&this.radioChannel.trigger(this.radioAfterEvent,e)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(73)],o=function(t,e,i,n){return i.Object.extend({options:{radioChannel:null,radioBeforeEvent:null,radioAfterEvent:null},initialize:function(){this.radioChannel=
this.getOption("radioChannel"),this.radioBeforeEvent=this.getOption("radioBeforeEvent"),this.radioAfterEvent=this.getOption("radioAfterEvent")},makeAjaxRequest:function(i){var n=i&&i.data&&i.data.urn,o=t.Deferred();return this.beforeAjaxRequest(n),t.ajax(i).always(e.bind(function(t,e,i){this.afterAjaxRequest(n),o.resolve(t,e,i)},this)),o},urnToData:function(t){var e={};return t instanceof Array?e.urns=t.join():e.urn=t,e},beforeAjaxRequest:function(t){this.radioBeforeEvent&&t&&this.radioChannel.trigger(this.radioBeforeEvent,
t)},afterAjaxRequest:function(t){this.radioAfterEvent&&t&&this.radioChannel.trigger(this.radioAfterEvent,t)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78)],o=function(t,e,i){return i.ItemView.extend({viewOptions:["contentKey","i18nTemplate"],template:"templates/walter/shared/simpleTextModalBody",tagName:"p",initialize:function(t){this.mergeOptions(t,this.viewOptions)},templateHelpers:function(){return e.extend({contentKey:this.getOption("contentKey"),
i18nTemplate:this.getOption("i18nTemplate")})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78)],o=function(t,e){function i(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t.trim()}function n(){var t,e,i=document.selection,n=0,o=0,r=0;return i?"Control"!==i.type&&(t=i.createRange(),
n=t.boundingLeft,o=t.boundingTop,r=t.boundingHeight):window.getSelection&&(i=window.getSelection(),i.rangeCount&&(t=i.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n=e.left,o=e.top,r=e.height))),{x:n,y:o,height:r}}return e.Behavior.extend({selectedText:"",ui:function(){return{textContainer:this.getOption("selector")}},events:{"mouseup @ui.textContainer":"onSelectText"},defaults:{selector:"document"},onSelectText:function(t){var e,o,r=this;t.stopPropagation(),setTimeout(function(){e=
i(),o=n(),e?(r.selectedText=e,r.view.triggerMethod("selected:text",t,e,o)):r.view.triggerMethod("deselected:text",t)},0)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(117),i(1),i(7),i(4)],o=function(t,e,i,n,o,r,s){return i.Behavior.extend({onAttach:function(){var i=this.view,a=i.model,l=t.clone(a.get("authorModel").attributes);this.bowtieInstance=new n.default({pageKey:o.getCurrentPageKey()},
{urn:a.get("urn"),metadata:{authorUrn:l.urn,publishedTime:a.get("publishedDate"),influencer:l.isInfluencer}},{appId:null},{appId:r.APP_ID,callback:function(t){t.eventBody.trackablePulseObject=i.trackablePulseObject||null,t.eventBody.header={pageInstance:o.getCurrentPageInstance(),time:s.getNow()},e.ajax({type:"POST",url:r.URL_SNIPPETS.MOB_TRACKING,data:JSON.stringify(t),contentType:"application/json"})}}),this.bowtieInstance.startSession()},onDestroy:function(){this.bowtieInstance&&(this.bowtieInstance.endSession(),
this.bowtieInstance.destroy())}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,r;!function(i,s){o=[e],n=s,r="function"==typeof n?n.apply(e,o):n,!(void 0!==r&&(t.exports=r))}(this,function(t){function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(){function t(){return(Math.random().toString(16)+"000000000").substr(2,8)}for(var e=t()+t()+t()+t(),i=[],n=0;n<e.length;n+=
2)i.push(parseInt(e.charAt(n)+e.charAt(n+1),16));return i}function n(){return(new Date).getTime()}function o(){var t,o,p,f,g=arguments.length<=0||void 0===arguments[0]?{pageKey:void 0}:arguments[0],v=arguments.length<=1||void 0===arguments[1]?{urn:void 0}:arguments[1],m=arguments.length<=2||void 0===arguments[2]?{appId:void 0,callback:function(t){}}:arguments[2],E=arguments.length<=3||void 0===arguments[3]?{appId:void 0,callback:function(t){}}:arguments[3],w=this,C=arguments.length<=4||void 0===arguments[4]?
function(){return!0}:arguments[4],T=function(t,e){return{eventInfo:{eventName:r,appId:t.appId},eventBody:{requestHeader:w.requestHeader,articleTrackingId:w.sessionId,articleUrn:w.article.urn,articleMetadata:w.article.metadata,dwellTime:e}}}.bind(this),y=function(t,e){O(e),f=setInterval(function(){var t=n();S(t),O(t)},t||l)},_=function(t){f&&(clearInterval(f),S(t),f=null)},O=function(t){o=t},S=function(t){var e=t-o;void 0!==o&&e&&(w.fireEvent(s.BEACON,e),o=void 0)}.bind(this),A=function(t){p=t},b=
function(t){void 0!==p&&(w.fireEvent(s.SINGLE,t-p),p=void 0)}.bind(this),R=function(){"function"==typeof C&&C()&&w.startSession()}.bind(this),I=function(t){document[a]?w.endSession():R()}.bind(this),L=R;if(!g.pageKey)throw new Error("DwellTimeTracker: Must specify a pageKey");if(!v.urn)throw new Error("DwellTimeTracker: Must specify an article urn");if(!m.appId&&!E.appId)throw new Error("DwellTimeTracker: Must specify an appId for beacon or single (or both)");Object.defineProperties(this,{article:{value:v},
requestHeader:{value:g},options:{value:(t={},e(t,s.BEACON,m),e(t,s.SINGLE,E),t)}}),this.fireEvent=function(t,e){var i,n,o=w.options[t];if(!o.appId)throw new Error("DwellTimeTracker: This instance does not fire events for "+t);i=T.call(w,o,e),n=o.callback,"function"==typeof n&&n(i)},this.endSession=function(){var t=n();_(t),b(t),w.sessionId=null}.bind(this),this.startSession=function(){var t=w.options,e=t[s.BEACON],o=n();w.sessionId&&w.endSession(),w.sessionId=i(),e.appId&&y(e.interval,o),t[s.SINGLE].appId&&
A(o)}.bind(this),this.destroy=function(){w.endSession(),document.removeEventListener(d,I),window.removeEventListener(c,w.endSession),window.removeEventListener(h,L),window.removeEventListener(u,w.endSession)}.bind(this),document.addEventListener(d,I),window.addEventListener(c,this.endSession),window.addEventListener(h,L),window.addEventListener(u,this.endSession)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r="ArticleReadEvent";t.ARTICLE_READ_EVENT=r;var s={BEACON:"BEACON",SINGLE:"SINGLE"};
t.EVENT_NATURE=s;var a,l=3E3,c="blur",h="focus",u="beforeunload",d="visibilitychange";!function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return void(a="hidden");for(var e=0;e<t.length;e++){var i=t[e],n=i+"Hidden";if(n in document)return a=n,void(d=t[e]+d)}}()})},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(4)],o=function(t,e,i,n){var o="scroll.lazyLoadItems resize.lazyLoadItems";return i.Behavior.extend({defaults:{dataSourceAttribute:"data-li-loaded",threshold:0,
scrollableElement:n.get$Window(),throttle:0},onAttach:function(){this.start()},onRefreshLazyLoadViews:function(){this._setUnloadedViews()},start:function(){var i=this.getOption("throttle"),n=e.proxy(t.throttle(this._filterViews,i),this);this.unloadedViews=[],this._setUnloadedViews(),this._setScrollEvent(n),n()},_setUnloadedViews:function(){var t=this.getOption("dataSourceAttribute");this.view.children.each(function(e){e.$el[0].hasAttribute(t)&&this.unloadedViews.push(e)}.bind(this))},_filterViews:function(){var i,
n=this.getOption("threshold"),o=this.getOption("scrollableElement"),r=e.proxy(this._triggerLoadEvent,this);i=t.filter(this.unloadedViews,function(t){var e=t.$el,i=e.is(":hidden"),r=o.scrollTop(),s=r+o.height(),a=e.offset().top,l=a+e.height();return l>=r-n&&a<=s+n&&!i}),t.each(i,r)},_triggerLoadEvent:function(t){t.triggerMethod("lazy:load"),this._removeFromUnloadedCollection(t)},_removeFromUnloadedCollection:function(e){t.each(this.unloadedViews,function(t,i){e===t&&this.unloadedViews.splice(i,1)},
this),e.$el.removeAttr(this.getOption("dataSourceAttribute"))},_setScrollEvent:function(t){this._removeScrollEvent(),this._addScrollEvent(t)},_addScrollEvent:function(t){var e=this.getOption("scrollableElement");e.on(o,t)},_removeScrollEvent:function(){var t=this.getOption("scrollableElement");t.off(o)},onDestroy:function(){this._removeScrollEvent()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),
i(78),i(7)],o=function(t,e,i,n,o){return n.Behavior.extend({ui:function(){return{tooltipTrigger:this.getOption("selector"),tooltip:o.TOOLTIP}},events:{"mouseenter @ui.tooltipTrigger":"onMouseEnter","mouseleave @ui.tooltipTrigger":"onMouseLeave","click @ui.tooltipTrigger":"onClick"},onMouseEnter:function(e){var i=t(e.target);i.is("button")||(i=i.parent("button")),this.$activeTooltip&&this.$activeTooltip!==i&&this.ui.tooltip.removeClass(o.CLASSES.ACTIVE),this.$activeTooltip=i,this.toggleTooltip(!0)},
onMouseLeave:function(t){this.toggleTooltip(!1)},toggleTooltip:function(t){this.$activeTooltip.next(o.TOOLTIP).toggleClass(o.CLASSES.ACTIVE,t)},onClick:function(t){this.ui.tooltipTrigger.hasClass(o.CLASSES.DROPDOWN_TRIGGER)&&this.ui.tooltip.removeClass(o.CLASSES.ACTIVE)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(1),i(7),i(72),i(4)],o=function(t,e,i,n,o,r,s){function a(t){var e=t.actionCategory,
i=t.actionType,n=t.controlUrn;return function(t){this.handleEvent(t,e,i,n)}}var l=r.METHOD_TRIGGERS.TRACK_ACTION,c=r.METHOD_TRIGGERS.TRACK_CHILD,h=r.URN,u=r.TRACKING_ID,d=r.CLIENT_TRACKING_ID;return i.Behavior.extend({defaults:{triggerView:!0,triggerParent:!1,objectUrnAttr:h},initialize:function(e){if(t.isUndefined(e))throw new Error("ActionTrackingBehavior must have options");if(!t.isUndefined(e.events)&&t.isUndefined(e.selectors)||t.isUndefined(e.events)&&!t.isUndefined(e.selectors))throw new Error("ActionTrackingBehavior must have selectors/events if events/selectors are provided");
if(t.isUndefined(e.model)&&!t.isUndefined(e.modelEvents))throw new Error("ActionTrackingBehavior must have a model if modelEvents are provided");this.triggerEvents=e.events?e.events.split(","):[],this.selectors=e.selectors||[],this.model=e.model||this.view.model,this.modelEventOptions=e.modelEventOptions||[],this.eventDecorator=e.eventDecorator||null,this.selectors=t.isArray(this.selectors)?this.selectors:[this.selectors],this.view.onChildviewTrackChild=function(t,e){this.view.triggerMethod(l,e)}.bind(this)},
events:function(){for(var t={},e=0,i=this.triggerEvents.length;e<i;e++)for(var n=0,o=this.selectors.length;n<o;n++)t[this.triggerEvents[e]+" "+this.selectors[n].value]=a.call(this,this.selectors[n]);return t},modelEvents:function(){for(var t={},e=0,i=this.modelEventOptions.length;e<i;e++)t[this.modelEventOptions[e].eventName]=a.call(this,this.modelEventOptions[e]);return t},getTrackablePulseObject:function(){var t=this.model.get(this.getOption("objectUrnAttr")),e=this.model.get(u)||this.model.get(d)||
n.generateTrackingId();return{objectUrn:t,trackingId:e}},handleEvent:function(e,i,n,o){t.isFunction(i)&&(i=i.call(this,this.model)),t.isFunction(n)&&(n=n.call(this,this.model));var r={trackablePulseObject:this.getTrackablePulseObject(),time:s.getNow(),actionType:n,actionCategory:i,controlUrn:o};t.isFunction(this.eventDecorator)&&(r=this.eventDecorator.call(this,r)),this.getOption("triggerParent")?this.view.triggerMethod(c,r):this.getOption("triggerView")?this.view.triggerMethod(l,r):this.triggerMethod(l,
r)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(122)],o=function(t,e,i,n){var o="track:impression",r="impression-complete";return i.Behavior.extend({defaults:{elSelector:"",impressionTime:300,impressionPercentage:50,refreshThrottle:20,fullRefresh:!1,viewportOffsetTop:0,viewportOffsetRight:0,viewportOffsetBottom:0,viewportOffsetLeft:0,spanielIdSelector:"impr-trk-id",trackingId:"",trackingAttr:"tracking",
windowObject:window},initialize:function(){this.spaniel=n},onAttach:function(){this.setup()},configure:function(){n.configure({IMPRESSION_MILLISECONDS:this.getOption("impressionTime"),IMPRESSION_PERCENTAGE:this.getOption("impressionPercentage"),REFRESH_THROTTLE_MILLISECONDS:this.getOption("refreshThrottle")})},setup:function(){this.configure(),n.setViewportOffset({top:this.getOption("viewportOffsetTop"),right:this.getOption("viewportOffsetRight"),bottom:this.getOption("viewportOffsetBottom"),left:this.getOption("viewportOffsetLeft")}),
this.registerViews(),this.getOption("fullRefresh")&&n.fullRefresh(),n.registerHandler(this._handleImpressionEvent.bind(this)),this._attachViewportChangeHandler()},prepareItem:function(e){e=e||this.view;var i=this.getOption("elSelector"),n=i?e.$el.find(i):e.$el,o=this.getItemId(n);n&&!o&&(this.setItemId(n,t.uniqueId("spaniel")),e.on("before:destroy",this.removeItem.bind(this,n)))},registerItem:function(t){t=t||this.view;var e=this.getOption("elSelector"),i=t.cid,o=e?t.$el.find(e):t.$el,r=t.model&&
t.model.get(this.getOption("trackingAttr"))||this.getOption("trackingId");if(o.length&&r){var s={width:o.outerWidth(),height:o.outerHeight()},a=this.getItemId(o);n.register(a,{viewId:i,trackingId:r,size:s,gridPosition:{row:o.index(),column:0}},function(){return o[0].getBoundingClientRect()})}},registerViews:function(t){t=t||this.view;var e=t.children;e?(t.on("add:child",function(t){this.registerViews(t)}.bind(this)),e.forEach(function(t,e){this.prepareItem(t),this.registerItem(t)}.bind(this))):(this.prepareItem(t),
this.registerItem(t))},getItemId:function(t){return t?t.data(this.getOption("spanielIdSelector")):null},setItemId:function(t,e){t&&t.data(this.getOption("spanielIdSelector"),e)},removeItem:function(t){var e=this.getItemId(t);e&&n.remove(e)},_attachViewportChangeHandler:function(){var i=e(this.getOption("windowObject"));i.scroll(t.debounce(n.refresh.bind(n),200)),i.resize(t.debounce(n.refresh.bind(n),200)),i.unload(function(){n.setAllHidden()}.bind(this))},_handleImpressionEvent:function(t,e,i){t=
t||{};var n=this.view.children&&t.viewId?this.view.children.findByCid(t.viewId):this.view,s=n&&n.cid;t.viewId===s&&e===r&&n.triggerMethod(o,{duration:i.duration,visibleTime:i.visibleTime,size:t.size,gridPosition:t.gridPosition,trackingId:t.trackingId})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){!function(t,i){i(e)}(this,function(t){function e(t,e){var i=t.boundingClientRect,n=t.intersectionRatio;if(0===i.width||0===i.height){var o=t.boundingClientRect,
r=t.intersectionRect;return o.left===r.left&&o.top===r.top&&r.width>=0&&r.height>=0}return n>e||1===n&&1===e}function i(){var t=null!=document.scrollingElement;I.getScrollTop=t?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},I.getScrollLeft=t?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX}}function n(t){return!N&&(N=t,!0)}function o(){return N||(N=new L)}function r(){return k++ +M}function s(){return F||(F=new B)}function a(){return z||
(z={scroll:new G(function(t){var e=this.state,i=e.scrollTop,n=e.scrollLeft;return this.state=t,i!==t.scrollTop||n!==t.scrollLeft}),resize:new G(function(t){var e=this.state,i=e.width,n=e.height;return this.state=t,n!==t.height||i!==t.width}),destroy:new H,unload:new H,hide:new H,show:new H})}function l(t,e){var i=a()[t];i&&i.listen(e)}function c(t,e){if(z){var i=z[t];i&&i.unlisten(e)}}function h(t,e){if(z){var i=z[t];i&&i.trigger(e)}}function u(t){s().scheduleWork(t)}function d(t){s().scheduleRead(t)}
function p(t){var e=t.left,i=t.right,n=t.top,o=t.bottom;return{left:e,top:n,bottom:o,right:i,width:i-e,height:o-n}}function f(t){var e=t.split(" ").map(function(t){return parseInt(t,10)});switch(e.length){case 2:return{top:e[0],left:e[1],bottom:e[0],right:e[1]};case 3:return{top:e[0],left:e[1],bottom:e[2],right:e[1]};case 4:return{top:e[0],left:e[1],bottom:e[2],right:e[3]};default:return{top:0,left:0,bottom:0,right:0}}}function g(t){var e=t.time,i=t.rootBounds,n=t.boundingClientRect,o=t.intersectionRect,
r=t.target,s=n.height*n.width,a=s>0?o.width*o.height/s:0;return{time:e,rootBounds:i,boundingClientRect:n,intersectionRect:o,target:r,intersectionRatio:a}}function v(t,e,i,n){var o=(e.top,e.bottom),r=(e.left,e.right),s={left:n.left,top:n.top,bottom:n.bottom,right:n.right,width:t.width-(n.right+n.left),height:t.height-(n.bottom+n.top)},a=Math.max(s.left,e.left),l=Math.max(s.top,e.top),c=Math.min(s.left+s.width,e.right)-a,h=Math.min(s.top+s.height,e.bottom)-l,u={left:c>=0?a:0,top:l>=0?l:0,width:c,height:h,
right:r,bottom:o};return g({time:t.timestamp,rootBounds:s,target:i,boundingClientRect:p(e),intersectionRect:u})}function m(t){return t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px"}function E(t){t.forEach(function(t){t.entering?t.payload.callback(t.label,{duration:t.duration}):"impressed"===t.label&&t.payload.callback("impression-complete",{duration:t.duration,visibleTime:t.time-t.duration})})}function w(t,e){s().queryElement(t,e)}function C(t,i,n,o){void 0===i&&(i=0),void 0===o&&(o={top:0,bottom:0,
left:0,right:0}),w(t,function(r,s){var a=v(s,r,t,o);n(e(a,i))})}var T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),y=function(){function t(){this.items=[]}return t.prototype.remove=function(t){for(var e=this.items.length,i=0;i<e;i++)this.removePredicate(t,
this.items[i])&&(this.items.splice(i,1),i--,e--)},t.prototype.clear=function(){this.items=[]},t.prototype.push=function(t){this.items.push(t)},t.prototype.isEmpty=function(){return 0===this.items.length},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.removePredicate=function(t,e){return"string"==typeof t?e.id===t:e.callback===t},e}(y),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.removePredicate=
function(t,e){return e===t},e}(y),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.removePredicate=function(t,e){return"string"==typeof t?e.id===t:"function"==typeof t?e.callback===t:e.el===t},e}(y),A=function(){return 0},b=!("undefined"==typeof window||!window||"undefined"==typeof document||!document),R=b&&!!window.requestAnimationFrame,I={hasRAF:R,hasDOM:b,getScrollTop:A,getScrollLeft:A,getHeight:A,getWidth:A,rAF:R?window.requestAnimationFrame.bind(window):
function(t){t()}};b&&(I.getHeight=function(){return window.innerHeight},I.getWidth=function(){return window.innerWidth},"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i));var L=function(){function t(){this.reads=[],this.work=[],this.running=!1}return t.prototype.scheduleRead=function(t){this.reads.unshift(t),this.run()},t.prototype.scheduleWork=function(t){this.work.unshift(t),this.run()},t.prototype.run=function(){var t=this;this.running||(this.running=!0,I.rAF(function(){t.running=
!1;for(var e=0,i=t.reads.length;e<i;e++)t.reads.pop()();for(var e=0,n=t.work.length;e<n;e++)t.work.pop()();(t.work.length>0||t.reads.length>0)&&t.run()}))},t}(),N=null,x=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),M="xxxx".replace(/[xy]/g,function(t){var e=
16*Math.random()|0,i="x"===t?e:3&e|8;return i.toString(16)}),k=0,V=function(){function t(t,e,i,n,o){this.timestamp=t,this.scrollTop=e,this.scrollLeft=i,this.width=n,this.height=o}return t.generate=function(){return new t(Date.now(),I.getScrollTop(),I.getScrollLeft(),I.getWidth(),I.getHeight())},t}(),D=function(){function t(t){this.isTicking=!1,this.toRemove=[],t?this.engine=t:this.engine=o()}return t.prototype.tick=function(){if(this.queue.isEmpty())this.isTicking=!1;else{if(this.toRemove.length>
0){for(var t=0;t<this.toRemove.length;t++)this.queue.remove(this.toRemove[t]);this.toRemove=[]}this.applyQueue(V.generate()),this.engine.scheduleRead(this.tick.bind(this))}},t.prototype.scheduleWork=function(t){this.engine.scheduleWork(t)},t.prototype.scheduleRead=function(t){this.engine.scheduleRead(t)},t.prototype.queryElement=function(t,e){var i=null,n=null;this.engine.scheduleRead(function(){i=t.getBoundingClientRect(),n=V.generate()}),this.engine.scheduleWork(function(){e(i,n)})},t.prototype.unwatch=
function(t){this.toRemove.push(t)},t.prototype.unwatchAll=function(){this.queue.clear()},t.prototype.startTicking=function(){this.isTicking||(this.isTicking=!0,this.engine.scheduleRead(this.tick.bind(this)))},t}(),B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.queue=new _,e}return x(e,t),e.prototype.applyQueue=function(t){for(var e=0;e<this.queue.items.length;e++){var i=this.queue.items[e],n=i.id,o=i.callback;o(t,n)}},e.prototype.watch=function(t){this.startTicking();
var e=r();return this.queue.push({callback:t,id:e}),e},e}(D),P=function(t){function e(e){var i=t.call(this,null)||this;return i.predicate=e,i}return x(e,t),e.prototype.applyQueue=function(e){this.predicate(e)&&t.prototype.applyQueue.call(this,e)},e}(B),U=function(t){function e(e){var i=t.call(this,e)||this;return i.queue=new S,i}return x(e,t),e.prototype.applyQueue=function(t){for(var e=0;e<this.queue.items.length;e++){var i=this.queue.items[e],n=i.callback,o=i.el,r=i.id,s=o.getBoundingClientRect();
n(t,r,s)}},e.prototype.watch=function(t,e,i){return this.startTicking(),i=i||r(),this.queue.push({el:t,callback:e,id:i}),i},e}(D),F=null,H=function(){function t(){this.queue=new O}return t.prototype.listen=function(t){this.queue.push(t)},t.prototype.unlisten=function(t){this.queue.remove(t)},t.prototype.trigger=function(t){for(var e=0;e<this.queue.items.length;e++)this.queue.items[e](t)},t}(),G=function(){function t(t){this.scheduler=new P(t.bind(this))}return t.prototype.trigger=function(t){},t.prototype.listen=
function(t){this.state=V.generate(),this.scheduler.watch(t)},t.prototype.unlisten=function(t){this.scheduler.unwatch(t)},t}(),z=null;I.hasDOM&&(window.addEventListener("unload",function(t){h("unload"),h("destroy")}),document.addEventListener("visibilitychange",function(){h("visible"===document.visibilityState?"show":"hide")}));var K=function(){function t(t,e){void 0===e&&(e={}),this.records={},this.callback=t,this.id=r(),e.threshold=e.threshold||0,this.rootMarginObj=f(e.rootMargin||"0px"),Array.isArray(e.threshold)?
this.thresholds=e.threshold:this.thresholds=[e.threshold],this.scheduler=new U}return t.prototype.observe=function(t){var e=this,i=t,n=i.__spanielId=i.__spanielId||r();return this.scheduler.watch(t,function(t,n,o){e.onTick(t,n,o,i)},i.__spanielId),n},t.prototype.onTick=function(t,e,i,n){var o=this,r=this.generateEntryEvent(t,i,n),s=r.numSatisfiedThresholds,a=r.entry,l=this.records[e]||(this.records[e]={entry:a,numSatisfiedThresholds:0});s!==l.numSatisfiedThresholds&&(l.numSatisfiedThresholds=s,this.scheduler.scheduleWork(function(){o.callback([a])}))},
t.prototype.unobserve=function(t){this.scheduler.unwatch(t.__spanielId),delete this.records[t.__spanielId]},t.prototype.disconnect=function(){this.scheduler.unwatchAll(),this.records={}},t.prototype.takeRecords=function(){return[]},t.prototype.generateEntryEvent=function(t,i,n){for(var o=0,r=v(t,i,n,this.rootMarginObj),s=(r.intersectionRatio,0);s<this.thresholds.length;s++){var a=this.thresholds[s];e(r,a)&&o++}return{numSatisfiedThresholds:o,entry:r}},t}(),W={x:0,y:0,width:0,height:0},Y=function(){function t(t,
e){void 0===e&&(e={});var i=this;this.paused=!1,this.queuedEntries=[],this.recordStore={},this.callback=t;var n=e.root,o=e.rootMargin,r=e.threshold;o=o||"0px";var s="string"!=typeof o?m(o):o;this.thresholds=r.sort(function(t){return t.ratio});var a={root:n,rootMargin:s,threshold:this.thresholds.map(function(t){return t.ratio})};this.observer=new K(function(t){return i.internalCallback(t)},a),I.hasDOM&&(l("unload",this.onWindowClosed.bind(this)),l("hide",this.onTabHidden.bind(this)),l("show",this.onTabShown.bind(this)))}
return t.prototype.onWindowClosed=function(){this.onTabHidden()},t.prototype.setAllHidden=function(){for(var t=Object.keys(this.recordStore),e=Date.now(),i=0;i<t.length;i++)this.handleRecordExiting(this.recordStore[t[i]],e);this.flushQueuedEntries()},t.prototype.onTabHidden=function(){this.paused=!0,this.setAllHidden()},t.prototype.onTabShown=function(){this.paused=!1;for(var t=Object.keys(this.recordStore),e=Date.now(),i=0;i<t.length;i++){var n=this.recordStore[t[i]].lastSeenEntry;if(n){var o=n.intersectionRatio,
r=n.boundingClientRect,s=n.rootBounds,a=n.intersectionRect,l=n.target;this.handleObserverEntry({intersectionRatio:o,boundingClientRect:r,time:e,rootBounds:s,intersectionRect:a,target:l})}}},t.prototype.internalCallback=function(t){t.forEach(this.handleObserverEntry.bind(this))},t.prototype.flushQueuedEntries=function(){this.queuedEntries.length>0&&(this.callback(this.queuedEntries),this.queuedEntries=[])},t.prototype.generateSpanielEntry=function(t,e){var i=t.intersectionRatio,n=t.time,o=t.rootBounds,
r=t.boundingClientRect,s=t.intersectionRect,a=t.target,l=this.recordStore[a.__spanielId];return{intersectionRatio:i,time:n,rootBounds:o,boundingClientRect:r,intersectionRect:s,target:a,duration:0,entering:null,payload:l.payload,label:e.threshold.label}},t.prototype.handleRecordExiting=function(t,e){var i=this;void 0===e&&(e=Date.now()),t.thresholdStates.forEach(function(n){i.handleThresholdExiting({intersectionRatio:-1,time:e,payload:t.payload,label:n.threshold.label,entering:!1,rootBounds:W,boundingClientRect:W,
intersectionRect:W,duration:e-n.lastVisible,target:t.target},n),n.lastSatisfied=!1,n.visible=!1,n.lastEntry=null})},t.prototype.handleThresholdExiting=function(t,e){var i=t.time,n=(t.intersectionRatio,!!e.threshold.time);e.lastSatisfied&&(!n||n&&e.visible)&&(t.duration=i-e.lastVisible,t.entering=!1,e.visible=!1,this.queuedEntries.push(t)),clearTimeout(e.timeoutId)},t.prototype.handleObserverEntry=function(t){var i=this,n=t.time,o=t.target,r=this.recordStore[o.__spanielId];r.lastSeenEntry=t,this.paused||
(r.thresholdStates.forEach(function(o){var r=!!o.threshold.time,s=i.generateSpanielEntry(t,o),a=e(t,o.threshold.ratio);if(a&&!o.lastSatisfied)if(s.entering=!0,r){o.lastVisible=n;var l=Number(setTimeout(function(){o.visible=!0,s.duration=Date.now()-o.lastVisible,i.callback([s])},o.threshold.time));o.timeoutId=l}else o.visible=!0,i.queuedEntries.push(s);else a||i.handleThresholdExiting(s,o);o.lastEntry=t,o.lastSatisfied=a}),this.flushQueuedEntries())},t.prototype.disconnect=function(){this.setAllHidden(),
this.observer.disconnect(),this.recordStore={}},t.prototype.unobserve=function(t){var e=this,i=this.recordStore[t.__spanielId];i&&(delete this.recordStore[t.__spanielId],this.observer.unobserve(t),u(function(){e.handleRecordExiting(i),e.flushQueuedEntries()}))},t.prototype.observe=function(t,e){void 0===e&&(e=null);var i=t,n=i.__spanielId=i.__spanielId||r();return this.recordStore[n]={target:i,payload:e,lastSeenEntry:null,thresholdStates:this.thresholds.map(function(t){return{lastSatisfied:!1,lastEntry:null,
threshold:t,visible:!1,lastVisible:null}})},this.observer.observe(i),n},t}(),j=function(){function t(t){void 0===t&&(t={});var e=t.time,i=t.ratio,n=t.rootMargin,o=[{label:"exposed",time:0,ratio:0}];e&&o.push({label:"impressed",time:e,ratio:i||0}),i&&o.push({label:"visible",time:0,ratio:i}),this.observer=new Y(E,{rootMargin:n,threshold:o})}return t.prototype.watch=function(t,e){this.observer.observe(t,{callback:e})},t.prototype.unwatch=function(t){this.observer.unobserve(t)},t.prototype.disconnect=
function(){this.observer.disconnect()},t}();t.on=l,t.off=c,t.scheduleRead=d,t.scheduleWork=u,t.IntersectionObserver=K,t.SpanielObserver=Y,t.setGlobalEngine=n,t.getGlobalEngine=o,t.queryElement=w,t.elementSatisfiesRatio=C,t.Watcher=j,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(73),i(81),i(7),i(87)],o=function(t,e,i,n,o,r){function s(e){var i=t(e.currentTarget),n=i.data(d.TRACK);h.trigger(h.TRACK,n)}function a(e){e.metaKey||(e.preventDefault(),
n.router.navigate(t(e.currentTarget).data(d.SPA_HREF),{trigger:!0}))}function l(e){e.which===r.ENTER&&(e.preventDefault(),n.router.isKeyboardNavigation=!0,n.router.navigate(t(e.currentTarget).data(d.SPA_HREF),{trigger:!0}))}var c=t(document),h=i.tracking,u=o.EVENTS,d=o.DATA;return{init:function(){c.on(u.CLICK,"[data-"+d.TRACK+"]",s),c.on(u.KEYDOWN,"[data-"+d.SPA_HREF+"]",l),c.on(u.CLICK,"[data-"+d.SPA_HREF+"]",a)}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},
function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(6),i(125),i(73),i(7)],o=function(t,e,i,n,o,r){return e.AppRouter.extend({controller:new n,appRoutes:{"":"feed","feed/:contentPool(/)(:id)":"pivots","article/:permalink(/)":"article","draft/:permalink(/)":"article",":permalink(/)":"article"},isKeyboardNavigation:!1,onBeforeRoute:function(t,e){o.router.trigger(o.router.BEFORE,e)},onAfterRoute:function(t,e){o.router.trigger(o.router.AFTER,e)},getAnchorPageKeyHash:function(t){var e=r.APP_ANCHOR_PAGES,
i=r.APP_PAGE_KEYS;for(var n in e)if(e[n].indexOf(t)!==-1)return i[n];return""},onRoute:function(){var e;this.isKeyboardNavigation&&o.router.on(o.router.PAGE_RENDERED,function(){e=t(t("[data-li-main-content]")[0]),e.focus(),this.isKeyboardNavigation=!1,o.router.off(o.router.PAGE_RENDERED)},this)},getMatchedPageKeysFromAnchorKeyHash:function(t,e){var i=this.getAnchorPageKeyHash(t),n="";if(!e.length)return n;for(;e.length;)n+=i[e[0]]||"",e.shift();return n},getPageKeyForRoute:function(t,e){var n=this.getAnchorPageKeyHash(t),
o=n?n.anchor:"",r=o?n[t]:"";return!r&&e&&(r=i.intersection(i.keys(n),e),r=r.length?this.getMatchedPageKeysFromAnchorKeyHash(t,r):""),{anchorKey:o,fullKey:o+r}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(75),i(81),i(7),i(196),i(126),i(172),i(191),i(151),i(73)],o=function(t,e,i,n,o,r,s,a,l,c,h,u){function d(e,i,n){return t.extend(i,h.processQueryParams(n)),g instanceof e&&e!==s?void g.triggerMethod("route:change",
i):(g&&g.triggerMethod("destroy"),v?v=!1:m.showLoading(),void(g=new e(i)))}function p(t,e){var i={state:e};d(l,i,t)}function f(){var t=e(r.SSR_WRAPPER_SELECTOR);return v=t&&"undefined"!=typeof t.data(r.SSR_DATA_ATTR),v&&t.removeData(r.SSR_DATA_ATTR).removeAttr("data-"+r.SSR_DATA_ATTR),v}var g,v,m=o.getRegion("content");return i.Object.extend({article:function(t,e){var i={permalink:t,isSSR:f()};d(s,i,e)},pivots:function(t,e,i){var n={contentPool:t,id:e};d(c,n,i)},feed:t.partial(p,t,r.FEED_STATES.HOME)})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(5),i(6),i(81),i(82),i(73),i(128),i(161),i(170),i(127),i(166),i(168),i(169),i(164),i(7),i(99)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p,f,g){var v,m=n.getRegion("banner"),E=n.getRegion("content"),w={embedId:f.EMBEDDED_AUTHOR_JSON_ID},C={},T=!1,y=e("#pulse-author-wrapper"),_=r.page,O=r.lixes;return C[f.AUTHOR_STATES.POSTS]=s,C[f.AUTHOR_STATES.FOLLOWERS]=a,C[f.AUTHOR_STATES.FOLLOWING]=
l,t.Object.extend({controllerOptions:["state","vanityName"],initialize:function(t){v=t&&t.isSSR||!1,this.currentMember=r.app.request(r.app.CURRENT_MEMBER),this.mergeOptions(t,this.controllerOptions),this.initializeAuthorModel(t).then(function(){this.authorName=this.authorModel.get("name"),this.setPageTitle(this.state)}.bind(this)),this.initializeViews(this.state),this.renderViews(),this.childControllers={},this.initializeChildController(t),r.cache.on(r.cache.CLEAR_FOLLOWING,function(){T=!0},this)},
initializeChildController:function(t){var i,n=t.state,o=f.AUTHOR_STATES.FOLLOWING;T&&n===o&&(delete this.childControllers[o],T=!1),this.childControllers[n]?this.childControllers[n].initializeViews():this.childControllers[n]=new C[n](t),i=this.childControllers[n].collection.length?e.Deferred().resolve():this.childControllers[n].fetchCollection(),i.done(function(){this.showStreamView(this.childControllers[n].streamView),r.router.trigger(r.router.PAGE_RENDERED)}.bind(this))},initializeAuthorModel:function(t){return this.authorModel=
o.findOrPersist(o.Author.Profile+t.vanityName,function(){return new p(t)}),this.fetchAuthorModel(w)},initializeViews:function(t){this.authorLayoutView=new u({el:v?y:null}),this.bannerView=new d({model:this.authorModel,templateHelpers:{removeFeed:O.request(O.IS_ENABLED,f.LIX_KEYS.REMOVE_FEED)}}),this.actionsHeaderView=new c({model:this.authorModel,templateHelpers:{removeFeed:O.request(O.IS_ENABLED,f.LIX_KEYS.REMOVE_FEED)}}),this.headerView=new h({model:this.authorModel,state:t,templateHelpers:{removeAuthorPages:O.request(O.IS_ENABLED,
f.LIX_KEYS.REMOVE_AUTHOR_PAGES)}}),this.authorLayoutView.setRegionViews({header:this.headerView,actionsHeader:this.actionsHeaderView})},showStreamView:function(t){this.authorLayoutView.getRegion("content").show(t,{preventDestroy:!0})},fetchAuthorModel:function(){return this.authorModel.fetch(w)},renderViews:function(){m.show(this.bannerView),v?(E.attachViewSSR(this.authorLayoutView),this.authorLayoutView.triggerMethod("attach")):E.show(this.authorLayoutView),this.authorLayoutView.showRegionViews()},
onDestroy:function(){this.authorLayoutView.destroy(),i.each(this.childControllers,function(t){this.stopListening(t),t.destroy()},this),m.empty()},onRouteChange:function(t){var e;this.vanityName!==t.vanityName&&(i.each(i.keys(this.childControllers),function(t){delete this.childControllers[t]}.bind(this)),this.initialize(t)),e=t&&t.state,this.authorLayoutView.getRegion("content").showLoading(),this.initializeChildController(t),this.headerView.setActiveState(e),this.setPageTitle(e)},setPageTitle:function(t){var e=
this.authorName?[this.authorName]:[];switch(t){case f.AUTHOR_STATES.POSTS:e.push(g("title_posts"));break;case f.AUTHOR_STATES.FOLLOWERS:e.push(g("title_followers"));break;case f.AUTHOR_STATES.FOLLOWING:e.push(g("title_following"))}_.trigger(_.TITLE,e)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(94),i(72)],o=function(t,e,i,n){return e.ItemView.extend({template:"templates/walter/author/actionsHeader",
behaviors:function(){return{ButtonFollow:{behaviorClass:i.ButtonFollowBehavior,model:this.getOption("model"),followType:n.FOLLOW_TYPES.AUTHOR}}},modelEvents:{sync:"render"}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(82),i(129),i(159),i(160),i(7)],o=function(t,e,i,n,o){var r={embedId:o.EMBEDDED_FEED_JSON_ID};return e.extend({initializeCollection:function(e){var n={data:{vanityName:e.vanityName}};this.collection=
t.findOrPersist(t.Author.Articles+e.vanityName,function(){return new i(null,n)})},initializeViews:function(){this.streamView=new n({collection:this.collection})},fetchCollection:function(){return this.collection.fetch(r)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(5),i(81),i(82),i(148),i(130),i(135),i(7)],o=function(t,e,i,n,o,r,s,a){var l={embedId:a.EMBEDDED_FEED_JSON_ID};return t.Object.extend({initialize:function(t){this.initializeCollection(t),
this.initializeViews()},initializeViews:function(){this.streamView=new s({collection:this.collection})},initializeCollection:function(t){},fetchCollection:function(){return this.collection.fetch(l)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(75),i(6),i(94),i(131),i(134)],o=function(t,e,i,n,o,r,s){return e.LayoutView.extend(n.extend({},s,{template:"templates/walter/feed/index",attributes:{id:"pulse-feed-wrapper",
class:"pulse-content-wrapper"},regions:{stream:"#feed-stream-region",header:"#feed-header-region",nav:"#feed-nav-region",actionsHeader:"#actions-header-feed-region"},behaviors:{Dropdown:{behaviorClass:o.DropdownBehavior,trigger:".filters-trigger",content:".filters-list",dropdown:".filters-dropdown",focusSelector:".filters-menu"},FeedActionTrackingBehavior:{behaviorClass:r.FeedActionTrackingBehavior}},onBeforeShow:function(){this.showRegionViews()}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,
n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(132),i(133)],o=function(t,e){return{ArticleActionTrackingBehavior:t,FeedActionTrackingBehavior:e}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(120),i(1),i(72)],o=function(t,e,i,n,o,r){return n.extend({initialize:function(t){n.prototype.initialize.call(this,t),this.view.trackablePulseObject=this.getTrackablePulseObject()},
onTrackAction:function(t){t.controlUrn=o.getFullControlUrn(t.controlUrn),o.trackActionEvent(r.EVENTS.ARTICLE.ACTION_EVENT,t),o.trackControlInteractionEvent({time:t.time,controlUrn:t.controlUrn})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(120),i(1),i(72)],o=function(t,e,i,n,o,r){return n.extend({onTrackAction:function(t){t.moduleKey=r.MODULES.FEED,t.controlUrn=o.getFullControlUrn(t.controlUrn),
o.trackActionEvent(r.EVENTS.FEED.ACTION_EVENT,t),o.trackControlInteractionEvent({time:t.time,controlUrn:t.controlUrn})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78)],o=function(t,e){return{setRegionView:function(t,e){this._ensureRegionViews(),this._regionViews[t]=e},setRegionViews:function(e){this._ensureRegionViews(),t.extend(this._regionViews,e)},getRegionView:function(t){return this._ensureRegionViews(),
this._regionViews[t]},showRegionViews:function(){this._ensureRegionViews(),t.each(this._regionViews,function(t,e){var i=this.getRegion(e);i&&i.show(t)},this)},_ensureRegionViews:function(){this._regionViews=this._regionViews||{}}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75),i(73),i(94),i(137),i(144),i(145),i(136),i(143),i(1),i(7)],o=function(t,e,i,n,o,r,s,a,l,c,h){var u=i.app,d=i.guest,p=i.lixes,
f=p.request(p.IS_ENABLED,h.LIX_KEYS.HIDE_SHARE_COUNT_ON_FEED),g=!1;return t.CollectionView.extend({initialize:function(t){this.bindEvents(),this.currentMember=u.request(u.CURRENT_MEMBER),g=this.currentMember.get("isGuest")},childViewOptions:function(t,e){var i,n={whichFeed:h.FEED_TYPES.HOME,isGuest:g};return t&&(i=t.get("feedItemType"),i&&t.set("index",this.collection.indexOf(t)),i===h.FEED_ITEM_TYPES.FOLLOW_RECOMMENDATION&&(n.collection=t.get("followRecommendations"))),t&&t.get("feedItemType")===
h.FEED_ITEM_TYPES.FOLLOW_RECOMMENDATION?n.collection=t.get("followRecommendations"):n.lixHideShareCount=f,n},getChildView:function(t){var e=this.getOption("childView");return e?e:t.get("feedItemType")===h.FEED_ITEM_TYPES.FOLLOW_RECOMMENDATION?s:o},bindEvents:function(){this.guestService=new l,this.listenTo(d,d.GATED_ACTION,function(t,e,i){t&&e&&this.guestService.guestRedirect(t,e,i)}.bind(this))},getEmptyView:function(){return this.getOption("emptyView")},tagName:"ul",className:"feed-stream",behaviors:function(){return{InfiniteScroll:{behaviorClass:a,
threshold:800,checkOnStart:!1,EndStateView:this.getOption("endStateView")||null},LazyLoadCollectionViewItems:{behaviorClass:n.LazyLoadCollectionViewItemsBehavior,threshold:300}}},onPageNext:function(){var t=this.addChild(null,r),e=this;this.collection.fetch().done(function(t){c.trackPageView(),e.triggerMethod("refresh:lazy:load:views")}).always(function(){t.destroy()})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(5),i(6),i(75),
i(78)],o=function(t,e,i,n){var o=".li-inf-scroll-behavior",r="scroll",s=n.Behavior.extend({defaults:{throttleMethod:"throttle",throttleDelay:250,scrollSelector:window,threshold:500,checkOnStart:!0,EndStateView:null,endStateModel:null,endStateIfEmpty:!1},initialize:function(){this._$scrollEl=t(),this._pauseListen=!1,this._isStarted=!1,this._isComplete=!1},onAttach:function(){this.start()},onDetach:function(){this.destroy()},bindEvents:function(){var t="debounce"===this.getOption("throttleMethod")?
"debounce":"throttle",i=e[t](this._evtScroll.bind(this),this.getOption("throttleDelay"));this._$scrollEl.on(r+o,i),this.listenTo(this.view.collection,{request:this.pause.bind(this),sync:this.resume.bind(this),complete:this.complete.bind(this)})},unbindEvents:function(){this._$scrollEl.off(o)},start:function(){var e=this.getOption("scrollSelector");this._isStarted||this._isComplete||(this._isStarted=!0,this._$scrollEl=e.document&&e.document.body?t(e):this.view.$el.closest(e),this.bindEvents(),this.getOption("checkOnStart")===
!0&&this.scroll())},pause:function(){this._pauseListen=!0},resume:function(){this._pauseListen=!1},_appendEndStateView:function(){var t=this.getOption("EndStateView"),i=this.getOption("endStateModel");!this.getOption("endStateIfEmpty")&&e.isFunction(this.view.isEmpty)&&this.view.isEmpty()||e.isFunction(this.view.addChild)&&this.view.addChild(i,t)},complete:function(){this._isComplete=!0,this.getOption("EndStateView")&&this._appendEndStateView(),this.destroy()},destroy:function(){this.unbindEvents(),
this.stopListening(),this._isStarted=!1},scroll:function(){this._pauseListen||this.isAtBottom()&&this.view.triggerMethod("page:next")},_evtScroll:function(t){this.scroll()},isAtBottom:function(){var t=this._$scrollEl,e=t[0],i=t.scrollTop(),n=e.innerHeight||e.offsetHeight,o=e.document&&e.document.body?e.document.body.scrollHeight:e.scrollHeight;return i>=o-n-this.getOption("threshold")}});return s}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),
i(78),i(94),i(73),i(7),i(72),i(138),i(1)],o=function(t,e,i,n,o,r,s,a,l){var c=o.lixes,h=c.request(c.IS_ENABLED,r.LIX_KEYS.FEED_COMMENTS),u=c.request(c.IS_ENABLED,r.LIX_KEYS.FEED_MPR_IMAGES),d=c.request(c.IS_ENABLED,r.LIX_KEYS.REMOVE_BOOKMARK),p=c.request(c.IS_ENABLED,r.LIX_KEYS.SHOW_TOOLTIPS),f="loading",g="src",v="data-li-src",m="["+v+"]";return i.LayoutView.extend({initialize:function(){this.model.set("whichFeed",this.getOption("whichFeed")||"default"),this.isGuest=this.getOption("isGuest")||!1,
this.model.set("lixHideShareCount",this.getOption("lixHideShareCount")||!1),this.configureSummaryDisplay()},template:"templates/walter/feed/feedItem",tagName:"li",whichFeed:r.FEED_TYPES.DEFAULT,className:"feed-item",regions:{comments:"#comments"},attributes:{"data-li-loaded":""},ui:{commentBtn:".button-comment"},events:{"click @ui.commentBtn":"onCommentBtnClick","click .persist-track":"persistTrackingId"},templateHelpers:function(){return{isGuest:this.isGuest,showTooltips:p,feedComments:h,removeBookmark:d,
feedMprImages:u}},behaviors:function(){var t=this.getOption("model"),e=t.get("summary");return{ButtonBookmark:{behaviorClass:n.ButtonBookmarkBehavior,model:t},ButtonLike:{behaviorClass:n.ButtonLikeBehavior,model:t},Dropdown:{behaviorClass:n.DropdownBehavior},SocialSharing:{behaviorClass:n.SocialSharingBehavior,url:e.url,title:e.title,text:e.summary,authorTwitterHandle:e.authorTwitterHandle},FlagArticle:{behaviorClass:n.FlagArticleBehavior},ImpressionTrackingBehavior:{behaviorClass:n.ImpressionTrackingBehavior,
trackingAttr:"trackingId",fullRefresh:!0},ArtDecoTooltip:{behaviorClass:n.ArtDecoTooltipBehavior,selector:".tooltip-trigger"},ActionTrackingBehavior:{behaviorClass:n.ActionTrackingBehavior,model:t,events:"click",triggerParent:!0,eventDecorator:function(t){return t.requestId=this.model.get("id").toString(),t},modelEventOptions:[{eventName:r.TRIGGERS.CHANGE_LIKED,actionCategory:function(t){return t.get("isLiked")?s.ACTION_CATEGORIES.LIKE:s.ACTION_CATEGORIES.UNLIKE},actionType:function(t){return t.get("isLiked")?
s.ACTION_TYPES.LIKE_ARTICLE:s.ACTION_TYPES.UNLIKE_ARTICLE},controlUrn:s.CONTROL_URN.LIKE_TOGGLE},{eventName:r.TRIGGERS.CHANGE_SAVED,actionCategory:function(t){return t.get("saved")?s.ACTION_CATEGORIES.SAVE:s.ACTION_CATEGORIES.UNSAVE},actionType:function(t){return t.get("saved")?s.ACTION_TYPES.SAVE_ARTICLE:s.ACTION_TYPES.UNSAVE_ARTICLE},controlUrn:s.CONTROL_URN.SAVE_TOGGLE}],selectors:[{value:".js-dropdown:not(.active) .button-share",actionCategory:s.ACTION_CATEGORIES.EXPAND,actionType:s.ACTION_TYPES.EXPAND_SHARE,
controlUrn:s.CONTROL_URN.SHARE_INTENT},{value:".js-dropdown-content .share-facebook",actionCategory:s.ACTION_CATEGORIES.SHARE,actionType:s.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:s.CONTROL_URN.SHARE_FB},{value:".js-dropdown-content .share-twitter",actionCategory:s.ACTION_CATEGORIES.SHARE,actionType:s.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:s.CONTROL_URN.SHARE_TWITTER},{value:".js-dropdown-content .share-linkedin",actionCategory:s.ACTION_CATEGORIES.SHARE,actionType:s.ACTION_TYPES.SHARE_INTERNAL,
controlUrn:s.CONTROL_URN.SHARE_INTERNAL},{value:".dropdown-report-this:not(.active)",actionCategory:s.ACTION_CATEGORIES.EXPAND,actionType:s.ACTION_TYPES.EXPAND_REPORT_ARTICLE,controlUrn:s.CONTROL_URN.REPORT_ARTICLE},{value:".headline",actionCategory:s.ACTION_CATEGORIES.VIEW,actionType:s.ACTION_TYPES.VIEW_ARTICLE,controlUrn:s.CONTROL_URN.VIEW_ARTICLE},{value:".article-img-wrapper",actionCategory:s.ACTION_CATEGORIES.VIEW,actionType:s.ACTION_TYPES.VIEW_ARTICLE,controlUrn:s.CONTROL_URN.VIEW_ARTICLE},
{value:".reason a",actionCategory:s.ACTION_CATEGORIES.VIEW,actionType:s.ACTION_TYPES.VIEW_CHANNEL,controlUrn:s.CONTROL_URN.POST_CHANNEL}]}}},persistTrackingId:function(){var t=this.model.get("contentSource");t!==r.FLAGGING_CONTENT_SOURCES.THIRD_PARTY&&l.setPersistedTrackingID(this.model.get("trackingId"))},configureSummaryDisplay:function(){var e,i=this.model.get("summary"),n=i&&i.author&&i.author.isMember,o=i&&i.images,r=o&&t.max(o,function(t){return t.width}),s=!n&&r;r===-(1/0)&&(s=!1,r=null),e=
!r||s,this.model.set({hasThumbnail:s,hasSummary:e,bestImage:r})},onLazyLoad:function(){u&&this.loadImages(),h&&this.whichFeed===r.FEED_TYPES.DEFAULT&&(this.initializeComments(),this.renderComments())},loadImages:function(){var t=e(this.$el.find(m)[0]),i=t.attr(v);t.one("load",function(){t.removeAttr(v).removeClass(f)}),t.attr(g,i)},initializeComments:function(){this.comments=new a({articleModel:this.model})},renderComments:function(){this.showChildView("comments",this.comments.getView())},onCommentBtnClick:function(){this.comments.view.$el.toggleClass("show-comments-form")},
onTrackImpression:function(t){t.trackablePulseObject={objectUrn:this.model.get("urn"),trackingId:t.trackingId||l.generateTrackingId()},delete t.trackingId,delete t.gridPosition,t.listPosition={index:this.model.get("index")},l.trackImpressionEvent(s.EVENTS.FEED.IMPRESSION_EVENT,"feedItems",t)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(5),i(73),i(139)],o=function(t,e,i,n){var o=i.app;return t.Object.extend({articleModel:null,
socialModel:null,lixes:{},initialize:function(){var t=o.request(o.CURRENT_MEMBER);this.articleModel=this.getOption("articleModel"),this.socialModel=this.getOption("socialModel")||null,this.lixes=this.getOption("lixes"),this.initializeCommentsItemView(t)},initializeCommentsItemView:function(t){this.view=new n({member:t,articleModel:this.articleModel,socialModel:this.socialModel,lixes:this.lixes})},getView:function(){return this.view}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==
o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(73),i(101),i(140),i(141),i(143),i(4),i(1),i(7),i(90),i(91)],o=function(t,e,i,n,o,r,s,a,l,c,h,u){var d=i.lixes,p=d.request(d.IS_ENABLED,c.LIX_KEYS.ALLOW_DISABLE_COMMENTS);return e.ItemView.extend({el:!1,template:!1,onBeforeShow:function(){var t,e,i,d,f=this.getOption("articleModel"),g=this.getOption("socialModel"),v=this.getOption("member"),m=1,E=!!f.get("pubArticleUrn"),w=["delete","flag"],C=f.get("commentsState")||
c.COMMENTS_STATE_DEFAULT_OPEN,T=v.get("isGuest"),y=new s,_=p,O="templates/walter/shared/strings/globalStrings";try{t=new h.Resources(u.i18n,u)}catch(e){t={}}try{e=new h.NumberFormatter}catch(t){e={}}d=c.COMMENT_SORT_DEFAULTS.NEWEST,i={showMoreOpensReply:!1,scrollOnReply:!1},commentsProvider.setConfig("comments",{jumpPadding:20,thread:i,commentsState:C,commentsDisabledAuthorLix:_}),commentsProvider.setConfig("global",{timePlaceholder:"{count}",isGuestMode:T,addRedirectAnchor:!1,guestUrls:!T||y.guestCommentUrls(f.get("permalink"))}),
commentsProvider.setConfig("mentions",{typeAhead:{endpoints:{get:n.v1.mentions.get}}}),E&&w.push("getlink"),commentsProvider.compileTranslations(t,e,O),this.comments=new o({defaultSort:d,pageCount:2,pageNextCount:10,pageNextCountMultiplier:m,memberUrn:v.get("urn"),authorUrn:f.get("authorUrn"),articleUrn:f.get("urn"),author:{profileUrl:T?null:v.get("publicProfileUrl"),image:{url:T?null:v.get("image").url}},callbacks:{flagCommentHook:function(t,e){var i=new r;return i.flag(t,e)},onSave:function(){g.comment()},
onCommentsEnable:function(){var t=c.AGORA_TRACKING.COMMENTS_ENABLE.ACTION_EVENT_NAME,e={actionCategory:c.AGORA_TRACKING.COMMENTS_ENABLE.ACTION_CATEGORY,actionType:c.AGORA_TRACKING.COMMENTS_ENABLE.ACTION_TYPE,controlUrn:c.AGORA_TRACKING.COMMENTS_ENABLE.CONTROL_URN,time:a.getNow(),trackablePulseObject:{objectUrn:f.get("urn"),trackingId:f.get("clientTrackingId")||""}},i={controlUrn:c.AGORA_TRACKING.COMMENTS_ENABLE.CONTROL_URN,time:a.getNow()};l.trackActionEvent(t,e),l.trackControlInteractionEvent(i)},
onCommentsDisable:function(){var t=c.AGORA_TRACKING.COMMENTS_DISABLE.ACTION_EVENT_NAME,e={actionCategory:c.AGORA_TRACKING.COMMENTS_DISABLE.ACTION_CATEGORY,actionType:c.AGORA_TRACKING.COMMENTS_DISABLE.ACTION_TYPE,controlUrn:c.AGORA_TRACKING.COMMENTS_DISABLE.CONTROL_URN,time:a.getNow(),trackablePulseObject:{objectUrn:f.get("urn"),trackingId:f.get("clientTrackingId")||""}},i={controlUrn:c.AGORA_TRACKING.COMMENTS_DISABLE.CONTROL_URN,time:a.getNow()};l.trackActionEvent(t,e),l.trackControlInteractionEvent(i)},
onThreadDelete:function(){g.uncomment()}},comment:{menuItems:w},endpoints:{comments:n.v1.comments.get,nestedComments:n.v1.comments.get,comment:play.addCsrfTokenToUrl(n.v1.comment.post),delete:play.addCsrfTokenToUrl(n.v1.comment.delete),like:play.addCsrfTokenToUrl(n.v1.likes.post),unlike:play.addCsrfTokenToUrl(n.v1.likes.delete),flag:play.addCsrfTokenToUrl(n.v1.flag.post),unflag:play.addCsrfTokenToUrl(n.v1.flag.delete),disableComments:play.addCsrfTokenToUrl(n.v1.enableComments.delete),enableComments:play.addCsrfTokenToUrl(n.v1.enableComments.post)}},
this.el)},onBeforeDestroy:function(){this.comments._destroy()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e){t.exports=require("modules/Comments")},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),i(7),i(142)],o=function(t,e,i,n,o){return t.extend({flag:function(t,n){var r,s,a,l=$.Deferred();return a=play.buildUrlSimple(e.external.flagging.semaphoreData,{entityUrn:t,authorUrn:n,contentSource:"USCP_COMMENT"}),r=new o({semaphoreDataUrl:a,
flagPromise:l}),s={view:r,titleKey:"i18n_flagging_semaphore_title",i18nTemplate:"templates/walter/shared/strings/globalStrings",modalClass:"semaphore-flagging"},i.modal.trigger(i.modal.SHOW,s),l.promise()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(75),i(78),i(6),i(4),i(73),i(102)],o=function(t,e,i,n,o,r,s){return s.extend({initialize:function(t){s.prototype.initialize.call(this,t)},makePost:function(t){var e=
this.options.flagPromise;s.prototype.makePost.call(this,t),e&&e.resolve()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),i(7),i(89),i(93)],o=function(t,e,i,n,o,r){var s="likeFromLogin";return t.extend({guestCommentUrls:function(t){var e=n.GUEST_REDIRECT.COMMENTS;for(var i in e)e[i]=this.guestBuildUrl(n.GUEST_REDIRECT.COMMENTS[i],t);return e},guestBuildUrl:function(t,e,i){var n=play.getPageContextValue("csrfToken"),
o=window.location.origin,a=o+"/pulse/"+e,i=i||"",l=play.addQueryParameter(a,s,!0),c=t.replace("{token}",encodeURIComponent(n)).replace("{urn}",encodeURIComponent(i)).replace("{permalink}",encodeURIComponent(e)).replace("{redirect}",encodeURIComponent(l));return r.baseRedirect+encodeURIComponent(o+c)},guestRedirect:function(t,e,i,o){o=o||"ARTICLE",window.location.href=this.guestBuildUrl(n.GUEST_REDIRECT[o][t],i,e)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},
function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75)],o=function(t,e){return t.ItemView.extend({tagName:"li",template:"templates/walter/feed/feedLoadingMoreItems",className:"feed-item feed-loading"})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(7),i(146),i(147)],o=function(t,e,i,n){return t.CompositeView.extend({template:"templates/walter/feed/followRecommendations",childViewContainer:".follow-recommendations",
tagName:"li",className:"feed-item",getChildView:function(t){var o=t.get("entityType"),r=i;return o===e.FEED_RECOMMENDATION_ENTITY_TYPES.COMPANY&&(r=n),r}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(73),i(94),i(7),i(72)],o=function(t,e,i,n,o){var r=e.lixes,s=r.request(r.IS_ENABLED,n.LIX_KEYS.REMOVE_AUTHOR_PAGES);return t.ItemView.extend({template:"templates/walter/shared/userCard",tagName:"li",className:"connection connection-user",
templateHelpers:function(){return{removeAuthorPages:s}},behaviors:function(){return{ButtonFollow:{behaviorClass:i.ButtonFollowBehavior,model:this.getOption("model"),followType:o.FOLLOW_TYPES.AUTHOR}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(94),i(72)],o=function(t,e,i){return t.ItemView.extend({template:"templates/walter/shared/companyCard",tagName:"li",className:"connection connection-company",
behaviors:function(){return{ButtonFollow:{behaviorClass:e.ButtonFollowBehavior,model:this.getOption("model"),followType:i.FOLLOW_TYPES.COMPANY}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149)],o=function(t,e,i,n,o){return o.extend({url:n.v1.feed.get})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=
[i(5),i(6),i(75),i(150)],o=function(t,e,i,n){return i.Collection.extend({initialize:function(t,i){var n={data:{start:0,count:10,memberToken:null,paginationToken:null,height:250,width:744},remove:!1};i=i||{},i.data&&(n.data=e.defaults(i.data,n.data)),this.fetchOptions=n},model:n,parse:function(t){var e=t,i=e.elements,n={};return e.paginationToken&&(n.paginationToken=e.paginationToken),n.responseLength=i.length,this.setFetchOptions(n,!0),i},fetch:function(n){var o;try{o=play.getEmbeddedContent(n.embedId)}catch(t){o=
null}return o?(this.set(this.parse(o)),t.when()):(n=e.extend({data:{},remove:!1},n),n.data=e.extend({},this.fetchOptions.data,n.data),n.data=e.pick(n.data,function(t){return null!==t}),i.Collection.prototype.fetch.call(this,n))},setFetchOptions:function(t,e){!this.fetchOptions.data.paginationToken&&t.paginationToken&&(this.fetchOptions.data.paginationToken=t.paginationToken),t.responseLength||this.trigger("complete"),e&&(this.fetchOptions.data.start+=this.fetchOptions.data.count)}})}.apply(e,n),!(void 0!==
o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(151),i(156),i(153),i(154),i(7)],o=function(t,e,i,n,o,r,s,a){var l={contentFeedItem:"com.linkedin.pulse.models.ContentFeedItem",followRecommendation:"com.linkedin.pulse.models.FollowRecommendation"},c=a.FLAGGING_CONTENT_SOURCES;return i.Model.extend(e.extend({},o,{constructor:function(t,e){e=e||{},e.parse=!0,i.Model.call(this,t,e)},parse:function(t){var e;switch(t.feedItemType){case a.FEED_ITEM_TYPES.CONTENT:e=
t.feedItem[l.contentFeedItem],t.reason&&(t.reason.textWithPivots=n.hydrateReasonsWithPivots(t.reason));for(var o in e.socialStats)t[o]=e.socialStats[o];t.summary=e.contentSummary,t.saved=t.summary.saved,delete t.summary.saved,t.trackingId=e.trackingId,this.setAuthorType(t.summary.author),t.summary.urn&&(t.urn=t.summary.urn,t.id=n.getIdFromUrn(t.urn)),t.summary.pubArticleUrn&&(t.pubArticleUrn=t.summary.pubArticleUrn,t.pubArticleId=n.getIdFromUrn(t.pubArticleUrn)),t.summary.author.isMember?(t.authorUrn=
t.summary.author.urn,t.contentSource=t.summary.author.isInfluencer?c.INFLUENCER:c.PONCHO):t.contentSource=c.THIRD_PARTY;break;case a.FEED_ITEM_TYPES.FOLLOW_RECOMMENDATION:e=t.feedItem[l.followRecommendation],t.text=e.text,t.followRecommendations=new i.Collection(e.elements,{model:s})}return delete t.feedItem,t},setAuthorType:function(t){switch(t.entityType){case a.FEED_RECOMMENDATION_ENTITY_TYPES.MEMBER:t.isMember=!0;break;case a.FEED_RECOMMENDATION_ENTITY_TYPES.COMPANY:t.isCompany=!0;break;case a.FEED_RECOMMENDATION_ENTITY_TYPES.NONE:t.isNone=
!0}return t}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(7),i(152),i(99)],o=function(t,e,i,n){function o(t,e,i){return t[i]=t[e],delete t[e],t}function r(e){var i={};if(t.isString(e)){var n=e.split("\x26");t.each(n,function(t){var e=t.split("\x3d"),n=decodeURIComponent(e[0]);if(n){var o=e.length>1?decodeURIComponent(e[1]):"";i[n]?i[n].push(o):i[n]=[o]}})}else t.isObject(e)&&(i=e);return i}function s(t){return t.match(/\d+/g)[0]}
function a(t,e){return t="channel"===t?"channel":"industry","urn:li:"+t+":"+e}function l(e){var o=e.textWithPivots;return o?(t.each(e.pivots,function(t,e){var r,s=t.entities;r=s.length>1?s.length+" "+n(["multiple",s[0].entityType.toLowerCase()].join("_")):i("templates/walter/feed/pivotEntity",s[0]),o=o.replace("${"+e+"}",r)}),o):e.text}return{renameKey:o,processQueryParams:r,getIdFromUrn:s,createContentPoolUrn:a,hydrateReasonsWithPivots:l}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==
o&&(t.exports=o))},function(t,e,i){var n;n=function(){return function(t,e){var i="";return dust.render(t,e,function(t,e){if(t)throw t;i=e}),i}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),i(7)],o=function(t,e,i,n){var o=e.v1.follow.post,r=e.v1.follow.delete,s=n.REQUEST_METHODS.POST,a=n.REQUEST_METHODS.DELETE,l=i.services;return t.extend({options:{radioChannel:l,radioBeforeEvent:l.FOLLOW_BEFORE,radioAfterEvent:l.FOLLOW_AFTER},follow:function(t){var e=
this.urnToData(t);return this.makeAjaxRequest({method:s,url:o,data:e})},unfollow:function(t){var e=this.urnToData(t);return this.makeAjaxRequest({method:a,url:r,data:e})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(75),i(101),i(155),i(153)],o=function(t,e,i,n){var o="isFollowing",r=new n;return i.extend({initialize:function(){var t=this.get("memberToken"),e=this.get("urn"),i=this.get("vanityName");this.fetchParams=
{},i?this.fetchParams.vanityName=i:t?this.fetchParams.memberToken=t:e&&(this.fetchParams.urn=e)},follow:function(){r.follow(this.get("urn")).done(function(){this.set(o,!0)}.bind(this))},unfollow:function(){r.unfollow(this.get("urn")).done(function(){this.set(o,!1)}.bind(this))}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(75)],o=function(t,e){return e.Model.extend({fetch:function(i){var n=null;try{n=
play.getEmbeddedContent(i.embedId)}catch(t){}return n?(this.set(this.parse(n)),t.Deferred().resolve().promise()):e.Model.prototype.fetch.call(this,i)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(82),i(73),i(157),i(158),i(153)],o=function(t,e,i,n,o){var r=e.app.request(e.app.CURRENT_MEMBER),s=new i,a=new o,l=new n,c="saved",h="isFollowing",u="totalComments",d="totalLikes",p="urn",f=e.cache,g=e.follow,v=t.Feed.Collection,
m=t.Saved.Collection,E=t.Article.Likes,w=t.Author.Following+r.get("vanityName");return{follow:function(){return a.follow(this.get(p)).done(function(){this.set(h,!0),f.trigger(f.CLEAR,w),f.trigger(f.CLEAR_FOLLOWING),g.trigger(g.FOLLOW)}.bind(this))},unfollow:function(){return a.unfollow(this.get(p)).done(function(){this.set(h,!1),f.trigger(f.CLEAR,w),f.trigger(f.CLEAR_FOLLOWING),g.trigger(g.UNFOLLOW)}.bind(this))},like:function(){l.like(this.get(p)).done(function(){this.set({isLiked:!0,totalLikes:this.get(d)+
1}),f.trigger(f.CLEAR,E+this.get("urn")),f.trigger(f.CLEAR_LIKE),f.trigger(f.CLEAR,v),f.trigger(f.CLEAR,m)}.bind(this))},unlike:function(){l.unlike(this.get(p)).done(function(){this.set({isLiked:!1,totalLikes:this.get(d)-1}),f.trigger(f.CLEAR,E+this.get("urn")),f.trigger(f.CLEAR_LIKE),f.trigger(f.CLEAR,v),f.trigger(f.CLEAR,m)}.bind(this))},bookmark:function(){s.bookmark(this.get(p)).done(function(){this.set(c,!0),f.trigger(f.CLEAR,v),f.trigger(f.CLEAR,m),f.trigger(f.CLEAR_BOOKMARKS)}.bind(this))},
unbookmark:function(){s.unbookmark(this.get(p)).done(function(){this.set(c,!1),f.trigger(f.CLEAR,v),f.trigger(f.CLEAR,m),f.trigger(f.CLEAR_BOOKMARKS)}.bind(this))},comment:function(){this.set(u,this.get(u)+1)},uncomment:function(){this.set(u,this.get(u)-1)}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),i(7)],o=function(t,e,i,n){var o=e.v1.bookmarks.post,r=e.v1.bookmarks.delete,s=n.REQUEST_METHODS.POST,
a=n.REQUEST_METHODS.DELETE,l=i.services;return t.extend({options:{radioChannel:l,radioBeforeEvent:l.BOOKMARK_BEFORE,radioAfterEvent:l.BOOKMARK_AFTER},bookmark:function(t){var e=this.urnToData(t);return this.makeAjaxRequest({method:s,url:o,data:e})},unbookmark:function(t){var e=this.urnToData(t);return this.makeAjaxRequest({method:a,url:r,data:e})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(113),i(101),i(73),
i(7)],o=function(t,e,i,n){var o=e.v1.likes.post,r=e.v1.likes.delete,s=n.REQUEST_METHODS.POST,a=n.REQUEST_METHODS.DELETE,l=i.services;return t.extend({options:{radioChannel:l,radioBeforeEvent:l.LIKE_BEFORE,radioAfterEvent:l.LIKE_AFTER},like:function(t){var e=this.urnToData(t);return this.makeAjaxRequest({method:s,url:o,data:e})},unlike:function(t){var e=this.urnToData(t);return this.makeAjaxRequest({method:a,url:r,data:e})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=
o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149)],o=function(t,e,i,n,o){return o.extend({url:function(){return play.buildUrlSimple(n.v1.authorArticles.get)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(7),i(135)],o=function(t,e){return e.extend({childViewOptions:{whichFeed:t.FEED_TYPES.AUTHOR}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=
o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(82),i(162),i(165),i(7)],o=function(t,e,i,n,o){var r={embedId:o.EMBEDDED_FEED_JSON_ID};return t.Object.extend({initialize:function(t){this.initializeCollection(t),this.initializeViews()},initializeCollection:function(t){var n={data:{vanityName:t.vanityName}};this.collection=e.findOrPersist(e.Author.Followers+t.vanityName,function(){return new i(null,n)})},initializeViews:function(){this.streamView=new n({collection:this.collection})},
fetchCollection:function(){return this.collection.fetch(r)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(163)],o=function(t,e,i,n,o){return o.extend({url:play.buildUrlSimple(n.v1.followers.get)})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(164)],o=function(t,e,i,n){return i.Collection.extend({initialize:function(t,
i){var n={data:{start:0,count:10,memberToken:null},remove:!1};i&&i.data&&(n.data=e.defaults(i.data,n.data)),this.fetchOptions=e.clone(n)},model:n,parse:function(t){var e=t.elements,i=e.length,n={};return n.responseLength=i,this.setFetchOptions(n,i>0),e},fetch:function(n){var o=null;try{o=play.getEmbeddedContent(n.embedId)}catch(t){}return o?(this.set(this.parse(o)),t.when()):(n=e.extend({data:{},remove:!1},n),n.data=e.extend({},this.fetchOptions.data,n.data),n.data=e.pick(n.data,function(t){return null!==
t}),i.Collection.prototype.fetch.call(this,n))},setFetchOptions:function(t,e){e?this.fetchOptions.data.start+=this.fetchOptions.data.count:this.trigger("complete")}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(75),i(101),i(155),i(156)],o=function(t,e,i,n,o){return n.extend(t.extend({},t.pick(o,"follow","unfollow"),{initialize:function(){var t=this.get("memberToken"),e=this.get("urn"),i=this.get("vanityName"),
n=this.get("channelVanity");this.fetchParams={},i?(this.fetchParams.vanityName=i,n&&(this.fetchParams.channelVanity="true")):t?this.fetchParams.memberToken=t:e&&(this.fetchParams.urn=e)},url:function(){return play.buildUrlSimple(i.v1.author.get,this.fetchParams)}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75),i(146),i(147),i(136),i(7)],o=function(t,e,i,n,o,r){return t.CollectionView.extend({childViewOptions:{whichFeed:r.FEED_TYPES.AUTHOR_CONNECTIONS},
tagName:"ul",className:"author-connections",getChildView:function(t){return t.get("entityType")===r.FEED_RECOMMENDATION_ENTITY_TYPES.COMPANY?n:i},behaviors:{InfiniteScroll:{behaviorClass:o,threshold:300,checkOnStart:!1}},onPageNext:function(){this.collection.fetch()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(94),i(167),i(4),i(72)],o=function(t,e,i,n,o,r,s){var a=r.getStickyHeaderOffsets();
return i.ItemView.extend(e.extend({},o,{ui:{posts:".js-posts",followers:".js-followers",following:".js-following"},template:"templates/walter/author/header",tagName:"header",className:"feed-header",attributes:{role:"banner"},behaviors:function(){return{ButtonFollow:{behaviorClass:n.ButtonFollowBehavior,model:this.getOption("model"),followType:s.FOLLOW_TYPES.AUTHOR},StickyHeader:{behaviorClass:n.StickyHeaderBehavior,stickyEl:"#actions-header-author",triggerEl:"#author-header-region",offsetTop:a.top,
offsetSubNav:a.subNav,offsetSubNavDown:a.subNavDown}}},modelEvents:{"change:totalFollowings":"render"}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(7)],o=function(t,e){return{viewOptions:["state"],initialize:function(t){this.mergeOptions(t,this.viewOptions)},onRender:function(){this.setActiveState(this.state)},setActiveState:function(i){t.each(this.ui,function(t){t.removeClass(e.CLASSES.ACTIVE)}),i in
this.ui&&this.ui[i].addClass(e.CLASSES.ACTIVE)}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(75),i(134)],o=function(t,e,i,n,o){return i.LayoutView.extend(e.extend({},o,{template:"templates/walter/author/index",attributes:{id:"pulse-author-wrapper",class:"pulse-content-wrapper"},regions:{actionsHeader:"#actions-header-author",header:"#author-header-region",content:"#author-content-region"}}))}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78)],o=function(t){return t.ItemView.extend({template:"templates/walter/author/banner",className:"feed-banner feed-banner-author"})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(82),i(171),i(165),i(7)],o=function(t,e,i,n,o){var r={embedId:o.EMBEDDED_FEED_JSON_ID};return t.Object.extend({initialize:function(t){this.initializeCollection(t),
this.initializeViews()},initializeCollection:function(t){var n={data:{vanityName:t.vanityName}};this.collection=e.findOrPersist(e.Author.Following+t.vanityName,function(){return new i(null,n)})},initializeViews:function(){this.streamView=new n({collection:this.collection})},fetchCollection:function(){return this.collection.fetch(r)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(163)],
o=function(t,e,i,n,o){return o.extend({url:play.buildUrlSimple(n.v1.following.get)})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(5),i(6),i(81),i(82),i(73),i(173),i(175),i(178),i(183),i(148),i(130),i(135),i(187),i(188),i(189),i(190),i(7),i(99)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p,f,g,v,m,E){var w=r.app.request(r.app.CURRENT_MEMBER),C=n.getRegion("content"),T=n.getRegion("banner"),y={},_=!1,O=r.page,
S=r.lixes;return y[m.FEED_STATES.DRAFTS]=l,y[m.FEED_STATES.SAVED]=a,y[m.FEED_STATES.PUBLISHED]=c,y[m.FEED_STATES.HOME]=s,t.Object.extend({controllerOptions:["state"],initialize:function(t){this.mergeOptions(t,this.controllerOptions),this.initializeModels(),this.initializeViews(this.state),this.renderViews(),this.childControllers={},this.initializeChildController(this.state),r.cache.on(r.cache.CLEAR_BOOKMARKS,function(){_=!0},this),this.setPageTitle(this.state)},initializeChildController:function(t){var i,
n=m.FEED_STATES.HOME,o=m.FEED_STATES.SAVED;!_||t!==n&&t!==o||(delete this.childControllers[n],delete this.childControllers[o],_=!1),this.childControllers[t]?this.childControllers[t].initializeViews():this.childControllers[t]=new y[t],i=this.childControllers[t].collection.length?e.Deferred().resolve():this.childControllers[t].fetchCollection(),i.done(function(){this.showStreamView(this.childControllers[t].streamView),r.router.trigger(r.router.PAGE_RENDERED)}.bind(this))},initializeModels:function(){this.authorModel=
w},initializeViews:function(t){this.bannerView=new g({model:this.authorModel||null}),this.feedLayoutView=new u,this.feedActionsHeaderView=new v({model:this.authorModel,state:t,templateHelpers:{removeFeed:S.request(S.IS_ENABLED,m.LIX_KEYS.REMOVE_FEED),removeBookmark:S.request(S.IS_ENABLED,m.LIX_KEYS.REMOVE_BOOKMARK)}}),this.headerView=new p({model:this.authorModel,templateHelpers:{removeAuthorPages:S.request(S.IS_ENABLED,m.LIX_KEYS.REMOVE_AUTHOR_PAGES)}}),this.navView=new f({model:this.authorModel,
state:t,templateHelpers:{removeFeed:S.request(S.IS_ENABLED,m.LIX_KEYS.REMOVE_FEED),removeBookmark:S.request(S.IS_ENABLED,m.LIX_KEYS.REMOVE_BOOKMARK)}}),this.feedLayoutView.setRegionViews({header:this.headerView,nav:this.navView,actionsHeader:this.feedActionsHeaderView})},showStreamView:function(t){this.feedLayoutView.getRegion("stream").show(t,{preventDestroy:!0})},renderViews:function(){T.show(this.bannerView),C.show(this.feedLayoutView)},onDestroy:function(){this.feedLayoutView.destroy(),i.each(this.childControllers,
function(t){this.stopListening(t),t.destroy()},this),T.empty()},onRouteChange:function(t){var e=t&&t.state;this.feedLayoutView.getRegion("stream").showLoading(),this.initializeChildController(e),this.navView.setActiveState(t.state),this.feedActionsHeaderView.setActiveState(t.state),this.setPageTitle(e)},setPageTitle:function(t){var e;switch(t){case m.FEED_STATES.SAVED:e=E("title_bookmarks");break;case m.FEED_STATES.PUBLISHED:e=E("title_published");break;case m.FEED_STATES.DRAFTS:e=E("title_drafts")}O.trigger(O.TITLE,
e)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(82),i(129),i(148),i(135),i(174)],o=function(t,e,i,n,o){return e.extend({initializeCollection:function(){this.collection=t.findOrPersist(t.Feed.Collection,function(){return new i})},initializeViews:function(){this.streamView=new n({collection:this.collection,endStateView:o})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},
function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75)],o=function(t,e){return t.ItemView.extend({tagName:"li",template:"templates/walter/feed/feedEnd",className:"feed-item feed-end"})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(82),i(129),i(176),i(135),i(177)],o=function(t,e,i,n,o,r){return i.extend({initializeCollection:function(){this.collection=e.findOrPersist(e.Saved.Collection,function(){return new n})},
initializeViews:function(){this.streamView=new o({collection:this.collection,childView:r,emptyView:t.ItemView.extend({template:"templates/walter/feed/savedEmpty"})})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149)],o=function(t,e,i,n,o){return o.extend({url:n.v1.bookmarks.get})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,
o,n,o;n=[e],o=function(e){n=[i(137),i(7)],o=function(t,e){return t.extend({template:"templates/walter/feed/savedItem",whichFeed:e.FEED_TYPES.BOOKMARKS})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(82),i(129),i(179),i(135),i(180),i(182)],o=function(t,e,i,n,o,r){return e.extend({initializeCollection:function(){this.collection=t.findOrPersist(t.Drafts.Collection,function(){return new i})},initializeViews:function(){this.streamView=
new n({collection:this.collection,childView:r,emptyView:o})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149)],o=function(t,e,i,n,o){return o.extend({url:n.v1.drafts.get})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(181)],o=function(t,e){return t.LayoutView.extend({template:"templates/walter/feed/publishedEmpty",
regions:{video:"#video-region"},initialize:function(){this.VideoItemView=new e({template:"templates/walter/shared/janetVideo"})},onBeforeShow:function(){this.showChildView("video",this.VideoItemView)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78)],o=function(t,e,i){return i.ItemView.extend({ui:{overlay:".overlay",play:".play",video:"#video"},className:"video-wrapper",events:{"click @ui.play":"onPlay"},
onPlay:function(){this.ui.video.attr("controls",!0),this.ui.overlay.addClass("hide-overlay"),this.ui.video.addClass("show"),this.ui.video.get(0).play()},onPause:function(){this.ui.video.removeAttr("controls"),this.ui.overlay.removeClass("hide-overlay")},onShow:function(){this.ui.video.on("pause",e.bind(this.onPause,this))},getTemplate:function(){return this.getOption("template")}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],
o=function(e){n=[i(6),i(78),i(94),i(137),i(7)],o=function(t,e,i,n,o){return n.extend({template:"templates/walter/feed/draftsItem",tagName:"li",className:"feed-item",whichFeed:o.FEED_TYPES.DRAFTS,templateHelpers:{whichFeed:o.FEED_TYPES.DRAFTS},behaviors:{DeleteArticle:{behaviorClass:i.DeleteArticleBehavior}},initialize:function(e){var i=n.prototype.templateHelpers()||{};this.templateHelpers=t.extend(i,this.templateHelpers),n.prototype.initialize.call(this,e)}})}.apply(e,n),!(void 0!==o&&(t.exports=
o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(82),i(129),i(184),i(135),i(186),i(180)],o=function(t,e,i,n,o,r){return e.extend({initializeCollection:function(){this.collection=t.findOrPersist(t.Published.Collection,function(){return new i})},initializeViews:function(){this.streamView=new n({collection:this.collection,childView:o,emptyView:r})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,
o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149),i(185)],o=function(t,e,i,n,o,r){return o.extend({url:n.v1.published.get,model:r})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(150)],o=function(t){return t.extend({parse:function(e){return e=t.prototype.parse.call(this,e),e.viewStatsUrl="",e}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,
n,o;n=[e],o=function(e){n=[i(6),i(137),i(94),i(7)],o=function(t,e,i,n){return e.extend({template:"templates/walter/feed/publishedItem",whichFeed:n.FEED_TYPES.PUBLISHED,templateHelpers:{whichFeed:n.FEED_TYPES.PUBLISHED},initialize:function(i){var n=e.prototype.templateHelpers()||{};this.templateHelpers=t.extend(n,this.templateHelpers),e.prototype.initialize.call(this,i)},behaviors:function(){var t=this.getOption("model"),e=t.get("summary");return{Dropdown:{behaviorClass:i.DropdownBehavior},SocialSharing:{behaviorClass:i.SocialSharingBehavior,
url:e.url,title:e.title,text:e.summary,authorTwitterHandle:e.authorTwitterHandle},DeleteArticle:{behaviorClass:i.DeleteArticleBehavior}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(75),i(131),i(72),i(73),i(7)],o=function(t,e,i,n,o,r,s){var a=r.lixes,l=a.request(a.IS_ENABLED,s.LIX_KEYS.REMOVE_AUTHOR_PAGES);return e.ItemView.extend({template:"templates/walter/feed/header",tagName:"header",className:"feed-header",
attributes:{role:"banner"},modelEvents:{"change:totalFollowings":"render"},behaviors:function(){var e=this.getOption("model"),i={};return l||t.extend(i,{FeedActionTrackingBehavior:{behaviorClass:n.FeedActionTrackingBehavior,model:e,events:"click",eventDecorator:function(t){return t.requestId=this.model.get("id").toString(),t},selectors:[{value:".js-followers",actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_FOLLOWERS,controlUrn:o.CONTROL_URN.FOLLOWER},{value:".js-following",
actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_FOLLOWING,controlUrn:o.CONTROL_URN.FOLLOWING}]}}),i}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(75),i(6),i(94),i(7),i(167),i(4),i(72)],o=function(t,e,i,n,o,r,s,a,l){var c=a.getStickyHeaderOffsets();return e.ItemView.extend(n.extend({},s,{template:"templates/walter/feed/nav",tagName:"nav",className:"feed-nav",ui:{saved:".js-saved",
drafts:".js-drafts",published:".js-published",dropdownTrigger:".filters-trigger"},behaviors:function(){var t=this.getOption("model");return{Dropdown:{behaviorClass:o.DropdownBehavior,trigger:".filters-trigger",content:".filters-list",dropdown:".filters-dropdown",focusSelector:".filters-menu"},StickyHeader:{behaviorClass:o.StickyHeaderBehavior,stickyEl:".actions-header",triggerEl:"#feed-nav-region",offsetTop:c.top,offsetSubNav:c.subNav,offsetSubNavDown:c.subNavDown},ImpressionTrackingBehavior:{behaviorClass:o.ImpressionTrackingBehavior,
elSelector:".filters-menu"},ActionTrackingBehavior:{behaviorClass:o.ActionTrackingBehavior,triggerParent:!0,model:t,eventDecorator:function(t){return t.requestId=this.model.get("id").toString(),t},events:"click",selectors:[{value:".js-published",actionCategory:l.ACTION_CATEGORIES.SELECT,actionType:l.ACTION_TYPES.CLICK_PUBLISHED,controlUrn:l.CONTROL_URN.PUBLISHED},{value:".js-drafts",actionCategory:l.ACTION_CATEGORIES.SELECT,actionType:l.ACTION_TYPES.CLICK_DRAFTS,controlUrn:l.CONTROL_URN.DRAFTS}]}}},
modelEvents:{change:"render"}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75),i(131),i(72)],o=function(t,e,i,n){return t.ItemView.extend({template:"templates/walter/feed/banner",className:"feed-banner feed-banner-feed",behaviors:function(){var t=this.getOption("model");return{FeedActionTrackingBehavior:{behaviorClass:i.FeedActionTrackingBehavior,model:t,eventDecorator:function(t){return t.requestId=
this.model.get("id").toString(),t},events:"click",selectors:[{value:".button-secondary-medium-inverse",actionCategory:n.ACTION_CATEGORIES.VIEW,actionType:n.ACTION_TYPES.VIEW_WRITE_POST,controlUrn:n.CONTROL_URN.WRITE}]}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(167)],o=function(t,e,i){return e.ItemView.extend(t.extend({},i,{template:"templates/walter/feed/actionsHeader",className:"actions-header slider",
ui:{saved:".js-saved",drafts:".js-drafts",published:".js-published"},modelEvents:{change:"render"}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(5),i(6),i(81),i(73),i(82),i(151),i(195),i(192),i(135),i(193),i(194),i(164),i(7)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p){var f=n.getRegion("content"),g=n.getRegion("banner"),v=o.page,m=o.lixes,E=o.app,w={embedId:p.EMBEDDED_AUTHOR_JSON_ID},C={embedId:p.EMBEDDED_FEED_JSON_ID};
return t.Object.extend({controllerOptions:["id","contentPool"],initialize:function(t){this.urn=s.createContentPoolUrn(t.contentPool,t.id),this.mergeOptions(t,this.controllerOptions),this.initializeAuthorModel(),this.fetchAuthorModel().then(function(){v.trigger(v.TITLE,this.authorModel.get("name"))}.bind(this)),this.initializeCollection(t),this.initializeViews(),this.renderViews(),this.collection.length?this.showStreamView(this.streamView):this.fetchCollection().then(function(){this.showStreamView(this.streamView)}.bind(this))},
initializeAuthorModel:function(){var t={};isNaN(this.id)?(t.vanityName=this.id,t.channelVanity=!0):t.urn=this.urn,this.authorModel=r.findOrPersist(r.Pivot.Header+this.contentPool+(this.id?":"+this.id:""),function(){return new d(t)})},initializeCollection:function(t){var e=r.Pivot.Collection+this.contentPool+(this.id?":"+this.id:""),i={contentPool:this.contentPool,data:{id:t.id}};this.collection=r.findOrPersist(e,function(){return new a(null,i)}.bind(this))},fetchCollection:function(){return this.collection.fetch(C)},
initializeViews:function(){this.currentMember=E.request(E.CURRENT_MEMBER),this.actionsHeaderView=new u({model:this.authorModel,templateHelpers:{removeFeed:m.request(m.IS_ENABLED,p.LIX_KEYS.REMOVE_FEED)}}),this.bannerView=new h({model:this.authorModel,templateHelpers:{removeFeed:m.request(m.IS_ENABLED,p.LIX_KEYS.REMOVE_FEED),isGuest:this.currentMember.get("isGuest")}}),this.pivotLayoutView=new l,this.streamView=new c({collection:this.collection}),this.pivotLayoutView.setRegionViews({actionsHeader:this.actionsHeaderView})},
showStreamView:function(t){this.pivotLayoutView.getRegion("stream").show(t,{preventDestroy:!0})},fetchAuthorModel:function(){return this.authorModel.fetch(w)},renderViews:function(){g.show(this.bannerView),f.show(this.pivotLayoutView),this.pivotLayoutView.showRegionViews()},onDestroy:function(){g.empty()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(75),i(6),i(94),i(134),i(4),i(131)],o=function(t,
e,i,n,o,r,s,a){var l=s.getStickyHeaderOffsets();return e.LayoutView.extend(n.extend({},r,{template:"templates/walter/pivot/index",attributes:{id:"pulse-feed-wrapper",class:"pulse-content-wrapper pivot"},regions:{actionsHeader:"#actions-header-pivot",stream:"#feed-stream-region",header:"#feed-header-region",nav:"#feed-nav-region"},behaviors:{Dropdown:{behaviorClass:o.DropdownBehavior,trigger:".filters-trigger",content:".filters-list",dropdown:".filters-dropdown",focusSelector:".filters-menu"},StickyHeader:{behaviorClass:o.StickyHeaderBehavior,
stickyEl:"#actions-header-pivot",triggerEl:"#content-banner",offsetTop:l.top,offsetSubNav:l.subNav,offsetSubNavDown:l.subNavDown},FeedActionTrackingBehavior:{behaviorClass:a.FeedActionTrackingBehavior}}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(94),i(131),i(72)],o=function(t,e,i,n,o){return e.ItemView.extend({template:"templates/walter/pivot/banner",className:"feed-banner feed-banner-pivot",
modelEvents:{change:"render"},behaviors:function(){return{ButtonFollow:{behaviorClass:i.ButtonFollowBehavior,model:this.getOption("model"),followType:o.FOLLOW_TYPES.CHANNEL},FeedActionTrackingBehavior:{behaviorClass:n.FeedActionTrackingBehavior}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(94),i(72)],o=function(t,e,i,n){return e.ItemView.extend({template:"templates/walter/pivot/actionsHeader",
behaviors:function(){return{ButtonFollow:{behaviorClass:i.ButtonFollowBehavior,model:this.getOption("model"),followType:n.FOLLOW_TYPES.CHANNEL}}},modelEvents:{sync:"render"}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(101),i(149)],o=function(t,e,i,n,o){return o.extend({url:function(){return play.buildPath(n.v1.feed.get,this.contentPool)},initialize:function(t,e){this.contentPool=e.contentPool,
o.prototype.initialize.call(this,t,e)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(81),i(73),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(218),i(197),i(208),i(138),i(216),i(7),i(93),i(143),i(72),i(4),i(1)],o=function(t,e,i,n,o,r,s,a,l,c,h,u,d,p,f,g,v,m,E,w,C,T,y){var _,O=o.lixes,S=o.page,A=o.guest,b=o.app,R=n.getRegion("content"),I=T.get$Document(),L=T.get$Window(),N=T.get$Head(),x=
t(m.ARTICLE_WRAPPER),M=m.ARTICLE_META_CLASS,k=m.TRIGGERS.CHANGE_SAVED,V=m.TRIGGERS.CHANGE_LIKED,D=C.TRACKING_ID,B=C.CLIENT_TRACKING_ID,P=!1,U={embedId:m.EMBEDDED_ARTICLE_JSON_ID},F=O.request(O.GET_VALUE,m.LIX_KEYS.ARTICLE_HEADER_ACTIONS),H=O.request(O.IS_ENABLED,m.LIX_KEYS.SHOW_SHARE_PROMPT),G=O.request(O.IS_ENABLED,m.LIX_KEYS.REMOVE_AUTHOR_PAGES),z=O.request(O.IS_ENABLED,m.LIX_KEYS.SHOW_TOOLTIPS),K=O.request(O.GET_VALUE,m.LIX_KEYS.SHOW_RELATED_CONTENT),W=O.request(O.IS_ENABLED,m.LIX_KEYS.CHINA_GEOLOCATION),
Y=K===m.RELATED_CONTENT.VERTICAL_LIST_NUMBERED_COLUMNS,j=K===m.RELATED_CONTENT.NUMBERED_COLUMNS,q=K===m.RELATED_CONTENT.HORIZONTAL_IMAGES,$=K===m.RELATED_CONTENT.SIMPLE_VERTICAL_LIST,X=$||Y;return i.Object.extend({initialize:function(e){var i,n=t.Deferred();this.isSSR=e.isSSR||!1,this.permalink=e.permalink||"",this.contentType=e.contentType||"",this.currentMember=b.request(b.CURRENT_MEMBER),this.articleModel=new r({permalink:this.permalink}),this.guestService=new w,P=this.currentMember.get("isGuest"),
this.articleModel.get("isCrawler")?(this.socialModel=new s({totalLikes:""}),n.resolve()):(this.socialModel=new s({permalink:this.permalink}),n=this.socialModel.fetch()),i=this.fetchArticleModel().done(function(){this.initializeArticleLayoutView(),this.renderArticleLayoutView(),H&&this.showSharePrompt(),S.trigger(S.TITLE,[this.articleModel.get("title"),this.articleModel.get("authorModel").get("name")],this),this.isSSR||this.insertMetaData()}.bind(this)),t.when(i,n).done(function(){this.socialModel.set("url",
this.articleModel.get("url")),this.socialModel.set("title",this.articleModel.get("title")),this.socialModel.set("summary",this.articleModel.get("summary")),this.socialModel.set("authorTwitterHandle",this.articleModel.get("authorTwitterHandle")),this.syncArticleTracking(),this.trackArticleView(),this.showActionsHeader(),this.showSocialStats(),this.initializeSocialActionsItemView(),this.renderSocialActionsItemView(),this.initializeComments(),this.renderComments(),this.initalizeSlateFollowButtons(),
(q||$||Y)&&this.showRelatedContent(),(j||Y)&&this.showTopContent(),this.bindEventsForSharingOnSelection(),this.bindEvents()}.bind(this))},trackArticleView:function(){var t={articleId:this.articleModel.get("pubArticleId"),linkedInArticleUrn:this.articleModel.get("pubArticleUrn"),authorId:this.articleModel.get("authorId")?parseInt(this.articleModel.get("authorId"),10):null,articleUrn:this.articleModel.get(C.URN),trackablePulseObject:{trackingId:this.articleModel.get("trackingId")||this.articleModel.get("clientTrackingId"),
objectUrn:this.articleModel.get(C.URN)},totalLikes:this.socialModel.get("totalLikes"),totalShares:this.socialModel.get("totalShares"),totalComments:this.socialModel.get("totalComments")};y.trackArticleView(t)},syncArticleTracking:function(){var t=this.articleModel.get(D),e=this.articleModel.get(B);t?this.socialModel.set(D,t):this.socialModel&&e&&this.socialModel.set(B,e)},bindEvents:function(){this.listenTo(this.socialModel,k,function(){this.articleModel.set("saved",this.socialModel.get("saved"))}.bind(this)),
this.listenTo(this.socialModel,V,function(){this.articleModel.set("isLiked",this.socialModel.get("isLiked"))}.bind(this)),this.listenTo(A,A.GATED_ACTION,function(t,e,i){t&&e&&this.guestService.guestRedirect(t,e,i)}.bind(this))},bindEventsForSharingOnSelection:function(){this.listenTo(this.articleLayoutView,"selected:text",function(t,e,i){this.socialModel.set("selectedText",e),this.shareButtonItemView&&this.shareButtonItemView.destroy(),this.initializeShareButtonItemView(),this.renderShareButtonItemView(i)}),
this.listenTo(this.articleLayoutView,"deselected:text",function(t){this.socialModel.set("selectedText",""),this.shareButtonItemView&&this.shareButtonItemView.destroy()}),I.on("mouseup.articleController",e.bind(function(e){var i=t(e.target);this.shareButtonItemView&&!i.closest(this.shareButtonItemView.$el).length&&this.shareButtonItemView.destroy()},this))},fetchArticleModel:function(){return this.articleModel.fetch(U)},initializeArticleLayoutView:function(){var t=this.articleModel;this.articleLayoutView=
new a({el:this.isSSR?x:null,model:t,templateHelpers:{author:e.clone(t.get("authorModel").attributes),isGuest:P,removeAuthorPages:G}}),this.articleLayoutView.bindUIElements()},initializeComments:function(){this.comments=new g({articleModel:this.articleModel,socialModel:this.socialModel})},initalizeSlateFollowButtons:function(){this.SlateFollowButtons=new v({isGuest:P,articleModel:this.articleModel,container:_[0]})},initializeSocialActionsItemView:function(){this.socialActionsItemView=new h({model:this.socialModel,
templateHelpers:{removeBookmark:O.request(O.IS_ENABLED,m.LIX_KEYS.REMOVE_BOOKMARK),china:W,isGuest:P,showTooltips:z,commentingDisabled:this.articleModel.get("commentingDisabled")}})},initializeShareButtonItemView:function(){this.shareButtonItemView=new u({model:this.socialModel,className:"hidden",templateHelpers:{className:"button-primary-large-round",hideFacebook:!0}})},renderArticleLayoutView:function(){this.isSSR?(R.attachViewSSR(this.articleLayoutView),this.articleLayoutView.triggerMethod("attach")):
R.show(this.articleLayoutView),o.router.trigger(o.router.PAGE_RENDERED),_=t(m.ARTICLE_SELECTOR)},renderComments:function(){this.articleLayoutView.showChildView("comments",this.comments.getView())},renderSocialActionsItemView:function(){this.articleLayoutView.showChildView("socialActions",this.socialActionsItemView)},renderShareButtonItemView:function(t){var e=this.articleLayoutView.getRegion("shareButton"),i=L.scrollTop(),n=i-_.offset().top+t.y+(t.height/2-m.BUTTON_HEIGHT_MEDIUM/2);this.articleLayoutView.showChildView("shareButton",
this.shareButtonItemView),this.shareButtonItemView.$el.removeClass("hidden"),e.$el.css("top",n)},showActionsHeader:function(){var t={articleModel:this.articleModel,socialModel:this.socialModel};this.articleActionsController||(this.articleActionsController=new d({permalink:this.permalink},t)),this.articleActionsController.fetchModels().then(function(){this.articleLayoutView.showChildView("actionsHeader",this.articleActionsController.getView()),F!==m.LIX_VALUES.CONTROL&&this.articleActionsController.showSocialStats()}.bind(this))},
showSocialStats:function(){this.socialStatsController||(this.socialStatsController=new f({permalink:this.permalink,isAuthor:this.articleModel.get("originalAuthor"),isEditor:this.articleModel.get("editor"),hasActions:!0,commentingDisabled:this.articleModel.get("commentingDisabled")},this.socialModel)),this.socialStatsController.fetchModel().then(function(){this.articleLayoutView.showChildView("socialStats",this.socialStatsController.getView())}.bind(this))},showRelatedContent:function(){var t,e=X?
"relatedContentVerticalList":"relatedContentHorizontalImages";this.relatedContentController||(t=this.articleModel.get("authorModel"),this.relatedContentController=new p({permalink:this.permalink,template:"templates/walter/article/relatedContent",returnCount:3,authorName:t&&t.get("name")})),this.relatedContentController.fetchCollection().then(function(){this.relatedContentController.collection.length&&this.articleLayoutView.showChildView(e,this.relatedContentController.getView())}.bind(this))},showTopContent:function(){this.topContentController||
(this.topContentController=new p({permalink:this.permalink,contentType:m.RELATED_CONTENT.TOP_POSTS,template:"templates/walter/article/relatedContentExtension",returnCount:10})),this.topContentController.fetchCollection().then(function(){this.topContentController.collection.length&&this.articleLayoutView.showChildView("topContent",this.topContentController.getView())}.bind(this))},showSharePrompt:function(){var t=!!play.getUrlParameter(window.location.href,"published"),i=this.articleModel.get("originalAuthor"),
n=this.articleModel.get("publishedDate"),o=e.now()-n<=m.SHARE_PROMPT.ONE_MIN;t&&i&&o&&this.articleLayoutView.showChildView("sharePrompt",new c({model:this.articleModel}))},onDestroy:function(){this.removeMetaData(),I.off("mouseup.articleController")},insertMetaData:function(){var t=new l({model:this.articleModel});t.render(),N.append(t.$el)},removeMetaData:function(){t(M).remove()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],
o=function(e){n=[i(5),i(78),i(82),i(198),i(199)],o=function(t,e,i,n,o){return e.Object.extend({initialize:function(t){t=t||{};var e={data:{permalink:t.permalink,contentType:t.contentType||null,template:t.template||null,returnCount:t.returnCount||null}};this.collection=i.findOrPersist(i.Article.Related+t.contentType+":"+t.permalink,function(){return new n(null,e)}.bind(this))},fetchCollection:function(){return this.collection.length>0?t.Deferred().resolve():this.collection.fetch()},getView:function(){return this.view||
(this.view=new o({collection:this.collection,template:this.options.template,returnCount:this.options.returnCount,authorName:this.options.authorName})),this.view}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(75),i(101)],o=function(t,e,i){return e.Collection.extend({initialize:function(e,i){var n={data:{start:0,count:20,height:120,width:360,media:"t"}};i&&i.data&&(n.data=t.defaults(i.data,n.data)),this.fetchOptions=
n},url:i.v1.relatedContent.get,fetch:function(i){return i=t.extend({data:{},remove:!1},i),i.data=t.extend({},this.fetchOptions.data,i.data),i.data=t.pick(i.data,function(t){return null!==t}),e.Collection.prototype.fetch.call(this,i)},parse:function(e){var i=e.elements,n=this.fetchOptions.data.returnCount||null;return this.reason=e.reason||"",i.map(function(t){return t.permalink||(t.source.indexOf("://")>-1?t.source=t.source.split("/")[2]:t.source=t.source.split("/")[0]),t.source=t.source.replace(" on LinkedIn",
""),t}),t.first(i,n)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(73),i(200),i(7)],o=function(t,e,i,n){var o=e.lixes,r=o.request(o.GET_VALUE,n.LIX_KEYS.SHOW_RELATED_CONTENT),s=r===n.RELATED_CONTENT.VERTICAL_LIST_NUMBERED_COLUMNS,a=r===n.RELATED_CONTENT.NUMBERED_COLUMNS,l=r===n.RELATED_CONTENT.HORIZONTAL_IMAGES,c=r===n.RELATED_CONTENT.SIMPLE_VERTICAL_LIST,h=o.request(o.IS_ENABLED,n.LIX_KEYS.USE_RELATED_CONTENT_KEYS);
return t.CompositeView.extend({template:function(t){return{template:t&&t.template}}(),className:"related-content-inner",templateHelpers:function(){return{authorName:this.options&&this.options.authorName||"",reason:this.collection&&this.collection.reason||"",relatedContent:r,relatedContentKeys:h,showRelatedVerticalListNumberedColumns:s,showRelatedNumberedColumns:a,showRelatedSimpleVerticalList:c,showRelatedHorizontalImages:l}},childViewContainer:".related-content-list",childViewOptions:function(){return{authorName:this.options.authorName}},
childView:i})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(72),i(131),i(94),i(1)],o=function(t,e,i,n,o){return t.ItemView.extend({behaviors:function(){var t=this.getOption("model"),o={ArticleActionTrackingBehavior:{behaviorClass:i.ArticleActionTrackingBehavior,model:t,events:"click",selectors:[{value:".related-content-image",actionCategory:e.ACTION_CATEGORIES.SELECT,actionType:e.ACTION_TYPES.CLICK_RELATED,
controlUrn:e.CONTROL_URN.RELATED},{value:".related-content-title",actionCategory:e.ACTION_CATEGORIES.SELECT,actionType:e.ACTION_TYPES.CLICK_RELATED,controlUrn:e.CONTROL_URN.RELATED}]},ImpressionTrackingBehavior:{behaviorClass:n.ImpressionTrackingBehavior,trackingAttr:"trackingId",fullRefresh:!0}};return o},tagName:"li",className:"related-content-item",template:"templates/walter/article/relatedContentItem",onTrackImpression:function(t){t.trackablePulseRecObject={objectUrn:this.model.get("urn"),trackingId:t.trackingId||
o.generateTrackingId()},delete t.trackingId,delete t.gridPosition,t.listPosition={index:1},o.trackImpressionEvent(e.EVENTS.ARTICLE.REC_STORY_IMPRESSION_EVENT,"entities",t)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(75),i(151),i(101),i(155),i(164),i(1),i(72)],o=function(t,e,i,n,o,r,s,a,l){var c="744",h="425",u="MEMBER",d="INFLUENCER_ARTICLE",p="PONCHO_ARTICLE",f=l.TRACKING_ID,g=l.CLIENT_TRACKING_ID;
return r.extend({url:function(){return play.buildUrlSimple(o.v1.article.get,{permalink:this.get("permalink"),width:c,height:h})},parse:function(t){var e;return t.authorModel=t.author&&new s(t.author),t.author.entityType===u&&(t.authorUrn=t.author.urn,t.contentSource=t.author.isInfluencer?d:p),delete t.author,t.articleContent=t.fullTextWithMarkup,e=a.getPersistedTrackingId(),e?t[f]=e:t[f]||(t[g]=a.generateTrackingId()),t.pubArticleUrn&&(t.pubArticleId=n.getIdFromUrn(t.pubArticleUrn)),t.authorModel.attributes.urn&&
(t.authorId=n.getIdFromUrn(t.authorModel.attributes.urn)),t}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(101),i(155),i(156),i(151)],o=function(t,e,i,n,o){return i.extend(t.extend({},t.pick(n,"like","unlike","bookmark","unbookmark","comment","uncomment"),{initialize:function(){var t=this.get("permalink");this.get("urn");this.fetchParams={},t&&(this.fetchParams.permalink=t)},url:function(){return play.buildUrlSimple(e.v1.socialStats.get,
this.fetchParams)}}))}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(75),i(94),i(4),i(1),i(7),i(72),i(131),i(73)],o=function(t,e,i,n,o,r,s,a,l,c){var h=c.lixes,u=o.getStickyHeaderOffsets(),d=h.request(h.IS_ENABLED,s.LIX_KEYS.HIGHLIGHT_TO_SHARE);return e.LayoutView.extend({template:"templates/walter/article/index",attributes:{id:"pulse-article-wrapper",class:"pulse-content-wrapper"},regions:{actionsHeader:"#actions-header-article",
socialStats:"#social-stats",comments:"#comments",relatedContentHorizontalImages:"#related-content-horizontal-images",relatedContentVerticalList:"#related-content-vertical-list",socialActions:"#social-actions",shareButton:"#floating-share-button",sharePrompt:"#share-prompt",topContent:"#top-content"},behaviors:function(){var t=this.getOption("model"),e={Dropdown:{behaviorClass:n.DropdownBehavior},FlagArticle:{behaviorClass:n.FlagArticleBehavior},StickyHeader:{behaviorClass:n.StickyHeaderBehavior,stickyEl:"#actions-header-article",
triggerEl:"#article-header",offsetTop:u.top,offsetSubNav:u.subNav,offsetSubNavDown:u.subNavDown,wait:10},LazyLoadMedia:{behaviorClass:n.LazyLoadMediaBehavior},DwellTimeTracking:{behaviorClass:n.DwellTimeTrackingBehavior},ButtonFollow:{behaviorClass:n.ButtonFollowBehavior,model:t.get("authorModel"),buttonFollow:".pulse-article .button-follow",followType:a.FOLLOW_TYPES.AUTHOR},ArtDecoTooltip:{behaviorClass:n.ArtDecoTooltipBehavior,selector:".pulse-article .tooltip-trigger"},ArticleActionTrackingBehavior:{behaviorClass:l.ArticleActionTrackingBehavior,
model:t,events:"click",selectors:[{value:".article-author-wrapper .entity-image-user",actionCategory:a.ACTION_CATEGORIES.SELECT,actionType:a.ACTION_TYPES.CLICK_USER_PROFILE,controlUrn:a.CONTROL_URN.USER_PROFILE},{value:".article-author-wrapper .entity-name a",actionCategory:a.ACTION_CATEGORIES.SELECT,actionType:a.ACTION_TYPES.CLICK_USER_PROFILE,controlUrn:a.CONTROL_URN.USER_PROFILE},{value:".flag-article",actionCategory:a.ACTION_CATEGORIES.EXPAND,actionType:a.ACTION_TYPES.EXPAND_REPORT_ARTICLE,controlUrn:a.CONTROL_URN.REPORT_ARTICLE},
{value:".channel-link",actionCategory:a.ACTION_CATEGORIES.VIEW,actionType:a.ACTION_TYPES.VIEW_INTEREST_FEED,controlUrn:a.CONTROL_URN.INTEREST_FEED}],modelEventOptions:[{eventName:s.TRIGGERS.CHANGE_LIKED,actionCategory:function(t){return t.get("isLiked")?a.ACTION_CATEGORIES.LIKE:a.ACTION_CATEGORIES.UNLIKE},actionType:function(t){return t.get("isLiked")?a.ACTION_TYPES.LIKE_ARTICLE:a.ACTION_TYPES.UNLIKE_ARTICLE},controlUrn:a.CONTROL_URN.LIKE_TOGGLE}]}};return d&&(e.TextSelection={behaviorClass:n.TextSelectionBehavior,
selector:s.ARTICLE_CONTENT_SELECTOR}),e},onAttach:function(){window.scrollTo(0,0),this.triggerMethod("lazy:load:media")},onShow:function(){o.resetGlobalNav(),this.triggerMethod("lazy:load:media")}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(7)],o=function(t,e,i){return e.ItemView.extend({template:"templates/walter/article/metaData",onRender:function(){this.$el=this.$el.children(),this.setElement(this.$el)},
templateHelpers:{noDisplayImage:i.NO_DISPLAY_IMAGE}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(94)],o=function(t,e,i){return e.ItemView.extend({template:"templates/walter/article/sharePrompt",className:"share-prompt",ui:{dismissButton:".dismiss"},events:{"click @ui.dismissButton":"onClickDismiss"},behaviors:function(){var t=this.getOption("model");return{SocialSharing:{behaviorClass:i.SocialSharingBehavior,
url:t.get("url"),title:t.get("title"),text:t.get("summary"),authorTwitterHandle:t.get("authorTwitterHandle"),selectedText:t.get("selectedText")}}},onShow:function(){this.$el.delay(500).slideDown(600).fadeIn(750)},onClickDismiss:function(){this.$el.delay(250).slideUp(600).fadeOut(750)},onDestroy:function(){this.$el.remove()}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(94),i(7),i(72)],o=function(t,e,
i,n){return t.ItemView.extend({template:"templates/walter/shared/socialActions",className:"social-actions-wrapper",behaviors:function(){var t=this.getOption("model");return{ButtonBookmark:{behaviorClass:e.ButtonBookmarkBehavior,model:t},ButtonLike:{behaviorClass:e.ButtonLikeBehavior,model:t},ButtonComments:{behaviorClass:e.ButtonCommentBehavior},SocialSharing:{behaviorClass:e.SocialSharingBehavior,url:t.get("url"),title:t.get("title"),text:t.get("summary"),authorTwitterHandle:t.get("authorTwitterHandle")},
ArtDecoTooltip:{behaviorClass:e.ArtDecoTooltipBehavior,selector:".tooltip-trigger"},ActionTrackingBehavior:{behaviorClass:e.ActionTrackingBehavior,model:t,events:"click",triggerParent:!0,selectors:[{value:".js-dropdown:not(.active) .button-share",actionCategory:n.ACTION_CATEGORIES.EXPAND,actionType:n.ACTION_TYPES.EXPAND_SHARE,controlUrn:n.CONTROL_URN.SHARE_INTENT},{value:".js-dropdown-content .share-facebook",actionCategory:n.ACTION_CATEGORIES.SHARE,actionType:n.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:n.CONTROL_URN.SHARE_FB},
{value:".js-dropdown-content .share-twitter",actionCategory:n.ACTION_CATEGORIES.SHARE,actionType:n.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:n.CONTROL_URN.SHARE_TWITTER},{value:".js-dropdown-content .share-linkedin",actionCategory:n.ACTION_CATEGORIES.SHARE,actionType:n.ACTION_TYPES.SHARE_INTERNAL,controlUrn:n.CONTROL_URN.SHARE_INTERNAL},{value:".button-comment",actionCategory:n.ACTION_CATEGORIES.EXPAND,actionType:n.ACTION_TYPES.EXPAND_COMMENT,controlUrn:n.CONTROL_URN.COMMENT_INTENT}]}}}})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(94)],o=function(t,e){return t.LayoutView.extend({template:"templates/walter/shared/buttonShare",behaviors:function(){var t=this.getOption("model");return{SocialSharing:{behaviorClass:e.SocialSharingBehavior,url:t.get("url"),title:t.get("title"),text:t.get("summary"),authorTwitterHandle:t.get("authorTwitterHandle"),selectedText:t.get("selectedText")}}}})}.apply(e,n),
!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(82),i(73),i(202),i(209),i(210),i(7),i(93)],o=function(t,e,i,n,o,r,s,a,l,c){var h={buttonSize:"large",isSmall:!1},u=o.cache,d=o.lixes,p=o.modal,f=o.app,g=d.request(d.IS_ENABLED,l.LIX_KEYS.SHOW_TOOLTIPS),v=d.request(d.IS_ENABLED,l.LIX_KEYS.CHINA_GEOLOCATION),m=d.request(d.IS_ENABLED,l.LIX_KEYS.HIDE_SHARE_COUNT_ON_ARTICLE),E=l.TRIGGERS.SHOW_LIKES,w={titleKey:"i18n_likes",
i18nTemplate:"templates/walter/shared/strings/globalStrings",showFooter:!1};return i.Object.extend({initialize:function(t,i){var o=e.has(t,"permalink")?t.permalink:t.urn;this.isEditor=!!e.has(t,"isEditor")&&t.isEditor,this.currentMember=f.request(f.CURRENT_MEMBER),this.lixHideShareCount=e.has(t,"lixHideShareCount")?t.lixHideShareCount:m,this.model=n.findOrPersist(n.Article.Social+o,function(){return i||new r(t)})},bindEvents:function(){this.listenTo(this.view,E,this.showLikesModal.bind(this)),u.on(u.CLEAR_LIKE,
this.deleteLikesController.bind(this))},fetchModel:function(){return this.model.has("totalLikes")?t.Deferred().resolve():this.model.fetch()},getView:function(t){return t=e.defaults(t||{},h),this.view||(this.view=new s({model:this.model,templateHelpers:{showStats:this.getOption("isAuthor"),showViews:this.getOption("isEditor"),lixHideShareCount:this.getOption("lixHideShareCount"),buttonSize:t.buttonSize,hasActions:this.getOption("hasActions"),showTooltips:g,china:v,isGuest:this.currentMember.get("isGuest"),
isSmall:t.isSmall,commentingDisabled:this.getOption("commentingDisabled")}}),this.bindEvents()),this.view},showLikesModal:function(){this.likesController||(this.likesController=new a({urn:this.model.get("urn")})),this.likesController.fetchCollection().then(function(){p.trigger(p.SHOW,e.extend({},{view:this.likesController.getView(this.model)},w))}.bind(this))},deleteLikesController:function(){this.likesController&&delete this.likesController},onDestroy:function(){u.off(u.CLEAR_LIKE)}})}.apply(e,n),
!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(94),i(73),i(7),i(72)],o=function(t,e,i,n,o){i.lixes;return t.ItemView.extend({initialize:function(){this.model=this.getOption("model")},modelEvents:{"change:totalLikes":"updateLikesCount","change:totalComments":"updateCommentsCount"},template:"templates/walter/shared/socialStatsActions",ui:{countLikes:".count-likes",countComments:".count-comments"},updateLikesCount:function(){this.ui.countLikes.text(this.model.get("totalLikes"))},
updateCommentsCount:function(){this.ui.countComments.text(this.model.get("totalComments"))},behaviors:function(){var t=this.getOption("model");return{ButtonBookmark:{behaviorClass:e.ButtonBookmarkBehavior,model:t},ButtonComments:{behaviorClass:e.ButtonCommentBehavior,buttonComment:".button-comment, .trigger-comments"},ButtonLike:{behaviorClass:e.ButtonLikeBehavior,model:t},SocialSharing:{behaviorClass:e.SocialSharingBehavior,url:t.get("url"),title:t.get("title"),text:t.get("summary"),authorTwitterHandle:t.get("authorTwitterHandle"),
selectedText:t.get("selectedText")},ArtDecoTooltip:{behaviorClass:e.ArtDecoTooltipBehavior,selector:".social-stats .tooltip-trigger"},ActionTrackingBehavior:{behaviorClass:e.ActionTrackingBehavior,model:t,events:"click",triggerParent:!0,selectors:[{value:".button-comment",actionCategory:o.ACTION_CATEGORIES.EXPAND,actionType:o.ACTION_TYPES.EXPAND_COMMENT,controlUrn:o.CONTROL_URN.COMMENT_INTENT},{value:".js-dropdown:not(.active) .button-share",actionCategory:o.ACTION_CATEGORIES.EXPAND,actionType:o.ACTION_TYPES.EXPAND_SHARE,
controlUrn:o.CONTROL_URN.SHARE_INTENT},{value:".js-dropdown-content .share-facebook",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:o.CONTROL_URN.SHARE_FB},{value:".js-dropdown-content .share-twitter",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:o.CONTROL_URN.SHARE_TWITTER},{value:".js-dropdown-content .share-linkedin",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_INTERNAL,
controlUrn:o.CONTROL_URN.SHARE_INTERNAL},{value:".button-stats",actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_ANALYTICS,controlUrn:o.CONTROL_URN.ANALYTICS}]}}},triggers:{"click .trigger-likes-modal":"show:likes:event"},onShowLikesEvent:function(){this.trigger(n.TRIGGERS.SHOW_LIKES)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(78),i(82),i(211),i(213)],o=function(t,e,i,n,o){return e.Object.extend({initialize:function(t){var e=
{data:{urn:t.urn}};this.collection=new n(null,e)},fetchCollection:function(){return this.collection.fetch()},getView:function(t){return new o({collection:this.collection,emptyViewOptions:{model:t}})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(75),i(212),i(101)],o=function(t,e,i,n){return e.Collection.extend({initialize:function(e,i){var n={data:{start:0,count:20,urn:null},remove:!1};i&&i.data&&(n.data=
t.defaults(i.data,n.data)),this.fetchOptions=n},url:play.buildUrlSimple(n.v1.likes.get),model:i,fetch:function(i){return i=t.extend({data:{},remove:!1},i||{}),i.data=t.extend({},this.fetchOptions.data,i.data),i.data=t.pick(i.data,function(t){return null!==t}),e.Collection.prototype.fetch.call(this,i)},parse:function(t){var e=t.elements;return this.setFetchOptions(e.length>0),e},setFetchOptions:function(t){t?this.fetchOptions.data.start+=this.fetchOptions.data.count:this.trigger("complete")}})}.apply(e,
n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(75)],o=function(t){return t.Model.extend({parse:function(t){return t&&t.liker}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(75),i(214),i(215),i(136),i(144)],o=function(t,e,i,n,o,r){return t.CollectionView.extend({tagName:"ul",className:"article-likes",childView:i,emptyView:n,
behaviors:{InfiniteScroll:{scrollSelector:"#modal-body",behaviorClass:o,threshold:300}},onPageNext:function(){var t=this.addChild(null,r);this.collection.fetch().always(function(){t.destroy()})}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78)],o=function(t,e){return e.ItemView.extend({template:"templates/walter/shared/userBaseInfo",tagName:"li",className:"article-like"})}.apply(e,n),!(void 0!==o&&(t.exports=
o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(78),i(94)],o=function(t,e){return t.ItemView.extend({tagName:"li",className:"no-likes",template:"templates/walter/article/likeFirst",behaviors:function(){var t=this.getOption("model");return{ButtonLike:{behaviorClass:e.ButtonLikeBehavior,model:t}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(5),i(73),
i(99),i(96),i(4),i(72),i(1),i(217),i(7)],o=function(t,e,i,n,o,r,s,a,l,c,h){var u=n.app;return e.Object.extend({isGuest:null,articleModel:null,container:null,initialize:function(){var t=this.getOption("isGuest"),e=this.getOption("container"),i=u.request(u.CURRENT_MEMBER).id,n=this.getOption("articleModel").get("articleId"),s=window.location.href,l=s.indexOf("?")>-1?"\x26":"?",d=h.GUEST_REDIRECT.SLATE_FOLLOW_LOGIN.replace("{gobackUrl}",s),p={strings:{follow:o("i18n_slateFollowButton_follow"),unfollow:o("i18n_slateFollowButton_unfollow"),
following:o("i18n_slateFollowButton_following")},icons:{FOLLOW_ICON:'\x3cli-icon type\x3d"plus-icon" size\x3d"small"\x3e\x3c/li-icon\x3e',FOLLOWING_ICON:'\x3cli-icon type\x3d"check-icon" size\x3d"small"\x3e\x3c/li-icon\x3e',UNFOLLOW_ICON:'\x3cli-icon type\x3d"check-icon" size\x3d"small"\x3e\x3c/li-icon\x3e'},urnPrefix:"urn:li:",buttonContainerClass:h.SLATE_FOLLOW_BUTTON_SELECTOR,bindToPreviousEl:!0,isGuest:t,memberUrn:i,articleId:n,csrfToken:play.getPageContextValue("csrfToken"),onError:function(t,
e,i,n,r){401===t||403===t?window.location.href=d+encodeURIComponent(l+"followEntity\x3d"+n):i&&c.show("error",o("i18n_slateFollowButton_error"))},onFollowSuccess:function(t){var e=t.split(":")[2],i=a.ACTION_CATEGORIES.FOLLOW,n=a.ACTION_TYPES["FOLLOW_"+e.toUpperCase()];this.trackFollowEvent(t,i,n)}.bind(this),onUnfollowSuccess:function(t){var e=t.split(":")[2],i=a.ACTION_CATEGORIES.UNFOLLOW,n=a.ACTION_TYPES["UNFOLLOW_"+e.toUpperCase()];this.trackFollowEvent(t,i,n)}.bind(this)};r.setConfig(e,p)},trackFollowEvent:function(t,
e,i){var n=a.EVENTS.ARTICLE.ACTION_EVENT,o={actionCategory:e,actionType:i,controlUrn:l.getFullControlUrn(a.CONTROL_URN.SLATE_FOLLOW_BUTTON),trackablePulseObject:{objectUrn:t,trackingId:this.getOption("articleModel").get("clientTrackingId")||""}};l.trackActionEvent(n,o)}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(5),i(6),i(78),i(7)],o=function(t,e,i,n){var o={template:"templates/walter/shared/globalAlert",
type:"error"},r=i.Object.extend({alertType:"error",alertMessage:null,initialize:function(){this.options=o},show:function(t,e){this.options.alertType=t,this.options.alertMessage=e,this.setContent(),this.attachEvents()},dismiss:function(){this.$content.remove()},setContent:function(){this.$content=t(i.Renderer.render(this.getOption("template"),{alertType:this.getOption("alertType"),alertMessage:this.getOption("alertMessage")})),this.$dismiss=this.$content.find(n.DISMISS_BUTTON),t(n.GLOBAL_ALERT_CONTAINER).append(this.$content)},
attachEvents:function(){this.$dismiss.on("click",this.dismiss.bind(this))}}),s=new r;return s.initialize(),s}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(5),i(78),i(201),i(202),i(219),i(208),i(82),i(73),i(7),i(93)],o=function(t,e,i,n,o,r,s,a,l,c,h){var u=l.lixes,d=l.app,p=u.request(u.GET_VALUE,c.LIX_KEYS.ARTICLE_HEADER_ACTIONS),f=u.request(u.IS_ENABLED,c.LIX_KEYS.REMOVE_FEED),g=u.request(u.IS_ENABLED,c.LIX_KEYS.REMOVE_BOOKMARK),
v=u.request(u.IS_ENABLED,c.LIX_KEYS.PUBLISHIN),m=e.Deferred().resolve(),E=!1;return i.Object.extend({initialize:function(e,i){var r=t.has(e,"permalink")?e.permalink:e.urn;this.currentMember=d.request(d.CURRENT_MEMBER),E=this.currentMember.get("isGuest"),this.articleModel=a.findOrPersist(a.Article.Content+r,function(){return i.articleModel||new n(e)}),this.socialModel=a.findOrPersist(a.Article.Author+r,function(){return i.socialModel||new o(e)})},fetchModels:function(){var t=this.articleModel.has("title")?
m:this.articleModel.fetch(),i=this.socialModel.has("totalLikes")?m:this.socialModel.fetch();return e.when(t,i)},getView:function(){var e,i;return this.view||(e=this.articleModel.get("originalAuthor"),i=this.articleModel.get("editor"),this.view=new r({model:p===c.LIX_VALUES.AUTHOR?this.articleModel:this.socialModel,templateHelpers:{author:t.clone(this.articleModel.get("authorModel").attributes),showWriteButton:!e,showEditButton:i||e,editUrl:this.articleModel.get("editUrl"),articleHeaderActions:p,removeFeed:f,
publishIn:v,isGuest:E,removeBookmark:g,commentingDisabled:this.articleModel.get("commentingDisabled"),isDraft:this.articleModel.get("isDraft")}})),this.view},showSocialStats:function(){this.socialStatsController||(this.socialStatsController=new s({permalink:this.articleModel.get("permalink"),isEditor:this.articleModel.get("editor"),showStats:this.articleModel.get("originalAuthor"),commentingDisabled:this.articleModel.get("commentingDisabled")},this.socialModel)),this.socialStatsController.fetchModel().then(function(){this.view.showChildView("socialStats",
this.socialStatsController.getView({buttonSize:"medium",isGuest:E,isSmall:!0}))}.bind(this))}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o,n,o;n=[e],o=function(e){n=[i(6),i(78),i(94),i(7),i(72),i(1),i(131)],o=function(t,e,i,n,o,r,s){return e.LayoutView.extend({template:"templates/walter/article/actionsHeader",className:"layout-container-large",ui:{socialStats:".social-stats-wrapper"},regions:{socialStats:"@ui.socialStats"},behaviors:function(){var t=
this.getOption("model");return{ButtonBookmark:{behaviorClass:i.ButtonBookmarkBehavior,model:t},ButtonFollow:{behaviorClass:i.ButtonFollowBehavior,model:t.get("authorModel")||null,followType:o.FOLLOW_TYPES.AUTHOR},ButtonLike:{behaviorClass:i.ButtonLikeBehavior,model:t,ui:{buttonBookmark:".button-bookmark"}},ButtonComments:{behaviorClass:i.ButtonCommentBehavior,buttonComment:".button-comment"},SocialSharing:{behaviorClass:i.SocialSharingBehavior,selector:".article-actions-control .share-button",url:t.get("url"),
title:t.get("title"),text:t.get("summary"),authorTwitterHandle:t.get("authorTwitterHandle"),selectedText:t.get("selectedText")},ArtDecoTooltip:{behaviorClass:i.ArtDecoTooltipBehavior,selector:"#actions-header-article .tooltip-trigger"},ActionTrackingBehavior:{behaviorClass:i.ActionTrackingBehavior,model:t,events:"click",triggerParent:!0,selectors:[{value:".js-dropdown:not(.active) .button-share",actionCategory:o.ACTION_CATEGORIES.EXPAND,actionType:o.ACTION_TYPES.EXPAND_SHARE,controlUrn:o.CONTROL_URN.SHARE_INTENT},
{value:".js-dropdown-content .share-facebook",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:o.CONTROL_URN.SHARE_FB},{value:".js-dropdown-content .share-twitter",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_EXTERNALLY,controlUrn:o.CONTROL_URN.SHARE_TWITTER},{value:".js-dropdown-content .share-linkedin",actionCategory:o.ACTION_CATEGORIES.SHARE,actionType:o.ACTION_TYPES.SHARE_INTERNAL,controlUrn:o.CONTROL_URN.SHARE_INTERNAL},
{value:".button-comment",actionCategory:o.ACTION_CATEGORIES.EXPAND,actionType:o.ACTION_TYPES.EXPAND_COMMENT,controlUrn:o.CONTROL_URN.COMMENT_INTENT},{value:".button-write",actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_WRITE_POST,controlUrn:o.CONTROL_URN.WRITE},{value:".button-edit-post",actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_EDIT_POST,controlUrn:o.CONTROL_URN.EDIT},{value:".button-stats",actionCategory:o.ACTION_CATEGORIES.SELECT,actionType:o.ACTION_TYPES.CLICK_ANALYTICS,
controlUrn:o.CONTROL_URN.ANALYTICS}]}}}})}.apply(e,n),!(void 0!==o&&(t.exports=o))}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,i){var n,o;n=[i(5)],o=function(t){function e(){this.xhrPool=[],this.isSetup=!1}return e.prototype.setup=function(){if(this.isSetup)throw new Error("Setup has already occurred.");var e=t(document);e.ajaxSend(t.proxy(function(t,e,i){this.xhrPool.push(e)},this)),e.ajaxComplete(t.proxy(function(e,i,n){this.xhrPool=t.grep(this.xhrPool,function(t){return t!==i})},this)),
this.isSetup=!0},e.prototype.abortAll=function(){t.each(this.xhrPool,function(t,e){e.abort()})},{getInstance:function(){return this.instance||(this.instance=new e),this.instance}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}]));